AuthorID,Author,Date,Content,Attachments,Reactions
"126875754616193024","nicholas_merten","23/03/2021 11:47 pm","Hey team, just want to give a major hats off to you guys! üéâ üòÅ 

I know you guys have been working hard to make this happen, and it'll be incredible to see how things will go with v3, as well as the eventual option to port over to L2.

If possible, it'd be a huge help to get any links/resources to v3 that would be of value for a partner. And if you need any help testing or developing, don't hesitate to reach out.

From everyone at the Digifox team, we're rooting for you guys! ü¶ä ‚ù§Ô∏è ü¶Ñ","",""
"208857380824416256","from0to10k","23/03/2021 11:59 pm","Really  good work guy's!","",""
"396019781754683403","mario.revert.finance","24/03/2021 12:18 am","üöÄ","",""
"154453240535056384","hiturunk","24/03/2021 1:41 am","Was already working on NFT's - so I was SO excited to hear that LP's are moving from ERC20 fungible tokens to NFT's!","",""
"154453240535056384","hiturunk","24/03/2021 1:42 am","","https://cdn.discordapp.com/attachments/823968973753810945/824012714904387594/unknown.png",""
"154453240535056384","hiturunk","24/03/2021 1:43 am","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/NonfungiblePositionManager.sol","",""
"730463593711140956","bor444","24/03/2021 1:44 am","if I can't include pictures to it I don't need it","",""
"730463593711140956","bor444","24/03/2021 1:46 am","on serious note. This part: ""trading fees are no longer automatically reinvested back into the pool"" ... how will that look? Will you have to come by on the regular claim your fees and add them back into the pool?","",""
"394939327022497802","oraclide","24/03/2021 1:47 am","Great work on the custom LP curves to maximize market efficiency.","",""
"394939327022497802","oraclide","24/03/2021 1:48 am","The fee part, why not leave that to the market rather than proposing a finite set of categorical choices?","",""
"394939327022497802","oraclide","24/03/2021 1:48 am","Gas costs is mentioned. I can imagine token pairs where 1% is insufficient to pay for LP risk, for example.","",""
"394939327022497802","oraclide","24/03/2021 1:50 am","Shouldn't LP's be building gradients rather than curves? meaning that for every zone on their custom curves, they place different fee levels and the system sorts by order of descending fees?","",""
"730463593711140956","bor444","24/03/2021 1:50 am","@Oraclide well something must be left for v4","",""
"730463593711140956","bor444","24/03/2021 1:50 am","but I like this idea of different fees on different price levels","",""
"154453240535056384","hiturunk","24/03/2021 1:51 am","@Boris Stanic I do too. I was really glad to get some info about what's coming. It was a huge relief for me.","",""
"154453240535056384","hiturunk","24/03/2021 1:51 am","As a dev so focused on Uniswap - it was a huge assurance to see ""Here's the plan"" - so I can adjust PP to it and such. üòÑ So, Thanks Hayden!","",""
"394939327022497802","oraclide","24/03/2021 1:51 am","Ok, fair enough. Leave work for v4! it's a great improvement already.","",""
"730463593711140956","bor444","24/03/2021 1:52 am","@üêßHiturunküêß- Penguin Party help me out ... how do I add 3Ô∏è‚É£  to channel name?","",""
"154453240535056384","hiturunk","24/03/2021 1:52 am","One of the coolest things:","https://cdn.discordapp.com/attachments/823968973753810945/824015320222138418/unknown.png",""
"154453240535056384","hiturunk","24/03/2021 1:53 am","3Ô∏è‚É£ as the emoji instead of the Discord :[text]:","",""
"154453240535056384","hiturunk","24/03/2021 1:53 am","So you need to input the unicode with your keyboard I think: Windows it's WinKey+period","",""
"154453240535056384","hiturunk","24/03/2021 1:53 am","[for the emoji picker]","",""
"730463593711140956","bor444","24/03/2021 1:53 am","part where Alice and Bob both have 1M made me laugh ... really relatable content right there","",""
"154453240535056384","hiturunk","24/03/2021 1:53 am","Lmao","",""
"696220163476815882","marine-gin#1651","24/03/2021 3:23 am","Are swap fees turned off for the v3 `flash` function? At first glance it looks like its just protocol fees (if turned on)","",""
"125498100113604608","jordan___","24/03/2021 3:27 am","diff fee levels are actually different pools altogether, so picking which fee is left to upstream trade route selection","",""
"125498100113604608","jordan___","24/03/2021 3:43 am","you always have to pay the swap fee","",""
"696220163476815882","marine-gin#1651","24/03/2021 3:46 am","yeah I see it now. thanks!","",""
"398870125949878273","ferretknows","24/03/2021 3:52 am","LOL! I thought exactly the same.","",""
"398870125949878273","ferretknows","24/03/2021 3:52 am","Like, damn....they whaling!","",""
"730463593711140956","bor444","24/03/2021 3:52 am","is Alice single send me # üòõ","","üòÜ (3)"
"301186049323958275","sky.cactus","24/03/2021 7:44 am","Discord doesn't appear to be very happy with the 3Ô∏è‚É£ in the name for some reason.","",""
"790227551690817567","barryc#1371","24/03/2021 8:09 am","Hey guys, quick one. Will V3 affect the current deployed subgraph? If so, what are the breaking changes? TIA","",""
"205315760988356609","samporter1984","24/03/2021 12:55 pm","will v3 core contracts be deployed with create2 maybe? i wish i could know the addresses beforehand","",""
"205315760988356609","samporter1984","24/03/2021 1:00 pm","it's mainly about allowances, so do I understand it correctly, that transfer helper is now operating from each pool contract, instead of router? so i can actually know pool address beforehand, and that is the only address i need to allow trading my token on uniswap. is that correct?
no, i think i can't know that, if factory is not going to be created by create2","",""
"301186049323958275","sky.cactus","24/03/2021 1:55 pm","Final address won't be known until the final contracts are known.  Any bug reports between now and launch will change the contracts, and thus the address.","",""
"205315760988356609","samporter1984","24/03/2021 2:03 pm","thank you for clarifying. i should have been realized that, it's rather obvious","",""
"730463593711140956","bor444","24/03/2021 2:13 pm","ye ... ok coffee emoji for now and if someone has better ideas feel free to share üôÇ","",""
"447487680511606785","reuptake","24/03/2021 3:04 pm","3x :Uni:","",""
"456226577798135808","Deleted User","24/03/2021 3:56 pm","Cool","",""
"456226577798135808","Deleted User","24/03/2021 3:56 pm","Uni goes 350","",""
"456226577798135808","Deleted User","24/03/2021 3:56 pm","Pls $$$$$$$","",""
"821425912544362556","yodo#7860","24/03/2021 3:57 pm","I read the V3. No cross chain ? Like all the DeFi is aiming too ? Still on ETh with the crazy gas fee ?","",""
"566540150641786890","dmihal","24/03/2021 4:40 pm","Hey guys, since the V3 plans were released, many have commented about the need for some sort of aggregator to allow easy LPing, as well as fungible LP tokens.

I've put together a proposal for a new DAO to be created (governed by UNI) that allocates liquidity to various liquidity positions. This would provide a V2-style experience for liquidity providers, while maintaining the capital efficiency of V3. 

There's lots of other benefits of this system as well, please take a look at the proposal and let me know if you have any comments!
https://hackmd.io/@dmihal/uniswap-liquidity-dao","","üëç (2)"
"730463593711140956","bor444","24/03/2021 5:31 pm","I am not sure custom emojis work","",""
"787515739275657246","wentaohunter","24/03/2021 5:39 pm","cool","",""
"456226577798135808","Deleted User","24/03/2021 6:08 pm","It is stated that UNI stakers control the liquidity DAO. Does this meaning LP token holders who stake into the dao?","",""
"566540150641786890","dmihal","24/03/2021 6:10 pm","No, the DAO is governed by users who stake their UNI tokens.

If LPs want to control their own liquidity allocations, then they don't need to use the Liquidity DAO.","",""
"456226577798135808","Deleted User","24/03/2021 6:11 pm","Does the liquidity DAO use a tighter range than V2 0-infinity?","",""
"566540150641786890","dmihal","24/03/2021 6:12 pm","It will be up to the DAO to set the range, on a per-pool basis.

For example, two volatile assets may be spread over the whole range, two stablecoins may have a tight range, something like ETH/Dai might be somewhere in the middle","",""
"456226577798135808","Deleted User","24/03/2021 6:15 pm","Would this DAO be asking of double participation from UNI holders. Voting will happen for individual pools for dividends, while the liquidity DAO is asking for UNI participation of range setting and fees as well?","",""
"566540150641786890","dmihal","24/03/2021 6:44 pm","The UNI holders will primarily set the liquidity ranges & pool trading fees. Their secondary tasks are to set the rebalancing fees & delegate management. And finally, they can also chose how to allocate the treasury.","",""
"760905847789977600","happypsyduck","24/03/2021 9:37 pm","I'm curious to know how Uniswap 3 non-fungible LP tokens can be converted to fungible tokens. I read there will be some sort of converter in the new version.","",""
"447487680511606785","reuptake","24/03/2021 9:47 pm","converted? they cannot be converted. they may be pooled and new fungible token representing share in pool can be issued.","",""
"447487680511606785","reuptake","24/03/2021 9:48 pm","sort of like mortgage bonds in 2008 üòâ","",""
"760905847789977600","happypsyduck","24/03/2021 9:49 pm","I guess that is the question then. How do you pool non-fungible tokens if they are non-fungible?","",""
"447487680511606785","reuptake","24/03/2021 9:50 pm","you're asking from technical perspective or how to value it?","",""
"760905847789977600","happypsyduck","24/03/2021 9:50 pm","More of a technical question","",""
"447487680511606785","reuptake","24/03/2021 9:53 pm","Hmm I don't know, perhaps it's like with fungible tokens. You send your NFT to pool and get another NFT token that represents your pooled token + some fungible token which represents the share...","",""
"447487680511606785","reuptake","24/03/2021 9:54 pm","you can withdraw your NFT by returning pool-NFT + share token (not necessarily the same amount)","",""
"760905847789977600","happypsyduck","24/03/2021 9:56 pm","Ahh interesting","",""
"664701166302658592","edgar#7960","24/03/2021 10:07 pm","I'm not seeing flashloans in v3 - was the feature taken away?","",""
"274208745699934220","callil_","24/03/2021 10:37 pm","@edgar still there! https://docs.uniswap.org/reference/interfaces/pool/IUniswapV3PoolActions#flash","","üíØ (1)"
"456226577798135808","Deleted User","24/03/2021 11:49 pm","Can someone explain how concentrated liquidity affects impairment loss","",""
"447487680511606785","reuptake","24/03/2021 11:59 pm","It concentrates IL üôÇ","",""
"482277754319011850","mjc716","24/03/2021 11:59 pm","when should we expect testnet deployments?","","‚ùì (1)"
"447487680511606785","reuptake","25/03/2021 12:01 am","You have 100% of ""worse"" asset when price hits the upper/lower limit of your trading range.","",""
"396019781754683403","mario.revert.finance","25/03/2021 12:16 am","Hi @David Mihal, this is interesting. I like the ""lock"" function for staking, particularly. Why have the liquidity DAO at all and not have meta-pool token holders govern their own meta-pool parameters?","",""
"760905847789977600","happypsyduck","25/03/2021 12:59 am","Instant rug for liquidity tokens used for yield farms lol","",""
"566540150641786890","dmihal","25/03/2021 1:37 am","Good question!

The goal of the Staking DAO is for liquidity providers to not need to worry about their liquidity allocations. Instead, we delegate that role to the DAO, which is incentivized to maximize trading fees for both the LP and the DAO.

If LP tokens were responsible for voting, I believe we would get very low governance turnout. Any LPs that do have stronger opinions about their liquidity allocation can always add liquidity manually, outside of the DAO.","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:49 am","These are good points. Though ostensibly LP tokens could be delegated and so require less active participation. One of my concerns with this proposed design is that to participate in the governance for the meta-pool parameters I would have to stake my UNI tokens and so could only participate in UNI governance trough the liquidity DAO","",""
"566540150641786890","dmihal","25/03/2021 1:52 am","I share that concern about voting in Uniswap governance, so the system would need to allow users to easily vote in both DAOs.

This is making me think... i'm curious if there's a way to piggy-back on top of the existing Uniswap governance contract so users don't need to re-stake.","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:55 am","I'm also unsure about alignment of incentives between the DAO and the meta-pool LPs. It's true that they are aligned in maximizing fees, but LPs also need to worry about IL which does not affect the liquidity DAO","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:55 am","Right?","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:56 am","So an allocation that maximizes fees might be a narrow band around the current prices, but that also increases IL risk for LPs","",""
"566540150641786890","dmihal","25/03/2021 1:57 am","Hmm that's an interesting point. I'll give that a bit more thought, but I guess my hope is that the other alignment is still attracting liquidity. The DAO should be incentivized to provide the best pool in all criteria, otherwise LPs will just go to another aggregator.","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:58 am","Yes, that is true. DAO is incentivized to maximize TVL which is aligned with overall returns for LPs including IL","",""
"396019781754683403","mario.revert.finance","25/03/2021 1:59 am","Anyway, kudos, interesting stuff for sure. Hope to keep an eye on how it evolves.","",""
"396019781754683403","mario.revert.finance","25/03/2021 2:03 am","Perhaps instead of the rebalancing fees, all fees are placed into the uni pool and the DAO charges an exit fee if it wishes to turn on fees","",""
"396019781754683403","mario.revert.finance","25/03/2021 2:04 am","so then DAO and LPs are aligned with maximizing overall meta-pool returns and not just the pool fees","",""
"396019781754683403","mario.revert.finance","25/03/2021 3:03 am","It seems to me like the optimal strategy, if gas costs are negligible for the size of the position, would be one that concentrates all liquidity around the current tick and updates its tickLower and tickUpper as the price moves in the wider market.","",""
"396019781754683403","mario.revert.finance","25/03/2021 3:05 am","And seems that bots that can get an outside price feed have an important edge over any contract that would implement a similar strategy using an on-chain oracle","",""
"456226577798135808","Deleted User","25/03/2021 3:13 am","Ok gotcha, so basically it increases the chances of it then right","",""
"771841547116216351","amro.eth","25/03/2021 7:59 am","Hi how to I connect my rainbow to V3? Says V2 Uniswap still? Or is that not a feature yet?","",""
"745905334505177098","cindylo0","25/03/2021 8:03 am","V3 hasn't launched yet.","","üëç (1)"
"140289351836762113","nebula0820","25/03/2021 12:37 pm","is v3 on rinkeby yet?","",""
"274208745699934220","callil_","25/03/2021 9:29 pm","@Chav - UNCX - the more specific your question the easier it'll be to get some answers üôÇ","",""
"809502025128607795","chavuncx","25/03/2021 9:30 pm","Hey guys ! 

Chav here, from unicrypt.network - Liquidity lockers on UniSwap (2850 pairs locked with us) - I'd like to get in touch with the Uni Team, if possible to discuss what's the plan regarding migrating pools to UniV3. We have around 160$M TVL and that's defo worth anticipating the deployment üëç.

A concrete question would be : Could you let us know if you're already planning on migrating the liq yourself or not ? In our case we lock LP tokens in our locking contracts. Although we have an entry to clip a migration contract while having the LP tokens remaining locked.","",""
"809502025128607795","chavuncx","25/03/2021 9:31 pm","If you want to check the pairs I am talking about, feel free to have a look there : https://unicrypt.network/amm/uni/pairs","",""
"399617942087532545","_connormartin","25/03/2021 9:32 pm","right now the V3 NFT that will represent a position will not be directly convertible to a fungible asset, but there is nothing stopping an integrated from, for example, creating a yield farming device that accepts liquidity itself and returns a fungible lp token , with the yield system holding the NFT and the collective providers holding a fungible position in the farm","",""
"399617942087532545","_connormartin","25/03/2021 9:34 pm","We cant migrate the liquidity ""ourselves"" because we dont have custody over anyones liquidity. We're likely going to release a v2 -> v3 migrator contract that makes it easy for a user to migrate within a single tx, but bespoke migrator contracts for other systems is unlikely","",""
"399617942087532545","_connormartin","25/03/2021 9:35 pm","not yet","",""
"809502025128607795","chavuncx","25/03/2021 9:36 pm","Aight, sounds good we could handle a migration contract ourselves, although my next question is how would you deal if let's say someone would initiate a V3 pools while there is a V2 existing. As the rates aren't the same between pools, isn't that a prob ? Or are you actually checking and pegging the rates between v2 and v3 maybe ?

EDIT : We definitely need our own contracts as the LP tokens will need to remain locked as this is a security feature üëç","",""
"399617942087532545","_connormartin","25/03/2021 9:36 pm","the price of a pool is kept inline with other dex pools of the same asset due to arbitrage","",""
"399617942087532545","_connormartin","25/03/2021 9:37 pm","if an asset slips out of market price it will be bought and sold by a generalized arb bot","",""
"809502025128607795","chavuncx","25/03/2021 9:37 pm","Are you telling me that the bot is 'good' enough to align perfectly the rates V2/V3 of the same asset ?","",""
"809502025128607795","chavuncx","25/03/2021 9:37 pm","If so, that's just awesome üôÇ","",""
"399617942087532545","_connormartin","25/03/2021 9:38 pm","its the same way it works with curve / sushi / uniswap v1 / uniswap v2","",""
"399617942087532545","_connormartin","25/03/2021 9:38 pm","there is an open and adversarial market where arb bots compete with each-other to capture any value derived from price discrepancies.","",""
"399617942087532545","_connormartin","25/03/2021 9:39 pm","the result is market accurate prices within a certain threshold, usually the cost of an arb transaction","",""
"809502025128607795","chavuncx","25/03/2021 9:40 pm","All right, so we're not talking about an in-house bot specifically designed for this use case - meaning there might always be a very little discrepancy depending on gas prices to make it worth. I guess we need to take into account this 1% or so tolerance while migrating the pools from V2 to V3.","",""
"399617942087532545","_connormartin","25/03/2021 9:41 pm","we don't make arb bots, no","",""
"809502025128607795","chavuncx","25/03/2021 9:41 pm","Is your migration contract already available somewhere ? Otherwise no prob! We will do ours anyway but could have been a cool piece for a hint.","",""
"399617942087532545","_connormartin","25/03/2021 9:42 pm","its not open sourced yet","",""
"809502025128607795","chavuncx","25/03/2021 9:42 pm","Yeah I was referring to a dedicated v2 v3 bot, I know you folks aren't into arb at all - Fighting ETH network congestion instead, gotcha 100% - Same vision at ours üôÇ","",""
"809502025128607795","chavuncx","25/03/2021 9:43 pm","üÜó  - Thank you!","",""
"809502025128607795","chavuncx","25/03/2021 9:43 pm","Curiosity @Connor Martin - Were you familiar by any kind with our lockers ?","",""
"399617942087532545","_connormartin","25/03/2021 9:46 pm","im not familiar","",""
"809502025128607795","chavuncx","25/03/2021 9:52 pm","So I don't want to off topic this chat, but I will take the chance üôÇ 

So UniCrypt started in June 2020 with a simple question - How to prevent token teams to pull the liquidity from a pair ? From this, we created the first liquidity lockers. As of now, we're locking LP tokens for roughly 2850 pairs on UniSwap -  Which put us at maybe 7/9% of the pairs existing on Uniswap locked with us üôÇ","",""
"399617942087532545","_connormartin","25/03/2021 9:55 pm","seems like a rad project, rug pulls are a huge bummer. Hope you guys find a brand and image that is not using the likeness of uniswap though. ""uni"" in the name and a unicorn logo is kind of a bummer, and a bit of a wasted opportunity to make a name for yourself.","",""
"730463593711140956","bor444","25/03/2021 9:56 pm","@Chav - UNCX make a token list with your projects!","",""
"396019781754683403","mario.revert.finance","25/03/2021 9:56 pm","Does anyone know if fees are divided equally for all liquidityGross in a tick? From the Alice,Bob examples in the blog post I assume they should not, but trying to figure out how that is implemented in the code.","",""
"396019781754683403","mario.revert.finance","25/03/2021 9:57 pm","For example, would an unbounded position created when initializing a pool have its feeGrowthInsideLast params always matching the feeGrowthGlobal values?","",""
"730463593711140956","bor444","25/03/2021 9:57 pm","@mario | revert.finance proportionally depending on liquidity you commited","",""
"396019781754683403","mario.revert.finance","25/03/2021 9:58 pm","So what is the advantage in reducing tick lower, upper limits vs an unbounded position?","",""
"399617942087532545","_connormartin","25/03/2021 9:59 pm","More capital efficiency, thus more LP rewards, and less slippage on trades for traders","",""
"447487680511606785","reuptake","25/03/2021 9:59 pm","There's no requirement that 1 address provides liquidity in one range only, right?","",""
"730463593711140956","bor444","25/03/2021 9:59 pm","ye so if you are at 5x capital efficency your $100 is acting like a 500$","",""
"730463593711140956","bor444","25/03/2021 10:00 pm","@reuptake üåä that is the whole point you can provide in mayn different","",""
"730463593711140956","bor444","25/03/2021 10:00 pm","hence why NFTs are used for LP tokens","",""
"447487680511606785","reuptake","25/03/2021 10:00 pm","yeah, that's what I thought","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:01 pm","I get the advantage of concentrated liquidity and capital efficiency from the trader's perspective. I'm not understanding the advantage from the LPs persective. I assumed liquidity would somehow be divided across the positions ticks when calculating proportionality of fees, but that does not seem to be the case","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:03 pm","If Alice and Bob are the only LPs in a pool, each with 1m. Alice has $100, $200 lower,upper. Bob has $140, $160 for lower,upper. A small trade happens at 150, no tick crossings. do they both get the same amounts in fees?","",""
"730463593711140956","bor444","25/03/2021 10:03 pm","no","",""
"730463593711140956","bor444","25/03/2021 10:03 pm","Bob is having bigger capital efficency","",""
"730463593711140956","bor444","25/03/2021 10:04 pm","it is like leverage trading but providing liquidity üôÇ","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:04 pm","Ok, but where is that implemented in the contracts?","",""
"730463593711140956","bor444","25/03/2021 10:04 pm","sorry I didn't catch up yet on the v3 code","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:05 pm","I mean, I had understood the same as you from the blog post, but not understanding that from the code","",""
"399617942087532545","_connormartin","25/03/2021 10:06 pm","from an lps perspective, you earn fees when the spot price is within the range of your position. The more concentrated your liquidity, the higher the ""simulated"" amount is relative to a hypothetical position that spans the entire price space of 0 to infinity.","",""
"399617942087532545","_connormartin","25/03/2021 10:08 pm","Activating a positions liquidity happens when the spot price moves into one of its position boundaries. I would spend some time with the libraries","",""
"399617942087532545","_connormartin","25/03/2021 10:08 pm","https://docs.uniswap.org/reference/libraries/Position","",""
"399617942087532545","_connormartin","25/03/2021 10:08 pm","https://docs.uniswap.org/reference/libraries/SecondsOutside","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:08 pm","Thanks, I have been digging into those.","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:09 pm","For an unbounded position, all the fees will be accumulating inside its range","",""
"399617942087532545","_connormartin","25/03/2021 10:10 pm","the contracts are somewhat difficult to navigate because they have been gas optimized so much.","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:10 pm","Specific question: https://discord.com/channels/597638925346930701/823968973753810945/824680883247513601","",""
"447487680511606785","reuptake","25/03/2021 10:12 pm","The ""size"" of ticks is decided when pool is created, right? Could this became a problem, eg. when token0 goes up 10000x against token1?","",""
"399617942087532545","_connormartin","25/03/2021 10:14 pm","the width of tick separation really only effects the granularity of liquidity provisioning. so the most impactful scenario will be the depth of liquidity available for stablecoin X stablecoin pairs","",""
"447487680511606785","reuptake","25/03/2021 10:16 pm","I mean: aren't ticks larger the further they are from initial price?","",""
"447487680511606785","reuptake","25/03/2021 10:17 pm","What would be the size of tick for ETH/USDC right now? ~1600 price","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:19 pm","@Connor Martin ""The more concentrated your liquidity, the higher the ""simulated"" amount is relative to a hypothetical position that spans the entire price space of 0 to infinity."" <- Here where you say ""simulated"" amount, that is relation to price impact, correct? But is it correct to say that fees will be divided proportionally to all activated liquidity?","",""
"730463593711140956","bor444","25/03/2021 10:20 pm","@mario | revert.finance you are essentially asking how to calculate the capital efficiency?","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:21 pm","Not sure that is what I'm asking no. Trying to understand how fees are divided exactly","",""
"399617942087532545","_connormartin","25/03/2021 10:21 pm","simulated is only a term useful when comparing to evenly distributed liquidity. it is correct to say fees will be divided proportionally to all active liquidity (aka in range at the spot price).","",""
"730463593711140956","bor444","25/03/2021 10:22 pm","imagine there is $100 with 1x capital efficience
and other position as well $100 but 5x capital efficiencey

position A gets 16% while position B gets 84% of fees","",""
"399617942087532545","_connormartin","25/03/2021 10:22 pm","ticks are equivalently space throughout the entire pair, once the pair is initialized","",""
"447487680511606785","reuptake","25/03/2021 10:23 pm","I know but is it linear? I don't think so?","",""
"399617942087532545","_connormartin","25/03/2021 10:24 pm","each instance of distance in price space between two nearest ticks will be the same","",""
"809502025128607795","chavuncx","25/03/2021 10:25 pm","This is available on our UI - There is a browser üôÇ","",""
"447487680511606785","reuptake","25/03/2021 10:26 pm","In nominal terms or relative? Eg. ticks are 0.1 ETH or 0.1%?","",""
"399617942087532545","_connormartin","25/03/2021 10:27 pm","pretty much yes - if at any time you calculate feeGrowthInside for a max range position, it's always equal to feeGrowthGlobal","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:27 pm","Right, so for two equality sized positions, that have the same ""mid-price"" but different ""amplitudes"" (one's tick boundaries are wider than the other), any trade that happens within both's boundaries gives them an equal amount of fees?","",""
"399617942087532545","_connormartin","25/03/2021 10:27 pm","feeGrowthInsideLast is the last time you touched the position, but for feeGrowthInside yes","",""
"447487680511606785","reuptake","25/03/2021 10:28 pm","Also I wonder what if the ""tick spacing"" is not optimal for the pair. Someone creates the pair, and sets 'wrong' tick spacing","",""
"809502025128607795","chavuncx","25/03/2021 10:28 pm","Yeah our name was originally obviously inspired from yours as we were 100% built on top of your tech - We would have named it differently if we could do it again, especially as we're now deployed on 4 chains and on top of 6 AMMs in total. The only 'prob' is that the phrase 'Is the liquidity locked with UniCrypt' is widely used across the DeFi projects e.g anything that's launched from POOLZ, DDAO or even POLS are almost all locking with us on the day of listing.

EDIT : No matter where we're deployed, the original tech is still from Uniswap as far as we're concerned üòâ","",""
"447487680511606785","reuptake","25/03/2021 10:29 pm","And there can be only 1 contract per pair. So it's ""wrong forever""","",""
"399617942087532545","_connormartin","25/03/2021 10:29 pm","no - it will give them an equal amount proportional to the amount of liquidity being used in the swap. So if one is more concentrated they will have more tokens available within the range that will be used during the swap","",""
"399617942087532545","_connormartin","25/03/2021 10:30 pm","the market will gravitate towards whatever tick spacing / fee takes off. so wrong is kind of relative","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:30 pm","That makes sense, but trying to figure out how that is implemented. because wouldnt that swap make both positions' feeGrowthInside have the same update?","",""
"447487680511606785","reuptake","25/03/2021 10:31 pm","I'm not sure how market will ""gravitate"". Once fee spacing is set, it's set in stone. Market has no choice, right?","",""
"447487680511606785","reuptake","25/03/2021 10:32 pm","tick spacing, sorry","",""
"399617942087532545","_connormartin","25/03/2021 10:32 pm","first - tick spacing and fees are directly correlated. second - anyone can create a pair with a different fee as long as the fee X pair combo hasnt already been made","",""
"447487680511606785","reuptake","25/03/2021 10:33 pm","I'm not fully grasping it perhaps, but if there's a choice during pool creation, some values are preferable while other are not.","",""
"399617942087532545","_connormartin","25/03/2021 10:33 pm","if there is motivation from LPs and swappers to use the other pair, they'll use it","",""
"447487680511606785","reuptake","25/03/2021 10:34 pm","Ah, ok so spacing is function of fees?","","Thumbs_up (1)"
"730463593711140956","bor444","25/03/2021 10:34 pm","@reuptake üåä it is not important how big is the tick ... ti will just allow you to specify more exact numbers","",""
"730463593711140956","bor444","25/03/2021 10:35 pm","for example Binance now shows price for BTC /USDT on 2 decimal places while it shows price of some ""cheaper"" coins on 5-6 .... this is simmilar to tick size","",""
"447487680511606785","reuptake","25/03/2021 10:36 pm","Well, that's my point. If the numbers are bigger, the ticks also should be bigger.","",""
"447487680511606785","reuptake","25/03/2021 10:37 pm","So we won't have penny stocks üôÇ","",""
"447487680511606785","reuptake","25/03/2021 10:38 pm","Or perhaps it's not that important","",""
"447487680511606785","reuptake","25/03/2021 10:39 pm","Since swaps can take place intra-tikcs","",""
"399617942087532545","_connormartin","25/03/2021 10:40 pm","might be better answered by @Noah Zinsmeister","",""
"396019781754683403","mario.revert.finance","25/03/2021 10:40 pm","thanks, expecting his upcoming  code tour","",""
"274208745699934220","callil_","25/03/2021 11:29 pm","https://twitter.com/NoahZinsmeister/status/1374788164305494020","",""
"274208745699934220","callil_","25/03/2021 11:29 pm","Happening now!","",""
"358623012657954816","glueeater","26/03/2021 1:06 am","Any chance this migrator will have a separate blog post or discussion? Would be nice to know if we can cleanly go from staked LP tokens (LOL laziness) and move straight to V3 or go straight from V2 to optimism. I‚Äôm sad that a lot of four figure LP positions are basically dust now üò≠","",""
"399617942087532545","_connormartin","26/03/2021 1:11 am","I can tell you itll likely only service vanilla v2 LP tokens and not anything that is locked in some kind of staking contract. itll also be to L1 only","","üëç (1)"
"399617942087532545","_connormartin","26/03/2021 1:11 am","we'll publish on it when its ready","","üëç (1)"
"358623012657954816","glueeater","26/03/2021 3:59 am","Awesome - I‚Äôll unlock my uni staked LP finally lol.","",""
"358623012657954816","glueeater","26/03/2021 4:00 am","Or wait for eip1559 idk lol can kicked","",""
"482277754319011850","mjc716","26/03/2021 4:19 am","i'm having a hard time figuring out where in the `pool.mint` function the NFT is issued. anyone able to help?","",""
"399617942087532545","_connormartin","26/03/2021 4:25 am","the periphery isnt code locked yet - so it might be better to wait a little bit before digging into the nft","",""
"482277754319011850","mjc716","26/03/2021 4:26 am","so are you saying that minting the nft is sort of optional when adding liquidity? only minted if you add liquidity via the periphery?","",""
"482277754319011850","mjc716","26/03/2021 4:29 am","with or without the nft, what is the methodology for querying the size of your position?","",""
"399617942087532545","_connormartin","26/03/2021 4:34 am","no, the nft is how we're representing liquidity, theres no substitute unless someone builds an external abstraction on top of it.","",""
"399617942087532545","_connormartin","26/03/2021 4:34 am","There are just some details left to be decided, how much data to pack into the nft in a way that is economical to query under different circumstances","",""
"399617942087532545","_connormartin","26/03/2021 4:35 am","this is part of the periphery contracts which will be locked in the coming weeks","",""
"482277754319011850","mjc716","26/03/2021 4:38 am","Still not clear on this part","",""
"399617942087532545","_connormartin","26/03/2021 4:41 am","what do you mean the size of the position? the tick boundaries or the liquidity contained within?","",""
"399617942087532545","_connormartin","26/03/2021 4:42 am","get is called internally but returns a given position struct","",""
"399617942087532545","_connormartin","26/03/2021 4:42 am","https://docs.uniswap.org/reference/libraries/Position#get","",""
"482277754319011850","mjc716","26/03/2021 4:43 am","Thanks, looks like this is what I was looking for. But how to access it externally?","",""
"482277754319011850","mjc716","26/03/2021 4:44 am","If I deposit 500 dai and 0.3 eth today between tick 100 and tick 120. And I check back tomorrow to see the current composition of my position after some price movement, how would I do it?","",""
"482277754319011850","mjc716","26/03/2021 4:45 am","Forgive me if I'm missing some critical concepts here. A lot of low level code to digest in 1 day","",""
"399617942087532545","_connormartin","26/03/2021 5:48 am","what do you mean by the current composition? where the spot price is inside of the position?","",""
"399617942087532545","_connormartin","26/03/2021 5:48 am","one thing that may be confusing is that fees are collected external to a position now, rather than in the position itself","",""
"399617942087532545","_connormartin","26/03/2021 5:48 am","which may be part of your question","",""
"482277754319011850","mjc716","26/03/2021 6:08 am","I get the fees part.

My question is: say eth goes up 10% tomorrow, my position is no longer 500 dai and 0.3 eth. How do I find out the new composition? I can certainly calculate this off chain but how do I do it on chain.","",""
"482277754319011850","mjc716","26/03/2021 6:11 am","In v2, I can get the balance of token0 in the pool, multiply it by my lp tokens balance and divide by total supply of LP tokens","",""
"482277754319011850","mjc716","26/03/2021 6:13 am","Here's another way of asking this: when you build the UI, how will you show an LP their current balances?","",""
"740712498130452514","lovewins#2493","26/03/2021 6:41 am","How would uniswap use NFT for liquidity? What NFT projects are involved?","",""
"209076927728844800","whale7660","26/03/2021 10:37 am","Why wont rebase tokens such as AMPL and BASE work on Uniswap v3?","",""
"405427332409589761","LifeGrinder#5651","26/03/2021 11:15 am","In V3, will we have to re-approve tokens that we have already previously approved?","",""
"396019781754683403","mario.revert.finance","26/03/2021 11:30 am","I think It's going to depend on each positions' ""liquidity"" value and its tick boundaries in relation to the current price for the pool. You can see the cases here: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol#L260","",""
"396019781754683403","mario.revert.finance","26/03/2021 11:30 am","and the formulas here: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/SqrtPriceMath.sol#L145","",""
"396019781754683403","mario.revert.finance","26/03/2021 11:38 am","Yeah, it will be a different contract. But for your current v2 positions it looks like that will all be handled by the migrator","",""
"405427332409589761","LifeGrinder#5651","26/03/2021 11:39 am","I dont understand what you mean..","",""
"405427332409589761","LifeGrinder#5651","26/03/2021 11:40 am","Ive approved about 10 different tokens and paid a lot of eth to do so, youre saying I will need to do this again for V3? or I will be able to still trade out of those tokens on V2?","",""
"396019781754683403","mario.revert.finance","26/03/2021 11:42 am","when you approve erc20 tokens, what you are doing is approving a specific contract to transfer out the amount you set (or infinite). So yes, you will need to approve a new contract for v3","",""
"405427332409589761","LifeGrinder#5651","26/03/2021 11:50 am","I understand, but can I still use V2 to trade out the tokens that I already approved? that way I wont need to pay another gas fee to approve again..","",""
"396019781754683403","mario.revert.finance","26/03/2021 11:51 am","Yeah v2 will continue working forever, though who knows how much liquidity will remain in those pools for you to trade against.","",""
"482277754319011850","mjc716","26/03/2021 12:24 pm","But how do I read it off the contract?","",""
"396019781754683403","mario.revert.finance","26/03/2021 12:30 pm","You can get the current tick and sqrt of price by calling slot0 on the pool contract https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/interfaces/pool/IUniswapV3PoolState.sol#L21","",""
"396019781754683403","mario.revert.finance","26/03/2021 12:32 pm","And you can get a position given a user account and a pair of ticks by calling positions on the pool contract https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/interfaces/pool/IUniswapV3PoolState.sol#L83","",""
"396019781754683403","mario.revert.finance","26/03/2021 12:35 pm","And then ostensibly you implement the math formulas yourself. I don't really know, perhaps there will be an easier way to do this via the periphery contracts https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/NonfungiblePositionManager.sol","",""
"236815812030234624","_mezzo_","26/03/2021 12:48 pm","If someone launches the uni v3 on arbitrum without any modifications and not as a fork, just so that v3 is available on arbitrum, would it violate the copyright?","",""
"402018346163240960","shamo42","26/03/2021 12:59 pm","Will concentrated liquidity also amplify IL?","",""
"447487680511606785","reuptake","26/03/2021 12:59 pm","Yes","","üëç (1)"
"823498366507155456","fushang318","26/03/2021 1:07 pm","I have a question

issuers are now able to deposit liquidity in a single asset and specify the exact range of prices across which they wish to sell their tokens.

For example, if the current price of TOKENA is below 2 DAI
Can I put TOKENA alone to provide liquidity in the range 0.5 - 10 TOKENA/DAI
or is the range only 0.5 - 1.9 TOKENA/DAI","",""
"402018346163240960","shamo42","26/03/2021 1:35 pm","Thanks. Do you know how this is calculated in V3 for limited price ranges?","",""
"402018346163240960","shamo42","26/03/2021 1:40 pm","And does this mean that Range Orders do not profit from increased fee revenue in order to mitigate IL?","",""
"447487680511606785","reuptake","26/03/2021 1:42 pm","I don't have a formula handy. Range orders earn normal fees, what you mean by ""increased fee revenue""?","",""
"402018346163240960","shamo42","26/03/2021 1:44 pm","I see. Thanks. I mean concentrated liquidity earn more fees for the same total liquidity because of the limited range. Range Order also have limited range so I was wondering if both fees and IL are calculated differently.","",""
"447487680511606785","reuptake","26/03/2021 1:44 pm","Yes. Both are concentrated.","",""
"402018346163240960","shamo42","26/03/2021 1:44 pm","But fees and IL are different?","",""
"447487680511606785","reuptake","26/03/2021 1:45 pm","I'm not sure how to answer this, fees are different thing than IL even in V2","",""
"447487680511606785","reuptake","26/03/2021 1:46 pm","Fees are higher, IL is potentially higher.","",""
"417857235079790592","post4936","26/03/2021 3:03 pm","for v3 the whitepaper mentions  `fee
(ùõæ), representing the fee paid by swappers in units of hundredths of a basis point (0.0001%).`

Does this mean if i provide the value `3` to the `parameter` in 
```
    function createPool(
        address tokenA,
        address tokenB,
        uint24 fee
    )
```

it would end up being a fee of `0.0003%` ?","",""
"447487680511606785","reuptake","26/03/2021 3:07 pm","I think fee tiers are 0.05%, 0.3%, 1%","",""
"349549426362155009","fabian44","26/03/2021 5:44 pm","Hey everyone, Im wrapping my head around the l2 launch of v3 - will liquidity be shared between L2 and L1 or will it be siloed?","",""
"399617942087532545","_connormartin","26/03/2021 6:09 pm","It'll be siloed, the L2's as we know it will have significant time delays when transferring between layers. For the near term future atomic transactions between L1 and L2 won't be possible","",""
"482277754319011850","mjc716","26/03/2021 7:18 pm","sorry to ping you again on this @Connor Martin - wondering if my question makes more sense after wario's comments?","",""
"482277754319011850","mjc716","26/03/2021 7:18 pm","i think noah mentioned something on his demo about the team still trying to figure something out but the on-chain gas consequences of the naive solution were too much...not sure if that was in reference to this or not","",""
"349549426362155009","fabian44","26/03/2021 7:32 pm","thank you, that makes sense. I guess liq will be composable across Dapps on optimism, ie Synthetix or Saddle","",""
"399617942087532545","_connormartin","26/03/2021 8:27 pm","this will be part of the periphery contracts which are not code locked yet. in the meantime check out this view function which will likely give you everything you need once its locked","",""
"399617942087532545","_connormartin","26/03/2021 8:27 pm","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/interfaces/INonfungiblePositionManager.sol","",""
"396019781754683403","mario.revert.finance","26/03/2021 9:04 pm","I believe tokensOwed0,1 here are uncollected fees, right? What seems missing is a simple interface to calculate underlying tokens for a position.","",""
"482277754319011850","mjc716","26/03/2021 11:49 pm","thanks connor. per wario's point, i think this link (thanks wario) is closer to what i'm looking for https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/interfaces/pool/IUniswapV3PoolState.sol#L83","",""
"406143087488794645","Srulik#7786","27/03/2021 4:08 am","Hi there, in order to get a position data for a liquidity supplier we interact with the function positions(bytes32 key) and give here the that stored on an NFT?","",""
"417857235079790592","post4936","27/03/2021 7:37 am","Hello I'm working on a golang sdk for working with v3. How can I calculate the addresses of pools that will be deployed and do this offchain?

I checked the white paper and couldn't find anything about it","",""
"183309006767521792","jorropo","27/03/2021 8:07 am","it's pretty much random, uniswap doesn't choose the addresses, uniswap just ask ETH and ETH uses his own algorithm.
You can read more about that here : https://ethereum.stackexchange.com/questions/760/how-is-the-address-of-an-ethereum-contract-computed","",""
"697074692544004106","caduceus33#3651","27/03/2021 8:17 am","I want to fork V3, how can I buy a license and how much does it cost?","",""
"417857235079790592","post4936","27/03/2021 8:18 am","Well uniswap v2 used a particular pattern for determining the addresses so you could derive it offchain.

Does this not exist for v3?","",""
"183309006767521792","jorropo","27/03/2021 8:22 am","I'm really certain that not, you don't control pair addresses on chain","",""
"183309006767521792","jorropo","27/03/2021 8:23 am","It's based on the creator address, nonce, ...","",""
"183309006767521792","jorropo","27/03/2021 8:23 am","\*you control but not in a predictable way","",""
"417857235079790592","post4936","27/03/2021 10:14 am","right but you can at least predict the addresses using the defined parameters which is what im trying to do, given the parameters predict what the address will be. For example using this guide i can pre-calcualte addresses for pairs that I'm interested in  with the v2 deployments. https://uniswap.org/docs/v2/javascript-SDK/getting-pair-addresses/

i imagine this has to exist for v3","",""
"417857235079790592","post4936","27/03/2021 10:16 am","However the way its done in V2 seems to leverage create2, but in v3 it appears slightly different:
```
pool = address(new UniswapV3Pool{salt: keccak256(abi.encode(token0, token1, fee))}());
```

compared to v2

```
        bytes32 salt = keccak256(abi.encodePacked(token0, token1));
        assembly {
            pair := create2(0, add(bytecode, 32), mload(bytecode), salt)
        }
```","",""
"417857235079790592","post4936","27/03/2021 10:20 am","found the js sdk pool computation code https://github.com/Uniswap/uniswap-v3-sdk/blob/main/src/utils/computePoolAddress.ts","",""
"417857235079790592","post4936","27/03/2021 10:21 am","onto my next question: is token sorting in v3 the same as in v2?","",""
"417857235079790592","post4936","27/03/2021 11:14 am","appears to be so after doign some tests","",""
"447487680511606785","reuptake","27/03/2021 12:47 pm","@post I've heard somewhere that it is not possible with v3, but you have to check.","",""
"794189693976969280","simonn9710","27/03/2021 2:22 pm","Is it live or not yet?","",""
"406143087488794645","Srulik#7786","27/03/2021 2:27 pm","Is Someone understand where the NFT token is generated for liquidity supply?","",""
"399617942087532545","_connormartin","27/03/2021 6:34 pm","In v3 you will need the two token addresses and the fee level to derive the pool contract address. https://docs.uniswap.org/reference/UniswapV3Factory#createpool","",""
"399617942087532545","_connormartin","27/03/2021 6:34 pm","i think there will be an easier way than local deployment forthcoming in the sdk / periphery - but those arent finished yet","",""
"399617942087532545","_connormartin","27/03/2021 6:52 pm","yes the same numeric comparison of contract addresses","",""
"421852843394465794","BozzKS#2274","27/03/2021 9:56 pm","Hi","",""
"421852843394465794","BozzKS#2274","27/03/2021 9:56 pm","I saw that a new subgraph version will come out with uniswap v3","",""
"421852843394465794","BozzKS#2274","27/03/2021 9:57 pm","Will this fix the problem with not finding some tokens?","",""
"719629831490371655","gotjoshua","27/03/2021 10:26 pm","?","",""
"399617942087532545","_connormartin","28/03/2021 12:33 am","no set date yet - sorry!","",""
"402215732500234243","Coventry#0393","28/03/2021 12:44 am","The notation in section 2 (""Concentrated Liquidity"") of the V3 white paper is quite hard to follow. Is there some other document which goes into more detail about the derivation of equation 2.2?","",""
"667593875019530260","shakeib98","28/03/2021 1:29 am","Hey, can anyone explain me the 
uint256 feeGrowthOutside0X128;
uint256 feeGrowthOutside1X128;

These two variables?","",""
"667593875019530260","shakeib98","28/03/2021 1:30 am","This equation basically tells us the amount of total Liquidity present in the pool. 

The way to calculate is to calculate the amount of x in the pool also the amount of x-real and y-real","",""
"667593875019530260","shakeib98","28/03/2021 1:30 am","the reason it is summed it to calciulate the total amount","",""
"667593875019530260","shakeib98","28/03/2021 1:31 am","x-real is represented by change in liqudiity with respect to change in position b","",""
"667593875019530260","shakeib98","28/03/2021 1:31 am","and y-real is represented as the the change in liquidity with increase in the position a","",""
"667593875019530260","shakeib98","28/03/2021 1:31 am","for this equation suppose x is decreasing and y is increasing","",""
"667593875019530260","shakeib98","28/03/2021 1:32 am","L/root(pb) = x-real
L * root(pa) = y-real","",""
"667593875019530260","shakeib98","28/03/2021 1:32 am","then both are summed with x and y","",""
"667593875019530260","shakeib98","28/03/2021 1:32 am","gives you total liqudity","",""
"667593875019530260","shakeib98","28/03/2021 1:32 am","I hope that answers your question.","",""
"667593875019530260","shakeib98","28/03/2021 1:33 am","It's in the NonfungiblePositionManager contract in the periphery","",""
"667593875019530260","shakeib98","28/03/2021 1:36 am","Well, if you provide an amount of fee that is not set for tickspacing, then the tickspacing will be 0","",""
"667593875019530260","shakeib98","28/03/2021 1:36 am","and that can cause problems in the further calculations of the pool","",""
"667593875019530260","shakeib98","28/03/2021 1:37 am","as the tickspacing would be infinite, and it would be very hard for the initialization for the ticks for the LPs","",""
"402215732500234243","Coventry#0393","28/03/2021 2:03 am","Why is there an asymmetry between x and y (with one you multiply L by p_b, with the other you divide by p_a)?","",""
"402215732500234243","Coventry#0393","28/03/2021 2:04 am","Also, p_a and p_b are not defined.","",""
"667593875019530260","shakeib98","28/03/2021 2:15 am","Well. If you remove one asset. Other is added. So the liquidity is increased by y in this equation and is decreased by x. That's why there's multiply and divide in the equations","",""
"667593875019530260","shakeib98","28/03/2021 2:16 am","Pa is the position a at virtual liquidity curve. And pb is the position b","",""
"402215732500234243","Coventry#0393","28/03/2021 2:21 am","How do you divide/multiply by a position?","",""
"402215732500234243","Coventry#0393","28/03/2021 2:22 am","So is it the case that the position (position in the sense used in the document) only contains Y? Why is Y being increased, and X decreased?","",""
"667593875019530260","shakeib98","28/03/2021 2:22 am","Not by position. It's the square root. Which represents how much the change has occurred in the span of x-reserve","",""
"402215732500234243","Coventry#0393","28/03/2021 2:23 am","Position on the curve is a pair of numbers, the (x,y) ordinates. What does it mean to divide by that?","",""
"667593875019530260","shakeib98","28/03/2021 2:25 am","It will be reverse if x is increased and y is decreased","",""
"402215732500234243","Coventry#0393","28/03/2021 2:25 am","Not trying to be obtuse. You say ""Pa is the position a at virtual liquidity curve. And pb is the position b"", and I'm not sure how to interpret that, given that p_a and p_b are used as multipliers/divisors in equation 2.2.","",""
"402215732500234243","Coventry#0393","28/03/2021 2:26 am","OK, but this the liquidity curve for a position (in the sense of the document, so there is a fixed amount of X and Y assets in the position, right?)","",""
"402215732500234243","Coventry#0393","28/03/2021 2:27 am","So I don't know which one is increasing, and which decreasing.","",""
"667593875019530260","shakeib98","28/03/2021 2:28 am","It's 2am here right now. üòÖ 

I'll give the answers in the morning. Hope that's okay","",""
"402215732500234243","Coventry#0393","28/03/2021 2:30 am","That's fine, you don't owe me any answers. I think this section has left out crucial details, though.","",""
"425854364742189066","ozinc","28/03/2021 11:33 am","Hi all.  Will V2 continue to be supported after V3 release.  If so, for how long pls until it's reached end of life?","",""
"745905334505177098","cindylo0","28/03/2021 11:35 am","V2 will still be operational just like V1 is still working even after V2 has been launched.","",""
"425854364742189066","ozinc","28/03/2021 11:35 am","many thanks Cindy","","üëç (1)"
"447487680511606785","reuptake","28/03/2021 6:50 pm","In theory it could be possible to shrink/widen trading range without withdrawing liquidity, right?","",""
"447487680511606785","reuptake","28/03/2021 6:50 pm","Or perhaps using the same amount of both tokens","",""
"399617942087532545","_connormartin","28/03/2021 7:41 pm","you can update a position with new boundaries without withdrawing the liquidity, yes","",""
"447487680511606785","reuptake","28/03/2021 8:27 pm","but only if it's still the same position within old and new range, right?","",""
"447487680511606785","reuptake","28/03/2021 8:27 pm","What about LP token? You get new one? Or parameters of the one you have are updated?","",""
"420670756540776449","iguanarchist","28/03/2021 10:10 pm","Will it be possible to designate others to control your liquidity range?","",""
"730463593711140956","bor444","28/03/2021 11:00 pm","@iguanarchist yes","",""
"399617942087532545","_connormartin","28/03/2021 11:48 pm","You can add or take out liquidity without changing the nft- but changing the range will require a burn / mint","",""
"447487680511606785","reuptake","29/03/2021 12:02 am","Hmm, ok. My idea was that if eg. price is 2000, and my range is 1900-2100, I could change it to 1800-2200 without withdrawing liquidity, because I'm at the same point of a price curve.","",""
"399617942087532545","_connormartin","29/03/2021 12:52 am","You can withdraw / deposit within the same tx - not sure if you consider that as being without withdrawing","","üëç (1)"
"131642188655362049","elyx0","29/03/2021 4:00 am","How easy was it to interface with https://optimism.io/ ? We're looking at scaling solutions as well to reduce gas prices","",""
"402215732500234243","Coventry#0393","29/03/2021 4:09 am","Apologies for the repeat question: The notation in section 2 (""Concentrated Liquidity"") of the V3 white paper is quite hard to follow. Is there some other document which goes into more detail about the derivation of equation 2.2?","",""
"207942434515058688","atknight#3787","29/03/2021 5:19 am","When will testnet deployment happen?","","‚¨ÜÔ∏è (1)"
"402215732500234243","Coventry#0393","29/03/2021 6:42 am","I have similar questions about equation 6.7 of the v3 whitepaper. Why can L be thought of in terms of changes in Y and ‚àöP? How does this relate to equation 6.6? The latter implies L=y/‚àöP, the former that L=(ŒîY)/(Œî‚àöP). Does that mean that y/‚àöP=(ŒîY)/(Œî‚àöP)? If so, why?","",""
"456226577798135808","Deleted User","29/03/2021 7:22 am","I am a bit confused with v3 not having automatic balancing to my range and no reinvestment of fees accrued back into the pool? Is uniswap still considered an automated market making platform without these key automated features? I think it is a great tool for market making experts, but I feel a bit lost and frustrated on best position to take on migration to v3 as a novice v2 LP'er.","",""
"431961393646796811","derekbarrera","29/03/2021 8:51 am","Hey there, where can I find the testnet deployed contract addresses?","",""
"402215732500234243","Coventry#0393","29/03/2021 9:08 am","Is there a better place to ask my questions about the whitepaper?","",""
"274208745699934220","callil_","29/03/2021 10:29 am","Just be a bit patient - it‚Äôs the weekend. Also as mentioned in the post, more detailed documentation is being written.","",""
"447487680511606785","reuptake","29/03/2021 3:11 pm","Is number of ticks infinite for the given pool?","",""
"730463593711140956","bor444","29/03/2021 4:06 pm","@reuptake üåä yes","",""
"730463593711140956","bor444","29/03/2021 4:07 pm","ooooooor .... actually not 100% sure on that","",""
"730463593711140956","bor444","29/03/2021 4:07 pm","but it must be so it can support all price ranges","",""
"447487680511606785","reuptake","29/03/2021 4:17 pm","or ""near"" infinite?","",""
"447487680511606785","reuptake","29/03/2021 4:17 pm","constrained by some big int or whatever","",""
"402215732500234243","Coventry#0393","29/03/2021 6:26 pm","ok","",""
"730463593711140956","bor444","29/03/2021 7:00 pm","@reuptake üåä I checked the v3 smart contracts and this I think answeres your question. It s not infinite but it is:

`export const getMaxTick = (tickSpacing: number) => Math.floor(887272 / tickSpacing) * tickSpacing
export const getMinTick = (tickSpacing: number) => Math.ceil(-887272 / tickSpacing) * tickSpacing`","",""
"730463593711140956","bor444","29/03/2021 7:00 pm","https://github.com/Uniswap/uniswap-v3-core/blob/bb3c2c9a0f1fbf940caeda282badf8755a44f3d2/test/shared/utilities.ts#L11","",""
"730463593711140956","bor444","29/03/2021 7:01 pm","I'd guess that is as good as infinite","",""
"447487680511606785","reuptake","29/03/2021 7:01 pm","yeah","",""
"447487680511606785","reuptake","29/03/2021 7:01 pm","it's the best infinity we can afford üôÇ","",""
"730463593711140956","bor444","29/03/2021 7:02 pm","well tbh if some token ever gets to the point it needs more tics probably what AAVE did is the way to go","",""
"447487680511606785","reuptake","29/03/2021 7:04 pm","I wonder (but I'm not sure if I really want to know) why `887272` and not some other number.","",""
"730463593711140956","bor444","29/03/2021 7:08 pm","probably has to do with max amount you can put in some kind of variable","",""
"730463593711140956","bor444","29/03/2021 7:10 pm","I remember Noah was explaining in his live stream that each tick is identified  and that tickId is part something part it's position. Probably 887272 is max you can put into that position part.","",""
"431961393646796811","derekbarrera","29/03/2021 7:14 pm","BUMP, anyone able to help with this? Would be greatly appreciated!","",""
"730463593711140956","bor444","29/03/2021 7:15 pm","not yet deployed","",""
"431961393646796811","derekbarrera","29/03/2021 7:16 pm","Thanks for the response, do you know if the team has a timeline for testnet deployments?","",""
"730463593711140956","bor444","29/03/2021 7:17 pm","no timeline ... they should be out soon","",""
"431961393646796811","derekbarrera","29/03/2021 7:17 pm","Awesome, i'll keep my ear to the ground @Boris Stanic","",""
"730463593711140956","bor444","29/03/2021 7:17 pm","it will be shared as soon as they are out üôÇ","",""
"207942434515058688","atknight#3787","29/03/2021 7:20 pm","Where will they be shared?","",""
"826089203715932170",".yellowdavid","29/03/2021 10:35 pm","Hi can we start trading on the v3?","",""
"826089203715932170",".yellowdavid","29/03/2021 10:36 pm","with this link? https://bafybeibk6wbrksnhtouregecdmgnmhpflbqhiq5zqhtodhhdgqcnl6agcq.ipfs.dweb.link/#/swap","",""
"301186049323958275","sky.cactus","29/03/2021 10:48 pm","v3 is not launched yet.","","üëç (1)"
"760226253890125894","MasterSwerve#1371","29/03/2021 11:45 pm","Is there a beta V3 being tried out or a scam ???","",""
"349369252421042176","isaacthemexican","29/03/2021 11:50 pm","no, read the message above yours","",""
"760226253890125894","MasterSwerve#1371","29/03/2021 11:51 pm","So scam correct???","",""
"760226253890125894","MasterSwerve#1371","29/03/2021 11:54 pm","Grumpy.Finance  official telegram  post is saying to connect V3 for trades at that address.","",""
"760226253890125894","MasterSwerve#1371","29/03/2021 11:55 pm","","https://cdn.discordapp.com/attachments/823968973753810945/826160221386178640/Screenshot_20210329-112507_Telegram.jpg",""
"760226253890125894","MasterSwerve#1371","29/03/2021 11:56 pm","","https://cdn.discordapp.com/attachments/823968973753810945/826160338542002196/Screenshot_20210329-112517_Telegram.jpg",""
"743033995662458881","chinca#2121","30/03/2021 12:05 am","those are legit links
https://bafybeigj322nz6qp5onxx3jpx3zvfur3meeqodc7zskslto4hrtiapkzpe.ipfs.dweb.link/ 

You can get the IPFS hash from https://github.com/Uniswap/uniswap-interface/releases/tag/v3.2.10","",""
"736422922339745812","foremolerwww.rabbitcbd.shop","30/03/2021 5:56 am","Will V3 also censor tokens? As per the Grumpy cat case?","",""
"183309006767521792","jorropo","30/03/2021 6:03 am","could you link the token pls ? uniswap v2 doesn't have code to censor tokens (except maybe for the UI but nobody forces you to use the official UI)","",""
"736422922339745812","foremolerwww.rabbitcbd.shop","30/03/2021 6:23 am","0x93b2fff814fcaeffb01406e80b4ecd89ca6a021b","",""
"373472249283608577","mobgod","30/03/2021 11:29 am","As of right now nothing can be done with v3 correct?","",""
"301186049323958275","sky.cactus","30/03/2021 1:44 pm","v3 does not exist yet.","",""
"301186049323958275","sky.cactus","30/03/2021 1:44 pm","Anyone who claims they have v3 is lying and probably scamming you.","",""
"301186049323958275","sky.cactus","30/03/2021 1:44 pm","The afformentioned link is to an old version of the UI that doesn't censor the GRUMP token.  Use at your own risk.","",""
"399153169579507714","sygdreas","30/03/2021 3:43 pm","Hi, can you make a statement about this on Grumpy token ""Some assets are not available through this interface because they may not work well with our smart contract or we are unable to allow trading for legal reasons."" I know there's an ongoing legal mitigation between them and the official Grumpy Cat trademark owner but is there any discussion or communication that has been ongoing between Uniswap support team and Grumpy finance team ?","",""
"730463593711140956","bor444","30/03/2021 5:08 pm","@Sygdreas Grumpy had to be removed from app.uniswap.org due to legal reasons","",""
"760427228386557984","petark","30/03/2021 6:32 pm","Why is the link in the GitHub folder called V3.2.11 if it is an old version? Has been updated yesterday it says. 

Uniswap interface -> scroll down -> Uniswap v3.2.11 -> link is there","",""
"760427228386557984","petark","30/03/2021 6:33 pm","I‚Äôm referring to the GRUMPY cat token that can be bought via this link","",""
"411294934478618634","hend069#7153","30/03/2021 6:43 pm","https://discord.com/channels/667044843901681675/808860740449992705/826346832325246996","",""
"336243088500588545","jab.sh","30/03/2021 11:04 pm","uniswap has been on ""v3"" of the ui since Sep 24, 2020, but that's not uniswap v3.
@Petar K","",""
"336243088500588545","jab.sh","30/03/2021 11:05 pm","yes, 3.2.11 (of the ui) was released 2 days ago","",""
"493717635423272961","Zarathras#5984","31/03/2021 5:59 am","hey guys i dont know if i am in the correct topic , or even correct server but i have a question
v3 seems really nice and wil lot of value added , but it seems to me as a new member into the crypto community , that it is applying to the experienced traders and not noobs like me
are we seeing any 3rd party services for developing LP strategies? or forums to disgust them ? i am sorry if i am out of topic , in such a case i ll imidiately delete my msg. thank you !","",""
"501144180207255554","SaraReynolds#8454","31/03/2021 6:51 am","Great question! We are expecting there to be some community led applications like third party auto-LP services which can do things like  manage rebalancing on the LPs behalf. Because v3 allows for different LP strategies you could also mimic a v2 position by providing liquidity to a relatively large range","",""
"240826102619176963",".vshvsh","31/03/2021 12:53 pm","is there a testnet deployment of v3?","",""
"240826102619176963",".vshvsh","31/03/2021 12:54 pm","we want to build and test LP farm on top of it justin time for launch","",""
"730463593711140956","bor444","31/03/2021 2:40 pm","@vsh not yet","",""
"730463593711140956","bor444","31/03/2021 2:41 pm","@Zarathras since there will be a lot of financial incentive to optimize LP strategy the Uniswap team expects that 3rd party teams will jump onto this problem and offer their services","",""
"240826102619176963",".vshvsh","31/03/2021 2:50 pm","It's not prohibited by the licence to set up our own, right?","",""
"240826102619176963",".vshvsh","31/03/2021 2:50 pm","It only restricts production use?","",""
"183309006767521792","jorropo","31/03/2021 2:57 pm","I'm pretty certain if you setup it on your own private testnet (or using the EVM js VM of remix) nobody will come and bother you (if you don't send your blockchain to anyone it's fine).
I don't know about using a public testnet tho.","",""
"447487680511606785","reuptake","31/03/2021 3:39 pm","Optimism is delayed so Uniswap v3 on L2 is delayed as well, right?","",""
"183309006767521792","jorropo","31/03/2021 5:35 pm","likely (they were not expecting to lunch L2 in time anyway so)","",""
"548435317330280468","izhelyazkov","31/03/2021 8:40 pm","Hello ! 
Digging into the Uniswap V3 whitepaper, I stumbled on this formula to calculate the time-weighted geometric mean price of the tokens in a pool.

I wanted to ask, is there any appropriate Math library to use to make this calculation in uniswap core or periphery and if there are any examples of a calculation like this ?","https://cdn.discordapp.com/attachments/823968973753810945/826835867003387964/Screen_Shot_2021-03-31_at_18.07.55.png",""
"447487680511606785","reuptake","31/03/2021 9:42 pm","> At launch, capital efficiency gains will max out at 4000x for LPs providing liquidity within a single 0.10% price range. The v3 pool factory is technically capable of supporting ranges as granular as 0.02%, translating to a maximum 20,000x capital efficiency gains relative to v2.

How this is related to the tick size? 0.10% is the tick size? Or it's 0.02%?","",""
"482277754319011850","mjc716","01/04/2021 12:27 am","hey folks - forgive me if v3-integrations promotional content isn't allowed in here...but wanted to let you guys know
https://twitter.com/xtokenmarket/status/1377329496500678664?s=20","",""
"399617942087532545","_connormartin","01/04/2021 12:51 am","Any TWAPs will be derived from oracle readings, which will be called via the oracle.sol library","",""
"548435317330280468","izhelyazkov","01/04/2021 1:02 am","Yes, this is how I get the at1 and at2 numbers, but how do I calculate the equation: 
1,0001 ^ ((at2 - at1) / t2 - t1) ?","",""
"399617942087532545","_connormartin","01/04/2021 1:12 am","which part of the equation? t2 - t1?","",""
"399617942087532545","_connormartin","01/04/2021 1:13 am","im not sure which part is unclear to you","",""
"548435317330280468","izhelyazkov","01/04/2021 1:22 am","The power of part - > I'm looking for a Uniswap core or periphery library which handles the math","",""
"731587401608331304","bloxpert","01/04/2021 2:36 am","Quick question. What will happen to existing V2 Liquidity Pools? Can we easily migrate them to V3 or do we need to Remove the full amounts first and claim the paired tokens one by one (thus incurring high gas fees in total) and paying another set of gas fees to add/create the pools in V3?","",""
"396019781754683403","mario.revert.finance","01/04/2021 4:04 am","Interesting. How did you decide on using the 0.05% fee pools?","",""
"396019781754683403","mario.revert.finance","01/04/2021 4:06 am","Oh they're all stable pairs.","",""
"482277754319011850","mjc716","01/04/2021 4:07 am","hehe yea","",""
"482277754319011850","mjc716","01/04/2021 4:07 am","0.05% seems like the likely dominant fee level pool for these pairs","","üöÄ (1)"
"399617942087532545","_connormartin","01/04/2021 7:05 pm","were making a migrator contract for ease of use. otherwise you can just withdraw and deposit manually","",""
"399617942087532545","_connormartin","01/04/2021 7:06 pm","the calculation on TWAPs needs to happen externally with the above formula. You can get the observations needed to calculate a twap via the oracle.sol library","",""
"824041132207898685","fortytwo1003","01/04/2021 9:54 pm","i'm interested  in building a ""climate change"" swap where a portion of the interest is sent to carbon recapture initiatives. has anyone built a uniswap smart contract like this?","",""
"731587401608331304","bloxpert","01/04/2021 10:48 pm","Thanks Connor, in all honesty I am more worried about opening new V2 pools until May the 5th as they cost a lot in gas to add and remove. It would be really nice if an official announcement comes on this. Ideally we should keep our pools running so to keep UniSwap liquid. But if there will be no migration contract in the making, we need to prepare to remove them on the go so to prepare for V3. All info/help would be appreciated.","",""
"399617942087532545","_connormartin","01/04/2021 10:52 pm","there will be migrator contracts for v2 LP tokens, but not if the tokens are staked in customized smart contracts. V2 will continue running indefinitely and LPs will still generate fees there, but V3 will likely create better prices and draw more fees to the LPs there. taking any action before v3 is ready and deployed doesnt make much sense as far as I know - nothing to do really in anticipation for it. transaction prices will be lowest by using the migrator contract","",""
"731587401608331304","bloxpert","02/04/2021 12:41 am","That's fantastic news. Thanks a million for the clarification Connor.","",""
"397908298223058945","anh8888","03/04/2021 2:42 am","also when v3 launches, will there be a depth chart on UX of uniswap.info?","",""
"274208745699934220","callil_","03/04/2021 4:14 am","tbd if it's there on day one, but we definitely plan to have depth charts for the pools, yes","","Uni (1)"
"406983464773222410","kyoronut","03/04/2021 6:42 am","Hi, I formalized impermanent loss for uniswap v3 concentrated liquidity provison. https://twitter.com/kyoronut/status/1378022699260243970?s=20 It would be nice if someone could confirm it.","",""
"668404607759941632","arya2235","04/04/2021 7:12 am","is there a testnet deployment of v3?","",""
"759784798050320405","ckim#7888","04/04/2021 11:44 am","Hi there, since V3 will be launched with optimistic rollup, will the withdrawal process from L2 to L1 take long? Or is there something coming on the way addressing this?","",""
"183309006767521792","jorropo","04/04/2021 11:48 am","V3 might not be lunched with optimistic rollup.
Thoses are 2 different things (V3 starts first with L1 and when L2 is ready it will lunch, but **not right now**)","",""
"759784798050320405","ckim#7888","04/04/2021 11:52 am","Aha! Thank you so much for the response!","","üëç (1)"
"730463593711140956","bor444","04/04/2021 12:44 pm","not yet","",""
"548435317330280468","izhelyazkov","05/04/2021 2:23 pm","So, you're saying the TWAP calculations cannot happen internally ?","",""
"399617942087532545","_connormartin","05/04/2021 5:17 pm","the data necessary to calculate a twap is available internally, but there is no ""calculate twap"" function that does the math for you.","",""
"548435317330280468","izhelyazkov","05/04/2021 5:43 pm","But it can be implemented using a proper math library, correct ?","",""
"399617942087532545","_connormartin","05/04/2021 6:21 pm","not sure what you mean by a proper math library? like inheriting math functions that build in safety checks?  there are math libraries we use that you can inherit, or you can use others. Different projects will need different safety features","",""
"548435317330280468","izhelyazkov","05/04/2021 6:35 pm","What I mean is a library which implements a function with the proper types - such as for this formula, we have pow(1.0001, Fixed_point_96)","",""
"548435317330280468","izhelyazkov","05/04/2021 6:39 pm","If you could point me to a library like this, it will help a lot (The closest I've found is ABDK, which doesn't work with fixed-point exponents)","",""
"473501156413276160","jgcarv","05/04/2021 8:03 pm","Hello! I started looking at v3 for integrating a project, and I noticed that both modifyPosition and updatePosition in pool contracts are private. Will there be public functions for modifying a position or this will need to be done through a burn + mint?","",""
"396019781754683403","mario.revert.finance","06/04/2021 1:05 am","I think mint+burn if managing positions directly from the v3Pool contract, but you could also use increaseLiquidity, decreaseLiquidity from the periphery NonFungiblePositionManager contract https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/interfaces/INonfungiblePositionManager.sol","",""
"473501156413276160","jgcarv","06/04/2021 1:06 am","Thanks!","",""
"431961393646796811","derekbarrera","06/04/2021 1:25 am","Heads up the PoolDeployer artifacts are missing from the NPM module for core-v3","",""
"431961393646796811","derekbarrera","06/04/2021 3:42 am","I'm building something very similar to this and pretty far along, lets talk?","",""
"431961393646796811","derekbarrera","06/04/2021 4:24 am","What does the error LOK refer to? Its coded out in a couple places, but unsure of the actual meaning.","",""
"431961393646796811","derekbarrera","06/04/2021 4:32 am","Pool needs to be initialized, during init of a pool the unlocked state becomes true","",""
"183309006767521792","jorropo","07/04/2021 1:08 am","you should never runs into thoses issues, the factory call `init` itself
(on V2 at least, I missed was it about V3 ?)","",""
"431961393646796811","derekbarrera","07/04/2021 1:08 am","There's gotta be a better than than this right? I mean the cost would be 200+250  bucks gas right now to update the liquidity ticks","",""
"431961393646796811","derekbarrera","07/04/2021 1:09 am","On v3 you have to initialize with the intial price","","üëå (1)"
"431961393646796811","derekbarrera","07/04/2021 1:17 am","I haven't seen a single way outside of those proposed and I feel like from a gas cost perspective makes things really really rough. Maybe someone from the team can comment?","",""
"399617942087532545","_connormartin","07/04/2021 7:04 am","It‚Äôs the reentrancy guard","",""
"396019781754683403","mario.revert.finance","07/04/2021 7:55 am","Interesting. I wonder if gas costs would result in more concentrated liquidity on L2.","",""
"431961393646796811","derekbarrera","07/04/2021 7:20 pm","Ah that would make sense, thanks Connor!","",""
"431961393646796811","derekbarrera","07/04/2021 7:20 pm","I think it pushes those to give liquidity to liquidity managers who deploy different strategies","",""
"473501156413276160","jgcarv","07/04/2021 8:52 pm","Is there a handy contract to calculate onchain the sqrtPrice given both reserves?","",""
"396019781754683403","mario.revert.finance","07/04/2021 9:09 pm","Yeah, definitely. But even if managing 100M, at the gas prices you quoted, if you update ticks 10 times per day you'd be paying close to 1% per year on gas fees for that. With the 0.60% tick spacing it seems you would optimally update ticks much more frequently than that if gas cost weren't an issue. No?","",""
"415497683017662464","_grimac","07/04/2021 10:35 pm","Hello,

Is there possible to make a swap using swapTokensForExactTokens with the following path: DAI->BAT->DAI in a single tranzaction! I want the final swap to be DAI. I don't want flash swaps.

If I try to do this.. I always get error ""UniswapV2: INSUFFICIENT_INPUT_AMOUNT""","",""
"431961393646796811","derekbarrera","07/04/2021 10:53 pm","I've gotten this is the token wasn't approved, but you're going back to the same asset so seems like thats probably not the case","",""
"431961393646796811","derekbarrera","07/04/2021 10:54 pm","Yeah thats kinda how i'm seeing it right now.","",""
"415497683017662464","_grimac","07/04/2021 10:54 pm","I am trying to do this with web3 js using swapTokensForExactTokens function from uniswap router v2 contract","",""
"431961393646796811","derekbarrera","07/04/2021 11:01 pm","ah sorry, this is the v3 discussion so I missed where you put v2, my apologies.","",""
"399617942087532545","_connormartin","07/04/2021 11:20 pm","this channel is for v3 - just btw. But swapTokensForExact receives a fixed output argument and then derives the amount of your origin token needed to pay it off. so you may not have enough DAI in your wallet to pay off this multihop","",""
"234038230155132928","madcake92","07/04/2021 11:32 pm","there is some math that I am missing from the whitepaper. What is the behaviour of a tick if a swap crosses it? As I understood from several blogs, the liquidity should shift entirely to one token (like a sold out), but I am not sure at which price the tokens in the tick are swapped. The paper mentions liquidityNet but not how it is calculated. My next step would be looking at the source, but I think it should be specified in the whitepaper (or maybe I am blind üòÑ ). An example: if we at the tick where 1000 DAI = 1 ETH, and I buy the whole tick with DAI, what rate (DAI/ETH) will I get? The average between current price and the next  tick 's price? The median? Some other curve?","",""
"399617942087532545","_connormartin","08/04/2021 12:25 am","there might be some misunderstanding here - ticks only seperate price space. so there may be a tick where 1000 DAI = 1 ETH, but the next tick may be 1001 DAI = 1 ETH. If you start at the beginning of the tick and swap across, your swap executes continuously as the relative price increases. execution prices of a trade within a single tick interval are covered in 6.2.3","",""
"399617942087532545","_connormartin","08/04/2021 12:26 am","crossing a tick activates or deactivates any liquidity that has a boundary at that tick, so the liquidity amount will change at that point, and thus the price and price impact will as well","",""
"740103558116147231","Altonomy_sid#5817","08/04/2021 10:01 am","@Micah  Are v3 contracts deployed on ropsten ?","","ü§∑ (1)"
"816980248935399455","zainab6779","08/04/2021 12:15 pm","Hello Guys! 
Kindly give this a read and provide your feedback if any
We've tried to explain the codebase as well, Hoping it'll be helpful!
https://xord.com/publications/uniswap-v3-power-to-liquidity-providers","","üôè (1)"
"730463593711140956","bor444","08/04/2021 1:53 pm","@Altonomy_sid not yet","",""
"730463593711140956","bor444","08/04/2021 1:53 pm","small part of code is still not in feature lock. After that was audited and approved contracts will get deployed","",""
"415275526069157890","ivorano","08/04/2021 8:26 pm","Quick question - In  V3 if you want to deposit liquidity for ETH/DAI with a range of 1900-2100 and the current price is 2000, do you have to deposit those tokens in a 50:50 ratio?","",""
"399617942087532545","_connormartin","08/04/2021 8:55 pm","if you have the spot price in the middle of the range, yes, you will need to deposit approximately 50/50 in assets. if your example were 1950/2150 with a spot of 2000, you would have to deposit approx 25% DAI and 75% ETH","","üëç (4)"
"548435317330280468","izhelyazkov","08/04/2021 11:02 pm","@Connor Martin any follow-up on this ?","",""
"548435317330280468","izhelyazkov","08/04/2021 11:12 pm","What I'm asking is if there is a Math library with functions suitable to calculate the oracle TWAP, after receiving the data.
For example, I have these two results from the oracle:
Current accumulator value (at1) - -108030
Accumulator value from 1 h ago (at2) - 30

In the TWAP formula, 
```
P = 1.0001 ^ ((at1 - at2) / t1 - t2)), = 
P = 1.0001 ^ ((-108030 - 30) / 3600 - 0)) = 0.997
```

This is easy to calculate outside solidity. But how can I do this calculation in Solidity ?","",""
"431961393646796811","derekbarrera","08/04/2021 11:17 pm","@izhelyazkov you should be able to this through SafeMath or solidity ^8","",""
"183309006767521792","jorropo","08/04/2021 11:20 pm","solidity 8 **POWER !**","",""
"548435317330280468","izhelyazkov","08/04/2021 11:20 pm","I can't, because the power of operator doesn't support fixed-point numbers in the left or right hand side natively","","ü§î (1)"
"431961393646796811","derekbarrera","08/04/2021 11:21 pm","I was looking at this about 2 days ago but not audited... https://github.com/CementDAO/Fixidity","",""
"431961393646796811","derekbarrera","08/04/2021 11:22 pm","Wonder if the team has a tool they are using or shared logic to be used","",""
"183309006767521792","jorropo","08/04/2021 11:23 pm","Looking at the code : https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol
It seems they have their own lib to do this, it's GPL-3 you can reuse it (under certain conditions, reshare the sources with same license, credit authors, ...).","",""
"548435317330280468","izhelyazkov","08/04/2021 11:26 pm","Yes, I've checked out the libs in the v3 code, but the power of operator is missing there - only division, multiplication and specific tick/liquidity functions","",""
"548435317330280468","izhelyazkov","08/04/2021 11:29 pm","Still no power of operator in this library - I've checked this one out: 
https://github.com/abdk-consulting/abdk-libraries-solidity/blob/master/ABDKMath64x64.sol
which has defined one, but it supports only left-side fixed point numbers
**function pow (int128 x, uint256 y) internal pure returns (int128)**
and the equation can't be solved if the right side **(at1 - at2) / t1 - t2** is a fraction","",""
"447487680511606785","reuptake","09/04/2021 1:02 am","From FAQ ""most swaps should not cross multiple ticks"" how so? I guess this may be true for top 10 most liquid pairs, but I'm not sure it will be true for 99% or so other pairs. The ticks are fairly small from what I understand.","",""
"431961393646796811","derekbarrera","09/04/2021 1:16 am","from my understanding 1 tick = 1 bip","",""
"447487680511606785","reuptake","09/04/2021 1:19 am","Hmm, I think ticks will be of different size. But anyway, for less liquid pairs I guess most trades will be not within one tick. The question is, how it scales gas-wise? Is 10 tick trade 10x more expensive?","","üëç (1)"
"775893081387827221","david.morgan#8427","09/04/2021 2:57 am","From my reading, the subject of ticks is not well described. üôÇ The 'tick' itself is small (0.01%), but then there's also the value 'tickSpacing'. Then there's  the notion of 'initialized ticks', and not all ticks are initialized, according to the WP. I believe 'crossing a tick' actually refers to crossing an 'initialized tick'. Finally, I don't think the fees increases linearly with the # of ticks crossed; the increased gas seems related to how many passes through a 'tick scanning' loop need to be executed to discover the tick (initialized, I believe) boundary. This is nothing close to gospel, so take it for what it's worth.","",""
"456226577798135808","Deleted User","09/04/2021 10:51 am","When migrating from the 50/50 V2's to V3 will there be a way to rebalance to a 70/30 etc v3 position without cashing out of the v2 token? Assuming a uni V2's provider wants to put all the 50/50 to full use in v3?","",""
"447487680511606785","reuptake","09/04/2021 1:00 pm","Initialized tick is a tick with liquidity. I suppose most trades will be across initialized ticks.","",""
"775893081387827221","david.morgan#8427","09/04/2021 7:18 pm","@reuptake üåä Initialized ticks sounded more like the *endpoint ticks* of liquidity ranges (which obviously have liquidity), to me. If that's the case, I doubt every individual tick would be initialized. I guess we'll know more at some point.","",""
"431961393646796811","derekbarrera","09/04/2021 7:41 pm","Ticks are explained pretty well in the Noah walkthrough that was done for v3","",""
"473501156413276160","jgcarv","09/04/2021 7:47 pm","Where can I find that?","",""
"730463593711140956","bor444","09/04/2021 8:25 pm","@JG twitch stream link?","",""
"730463593711140956","bor444","09/04/2021 8:34 pm","ehh it unfortunately expired üò¶","",""
"447487680511606785","reuptake","09/04/2021 8:48 pm","Yeah, but I don't remember him explaining gas costs in details","",""
"635022628620337212","benesjan","09/04/2021 10:01 pm","Hello, is there a plan to publicize a subgraph repository for uni v3 in the near future? Thank you üòå","",""
"274208745699934220","callil_","09/04/2021 10:22 pm","You will be able to make a 70/30 position through migration flow, but it will leave the leftover as a refund to your wallet, it wont swap the rest to fill.","",""
"456226577798135808","Deleted User","09/04/2021 11:39 pm","Is it possible to replicate a v2 position from 0 to infinity? I.e If I want to do 50-50 eth/dai and the spot is 2000, wont the bound of 0-2000- infinity force me into a position that is not a 50-50 ratio?","",""
"431961393646796811","derekbarrera","09/04/2021 11:42 pm","There are max and min ticks, those would do the 0->infinity, kinda but itd be a pretty large net, or well the largest you can create","",""
"399617942087532545","_connormartin","09/04/2021 11:51 pm","This is correct. An Initialized tick is a tick that is used as a boundary for a position.","",""
"399617942087532545","_connormartin","09/04/2021 11:52 pm","There is no gas fee for crossing uninitialized ticks. There is for an initialized tick, as it changes how much liquidity is in use- which involves more state change in the pool contract","",""
"447487680511606785","reuptake","10/04/2021 12:03 am","Thanks for clarification. And how does this change? Like is crossing 2 initialized ticks 2x as expensive as 1?","",""
"456226577798135808","Deleted User","10/04/2021 12:08 am","So i could do a eth/Dai 2000 spot with a range of 200 - 2000- 3000 with 50-50 ratio using ticks? Can someone provide an example of how min/max ticks works for asymmetric bounds?","",""
"399617942087532545","_connormartin","10/04/2021 12:26 am","It‚Äôs not as simple. Crossing an initialized tick does come with a fixed cost, and crossing two doubles that, but there are many other things going on that create gas costs - so it doesn‚Äôt scale in macro as you suggest","",""
"447487680511606785","reuptake","10/04/2021 12:28 am","Yeah, I know, so it's more like A + B * N, where A, B are more or less fixed and N is number of initialized ticks, right?","",""
"399617942087532545","_connormartin","10/04/2021 12:30 am","There are gas snapshots in the v3 tests available in the v3 core repo - you should take a look! That‚Äôll give you a better sense of it","",""
"447487680511606785","reuptake","10/04/2021 12:30 am","I'm not sure If I will understand it üôÇ But I'll take a look.","",""
"482277754319011850","mjc716","10/04/2021 12:51 am","sorry to ping you again on this @Connor Martin - would love to get a bit more clarity on how to approach this","",""
"399617942087532545","_connormartin","10/04/2021 2:04 am","Libraries to help external twap calcs are in development- you can follow along here https://github.com/Uniswap/uniswap-v3-periphery/issues/22","",""
"399617942087532545","_connormartin","10/04/2021 3:01 am","its doable without a library though - but we're aware one will make it a lot easier","",""
"740067760541007894","daqingsu","10/04/2021 3:04 am","Sorry if this question has been asked and answered: is there a testnet already for v3?","",""
"399617942087532545","_connormartin","10/04/2021 3:20 am","not yet - in the next week or so it will be ready","",""
"740067760541007894","daqingsu","10/04/2021 8:46 am","great. can't wait to try out.","",""
"740067760541007894","daqingsu","10/04/2021 9:21 am","How does swap work in v3? For LP, I understand there will be lots of small curvelets with their own price ranges, mostly concentrated around current mid price. If I go in as a swapper, of course I would want the cheapst price. Would the system sweep from best to worst price all the liquidities till my order size gets filled? Like the way orderbook works, sweeping the depths starting from top of book.","",""
"740067760541007894","daqingsu","10/04/2021 9:23 am","To maximize profit as LP, I guess one needs to adjust concentrated liquidity as fast as possible around mid price based on price oracle? Basically you want as much swapping as possible to happen on your small curve.","",""
"447487680511606785","reuptake","10/04/2021 1:15 pm","It's rather one curve, but you add liquidity to different ranges of this curve. So it's fixed curve but liquidity is unevenly distributed.","",""
"456226577798135808","Deleted User","10/04/2021 11:02 pm","I have been reading haydens recent tweets on v3, what is aggregation? Also is there is place to read more into how ticks are customizable to create ratio positions?","",""
"775893081387827221","david.morgan#8427","11/04/2021 2:27 am","Aggregations: He's talking about third-party service providers offering LP position management through their contracts on top of V3. Subscribers to that service (us) would be aggregated (combined) into a group that all use that contract to change LP positions dynamically as prices move. The fees involved on V3 to change positions are the same for this large collective group as it is for an individual, more or less. Your second question is basically: What is concentrated liquidity? That's described in the V3 blog post: https://uniswap.org/blog/uniswap-v3/. HTH.","",""
"806750460395782195","ptk187","11/04/2021 2:48 am","Wondering how the V3 is gonna handle balance-adjusting tokens (mint/burn/tx distribution etc)? I can't really comprehend it from the whitepaper.","",""
"456226577798135808","Deleted User","11/04/2021 4:53 am","I cant really comprehend from the V3 whitepaper is how the new system is gonna handle balance-adjusting tokens (eg. tx fee distribution)","",""
"399617942087532545","_connormartin","11/04/2021 5:04 am","By balance adjusting you mean rebasing tokens?","",""
"399617942087532545","_connormartin","11/04/2021 5:29 am","V3 works for wrapped rebasing tokens such as CHAI","",""
"399617942087532545","_connormartin","11/04/2021 5:29 am","and breaks with all other rebasing tokens","",""
"447487680511606785","reuptake","11/04/2021 1:23 pm","I wonder whether Uniswap v3 will not generate a lot of ""dust"". Eg. in scenario like this: I'm providing liquidity to a narrow range. Price stays in that range for a while, but I end up with just one token (max IL). So now I have  token0 + some small amount of fees in token0 + some small amount of fees in token1. On L1 it may not be even profitable to sell token1.","",""
"740067760541007894","daqingsu","12/04/2021 1:30 am","tick spacing = multiplier of min default tick size of 1 BP. So people can customize their own tick size.
initialized ticks = activated ticks, as the ticks are swept to get enough swap size.
uninitialized ticks = deactivated ticks. liquidity swept up already, so there is no liquidity as more at that price level.","",""
"740067760541007894","daqingsu","12/04/2021 1:34 am","Another question is, if my price range is 1900 - 2100, with curr price at 2000, once price drops to 1800, my liquidity is swept from right to left, leaving my little pool with one token. Now if price starts to go up again, to 2200, any swaps will sweep from left to right and exit at the right. Will my IL after first sweep from right to left be recovered, now it is swept again? Just wondering if should leave those price ranges alone.","",""
"274208745699934220","callil_","12/04/2021 3:28 am","Here's a link to it: https://discord.com/channels/597638925346930701/607978109089611786/830447044682055680","","üëç (1)"
"211868722380537856","kenchangh","12/04/2021 10:01 am","Hey üëã Looking to integrate Uni V3. Got a question:

How would one be able to get the total liquidity between two ticks in v3 Seems like there is a getter for the fee collected between two ticks, but not the total liquidity","",""
"447487680511606785","reuptake","12/04/2021 2:03 pm","I'm not sure what you mean by ""recovered"". There will be no IL if price is 2000 again.","",""
"447487680511606785","reuptake","12/04/2021 2:03 pm","But you'll have some fees in both tokens...","",""
"819628343053123641","theastronaut#0895","12/04/2021 7:38 pm","Hi there
[4:00 PM]
Is anyone using v3 in mainnet smart contract already?","",""
"819628343053123641","theastronaut#0895","12/04/2021 7:39 pm","When upgrading smart contracts to 0.8.3 most of Uni smart contracts are using 0.5.. to 0.6...","",""
"399617942087532545","_connormartin","12/04/2021 8:15 pm","you could call the liquidity accumulator in the oracle with a `secondsAgo` argument of zero. get the number from the accumulator and measure the delta between that read and the beginning of the most recent block - that would tell you the current in range liquidity (the amount available at the spot price, which exists between two nearest ticks)","","üëç (1)"
"399617942087532545","_connormartin","12/04/2021 8:16 pm","if the spot price moves entirely through your position, you will be left fully in one asset. if the price reverses and moves fully again through your position (but in the opposite direction) your liquidity will be used, and will generate fees, and you'll be left in the other asset","",""
"740067760541007894","daqingsu","12/04/2021 10:55 pm","So as long as I don't withdraw liquidity during the two times sweep, there will not be IL.
If I plan to deposit relatively large capital to be LP, among the following 3 strategies, which one would you recommend? @Connor Martin 
1. One pool with wide price range. Less need to withdraw/add liquidity.
2. One pool with very narrow price range, but keep shifting (removing/adding liquidity) to chase the mid price.
3. Multiple pools, each with narrow price range, so swaps would always happen on one of my pools along the curve.","",""
"163167990479585280","kurtringo","12/04/2021 11:09 pm","Good afternoon, mates","",""
"163167990479585280","kurtringo","12/04/2021 11:10 pm","Is v3 live on any testnets yet?","",""
"163167990479585280","kurtringo","12/04/2021 11:10 pm","I've got some Kovan contracts I wanna connect to the shiny new router and factory","",""
"163167990479585280","kurtringo","12/04/2021 11:13 pm","Alternatively, would appreciate links to any documentation for deploying V3 on hardhat or a private test chain","",""
"163167990479585280","kurtringo","12/04/2021 11:24 pm","But if the real thing is live on a public testnet I'd rather work with the real thing","",""
"447487680511606785","reuptake","13/04/2021 12:13 am","I think it's impossible to give universal advice. Eg. if you have large capital, gas fee for changing range/liquidity may be not significant.","",""
"730463593711140956","bor444","13/04/2021 12:16 am","@daqingsu it all depends on price action and Connor can't predict that","",""
"740067760541007894","daqingsu","13/04/2021 1:18 am","Sure understood. Just trying to establish a theoretical/rational framework and go from there. Every project looks up to Uniswap and how v3 works in production means a lot. There are more and more protocols trying to improve AMM.","",""
"447487680511606785","reuptake","13/04/2021 1:40 am","The thing is you cannot even evaluate it. In v2 you could easily calculate IL or yield from total liquidity, volatilty and volume. Now it's all dependent not only on total liquidity but also on how other LPs will distribute liquidity along the curve, and even this is only a snapshot, because liquidity can (and will) move.","","üëç (1)"
"399617942087532545","_connormartin","13/04/2021 6:28 am","IL fundamental part of any kind of market making - V3 doesn't change that. It just restricts your position to a smaller area in price space. So from one perspective, it reduces potential IL, in another perspective it magnifies it. It all depends on the kind of assets given, the timing, the market performance during your position and when you choose to exit.","","üëç (1)"
"163167990479585280","kurtringo","13/04/2021 7:13 am","If I'm in the wrong chat, let me know","",""
"163167990479585280","kurtringo","13/04/2021 7:13 am","Just want to know if V3 is live on a test network yet","",""
"163167990479585280","kurtringo","13/04/2021 7:15 am","Given that the following was part of the initial blogpost
```
Launch Details

The Uniswap v3 smart contracts will be deployed to the Ropsten, Rinkeby, Kovan, and G√∂rli testnets in the coming days, giving developers time to begin experimenting with the protocol before the official launch.
```","",""
"775893081387827221","david.morgan#8427","13/04/2021 7:46 am","For a given pair of V3 LP assets, is there one pool (at a given fee) for L1/L2 combined, or is the liquidity fragmented into separate L1 and L2 pools? Thx!","",""
"473501156413276160","jgcarv","13/04/2021 9:35 pm","Is there a document somewhere detailing the gas spending for each pool functionality ?","",""
"183309006767521792","jorropo","13/04/2021 9:38 pm","no, most of them are variable anyway.","",""
"473501156413276160","jgcarv","13/04/2021 10:31 pm","There's actually this page here: https://github.com/Uniswap/uniswap-v3-core/blob/main/test/__snapshots__/UniswapV3Pool.gas.spec.ts.snap","",""
"819628343053123641","theastronaut#0895","13/04/2021 11:34 pm","using uniswap v2 with openzeppelin imports comes with compiler issues","",""
"819628343053123641","theastronaut#0895","13/04/2021 11:34 pm","uni has only 0.5 to 0.6 nothing in 0.8","",""
"819628343053123641","theastronaut#0895","13/04/2021 11:34 pm","Is there any best practice in this regard?","",""
"819628343053123641","theastronaut#0895","13/04/2021 11:35 pm","Need to apply ReentrancyGaurd","",""
"802723565710868500","davidall","14/04/2021 7:12 pm","Just read through v3 docs. Bravo! Excited about all the LP choices and opportunities.","",""
"734616515986587679","0xsachin","14/04/2021 7:18 pm","Is there a docs? or only whitepaper?","",""
"399617942087532545","_connormartin","14/04/2021 7:34 pm","docs.uniswap.org","",""
"734616515986587679","0xsachin","14/04/2021 8:45 pm","From the docs I can see that there is a swap function. What about the ""swapExact...For..."" functions. Are they no longer supported. I mean are the contracts not backwards compatible?","",""
"399617942087532545","_connormartin","14/04/2021 10:27 pm","those are part of the periphery contracts which are currently under audit and unreleased. they'll be coming in the next week or two","",""
"399617942087532545","_connormartin","14/04/2021 10:28 pm","the router contracts will not be composable between core versions, but the V3 core contracts will come with lots of helpful routing contracts","",""
"633272973280804866","_nick_1337","15/04/2021 7:05 am","afaik they plan to deploy the contracts this week.
you should be definitely in the right channel to ask that question üòâ","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:22 pm","During the migration of LP providers, what will be the future of uniswap V2 pairs/pools. Do we have potentially 1 pair in V2 and 1 pair in V3 with price difference between both ?","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:33 pm","How it was managed in the previous migration between V1 and V2 ?","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:35 pm","IF we receive NFT tokens in place of ERC20 tokens, i suppose that the smart contract of the liquidity pool is different ? nobody can delete an old pool. How can we avoid arbitrage, bots...between old and new pool for the same pair ETH-XXX V2 and ETH-XXX V3 ?","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:35 pm","With have no news until the deployment. Not fair.","",""
"730463593711140956","bor444","15/04/2021 8:41 pm","same as v1 to v2","",""
"730463593711140956","bor444","15/04/2021 8:42 pm","nobody can disable v2 pools and over time team predicts it will happen what happened with v1 to v2","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:42 pm","where can we found the description ?","",""
"730463593711140956","bor444","15/04/2021 8:42 pm","volume and liquidity of v1 slowly went down and v2 became dominant","",""
"730463593711140956","bor444","15/04/2021 8:43 pm","only pair on v1 still that has some kind of volume is probably SOCKS","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:43 pm","You could have different prices between the 2 version as between 2 CEX?","",""
"730463593711140956","bor444","15/04/2021 8:43 pm","yes .. price is subject to free market","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:45 pm","All the app based on staking LP tokens will have trouble to manage the migration.","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:46 pm","They must stay on V2 until a new version on V3 or the end.","",""
"730463593711140956","bor444","15/04/2021 8:46 pm","yep that is true","",""
"730463593711140956","bor444","15/04/2021 8:46 pm","However it took v2 to take over v1 around 3 weeks to become dominant","",""
"730463593711140956","bor444","15/04/2021 8:47 pm","so it won't happen over night for sure","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:47 pm","How many time is it possible to access to uniswap V2 from the frontend ? until the end of the year more or less ?","",""
"730463593711140956","bor444","15/04/2021 8:48 pm","v1 is still available so v2 will stay there for some time for sure","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:48 pm","Uniswap V2 is not visible today on the homepage even if some people still have money on it.","",""
"730463593711140956","bor444","15/04/2021 8:48 pm","https://app.uniswap.org/#/swap?use=v1","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:51 pm","if we check in details some transaction could be better in V1 due to the LP pool that could not deleted on ethereum for a specific well-kown pair.","",""
"730463593711140956","bor444","15/04/2021 8:52 pm","nobody is forced to do anything and free market will decide on what is best","",""
"730463593711140956","bor444","15/04/2021 8:53 pm","maybe v3 will be a total flop and everyone just uses v2 üòõ","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:53 pm","agree. I'm trying to see the issue based on 1 year new release without pool compatibility.","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:53 pm","true.","",""
"730463593711140956","bor444","15/04/2021 8:54 pm","for sure for tokens that have liquidity incentive on v2 v2 will be dominant for as long as incentive lasts","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:55 pm","if we can use V2 easily in parallel mode.","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:56 pm","on V1 we can actually see no analytics anymore...","",""
"730463593711140956","bor444","15/04/2021 8:57 pm","https://v1.uniswap.info/","",""
"760169069818282004","Gocoworker#3642","15/04/2021 8:58 pm","An alternative approach is to list V2 and V3 pools in the same interface. V2 pools have limited feature and V2 pools have more with descendant comptability as office and soon","",""
"760169069818282004","Gocoworker#3642","15/04/2021 9:03 pm","thanks i will compare token price between V1 and V2 to see if there is delta.","",""
"736659720185839718","dasaveliev","16/04/2021 5:06 am","hey
import ""@uniswap/v3-periphery/contracts/interfaces/INonfungiblePositionManager.sol"";

compile:
```
TypeError: Explicit type conversion not allowed from ""bytes32"" to ""address"".
  --> @uniswap/v3-periphery/contracts/libraries/PoolAddress.sol:35:16:
   |
35 |         pool = address(bytes32(
   |                ^ (Relevant source part starts here and spans across multiple lines).
```","",""
"447487680511606785","reuptake","16/04/2021 1:21 pm","Only contracts will be deployed on testnets, without frontend?","",""
"183309006767521792","jorropo","16/04/2021 9:27 pm","likely a solidity version missmatch ?

Else just replace(or wrap) the `bytes32` cast to a `bytes20` one.","",""
"399617942087532545","_connormartin","16/04/2021 10:36 pm","are you using the right version of solidity to compile the contracts?","",""
"633272973280804866","_nick_1337","16/04/2021 10:58 pm","will it be possible to have pools with the same token pair, in the same fee tier but with different tick spacing?","",""
"730463593711140956","bor444","17/04/2021 12:02 am","@Nick don't think so","",""
"730463593711140956","bor444","17/04/2021 12:02 am","tupple (fee_tier, token_a, token_b) needs to be unique","",""
"633272973280804866","_nick_1337","17/04/2021 12:14 am","yes, you are correct. I looked at the code on github üëç 
thx mate","",""
"730463593711140956","bor444","17/04/2021 12:14 am","nice","",""
"163167990479585280","kurtringo","17/04/2021 12:17 am","I am starving for any info regarding the testnet deployment","","üëç (1)"
"163167990479585280","kurtringo","17/04/2021 12:17 am",":PES3_SadCozy:","",""
"730463593711140956","bor444","17/04/2021 12:36 am","@Kurt Ringo no concrete info on when it will happen","",""
"163167990479585280","kurtringo","17/04/2021 12:38 am","understandable, thank you for replying","",""
"730463593711140956","bor444","17/04/2021 12:52 am","nps. It will be shared as soon as they go live","",""
"775893081387827221","david.morgan#8427","17/04/2021 7:05 am","You are referring to pools, right, not LP positions? I understood you (LP provider) could have multiple LP positions (ranges) in the same ""tupple"", even overlapping ones. I hope that's correct?","",""
"730463593711140956","bor444","17/04/2021 11:09 am","Yes. User can provide liquidity in as many different ways as he wants.","","üôè (1)"
"353164893131898892","bibop0303","17/04/2021 11:17 am","Hi guys, is there a list somewhere of projects already in integration stage with Uniswap v3? Especially the ones really taking advantage of the core new features in v3.","",""
"436138381039239169","u2ros","17/04/2021 3:48 pm","and... to amend Bipops question... are there already any third party LP ""strategy providers"" yet?","",""
"734616515986587679","0xsachin","17/04/2021 6:15 pm","Will there be other routers apart from this contract https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/SwapRouter.sol ?","",""
"274208745699934220","callil_","17/04/2021 9:40 pm","@Bibop @u2ros : https://medium.com/xtoken/announcing-xu3lp-fungible-convenient-liquidity-provision-for-uniswap-v3-1bbd49ec855c","","üëç (1)"
"436138381039239169","u2ros","17/04/2021 10:29 pm","@callil [UX & Design] ü¶Ñ- No DMs thanks!","",""
"274208745699934220","callil_","17/04/2021 10:36 pm","There are some more out there of course","",""
"274208745699934220","callil_","17/04/2021 10:36 pm","here's a thread","",""
"274208745699934220","callil_","17/04/2021 10:37 pm","https://twitter.com/haydenzadams/status/1379180378578124808","","üëç (1)"
"399617942087532545","_connormartin","18/04/2021 1:57 am","There‚Äôs a liquidity management router as well","",""
"447487680511606785","reuptake","18/04/2021 2:00 am","If I provide liquidity in range 1000 - 2000 when the price is 1500 I'd have to provide the same amounts of both tokens. How to calculate this proportion for other prices?","",""
"775893081387827221","david.morgan#8427","18/04/2021 2:07 am","@Connor Martin Provided some specific example on this several days ago that indicated it was a linear relationship. So, for DAI/ETH for example: at 1250 (vs 1500) it would be 75% ETH, 25% DAI; at 1750 is would be the other way round - 75% DAI, 25% ETH.","","üôè (1)"
"345511019579310082","kesar","18/04/2021 4:14 pm","does anyone know if there is an ""official"" uniswap v3 deployed on optimism testnet / and if there is any interface / graph / api as well?  üôè","",""
"730463593711140956","bor444","18/04/2021 4:55 pm","@Cesar Rodriguez it is not yet on Ethereum chain. Optimism is also not yet deployed","",""
"345511019579310082","kesar","18/04/2021 5:46 pm","I am talking about testnets üòÄ","",""
"730463593711140956","bor444","18/04/2021 5:46 pm","yep sorry. v3 is not deployed anywhere","","üëç (1)"
"345511019579310082","kesar","18/04/2021 5:49 pm","ok no worries. I can try to deploy it in optimism testnet, I want to hack something for the scaling ethereum hackathon üëç  Thanks!","",""
"730463593711140956","bor444","18/04/2021 5:55 pm","for hackathon it should be good enough I think","","üëç (1)"
"730463593711140956","bor444","18/04/2021 5:56 pm","however code can potentially change until official deploy","",""
"163167990479585280","kurtringo","18/04/2021 8:19 pm","Did you deploy it on Optimism testnet?","",""
"163167990479585280","kurtringo","18/04/2021 8:20 pm","Would also be very interested in playing around with Uniswap V3 on Optimism","",""
"736659720185839718","dasaveliev","19/04/2021 3:29 am","pragma solidity >=0.5.0; in PoolAddress.sol
which version to use >=0.5.0 which supports explicit conversion from bytes32 to address?
it can be modified converting bytes32 to bytes20 and i've done it as a temporary workaround, but it will be overwritten with the next update i guess","",""
"447487680511606785","reuptake","19/04/2021 4:55 pm","Anybody knows what's the formula behind this?","",""
"447487680511606785","reuptake","19/04/2021 4:55 pm","","https://cdn.discordapp.com/attachments/823968973753810945/833664708443242526/Zrzut_ekranu_2021-04-19_o_13.24.41.png",""
"730463593711140956","bor444","19/04/2021 5:36 pm","@reuptake üåä is it here? https://uniswap.org/whitepaper-v3.pdf","",""
"730463593711140956","bor444","19/04/2021 5:36 pm","","https://cdn.discordapp.com/attachments/823968973753810945/833674969094422588/unknown.png",""
"447487680511606785","reuptake","19/04/2021 7:01 pm","I don't really know how to get this number from this equation...","",""
"762668904387706920","mw#2715","19/04/2021 7:52 pm","think it's this formula https://twitter.com/haydenzadams/status/1380217938867843072","","üôè (2)"
"473501156413276160","jgcarv","19/04/2021 8:16 pm","Is there a way to calculate the `sqrtRedPriceX96` from reserves0 and reserves1 onchain?","",""
"775893081387827221","david.morgan#8427","19/04/2021 11:24 pm","Happy to hear I'm not the only one. üôÇ I couldn't even get the equation cited in in Hayden's tweet (above) to work out, and it's way simpler. Specific examples of common LP positions worked through the equations, step by step, would help me, for sure.","",""
"447487680511606785","reuptake","20/04/2021 4:08 am","Simpler formula kind of works for me. I'll take a closer look tomorrow.","",""
"431961393646796811","derekbarrera","20/04/2021 7:28 am","I'm building out Steer Finance for automated liquidity management  as well as other things. Looking for any devs who want to get involved. (h ttps://twitter.com/steerprotocol - removing auto link so I don't spam this channel)","",""
"817773459979501599","gr0mhellscr3am#4782","20/04/2021 11:33 pm","did anybody here get started on building a generalized module for liquidity farming on top of v3 ? similar to the synthetix streaming rewards module ? looking to build one if there isn't anything yet or help out if there's an effort ongoing","",""
"730463593711140956","bor444","21/04/2021 12:11 am","I didn't see anyone announcing that they are working on it","",""
"428699196514893825","kassandra.eth","21/04/2021 4:22 am","working through the whitepaper with a simple pen and paper example and have some simple questions if anyone here is around that knows v3 well (or just better than me)... lets say on ETH/DAI pair current price is 1 ETH : 2000 DAI and I want to enter as an LP with a position centered around the current price. The current price would be nearest to tick 76013 since P(76013) = 1.0001^(76013) = ~2000. Right ??","",""
"428699196514893825","kassandra.eth","21/04/2021 4:23 am","So (if tick spacing was 1) I could supply liquidity in tick range 76012-76014 and I'd need to supply for example 1 ETH and 2000 DAI (i.e. liquidity deposited is split 50/50 across the two assets)","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:41 am","Curious how you came to the tick value of 76013, but yes, you would supply the position as you indicated at 50/50 value-wise, if you want it in the center of your range. That's a really narrow range, though.","",""
"428699196514893825","kassandra.eth","21/04/2021 6:43 am","supposedly relationship between tick (index) and price is P(i) = 1.0001^i where i is tick index and P is price","",""
"428699196514893825","kassandra.eth","21/04/2021 6:46 am","so, naively P(76013) = 1.0001^76013 = 2000","",""
"428699196514893825","kassandra.eth","21/04/2021 6:47 am","but it's not unlikely I'm misunderstanding the paper a little bit (or missing something) thats why I'm asking","",""
"428699196514893825","kassandra.eth","21/04/2021 6:49 am","and yes that would be a crazy narrow range in actual practice but I'm just using simple bounds (one tick in each direction) just to keep example simple","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:50 am","I don't get where the 76013 comes from, other than trial and error or a lookup table.","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:51 am","Sorry to trouble you.","",""
"428699196514893825","kassandra.eth","21/04/2021 6:52 am","well tick = 0 means price is 1 (from formula above) i.e. 1 token0 = 1 token1","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:53 am","True","",""
"428699196514893825","kassandra.eth","21/04/2021 6:53 am","its here","",""
"428699196514893825","kassandra.eth","21/04/2021 6:53 am","","https://cdn.discordapp.com/attachments/823968973753810945/834237962349969418/Screen_Shot_2021-04-20_at_9.23.36_PM.png",""
"775893081387827221","david.morgan#8427","21/04/2021 6:54 am","Oh, I looked at the paper, but I'm about 50 years from that math class.","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:55 am","Seriously.","",""
"428699196514893825","kassandra.eth","21/04/2021 6:55 am","so (as far as I understand) to specify your price range you have to specify a lower bound tick (a signed integer) and an upper bound tick (another signed integer)","",""
"428699196514893825","kassandra.eth","21/04/2021 6:55 am","and the price range spanned by your ticks is given by the formula P(i) = 1.0001^ i","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:56 am","I assume that w/o an UI, just using the api?","",""
"428699196514893825","kassandra.eth","21/04/2021 6:56 am","yes this is for the params to the contract call directly (something that would be abstracted away from you on the UI)","",""
"428699196514893825","kassandra.eth","21/04/2021 6:57 am","but again... don't trust me I'm trying to work things in the paper out and could be way off","",""
"775893081387827221","david.morgan#8427","21/04/2021 6:59 am","Well, your numbers work. I *can* do that.  Just can quite see how to work it back the other way to get 76013 to begin with. No worries, it doesn't reaaly matter, other than curiosity.","",""
"428699196514893825","kassandra.eth","21/04/2021 7:14 am","","https://cdn.discordapp.com/attachments/823968973753810945/834243212956663817/Screen_Shot_2021-04-20_at_9.44.31_PM.png",""
"428699196514893825","kassandra.eth","21/04/2021 7:14 am","there I'm pretty sure","",""
"428699196514893825","kassandra.eth","21/04/2021 7:15 am","if you know the current price (which I am calling 2000) you can compute the current tick like that","",""
"428699196514893825","kassandra.eth","21/04/2021 7:17 am","","https://cdn.discordapp.com/attachments/823968973753810945/834243946682122300/Screen_Shot_2021-04-20_at_9.47.21_PM.png",""
"428699196514893825","kassandra.eth","21/04/2021 7:20 am","P = 2000 thus, sqrtP = 44.721....","",""
"775893081387827221","david.morgan#8427","21/04/2021 7:21 am","Thank you very much! I can do that. üôÇ  I really appreciate your effort!","",""
"428699196514893825","kassandra.eth","21/04/2021 7:22 am","for sure... but don't take my word for it, my original question was actually ""am I doing this right?"" (so I may not be ü§™ )","",""
"775893081387827221","david.morgan#8427","21/04/2021 7:25 am","Well, your tick solution works to get back to the price. The whole tick subject, I think, is the most opaque part of V3, to me. Like what is tick spacing - what value can it take and why, etc.","",""
"536856701224091655","jamesbachini","21/04/2021 12:57 pm","Some of the v3 contracts have been deployed to testnet. https://github.com/Uniswap/uniswap-v3-periphery/blob/main/testnet-deploys.md","",""
"274208745699934220","callil_","21/04/2021 5:28 pm","Pinned a message.","",""
"345511019579310082","kesar","21/04/2021 5:40 pm","not in optimism testnet :]

is there any guide about deploying the full set of contracts? I haven't seen anything related (for testnet / local purposes)","",""
"428699196514893825","kassandra.eth","21/04/2021 5:42 pm","I'm working on a potential v3 integration for my dev team and my first task is to understand the whitepaper inside and out. One thing that would really help me is a worked example of a highly simplified pool (say with only 2 positions providing equal amounts of liquidity across overlapping ranges) and then the calculations that the pool contract does for an example swap. I'm trying to do this on my own but stuck on a number of details. Anyone have something like that, or a link to something like that?","",""
"428699196514893825","kassandra.eth","21/04/2021 5:43 pm","Thanks in advance!","",""
"536856701224091655","jamesbachini","21/04/2021 9:40 pm","Has anyone managed to deploy a working v3 pool using the testnet contracts? I managed to create a WETH/DAI pool on Ropsten but can't seem to add liquidity or interact with it. 
Code here: https://github.com/jamesbachini/Uniswap-V3-Experiments/blob/main/uniswap-v3-experiments.js
If anyone has any example code for doing swaps and adding liquidity in v3 that would be super useful too. Thank you","",""
"431961393646796811","derekbarrera","22/04/2021 12:10 am","I've run locally the entire set of contracts and added liq etc","",""
"431961393646796811","derekbarrera","22/04/2021 12:22 am","woohoo!","",""
"431961393646796811","derekbarrera","22/04/2021 12:23 am","Still looking for devs, if anyone is interested.","",""
"473501156413276160","jgcarv","22/04/2021 2:41 am","Hey, for the past weeks I've been diving on v3 to build a liquidity manager that mints v2-like erc20 for depositors and also automatically concentrates liquidity according to a specific target price( in my case the redemption price of RAI). 

Any feedback is welcomed! 
https://github.com/reflexer-labs/geb-uni-v3-manager","","üëç (2)"
"730463593711140956","bor444","22/04/2021 2:57 am","@JG do you have any webUI on the roadmap?","",""
"447487680511606785","reuptake","22/04/2021 4:02 am","I have problem with `1/(1 - (a/b)^(1/4))` equation for ""liquidity concentration"" @Hayden Adams ü¶Ñ provided. It means that if I provide liquidity in 0...1 range it gives the same efficiency as 0...100 and 0... infinity range...","",""
"473501156413276160","jgcarv","22/04/2021 4:16 am","Yes! there's a bit done to be done in the contracts but a UI is in the roadmap","",""
"428699196514893825","kassandra.eth","22/04/2021 6:09 am","Nifty trick about rebalancing on every deposit, to get a ‚Äúpoor mans‚Äù auto rebalancer. For the ‚Äúforced‚Äù rebalancing (even when it‚Äôs been a long while between deposits or just price rapidly changes between deposits) gelato.network bots (or similar transaction relayer services) could be used to auto rebalance the contract‚Äôs position. Just a thought!","",""
"447487680511606785","reuptake","22/04/2021 1:01 pm","I'm bit disappointed, we we're promised ""further updates, additional information, and initial documentation"" and there's not much of it. Someone also said that there will be some simple sheet with all calculations needed to compute position size, impermanent loss, fees and so on.","",""
"740103558116147231","Altonomy_sid#5817","22/04/2021 3:06 pm","What does Q64.96 mean (sqrtPriceLimitX96) ?","",""
"730463593711140956","bor444","22/04/2021 3:50 pm","@Altonomy_sid code says ""The price limit of the pool that cannot be exceeded by the swap""","",""
"730463593711140956","bor444","22/04/2021 3:50 pm","""The Q64.96 sqrt price limit. If zero for one, the price cannot be less than this""","",""
"730463593711140956","bor444","22/04/2021 3:51 pm","probably some advanced math behind why is that so üôÇ","",""
"740103558116147231","Altonomy_sid#5817","22/04/2021 4:01 pm","Will need to know that to interact with the smart contract","",""
"740103558116147231","Altonomy_sid#5817","22/04/2021 4:02 pm","Also, to createPool, it takes 4.5 million gas right now. I  dont think that is normal behaviour","",""
"447487680511606785","reuptake","22/04/2021 4:34 pm","Anyone know how to calculate this with v3? Price for ETH/DAI is 2500, I'm providing liquidity in 2000-3000 range. I'm providing 1 ETH + 2500 DAI. Price moves to 2900. What amount of ETH and DAI I can withdraw?","",""
"830742302971920395","Dev_Xoheb#6225","22/04/2021 6:21 pm","0.8621 ETH and 2900 DAI, if it was V2 not sure here","",""
"447487680511606785","reuptake","22/04/2021 6:39 pm","Yeah, for v2 I can solve it, but for v3 I'm lost","",""
"447487680511606785","reuptake","22/04/2021 7:42 pm","The same problem/different formulation. What proportions token0, token1 should I provide if I'd like to provide liquidity within range r0, r1, and price is some p.","",""
"447487680511606785","reuptake","22/04/2021 7:44 pm","Someone here told me that it's linear (so if p is in middle of r0, r1 it's 50/50 ‚Äì¬†which is true) but I'm not sure it's linear","",""
"447487680511606785","reuptake","22/04/2021 7:44 pm","Thanks... but I'm not sure if it answers my question.","",""
"447487680511606785","reuptake","22/04/2021 7:45 pm","It's about oracles, not liquidity","",""
"197852493537869824","frogmonkee","22/04/2021 7:47 pm","Oh sorry, I misread your question. I thought you were asking about how to calculate liquidity, not withdraw","",""
"447487680511606785","reuptake","22/04/2021 7:48 pm","It's kind of the same. I'm not sure how token amounts are dependent on range and current price","",""
"431961393646796811","derekbarrera","22/04/2021 7:54 pm","@Connor Martin do you have any info around this?","",""
"447487680511606785","reuptake","22/04/2021 8:02 pm","I guess the solution here is not to allow 0 as `a` üôÇ","",""
"775893081387827221","david.morgan#8427","22/04/2021 8:25 pm","That was me quoting @Connor Martin and it was about entering a position that was not initiated at the midpoint of the range. It had nothing to do with withdrawing.","",""
"447487680511606785","reuptake","22/04/2021 8:27 pm","Actually I think it's the same","",""
"447487680511606785","reuptake","22/04/2021 8:27 pm","I mean it's the same curve.","",""
"447487680511606785","reuptake","22/04/2021 8:30 pm","If you withdraw at any given moment in time, you get tokens in some proportion to each other. In the same moment if you provide liquidity in the same range it has to be the same proportion.","",""
"775893081387827221","david.morgan#8427","22/04/2021 8:47 pm","Once the position is initiated, the relationship between the two tokens as value changes between the position's range, is based on the geometric mean, not the arithmetic mean. So, no it's not the same, and that's really the point.","",""
"447487680511606785","reuptake","22/04/2021 8:53 pm","Yeah I understand it's geometric mean.","",""
"447487680511606785","reuptake","22/04/2021 8:55 pm","I wish we could play with some simulator, even in excel or google sheets","","üíØ (1)"
"830742302971920395","Dev_Xoheb#6225","22/04/2021 9:31 pm","would be great to have such a tool!","",""
"830742302971920395","Dev_Xoheb#6225","22/04/2021 9:31 pm","We can collaborate on building one!","",""
"274208745699934220","callil_","22/04/2021 10:06 pm","@reuptake üåä @david.morgan @Derek | Steer Protocol  and everyone, please check out this sheet that might help you do some of the calculations: https://docs.google.com/spreadsheets/d/1VH-lbF9RDUpVozGeA3BtWwypjW66MjcD1DnOYzcHmzk/edit#gid=0","","üôè (3),ü•≥ (2),‚ù§Ô∏è (3)"
"274208745699934220","callil_","22/04/2021 10:06 pm","Pinned a message.","",""
"274208745699934220","callil_","22/04/2021 10:07 pm","we'd love to see a simulator built as a tool. Maybe you guys can collab on a prototype and then get a grant to flesh it out!","",""
"447487680511606785","reuptake","22/04/2021 10:11 pm","Thanks for this @callil [UX & Design] ü¶Ñ- No DMs . I guess the frontend for v3 will be also helpful as it has to compute how much both tokens should one provide for given price and range.","",""
"274208745699934220","callil_","22/04/2021 10:13 pm","yep - it's getting there üôÇ","",""
"447487680511606785","reuptake","22/04/2021 10:13 pm","""Add liquidity with price in range"" but price is 1000 and range is 200...6000","",""
"447487680511606785","reuptake","22/04/2021 10:13 pm","sorry","",""
"447487680511606785","reuptake","22/04/2021 10:13 pm","200...600","",""
"695032437444706368","emrgnt_cmplxty","23/04/2021 12:14 am","does anyone know if/how the uniswap graph is going to change w/ v3 relase?","",""
"633272973280804866","_nick_1337","23/04/2021 12:20 am","is there a frontend for the v3 pools on the testnets or can you ""verify and publish"" the contracts on i.e. kovan.etherscan.io ?
i also can not find any pools deployed on the testnets ( i am checking the event logs of the factory ).
i would love to tinker around with a pool and do some swaps and maybe get data from the factory about the pools.
any help is very appreciated. thx guys üëç","",""
"274208745699934220","callil_","23/04/2021 12:22 am","https://twitter.com/Uniswap/status/1384563970200252419","",""
"274208745699934220","callil_","23/04/2021 12:22 am","it will change - currently in development","",""
"274208745699934220","callil_","23/04/2021 12:23 am","@Nick check here","",""
"834878486534553651","miagi_0x","23/04/2021 1:26 am","Hey Everyone, I‚Äôm building a Defi mobile wallet business for launch in Q4 and hope to integrate Uniswap V3 for token exchange and providing liquidity. I am hoping that this decision will benefit from lower gas fees once the optimism layer is functional. Am I right in assuming so? Is there anyone who could kindly advise me on a matters I should be aware of?","",""
"730463593711140956","bor444","23/04/2021 3:39 am","@Miagi_0x if you use L2 only 1-2 times it will be more expensive than doing it on chain. However with each transaction on L2 you are saving gas and soon enough you start to benefit from using L2","",""
"730463593711140956","bor444","23/04/2021 3:39 am","that is because transferring funds to L2 costs gas as well","",""
"698878329000034414","slasher125","23/04/2021 3:59 am","Can someone confirm: with v3 the price impact will be significantly lowered compared to v2?","",""
"730463593711140956","bor444","23/04/2021 4:12 am","@slasher125 let's say there is $100k pool in v2 and all that liquidity gets into v3 but LPs decide to cover smaller range ... then yes price impact will be lower in v3 than in v2","",""
"730463593711140956","bor444","23/04/2021 4:13 am","of course if v3 pool won't have enough liquidity price impact can be higher","",""
"698878329000034414","slasher125","23/04/2021 4:18 am","thank you. i assume that v3 will suck up the majority of liquidty over time, and that the liquidity will be concentrated, so it should be much better re price impact for large trades as well as relatively small trades in less liquid pools, at least thats my hope üòÜ","",""
"730463593711140956","bor444","23/04/2021 4:18 am","yep that is what Uniswap team believes as well","",""
"730463593711140956","bor444","23/04/2021 4:18 am","similar how v2 put v1 in 2nd plan","",""
"698878329000034414","slasher125","23/04/2021 4:20 am","but aside from providing a ton of liquidty and hoping for concentraded liq around the market price, i wonder what else can be done to actually guarantee super low price impact. thinking of the future here, at some point we'd hope that maybe institutions will swap via uni...but that will only happen if the price is very close to the market price","",""
"730463593711140956","bor444","23/04/2021 4:20 am","IMO scale Ethereum","",""
"730463593711140956","bor444","23/04/2021 4:21 am","lower gas prices -> more volume -> providing liquidity is more profitable -> more liquidity in pools -> lower price impact üôÇ","",""
"698878329000034414","slasher125","23/04/2021 4:23 am","true, that will certainly help a lot. trying to compare v3 to some others out there. not sure how the other AMMs will be able to compete. i doubt that they will be able to offer better prices anytime soon using passive LPing","",""
"730463593711140956","bor444","23/04/2021 4:24 am","Hayden said that all other AMMs can be implemented as strategies on v3 ... not an expert but that sounds plausible","",""
"698878329000034414","slasher125","23/04/2021 4:26 am","guess v3 could even be a pain for less directly competing dapps such as synthetix. if uni v3 can offer prices to close to market price even for large trades, then the zero slippage for snx might become less of a selling point. especially given that their debt pool model is quite complex","",""
"698878329000034414","slasher125","23/04/2021 4:27 am","anyways, thanks for the chat! looking forward to using the platform üôÇ","",""
"730463593711140956","bor444","23/04/2021 4:29 am","Np I can't wait for v3 to launch and then we see how things turnout ... until then it is all theory crafting","",""
"730463593711140956","bor444","23/04/2021 4:29 am","but ye 0 slippage on AMM is just not possible","",""
"730463593711140956","bor444","23/04/2021 4:29 am","or IL","",""
"428699196514893825","kassandra.eth","23/04/2021 5:00 am","wow thanks so much!!","",""
"399617942087532545","_connormartin","23/04/2021 5:58 am","we put up a some liquidity comparison calculations recently","",""
"399617942087532545","_connormartin","23/04/2021 5:58 am","https://docs.uniswap.org/concepts/advanced/resources","",""
"834878486534553651","miagi_0x","23/04/2021 6:51 am","Im new to coding on solidity and want to potentially integrate a token swap using Uniswap V3 into my Dapp? But I can‚Äôt see any github interface contracts that relate to token exchanges as exists on V2, can someone help? I can see there is a V3 factory interface for liquidity pools","",""
"695032437444706368","emrgnt_cmplxty","23/04/2021 8:51 am","I'd be interested in working on this.  Will start taking a look into the calculations","","üëç (1),üôè (1)"
"447487680511606785","reuptake","23/04/2021 12:34 pm","Those sheets are great, but what is missing is how real liquidity changes when price changes.","",""
"447487680511606785","reuptake","23/04/2021 12:34 pm","It's focused on ""virtual liquidity"". In reality LP has some real assets which he can put in pool, not ""virtual"".","",""
"447487680511606785","reuptake","23/04/2021 12:45 pm","At some point 0.3% fee for more pools will be more important for traders than price impact.","",""
"698878329000034414","slasher125","23/04/2021 12:59 pm","Hehe, hopefully. We will have to make it work, otherwise cex will continue to thrive","",""
"447487680511606785","reuptake","23/04/2021 1:04 pm","cex will thrive because they offer fiat onramp","",""
"698878329000034414","slasher125","23/04/2021 1:41 pm","Yeah, thought they aren‚Äôt alone in that offering. Wallets like argent will be key here serving as ‚Äúbroker‚Äù and routing trades via uni api being the exchange. Offer that on L2 and cex will have problems üëÄ","",""
"698878329000034414","slasher125","23/04/2021 1:42 pm","That is, if trade execution rivals that of cex. Exciting times ahead","",""
"447487680511606785","reuptake","23/04/2021 1:45 pm","For now gas fees are the biggest issue for most people.","",""
"383342717188702208","xatarrer","23/04/2021 2:18 pm","Use `function exp_2 (int128 x) internal pure returns (int128)` instead because `1.0001^x = 2^(x*log_2(1.0001))` and `log_2(1.0001)` is a constant.","",""
"548435317330280468","izhelyazkov","23/04/2021 3:06 pm","Hi, I calculated it over a week ago, thank you üôÇ","",""
"447487680511606785","reuptake","23/04/2021 3:27 pm","Re: spreadsheet with calculator/simulator for LPs. I'd start with something like this:","",""
"447487680511606785","reuptake","23/04/2021 3:27 pm","https://docs.google.com/spreadsheets/d/e/2PACX-1vS0-xv-sziFNblhnLe5pW-S1B28rkeaI2WrukjcQJLFaVD8JCeiygxcOo4XK5_NHvh4icjXFs_hGMFw/pubhtml","",""
"447487680511606785","reuptake","23/04/2021 3:28 pm","If anyone knows the what the formulas should be, please let me know.","",""
"784024158924963870","Mudassir45#5256","23/04/2021 5:19 pm","How to calculate **sqrtPriceLimitX96** for the exactInputSingle swap in our smart contract?","",""
"428699196514893825","kassandra.eth","23/04/2021 5:57 pm","Here is my napkin math for two different LPs both providing the same amount of liquidity across two different ranges. In this case the tighter range Position1 needs about 6-7x less capital (14.82 ETH, 14.857 DAI) than the large range Position2 which needs (91.79 ETH, 91,957 DAI) to provide the same amount of liquidity over the larger price space","https://cdn.discordapp.com/attachments/823968973753810945/835129803535155231/image0.jpg",""
"428699196514893825","kassandra.eth","23/04/2021 5:57 pm","Maybe it helps someone... but don‚Äôt take my word for it. Verify for yourself!","",""
"447487680511606785","reuptake","23/04/2021 6:05 pm","I can calculate ""compression level"", it's quite easy.","",""
"447487680511606785","reuptake","23/04/2021 6:07 pm","My problem is not how much I have to provide to achieve some equivalent of v2 liqudity, but how IL works over compressed liquidity range.","",""
"428699196514893825","kassandra.eth","23/04/2021 7:21 pm","Right that‚Äôs my next step- I‚Äôll try to work that out on the same example positions and will let you know if I get good looking results.","","üôè (1)"
"732148622287700020","0xhugodev#4532","23/04/2021 7:27 pm","Hello everybody! Can someone tell me where the equivalent of the v2 router's addLiquidity method (https://uniswap.org/docs/v2/smart-contracts/router02/#addliquidity) exists in v3? Thanks!","",""
"548435317330280468","izhelyazkov","23/04/2021 8:18 pm","https://docs.uniswap.org/reference/periphery/NonfungiblePositionManager#increaseliquidity","","üëç (2)"
"447487680511606785","reuptake","23/04/2021 8:29 pm","I think the formulas are here: https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/LiquidityAmounts.sol","",""
"732148622287700020","0xhugodev#4532","23/04/2021 8:39 pm","Thanks!!!","","üëå (1)"
"775893081387827221","david.morgan#8427","24/04/2021 12:36 am","@kassandra.eth My understanding is that reaching the lower bound of you range in V3 is equivalent to reaching 0 on V2, i.e. with a ETH/DAI pair, you would be 100% ETH, o% DAI. Reaching the upper bound of your V3 range is equivalent to ‚àû on V2, i.e. you would be 100% DAI, 0% ETH. In between, it's the geometric mean from the position entry point (mid-point or otherwise) to the end of the range. Perhaps I'm not understanding the question, though.","",""
"456226577798135808","Deleted User","24/04/2021 12:42 am","Hello, what options do we have if our liquidity is permanently locked in v2? Will v3 route the liquidity?","",""
"447487680511606785","reuptake","24/04/2021 1:22 am","Geometric mean between what values?","",""
"447487680511606785","reuptake","24/04/2021 1:25 am","Could you perhaps write formulas for this spreadsheet? @david.morgan","https://cdn.discordapp.com/attachments/823968973753810945/835242510938931250/v3_pool_math.xlsx",""
"775893081387827221","david.morgan#8427","24/04/2021 2:59 am","If my statement above is true, it's the same as V2.","",""
"447487680511606785","reuptake","24/04/2021 3:00 am","It can't be the same, as in v2 you achieve 100% DAI in infinity, while in v3 it's in upper bound of range...","",""
"447487680511606785","reuptake","24/04/2021 3:02 am","In v2 x = k/y = k / x^2","",""
"775893081387827221","david.morgan#8427","24/04/2021 3:04 am","Then you're saying my statement above is incorrect. The two ends of a V3 range behave the same as the V2 range of 0 - ‚àû in term of IL. That's my understanding. Otherwise, when ETH (ETH/DAI pair) reaches the upper bound of a V3 range, it wouldn't be 0%/100% DAI, but it *is* exactly that in V3.","",""
"447487680511606785","reuptake","24/04/2021 3:05 am","> Then you're saying my statement above is incorrect. The two ends of a V3 range behave the same as the V2 range of 0 - ‚àû in term of IL. That's my understanding.
And it's true.","",""
"447487680511606785","reuptake","24/04/2021 3:09 am","My question is what happens inside those ranges. 
I put 1 ETH into range 1000 ... 2000, when price = 1000 DAI. I have 1 ETH, 0 DAI in pool.
When price reaches 2000 I have 0 ETH, 1¬†414.21 DAI.","",""
"730463593711140956","bor444","24/04/2021 3:09 am","yep v2 liquidity providing = v3 liquidity providing with bounds 0 and infinity","",""
"775893081387827221","david.morgan#8427","24/04/2021 3:10 am","That's liquidity concentration. He wants IL.","",""
"447487680511606785","reuptake","24/04/2021 3:10 am","My question is how can I calculate it for other prices. Eg. what if price is 1200 or 1600","",""
"775893081387827221","david.morgan#8427","24/04/2021 3:10 am","In a V3 range.","",""
"447487680511606785","reuptake","24/04/2021 3:10 am","Yes, talking about v3","",""
"447487680511606785","reuptake","24/04/2021 3:14 am","I guess it's all solved in https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/LiquidityAmounts.sol , but I have to understand formulas there.","",""
"428699196514893825","kassandra.eth","24/04/2021 5:12 am","Hey so I was busy with other stuff but here is a worked example with IL calculation at the end sorry in advance for more napkin math","",""
"428699196514893825","kassandra.eth","24/04/2021 5:14 am","","https://cdn.discordapp.com/attachments/823968973753810945/835300163555688478/image0.jpg",""
"428699196514893825","kassandra.eth","24/04/2021 5:15 am","Two LP positions on ETH/DAI pair both centered around current price 1 ETH = 1000 DAI","",""
"428699196514893825","kassandra.eth","24/04/2021 5:16 am","Big trade moves the price, but not beyond the bounds of the more concentrated LP","https://cdn.discordapp.com/attachments/823968973753810945/835300631823646720/image0.jpg",""
"428699196514893825","kassandra.eth","24/04/2021 5:17 am","Here‚Äôs the removal of liquidity and Impermanent loss calculation","https://cdn.discordapp.com/attachments/823968973753810945/835300900125016074/image0.jpg",""
"428699196514893825","kassandra.eth","24/04/2021 6:35 am","In this case the impermanent loss of the two LPs is the same (sorry for some rounding errors) in dollar value but but a different proportion of their initial capital","","üôè (1)"
"428699196514893825","kassandra.eth","24/04/2021 6:36 am","Excuse me for polluting the chat!","",""
"775893081387827221","david.morgan#8427","24/04/2021 6:48 am","Thank you for sharing!","",""
"447487680511606785","reuptake","24/04/2021 12:35 pm","Would it be possible to write this in Excel formulas?","",""
"784024158924963870","Mudassir45#5256","24/04/2021 2:37 pm","Can anyone help me out for this?","",""
"447487680511606785","reuptake","24/04/2021 3:54 pm","@kassandra.eth @david.morgan I think I was successful in porting `LiquidityAmounts.sol` to JavaScript.","",""
"447487680511606785","reuptake","24/04/2021 5:42 pm","Have fun: https://github.com/reuptaken/uni3","",""
"456226577798135808","Deleted User","24/04/2021 7:08 pm","Hello, what options do we have if our liquidity is permanently locked in v2? Will v3 route the liquidity?","",""
"775893081387827221","david.morgan#8427","24/04/2021 8:19 pm","@Deleted User No. The V2 pools will continue to exist, although most of the liquidity and swap will move to V3. How is your liquidity permanently locked in V2?","",""
"447487680511606785","reuptake","24/04/2021 8:59 pm","üí• PSA: I'm writing backtesting software to figure the optimal strategies for LPs in v3. It uses data from v2 calculates profit from fees / inventory loss when providing liquidity within ranges ‚Äì ranges can be defined as +/- standard deviation from previous weeks (Bollinger Bands), ATR (Keltner Channels) or in any other way). If anyone has some ideas or want to  join the research, please DM me.","","üëç (4)"
"456226577798135808","Deleted User","25/04/2021 3:57 am","So the uni v2 pools will still be accessible via uni v3?","",""
"775893081387827221","david.morgan#8427","25/04/2021 4:06 am","No. They are two separate contracts, two completely different pools. Just like the V1 -> V2 transition. Both V2 and V3 will exist, separately, but most if not all the V2 pools will dry up at some point.","",""
"775893081387827221","david.morgan#8427","25/04/2021 4:10 am","Ofc, pools don't earn fees if no one is swapping on them. Since V3 should have better prices and liquidity, most swaps will likely move there. The fees for the swaps are the same, for the most part, as V2. V3 will have two added fees level: 1% for higher risk pairs, and 0.05% for stablecoins, but most popular pairs will remain 0.03%.","",""
"775893081387827221","david.morgan#8427","25/04/2021 4:18 am","If you mean V2 will still be accessible via the UI (and by direct contract calls), yes they will.","",""
"744109870210482237","crypton#4126","25/04/2021 2:03 pm","Does a documentation exist, how flashswaps work in V3? Something like this for V3 would be very helpful: https://uniswap.org/docs/v2/smart-contract-integration/using-flash-swaps/","",""
"183309006767521792","jorropo","25/04/2021 2:08 pm","Yes however they work really differently.
In V2 they are a byproduct of premptive token transfer + early callback + cancelable memory.
In V2 a flash is actually a regular swap but you just receive the money early in your callback and got cancelled if you weren't paying back.

In V3 they have their own special function :
https://github.com/Uniswap/uniswap-v3-core/blob/d861253956445af72531c5ab8c237459cff729f2/contracts/UniswapV3Pool.sol#L791-L834
And are much more similar to AAVE's flash, it's just sending you coin and cancelling coins if you don't pay back.","",""
"744109870210482237","crypton#4126","25/04/2021 2:10 pm","Great, thanks!","",""
"744109870210482237","crypton#4126","25/04/2021 4:44 pm","In v2 you called UniswapV2Library.pairFor to get the pair address for a specific token pair. In v3 pair seems to be replaced by pool. What is the equivalent in v3 to get the address of a specific pool? I only found UniswapV3Factory.getPool. But this function needs beside the token addresses ""fee"" as parameter.","",""
"744109870210482237","crypton#4126","25/04/2021 5:06 pm","In v2 amount0 and amount1 are passed to the flashswap callback function uniswapV2Call. In v3 only the fees are passed to uniswapV3FlashCallback. How do I know the amounts which are available? Do I need to pass them myself via the data parameter?","",""
"835842606726512640","tiantian0481","25/04/2021 5:26 pm","HiÔºåeveryoneÔºå the  SwapRouter contract is  read function Only a few Is it because it's not perfect yet?","",""
"744109870210482237","crypton#4126","25/04/2021 5:27 pm","In v2 I could call UniswapV2Library.getAmountsIn to know, which amount I have to payback to the pair/pool in the flashswap callback function. What is the equivalent in v3?","",""
"835842606726512640","tiantian0481","25/04/2021 5:34 pm","HiÔºåeveryoneÔºå the  SwapRouter contract  is  function exactInputSingle exist payable Right? swap ETH that other Erc20 token  What do you want swap?","",""
"732148622287700020","0xhugodev#4532","26/04/2021 1:23 am","Hi everyone! How can I know some addresses of uniswap pools in Ropsten, Rinkeby, Kovan, or Goerli to do tests of concentrated liquidity? Thanks!!","","üëç (1)"
"764313480450146304","jpark27","26/04/2021 2:19 am","Is there a Ripkeby ui or do you have to directly integrate with the contracts","",""
"748102998898638860","stefans5306","26/04/2021 2:38 pm","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/testnet-deploys.md","",""
"748102998898638860","stefans5306","26/04/2021 2:39 pm","Hi guys, i was created a new pool on kovan by using uniswap v3 pool factory. Then  i use getPool()  to find out my pool contract address, the contract code are all ByteCode, and i don't know how to interact with ByteCode. Am i do something wrong?","",""
"732148622287700020","0xhugodev#4532","26/04/2021 4:00 pm","Thank you! I mean how could I get the address equivalent to this for example pool: https://etherscan.io/address/0x33c2d48bc95fb7d0199c5c693e7a9f527145a9af in other testnets.","",""
"536856701224091655","jamesbachini","26/04/2021 6:33 pm","A testnet v3 UI would be really useful. Any plans to release this before the mainnet launch?","","üßê (2),üíØ (2),üëç (2),üò© (1)"
"636087429371002901","TSK#1662","26/04/2021 6:40 pm","Hello, I have a question about this formula in the whitepaper: `p(i) = 1.0001 ^ i` 
Will all pairs follow this formula and have the exact same tick ranges? ex: for all pairs, when `i=10`, the price is always `1.0001 ^ 10`.
The reason for asking is that I'm thinking about taking the initial price of a pair `p0` into this formula and get something like: `p(i) = p0 * (1.0001 ^ i)`
This way, ticks are more evenly distributed around the original price, which might be better for pairs with a high initial price.
Please correct me if I mistake anything!","",""
"726055386142212216","xoheb","26/04/2021 8:14 pm","Does tick range have anything to do with the price?","",""
"726055386142212216","xoheb","26/04/2021 8:15 pm","It's the tick price itself that's represented by ""i"" right?","",""
"726055386142212216","xoheb","26/04/2021 8:15 pm","Or am I more mistaken?","",""
"726055386142212216","xoheb","26/04/2021 8:16 pm","Struggling with it too!","",""
"726055386142212216","xoheb","26/04/2021 8:18 pm","When creating a pool we need to give a fee parameter as well along with the pair token addresses...
The fee could be either 0.05/0.3/1% written as 500/3000/10000","",""
"744109870210482237","crypton#4126","26/04/2021 8:29 pm","Thanks! In my contract I need to select a pool for a specific token pair. How can this be done without knowing which pools with which fees exist? Is there any helper function?","",""
"744109870210482237","crypton#4126","26/04/2021 8:32 pm","It would be really helpful to have a flashswap example for v3 like in v2. I think this would answer many questions I have currently got.
https://github.com/Uniswap/uniswap-v2-periphery/blob/master/contracts/examples/ExampleFlashSwap.sol","",""
"732148622287700020","0xhugodev#4532","27/04/2021 2:23 am","Can someone help me to find an address of a uniswap pool pair v3 in tesnet?","","üëç (1)"
"636087429371002901","TSK#1662","27/04/2021 7:31 pm","the price from 0 to infinity is cut into small ticks, and the range of ticks is decided by that formula according to the whitepaper","",""
"633272973280804866","_nick_1337","27/04/2021 9:03 pm","Hi guys,
greetings from KeeperDAO üëã  
we want to integrate with your upcomming V3 releases.
Is there a date on which you plan deploy the contracts to mainnet?","",""
"775893081387827221","david.morgan#8427","27/04/2021 9:41 pm","The widely publicized date for the mainnet launch if May 5th. The contracts are currently deployed on most of the ethereum testnets, from what I understand. You can find the testnet info by searching this discord. Just trying to help; I'm not an Uni admin/dev.","","üëç (1)"
"748096279787208704","fpv3059","27/04/2021 9:53 pm","Hello! I am looking for an example of price cumputation for fixed amount of input tokens for UniswapV3. Are there any examples or anything related? I found only bunch of unrecognizable mess with square prices in existing sdk on github ((","",""
"748096279787208704","fpv3059","27/04/2021 9:54 pm","Something like GetAmountOut(pool address, token address, token amount)","",""
"809502025128607795","chavuncx","27/04/2021 11:22 pm","Hey guys! Question from my side, and sorry in advance if that question has been covered already. 

Are you guys planning to deliver an option to wrap the liquidity or make it like a fungible token on UNiV3 ? Quite curious to know 

1. If you're already planning to do it - If so, any ETA is welcomed

2. If you're keen to collaborate with other projects to build this feature - we would be pleased to work together on that (Chav here, Unicrypt Network) 

3. If you're simply not interested and not planning to deliver such a feature

Thanks in advance, guys!","",""
"183309006767521792","jorropo","27/04/2021 11:30 pm","> Are you guys planning to deliver an option to wrap the liquidity or make it like a fungible token on UNiV3 ?
I havn't heard anything from the devs about that.
This wouldn't make much sense as positions are NFT for a reason, they aren't all the same value.

> If you're keen to collaborate with other projects to build this feature
I'm unsure of what you mean by ""collaborate"". It's really awesome if you create a project using uniswap, if you need help you can ask questions in #üíª‚îÇdev-chat or #‚òï‚îÇsdk-integrations, if you are seeking for money you can also look #üîã‚îÇuni-grants. üôÇ
This also depends a lot on what do you want to do. What is your project ? Sell us some dream, shows us why your idea is good (a dev might help you if he finds this interresting). üôÇ 

> If you're simply not interested and not planning to deliver such a feature
Idk, a feature lots of people would like to see is some kind of collaborative pooling.
Now strategy might need to be rebalanced this is an expensive process gas wise, but this doesn't scale with how big you are, so ideally a service would propose a certain strategy inscribed in a contract and a bot would call it to rebalance the strategy from time to time (with an incentive fee along with it). Allowing all users in the pool to share the same gas cost as if they were alone (or tiny bit more).","",""
"373316775619854337","luke#0988","28/04/2021 12:06 pm","how to know the swap price for a input amount/","",""
"784024158924963870","Mudassir45#5256","28/04/2021 1:41 pm","`function initialLiquidityV3(addLiquidityV3Params calldata params) public override returns(uint256 tokenId, uint128 liquidity, uint256 amount0, uint256 amount1) {
    (tokenId, liquidity, amount0, amount1) = positionManager.mint(
      INonfungiblePositionManager.MintParams({
        token0: params._token0,
        token1: params._token1,
        fee: params._fee,
        tickLower: params._tickLower,
        tickUpper: params._tickUpper,
        amount0Desired: params._amount0Desired,
        amount1Desired: params._amount1Desired,
        amount0Min: params._amount0Min,
        amount1Min: params._amount1Min,
        recipient: params._recipient,
        deadline: params._deadline
      })
    );
  }`

I am calling above function with these arguments but it is giving me exception without reason can someone figure out me the problem.

pool is also initialized with price 10
[""0x5D49B3A1A48597813f0862369E9cD46d892bBd00"", ""0x693f7588abFcf5039fE0A9d09731cd7535bBcb6d"", 500, -887000, 887000, 100, 100, 0, 0, ""0xa0e9E6B79a3e1AB87FeB209567eF3E0373210a89"", 1619543819]","",""
"809502025128607795","chavuncx","28/04/2021 3:20 pm","Hey Jorropo, thank you for the answer! Our project is unicrypt.network, currently used by 3100 pairs on top of UniSwap (Liquidity lockers - started in June 2020)","",""
"784024158924963870","Mudassir45#5256","28/04/2021 5:27 pm","How to calculate tickLower & tickUpper for adding liquidity?","",""
"428699196514893825","kassandra.eth","28/04/2021 6:21 pm","is v3CoreFactory deployed to ropsten yet ?","",""
"428699196514893825","kassandra.eth","28/04/2021 6:21 pm","I see in the testnet-deploys.md file it says uni didn't deploy to ropsten due to gas prices","",""
"428699196514893825","kassandra.eth","28/04/2021 6:23 pm","Is this still the case ? My team has most of its testnet infrastructure on ropsten so we're hoping to work on that chain if/when it is available","",""
"775893081387827221","david.morgan#8427","28/04/2021 8:12 pm","The tick value = log base (SQRT)1.0001 * (SQRT) Price","https://cdn.discordapp.com/attachments/823968973753810945/836975780377788436/Screen_Shot_2021-04-28_at_8.41.06_AM.png",""
"775893081387827221","david.morgan#8427","28/04/2021 8:14 pm","You can use this online calculator to figure the arbitrary base log value: https://www.omnicalculator.com/math/log","",""
"732148622287700020","0xhugodev#4532","28/04/2021 9:51 pm","Can someone help me how to get the fee of a position in pool in v3 from IUniswapV3Pool contract methods? Thanks!","",""
"116790418728943624","m123#3165","29/04/2021 12:02 pm","Are there any projects out there that are looking to incentivize Uniswap V3 pools with liquidity mining? Right now we require our users to stake their V2 LPs so they can get our GOV token. Trying to figure out how to do it for V3.","",""
"730463593711140956","bor444","29/04/2021 12:45 pm","@m19 if they stake in same range then NFTs can be looked at like ERC-20s","",""
"730463593711140956","bor444","29/04/2021 12:46 pm","however I don't know if there is any solution for it atm","",""
"116790418728943624","m123#3165","29/04/2021 12:58 pm","Yeah exactly that's what I was thinking, they need to stake in the same range. But that's harder with volatile pairs I guess","",""
"730463593711140956","bor444","29/04/2021 1:15 pm","Well you can do incentive program and specify the range","",""
"744109870210482237","crypton#4126","29/04/2021 4:39 pm","I'd like to make some v3 tests on Kovan. Any hints, which pools exist on Kovan? Thanks!","",""
"698878329000034414","slasher125","29/04/2021 4:42 pm","GM guys. quick one: do we have an estimate as to when uni will launch on optimism after v3 is live?","",""
"744109870210482237","crypton#4126","29/04/2021 4:42 pm","A hint, how I can find out myself, which pools exist on Kovan for v3, is also welcome :).","",""
"535286322701795340","iosec#9538","29/04/2021 5:38 pm","On the Rinkeby testnet, is there a V3 pool that can be traded?","",""
"473501156413276160","jgcarv","29/04/2021 6:40 pm","We have this contract that wraps a position in a erc20, to allow liquidity mining: https://github.com/reflexer-labs/geb-uni-v3-manager","",""
"566540150641786890","dmihal","29/04/2021 10:08 pm","I threw together a simple calculator for anyone that's trying to work through ticks/ratios/square-root ratios

https://uniswap-v3-calculator.netlify.app/","","üôè (4)"
"145314506237673472","binaryalgorithm","30/04/2021 4:47 am","for stable-stable pairs on v3, is there a plan to wrap the common positions in a fungible token, or alternatively has anyone heard of a protocol planning to support the NFTs as collateral? I run about 10x leverage on stable pools to increase yield, but I expect the v2 pools to significantly drop in fees after v3 release. What would be the viable path for leverage after that?","",""
"428699196514893825","kassandra.eth","30/04/2021 5:35 am","as far as I can tell I'm the only one creating pools and trading against them on rinkeby","",""
"428699196514893825","kassandra.eth","30/04/2021 5:36 am","where are y'all: on another testnet ? hiding your work on local envs/chains ?","",""
"116790418728943624","m123#3165","30/04/2021 5:55 am","Thank you! Will take a look üôÇ","",""
"552220106223124490","cloot.org#6416","30/04/2021 6:14 am","Hi, I have a question about Uni V3
```
  function exactInputSingle({
    address tokenIn,
    address tokenOut,
    uint24 fee,
    uint256 amountIn,
    uint160 sqrtPriceLimitX96,
    ...
  }) external returns (uint256 amountOut)
```
For the above method, if I set a `sqrtPriceLimitX96` that is too small, will the swap still take all amountIn, or only a portion of this amount will be charged, and the remaining will be returned?
I want to `swap token0 into token1 as much as possible, as long as the price is lower than a specific one`. Do you know there is a way to do so? I try to query using `Quoter`, however, it is gas costly from the docs.
I mean swap as much as possible, either all amountIn is consumed, or a certain price limit is reached.","",""
"552220106223124490","cloot.org#6416","30/04/2021 6:18 am","This is similar to a `price limit buy order` in centralized exchange.","",""
"207942434515058688","atknight#3787","30/04/2021 7:52 am","How are you getting leverage now?","",""
"207942434515058688","atknight#3787","30/04/2021 7:54 am","Visor.Finance is allowing projects to conduct liquidity mining for v3 NFT‚Äôs.","",""
"145314506237673472","binaryalgorithm","30/04/2021 8:36 am","maker.","https://cdn.discordapp.com/attachments/823968973753810945/837525396546912266/unknown.png",""
"145314506237673472","binaryalgorithm","30/04/2021 8:37 am","https://freeliquid.io/ , has 110% on more pairs.","",""
"145314506237673472","binaryalgorithm","30/04/2021 8:50 am","idk, is it really hard for any protocol to accept uni 3 NFTs as a collateral source? I'd think all the meta data would be there in the token (the members of the pair, amounts, range data, etc).","",""
"145314506237673472","binaryalgorithm","30/04/2021 8:55 am","the issue with a 10x and also unwinding it is the gas cost of cycling.","",""
"183309006767521792","jorropo","30/04/2021 9:04 am","It's not that hard, it's just very gas infecient","",""
"183309006767521792","jorropo","30/04/2021 9:04 am","üëç exactly. That why if I were to code something like that that I would only 1 or 2 NFT.
There isn't a lot of reasons to run multiple strategies anyway.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:05 am","are NFT more expensive to process in terms of gas than regular ERC20 tokens?","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:06 am","I suppose they would be because you have to unpack and process the meta, vs. with ERC20 tokens you ""know"" exactly what it specifies","",""
"183309006767521792","jorropo","30/04/2021 9:08 am","Idk, it's more that NFT can't be bundeled.
Example if you have 2k and 2k of UNI V2 you can do 4k of them at once.

With NFT you must do all of them one by one at one point, their is no other way arround it.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:08 am","yeah that's true.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:09 am","but that's also what enables the multiple strategy element of v3","",""
"183309006767521792","jorropo","30/04/2021 9:09 am","Yes üôÇ","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:10 am","someone told me it's unlikely we'll get wrapped tokens because then we get sushi all over again with v3. I suppose I agree.","",""
"183309006767521792","jorropo","30/04/2021 9:11 am","The problem with wrapping is that one wrapped token can only represent 1 type of strategy.
Plus you still have the problem that burning is 1 by 1.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:11 am","idk if its true but I've just assumed that everyone is going to have to make the minimum spread on stable pairs to be fee-competitive.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:11 am","and that v2 fees will thus drop to near zero","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:12 am","or are trades happening on the two systems independently ?","",""
"183309006767521792","jorropo","30/04/2021 9:16 am","At first V2 is gonna be strong, just the time to move liquidity.

Long time IDK.

Let's assume you want to do spreads, what is important is the price, not the fees.
So you could imagine people using spreads would swap on V3 and provide LP on V2 and V2 would be matched by arb bots, or your loaning protocol force your strategy to be a really wide V2 like one.

For people shorting spreads fees are actually bad because they raise the price of their loan (UNI V2 tokens).","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:20 am","well I thought as soon as v3 comes out, lets take USDC-USDT as example. the smallest practical spread is 0.999 - 1.001. Liquidity will concentrate there and maybe up to +/- 1%. So, now orders are hitting almost all v3 liquidity and really none of the v2 pools which are ""spread out"" across the entire price range. It wouldn't take much in the v3 pool to make the v2 pool irrelevant.","",""
"145314506237673472","binaryalgorithm","30/04/2021 9:24 am","what I am not sure about is if the v2 pool participates ""at all"" in the fees associated with a v3 transaction.","",""
"810413317876613122","passed_pawn","30/04/2021 9:44 am","I think we have to create such pools ourselves on testnets. Or if someone has already done, then we can use it maybe. Anyone correct me if wrong.","",""
"832651469856833566","johnnybe771#3399","30/04/2021 10:05 am","If you use the link here, you will directly go to our farm - https://unifty.io/matic/farm-view.html?address=0xdc5A8F3C8459ae4d2a7C84a25EBB519115c38E94","",""
"832651469856833566","johnnybe771#3399","30/04/2021 10:05 am","https://polkamarkets.medium.com/polkamarkets-mvp-testnet-is-now-live-dd6f4fa13848","",""
"832651469856833566","johnnybe771#3399","30/04/2021 10:05 am","www.ampltalk.org/","",""
"145314506237673472","binaryalgorithm","30/04/2021 10:17 am","does a uni v3 demo exist on testnet?","",""
"145314506237673472","binaryalgorithm","30/04/2021 10:18 am","I've been curious about the new UI","",""
"207942434515058688","atknight#3787","30/04/2021 10:27 am","Not yet","",""
"447487680511606785","reuptake","30/04/2021 1:15 pm","still early /s","",""
"234038230155132928","madcake92","30/04/2021 1:52 pm","question: when it comes to swapping and from the swapper's perspective, does liquidity concentration affect the price impact or amounts exchanged somehow? ie, from the swapper 's perspective, does it make any difference swapping on univ2 or univ3 if the same overall liquidity is provided on both (aside from gas costs etc)?","",""
"234038230155132928","madcake92","30/04/2021 1:54 pm","example: 100k DAI and 1000 ETH reserves on univ2, I swap DAI for ETH and get an amount of X ETH. On univ3, we also have 100k DAI and 1000 ETH but concentrated on a single tick. Will I get the same amount of ETH in exchange of the same amount of DAI?","",""
"746690265443467365","0xlotr","30/04/2021 3:23 pm","Hi. I have a question. I am trying to figure out how to load tick data from uniswap pool to be able to compute swap function output offchain. In v2 I just needed to update the reserves with a new block to be able to compute amountOutGivenIn offchain. Could you please describe how to fetch the pool state efficiently in V3? I read through this section. I know there is slot0 data for current tick. I also looked into the TickLens contract but I still struggle to find out how to load all ticks.","",""
"730463593711140956","bor444","30/04/2021 3:56 pm","@MadCake there will be less slippage in v3 because all liquidity is between 2 ticks","",""
"730463593711140956","bor444","30/04/2021 3:56 pm","in other words. Better price. Like on a classic orderbook. It will be like selling into buy wall.","",""
"234038230155132928","madcake92","30/04/2021 4:33 pm","I really can't wrap my mind around this. In situations of low liquidity and tight ranges, would it still stand the fact that this is like an order book? Suppose that there is only 1000 DAI and 1 ETH in the range of 1 tick (tick spacing = 1). If I try to swap 300 DAI I will drive the price far away from the tick, and in that situation, the full unit of ETH should have been swapped out for DAI. So, what will it be? Will the LP get its ETH swapped out for DAI entirely, or will the swapper just get a diminute amount of ETH so that the remaining reserves match the boundary of the range, rendering most of the ETH in the pool useless?","",""
"399617942087532545","_connormartin","30/04/2021 6:50 pm","it is not like an orderbook - still an AMM. In your example swapping 300 DAI into a single tick interval that contained 1ETH, and 1000 DAI below it would not push the price far, if would just swap in the DAI and there would be 1300 DAI and ~0.8 ETH (for example). the price might cross a tick. If the price crosses the full position the LP's position will be swapped for DAI completely","",""
"399617942087532545","_connormartin","30/04/2021 6:52 pm","the more concentrated the liquidity, the lower the price impact when swapping. It will usually give  better execution prices","",""
"744109870210482237","crypton#4126","30/04/2021 7:55 pm","@Noah Zinsmeister In v2 UniswapV2Library.getAmountsOut could be used to calculate slippage for a specific input amount. In v3 the replacement function seems to be Quoter.quoteExactInput. The downside of the new function is, that it's not declared as ""view"", so can't be called in web3 using ""call"". Will there also be a replacement function in v3, which is defined as ""view""? If not, is there any other way to calculate slippage in v3? Thanks!","",""
"182969707299733504","noahzinsmeister","30/04/2021 8:16 pm","@crypton you can use something like `callStatic` (https://docs.ethers.io/v5/api/contract/contract/#contract-callStatic)","",""
"182969707299733504","noahzinsmeister","30/04/2021 8:17 pm","that function can't be defined as view because of how uniswap v3 callbacks work","",""
"182969707299733504","noahzinsmeister","30/04/2021 8:17 pm","the only other way to calculate slippage is to use the SDK and pass in the data for all relevant ticks, which you might not want to do","",""
"744109870210482237","crypton#4126","30/04/2021 8:20 pm","Thanks! I will give it a try.","",""
"744109870210482237","crypton#4126","30/04/2021 9:00 pm","Are you sure, that this works? I tried it using ""callStatic"", but got a ""VM execution error"". As I don't know any pool on Kovan, I just used a USDT and WETH Kovan address. Would the above error also occur, if no pool for the given tokens/fee is found?","",""
"182969707299733504","noahzinsmeister","30/04/2021 9:09 pm","yes, i imagine the pool doesn't exist","",""
"473501156413276160","jgcarv","30/04/2021 9:36 pm","Is there a way to know on-chain how much of each token I can get when burning + collecting? Like a `view` burn or something?","",""
"182969707299733504","noahzinsmeister","30/04/2021 10:29 pm","for that i recommend you use the sdk @JG , specifically https://github.com/Uniswap/uniswap-v3-sdk/blob/main/src/entities/position.ts#L67","",""
"182969707299733504","noahzinsmeister","30/04/2021 10:30 pm","if you need it on-chain, you'll need to replicate some of the smart contract logic","",""
"182969707299733504","noahzinsmeister","30/04/2021 10:32 pm","here's the bit you'll need if you're doing it on-chain: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol#L327","",""
"473501156413276160","jgcarv","30/04/2021 11:35 pm","Thanks! That's quite interesting. Just a small question, I assume I can leave the observation write out, correct? 

I was thinking in create a generalised pool viewer:  a contract on-chain that use the technique in (https://github.com/Uniswap/uniswap-v3-periphery/blob/eb1068d2aa4cf5f5fabbfad1b39e288d90df7550/contracts/lens/Quoter.sol#L89) to perform ""view""  pool operations and return it's values. A bit more gas intensive, but the community might find it useful","","üëç (1)"
"182969707299733504","noahzinsmeister","30/04/2021 11:35 pm","yeah of course","",""
"182969707299733504","noahzinsmeister","30/04/2021 11:35 pm","that's a cool idea!","",""
"182969707299733504","noahzinsmeister","30/04/2021 11:35 pm","feel free to ping with other questions as they come up","",""
"473501156413276160","jgcarv","01/05/2021 3:03 am","Made this one quickly: https://github.com/reflexer-labs/geb-uni-v3-manager/blob/jg/src/PoolViewer.sol It's still missing swap and flash functionality.

And maybe it's too expensive to make sense on-chain, unless you absolutely need","","‚ù§Ô∏è (1)"
"552220106223124490","cloot.org#6416","01/05/2021 4:55 am","Is it always required to check whether `token0 < token1`? I found this is very inconvenient when writing code","",""
"183309006767521792","jorropo","01/05/2021 6:17 am","Depends where ? The contracts do it for you so you don't need most of the time.","",""
"145314506237673472","binaryalgorithm","01/05/2021 4:23 pm","will there be views for liquidity distribution on a pair ?","",""
"145314506237673472","binaryalgorithm","01/05/2021 4:24 pm","(I mean gasless, like the info views we have now)","",""
"552220106223124490","cloot.org#6416","02/05/2021 2:07 pm","Looks like you are right","",""
"552220106223124490","cloot.org#6416","02/05/2021 2:08 pm","One more question, Uniswap V3 (core and periphery) uses solidity version 0.7.6. Does that mean all of my contract code must be upgraded above 0.7.6?","",""
"234038230155132928","madcake92","03/05/2021 1:01 pm","if you are using truffle, yes. Other frameworks, such as hardhat, allow to have multiple compilers on the same project","",""
"345511019579310082","kesar","03/05/2021 9:42 pm","is there any branch for getting uniswap v3 working w optimism ? I had to tweak some stuff in order to compile it for OVM.. wondering if there is some work done I can check üôè","",""
"353069283536011264","el_rando","04/05/2021 12:14 am","Are the ""allPairs"" and ""allPairsLength"" functions no longer available in the v3 factory?","",""
"353069283536011264","el_rando","04/05/2021 12:14 am","I'm not seeing them on the github","",""
"353069283536011264","el_rando","04/05/2021 12:15 am","<https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Factory.sol>","",""
"353069283536011264","el_rando","04/05/2021 2:53 am","I imagine a lot of integrations rely on ""allPairs"" and ""allPairsLength"". It seems to be missing from the v3 factory. What is the alternative?","",""
"633272973280804866","_nick_1337","04/05/2021 3:54 am","i have a question regarding `TickMath.sol`, 
more specific to the function `function getSqrtRatioAtTick()`. 
in line 53 of the SC it says: `sqrtPriceX96 = uint160((ratio >> 32) + (ratio % (1 << 32) == 0 ? 0 : 1));`. 
can the type of `ratio` be a float or can it only be an integer?","",""
"474322772806467600","Ankur#2534","04/05/2021 4:04 am","Also curious about this","",""
"256584084694892544","jaybro","04/05/2021 4:06 am","the comment above it suggests that it's a Q128.128 fixed-point number","",""
"256584084694892544","jaybro","04/05/2021 4:10 am","the Solidity type is `uint256` (which you can see where it's initially declared) but it's used to represent a fractional number with 128 fractional bits","",""
"633272973280804866","_nick_1337","04/05/2021 5:47 am","thank you. i think i am still stuck..","",""
"633272973280804866","_nick_1337","04/05/2021 5:47 am","after this line in the SC `if (tick > 0) ratio = type(uint256).max / ratio;` the type/value of `ratio` is a floating number.","",""
"633272973280804866","_nick_1337","04/05/2021 5:48 am","also i read that right shift does not work on floating numbers. that gets me a bit confused.","",""
"633272973280804866","_nick_1337","04/05/2021 5:48 am","i am rewriting that code into python and i am not sure how solidity handles right shifting fractional numbers.","",""
"633272973280804866","_nick_1337","04/05/2021 5:48 am","i rewrote `ratio >> 32` to  `ratio / (2 ** 32)` (since a right shift is just a division by 2) and it compiles. but idk if i messed up my code..","",""
"256584084694892544","jaybro","04/05/2021 5:50 am","why do you think it's a floating-point number?","",""
"256584084694892544","jaybro","04/05/2021 5:52 am","`type(uint256).max` is a `uint256`","",""
"256584084694892544","jaybro","04/05/2021 5:52 am","`ratio` is also a `uint256`","",""
"256584084694892544","jaybro","04/05/2021 5:54 am","ah, you mean in Python you get a floating-point number","",""
"256584084694892544","jaybro","04/05/2021 5:54 am","surely you want `//` in Python to get integer division","","üëç (2)"
"256584084694892544","jaybro","04/05/2021 5:55 am","and then `>>` will work fine because you'll get a Python `int` rather than a Python `float`","",""
"474322772806467600","Ankur#2534","04/05/2021 7:59 am","Where can we find the quoter contract solidity?","",""
"183309006767521792","jorropo","04/05/2021 8:03 am","I've heard that this is impossible since liquidity isn't consitant anymore.
If you really want a quote your current solution is trigger a swap, after it's finished look at the price (or how much token you received) and revert if you are unhappy (if you need the price after the revert than just place the price in the revert call bytes and revert with it).","",""
"633272973280804866","_nick_1337","04/05/2021 8:07 am","thank you very much! üëç","",""
"695032437444706368","emrgnt_cmplxty","04/05/2021 8:27 am","Is uni going to have live ticking liquidity profiles for pairs on release?","",""
"474322772806467600","Ankur#2534","04/05/2021 8:30 am","There's a quoter interface with the following function: quoteExactInputSingle","",""
"474322772806467600","Ankur#2534","04/05/2021 8:31 am","It seems that would give amountOut given amountIn, but i can't find the logic for it","",""
"183309006767521792","jorropo","04/05/2021 8:31 am","for v3 ?","",""
"474322772806467600","Ankur#2534","04/05/2021 8:35 am","yes","",""
"474322772806467600","Ankur#2534","04/05/2021 8:35 am","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/interfaces/IQuoter.sol","",""
"183309006767521792","jorropo","04/05/2021 8:41 am","ok mb. This is trivial then üôÇ :
```console
$ git clone git@github.com:Uniswap/uniswap-v3-periphery && cd uniswap-v3-periphery/
...
$ rgrep ""quoteExactInput"" contracts/
contracts/lens/Quoter.sol:    function quoteExactInput(bytes memory path, uint256 amountIn) external override returns (uint256 amountOut) {
...
```
So it's just https://github.com/Uniswap/uniswap-v3-periphery/blob/0d3d09af4a911c7fc605301939364b1dfaed3ee7/contracts/lens/Quoter.sol#L106-L122

BTW this code make exactly what I told you (doing a swap fetching the price then reverting).","",""
"474322772806467600","Ankur#2534","04/05/2021 8:41 am","oh interesting","",""
"183309006767521792","jorropo","04/05/2021 8:45 am","@Ankur you should use this contract with caution as this is really gas expensive.
The worst thing to do is first getting a quote then swapping if you are happy with the response (as you would do 2 swaps infact)
That why I would advise you to redo that or rewrite a part of this so if you do infact want to continue with a price so you wouldn't do 2 swaps.","",""
"256584084694892544","jaybro","04/05/2021 8:46 am","I wonder if the pool catches reverts or if the quoter could be lied to by an evil token","",""
"256584084694892544","jaybro","04/05/2021 8:46 am","Probably like usual evil tokens can break many things","",""
"183309006767521792","jorropo","04/05/2021 8:50 am","No, the quoter always revert anyway :
https://github.com/Uniswap/uniswap-v3-periphery/blob/0d3d09af4a911c7fc605301939364b1dfaed3ee7/contracts/lens/Quoter.sol#L63
https://github.com/Uniswap/uniswap-v3-periphery/blob/0d3d09af4a911c7fc605301939364b1dfaed3ee7/contracts/lens/Quoter.sol#L55
(thoses are the 2 ending tails of the callback)

And the pool revert if the callback reverted :
https://github.com/Uniswap/uniswap-v3-core/blob/d861253956445af72531c5ab8c237459cff729f2/contracts/UniswapV3Pool.sol#L776
https://github.com/Uniswap/uniswap-v3-core/blob/d861253956445af72531c5ab8c237459cff729f2/contracts/UniswapV3Pool.sol#L782
(both are using the classical function call idioms and this one revert with a copy of the the returned error code in case the callee reverted)

The problem to solve is that you need to do a swap to get the price, since liquidity isn't constant that require full logic.
What the quoter do is a swap and then in the callback, revert using the revert error code as a communication channel to return the price, this both return the price and cancel the price you just did.","",""
"474322772806467600","Ankur#2534","04/05/2021 8:51 am","@Jorropo.eth is there integration instructions for how devs can get quotes from pools? E.g. how will someone like 1inch exchange calculate ideal routing for a uniswap v3 pool. Presumably there's a way to do that by pulling tick data and calculating the curve based on that","",""
"183309006767521792","jorropo","04/05/2021 8:53 am","idk, you call either do a `.call()` first and get it by that (`.call()` doesn't emit new transaction, only simulate how such transaction would do) but since this is using EVM everytime this is likely slow to run.
My guess is that they would just reimplement the ticking logic from the JS","",""
"256584084694892544","jaybro","04/05/2021 8:53 am","yeah, I meant whether the call to `transfer` could revert before the callback, but it looks like `TransferHelper.safeTransfer` catches that and prevents it from propagating","","üëç (1)"
"183309006767521792","jorropo","04/05/2021 8:55 am","Ahhhhhhhhhhh I see, a transfer would return a fake pricing and acting like it is the quoter.
Good point but like you since revert bytes aren't copied due to safeTransfer I don't think this is possible","","üëç (1)"
"183309006767521792","jorropo","04/05/2021 8:58 am","Really cleaver actually üôÇ I like people this, good thinking outside of the box üòâ","",""
"474322772806467600","Ankur#2534","04/05/2021 8:58 am","What's this ""ticking logic from the JS""","",""
"183309006767521792","jorropo","04/05/2021 9:00 am","the ticking action (crossing ticks, changing liquidity, ...) is done in solidity, in the pool swap function.
My guess is that it exists a JS code that you just give it all the data of the pool and it would do the same calculation, giving exact same results. But in JS so no need to run an EVM.","",""
"474322772806467600","Ankur#2534","04/05/2021 9:01 am","But there are 65k ticks per pool right?","",""
"183309006767521792","jorropo","04/05/2021 9:01 am","and ? in what is this an issue ?","",""
"256584084694892544","jaybro","04/05/2021 9:04 am","If I had to guess I'd assume Ankur is concerned about needing to pull down  a lot of per-tick data in order to correctly quote a swap that would cross many ticks?","",""
"474322772806467600","Ankur#2534","04/05/2021 9:04 am","I see just wondering since i assumed there must be an easier way but perhaps there isnt","",""
"183309006767521792","jorropo","04/05/2021 9:05 am","in reality most trades wont cross lots of ticks, a cleaver implementation may only query the needed one","",""
"256584084694892544","jaybro","04/05/2021 9:05 am","yeah I do think in practice it's not so bad and in theory you can be clever","",""
"474322772806467600","Ankur#2534","04/05/2021 9:05 am","Is it possible to pull the list of positions? For some pools that may be more efficient","",""
"183309006767521792","jorropo","04/05/2021 9:06 am","There is no simpler solution than doing what the pool is doing internally.
In V2 a simple `solve (x+(i*0.997))*(y-o)=x*y for i` or `solve (x+(i*0.997))*(y-o)=x*y for o` in your favorite SMT solver was enough because the pool were really dumb (no offense, sorry if any pair is offensed right now).","",""
"183309006767521792","jorropo","04/05/2021 9:07 am","It's an other question, this concern is about web3 and how web3 handles large amounts of data.
But not really, since a list of position is `o(n)` with the list of position so this wouldn't work with large amount of positions.","",""
"256584084694892544","jaybro","04/05/2021 9:08 am","if I had to do this at scale and cared about weird cases I would probably replicate the pool's state in memory server-side (but off-chain) and then query against that","","üëç (1)"
"256584084694892544","jaybro","04/05/2021 9:09 am","but as @Jorropo.eth says if your thing is crossing many ticks, and especially many initialized ticks, then um you probably have big price impact","",""
"183309006767521792","jorropo","04/05/2021 9:09 am","üëç if you have to cross more than 5 ticks or so you probably don't want to use this pool anyway üòÑ","",""
"355085018433060864",".poyo_","04/05/2021 9:18 am","will there be an integration where i can see a visual graphical display of all the liquidity in a pool?","",""
"730463593711140956","bor444","04/05/2021 2:45 pm","https://defi-lab.xyz/ did you guys see this one?","",""
"447487680511606785","reuptake","04/05/2021 2:47 pm","Wow, this is nice!","",""
"447487680511606785","reuptake","04/05/2021 2:49 pm","I'll check if it matches my calculations. Too bad I'm not able to do any interfaces besides text.","",""
"85373333377396736","_lein","04/05/2021 4:14 pm","Quick question - does v3 peripherals have it enabled for me to somehow find all tokensId by owner?","",""
"448201299763265558","mosesmos","04/05/2021 6:27 pm","Can we stake Uni tokens in v3?","",""
"425985613729366022","nomad_!#7708","04/05/2021 6:29 pm","Hi, hopefully someone can help with my question. i have ETH2x-FLI / ETH liquidty pool with V2. What will happen to it when V3 rolls out?","",""
"538552619551948821","slashdowntown","04/05/2021 6:31 pm","I guess nothing... some people will move to v3 to make the capital more efficient but some don't","",""
"425985613729366022","nomad_!#7708","04/05/2021 6:33 pm","Thank you. So, does this mean i can do concentrated liquidity and other V3 things in my existing pool? no additional actions? thx","",""
"256584084694892544","jaybro","04/05/2021 6:40 pm","If you want to do V3 things you can use the migrator to move to the V3 pool","",""
"425985613729366022","nomad_!#7708","04/05/2021 6:41 pm","thank you","",""
"755833436681273571","Don#3285","05/05/2021 1:09 am","Hi all - excited for the V3 launch!","",""
"705426491458060399","isamjay#7945","05/05/2021 1:24 am","Hey there,
I was trying to implement Uniswap v3 oracle as stated in the white paper. It is mentioned that 
                                           Price(tick) = 1.0001 ^ (tick) 
Does anyone how this particular statement will be implemented in solidity. It does not support floating points.
Need help. Thanks","",""
"763937133902823445","naiemk","05/05/2021 1:47 am","I am trying to understand the how the new concentrated uni-v3 works for the risk of adding liquidity to low liquidity tokens:

For example:
Uni-v2, if I add 50ETH and 5000 DummyToken to liquidity, if someone sells 10,000 Dummy Token price drops by more than 90% and my liquidity will have only a few ETH left in it.

For Uni-v3, if I add 50ETH and 5000 Dummy token for 80+ token/eth price range, and someone sells 10,000 Dummy tokens, how much does the price drop and how much will be left from the liquidity?

Does v3 mean in above case price will never go below 80, but I will still be left with a few ETH, or the price still drops 90%, but due to no liquidity on areas below 80, people can only sell upto 1000 Dummy tokens?","",""
"447487680511606785","reuptake","05/05/2021 2:00 am","If price drops below bottom of your range you'll have only DT, no ETH.","","üò± (1)"
"447487680511606785","reuptake","05/05/2021 2:00 am","I'm not sure if we can talk about ""price"" if you're only LP in some pool and price is outside your range.","",""
"227105897241903105","airboom#0400","05/05/2021 2:17 am","Once you get back the address of the created pool using Uniswap V3 factory for your token0 and token1,  the created pool contract address does not show any contract ABI on etherscan. How can one get the parameters such as current price or other possible functions ?          Basically looking for contract ABI for the created Pool Address.","",""
"736659720185839718","dasaveliev","05/05/2021 2:21 am","`export const deployContractFromArtifact = async <ContractType extends Contract>(
  artifactName: string,
  args: any[]
) => {
  // https://hardhat.org/plugins/hardhat-deploy.html#access-to-artifacts-non-deployed-contract-code-and-abi
  const artifact = await deployments.getArtifact(artifactName);
  const contract = (await (
    await ethers.getContractFactory(artifact.abi, artifact.bytecode)
  ).deploy(...args)) as ContractType;

  return contract;
};`
...
`return await deployContractFromArtifact(
    ""NonfungibleTokenPositionDescriptor"",
    [token.address]
  );`
throws error
`Error: invalid bytecode (argument=""bytecode"", value=""0x60a060405234801561001057600080fd5b5060405161134638038061134683`... `code=INVALID_ARGUMENT, version=contracts/5.1.1)`

any help on it?","",""
"396019781754683403","mario.revert.finance","05/05/2021 3:00 am","How come the v3 pool contracts on Kovan dont have source code on etherscan?","",""
"227105897241903105","airboom#0400","05/05/2021 3:46 am","Did you change the search parameter to Kovan on top right of etherscan","",""
"227105897241903105","airboom#0400","05/05/2021 3:47 am","happens same for rinkeby, but when you restrict tht search for Rinkeby testnet, it shows up","",""
"396019781754683403","mario.revert.finance","05/05/2021 3:59 am","I can get the pool addresses from the v3 factory event logs, just there is no source code or ABI uploaded for them https://kovan.etherscan.io/address/0x731748eb9daf7eab9761f84dbfe76db6a7b27a0a#code","",""
"396019781754683403","mario.revert.finance","05/05/2021 4:39 am","I'm wondering if these are to be the final entities on the subgraph. Wouldnt a NonFungiblePosition, NonFungiblePositionSnapshot be very useful? https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-subgraph","",""
"396019781754683403","mario.revert.finance","05/05/2021 5:00 am","Or is the idea that we can use the NonfungiblePositionManager's balanceOf and tokenOfOwnerByIndex methods to get all of an account's positions?","",""
"216800761244286976","sos666","05/05/2021 5:54 am","did univ3 just silently launch","",""
"216800761244286976","sos666","05/05/2021 5:54 am","https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88 seems to be doing all the stuff","",""
"228640537631129601","getty","05/05/2021 5:59 am","is anyone able to verify the pool contracts?","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:05 am","seems so, the subgraph has 19 poolCount already","",""
"349369252421042176","isaacthemexican","05/05/2021 6:08 am","https://twitter.com/MessariCrypto/status/1389708322018836482","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:09 am","pool contract/ABIs still not on etherscan though","",""
"474322772806467600","Ankur#2534","05/05/2021 6:10 am","whats subgraph?","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:10 am","wdym verify?","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:10 am","From TheGraph (an indexing service) https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-subgraph","",""
"228640537631129601","getty","05/05/2021 6:10 am","verify on etherscan so its easy to interact with them","",""
"228640537631129601","getty","05/05/2021 6:11 am","the factory and the position manager are verified","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:11 am","ah yeah","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:11 am","I mean, I see what you mean","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:11 am","Were you trying to do it yourself?","",""
"228640537631129601","getty","05/05/2021 6:11 am","yes","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:12 am","What was the issue?","",""
"228640537631129601","getty","05/05/2021 6:13 am","hard to say exactly. either I am using the wrong constructor or the pool file on github isn't an exact match","",""
"228640537631129601","getty","05/05/2021 6:13 am","leaning towards the pool contract on github not being an exact match but that doesnt make sense","",""
"396019781754683403","mario.revert.finance","05/05/2021 6:28 am","are you supposed to select ""multi-part files"" and upload the contract and all the imports?","",""
"256584084694892544","jaybro","05/05/2021 6:38 am","looks like that could plausibly be the V3 mainnet deployment (ownership was assigned to the UNI timelock) but I for one am gonna wait for the proper launch","",""
"216800761244286976","sos666","05/05/2021 6:46 am","i compiled the contracts into a single file and tried to verify that","",""
"216800761244286976","sos666","05/05/2021 6:46 am","but bytecode didn't match","",""
"256584084694892544","jaybro","05/05/2021 6:46 am","UniswapV3Pool.sol mismatches","",""
"216800761244286976","sos666","05/05/2021 6:46 am","whatever is on EVM is way longer","",""
"216800761244286976","sos666","05/05/2021 6:46 am","than whatever is in univ3pool.sol","",""
"216800761244286976","sos666","05/05/2021 6:46 am","ya","",""
"256584084694892544","jaybro","05/05/2021 6:49 am","actually let me try that again; I think my copy of UV3Pool got corrupted for an unrelated reason","",""
"256584084694892544","jaybro","05/05/2021 6:51 am","nope UniswapV3Pool.sol matches the one checked in as v1.0.0","",""
"256584084694892544","jaybro","05/05/2021 6:56 am","yup all 33 files of that contract sha256-match v1.0.0","",""
"474322772806467600","Ankur#2534","05/05/2021 6:57 am","is there an explainer for how tickBitmap works?","",""
"474322772806467600","Ankur#2534","05/05/2021 6:57 am","it basically contains a compressed list of all the initialized ticks right?","",""
"256584084694892544","jaybro","05/05/2021 6:57 am","(and Etherscan has verified that Solidity compiles it to the bytecode posted)","",""
"256584084694892544","jaybro","05/05/2021 6:59 am","@Ankur that seems to be what the comments say, yeah, and it makes sense","",""
"216800761244286976","sos666","05/05/2021 6:59 am","mm","",""
"216800761244286976","sos666","05/05/2021 6:59 am","i must have done something wrong then","",""
"216800761244286976","sos666","05/05/2021 6:59 am","ill try it again l8r","",""
"423194765337559040","svanevik","05/05/2021 7:58 am","do we know why the pools themselves are not yet verified on Etherscan?","",""
"423194765337559040","svanevik","05/05/2021 8:35 am","licensing??","",""
"328025278259527681","t11s#0001","05/05/2021 8:38 am","looks like an oversight to me","",""
"256584084694892544","jaybro","05/05/2021 8:44 am","it's probably something boring like that they were made by the factory and Etherscan doesn't carry verification from the factory to its created contracts","",""
"256584084694892544","jaybro","05/05/2021 8:44 am","so likely someone has to go manually push the source to the created pools on Etherscan","",""
"764313480450146304","jpark27","05/05/2021 8:47 am","Does anyone know what time v3 goes live","",""
"256584084694892544","jaybro","05/05/2021 8:50 am","nope, it hasn't been announced","",""
"764313480450146304","jpark27","05/05/2021 9:05 am","Thanks","",""
"552220106223124490","cloot.org#6416","05/05/2021 10:49 am","V3 price calculation question: I need to calculate the price difference in V3. Since the price is represented in sqrtPriceX96, what is the best way to calculate the price difference between two sqrtPriceX96?","",""
"474322772806467600","Ankur#2534","05/05/2021 11:00 am","subtract them?","",""
"552220106223124490","cloot.org#6416","05/05/2021 11:03 am","I don't think so, it seems to be `(value1/(2^96))^2 - (value2/(2^96))^2`","",""
"552220106223124490","cloot.org#6416","05/05/2021 11:03 am","Need double confirmation though","",""
"474322772806467600","Ankur#2534","05/05/2021 11:08 am","is fixed point 96 defined as: value * 2**96?","",""
"474322772806467600","Ankur#2534","05/05/2021 11:08 am","was wondering that","",""
"552220106223124490","cloot.org#6416","05/05/2021 11:12 am","This is my understanding from the code, not too sure","",""
"353069283536011264","el_rando","05/05/2021 11:46 am","The v2 pair interface allowed calling the Symbol, Decimals, Supply... How can we get that data for v3?","",""
"353069283536011264","el_rando","05/05/2021 11:47 am","They don't seem to be in the UniswapV3Pool contract","",""
"406393862240600064","Xanderüß¨#8734","05/05/2021 12:35 pm","Hi! Someone knows to which hour will be lunch v3?","",""
"183309006767521792","jorropo","05/05/2021 12:39 pm","it very likely already has been lunched (see discussion in #üíª‚îÇdev-chat )
What you probably want to wait is for the UI tho","",""
"406393862240600064","Xanderüß¨#8734","05/05/2021 12:39 pm","Ty üòÉ","",""
"447487680511606785","reuptake","05/05/2021 12:55 pm","Hey, do you think the graph for v3 is complete (this one: https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-subgraph)? I can't see how to list liquidity positions owned by some address","",""
"705426491458060399","isamjay#7945","05/05/2021 1:04 pm","Can anyone help","",""
"535286322701795340","iosec#9538","05/05/2021 2:23 pm","Regarding Uniswapv3, how do I get the current tick and supply in the pool?","",""
"447487680511606785","reuptake","05/05/2021 2:43 pm","There's this new subgraph","",""
"535286322701795340","iosec#9538","05/05/2021 2:50 pm","Is there no contract function that can be called like getReserve in V2?","",""
"447487680511606785","reuptake","05/05/2021 3:14 pm","Probably there is... I don't really know, sorry.","",""
"535286322701795340","iosec#9538","05/05/2021 3:32 pm","thanks","",""
"762668904387706920","mw#2715","05/05/2021 6:17 pm","for the current tick, you can get it from slot0() like `(, int24 tick, , , , , ) = pool.slot0();`","",""
"762668904387706920","mw#2715","05/05/2021 6:18 pm","i dunno about total reserves in pool, but I think `pool.liquidity` tracks the liquidity at the current tick, and you could use `getAmountsForLiquidity` to get the reserve amounts","",""
"822317966955642893","CryptoSapien77#2579","05/05/2021 7:14 pm","Is there a migration like Pancake swap did from V1 to V2 or is it automatic?","",""
"535286322701795340","iosec#9538","05/05/2021 7:58 pm","thank you very much","",""
"535286322701795340","iosec#9538","05/05/2021 7:58 pm","By looking at the contract source code, I found it","","üëç (1)"
"353069283536011264","el_rando","05/05/2021 8:06 pm","Would you mind sharing how? I also need to replace getReserves","",""
"535286322701795340","iosec#9538","05/05/2021 8:09 pm","I use web3 package to create a pool contract object, and call the slot0 function (abi function) through this object, which can get the current tick and sqrtX96 values","",""
"535286322701795340","iosec#9538","05/05/2021 8:11 pm","you can refer https://github.com/Uniswap/uniswap-v3-core/blob/e3589b192d0be27e100cd0daaf6c97204fdb1899/contracts/interfaces/pool/IUniswapV3PoolState.sol#L21","","üëç (1)"
"353069283536011264","el_rando","05/05/2021 8:11 pm","From the current tick and sqrtX96, how do you get the equivalent of reserve0 and reserve1?","",""
"627676847919988746","jvk.eth","05/05/2021 8:12 pm","I heard the audits on these products are just about done: https://medium.com/xtoken/announcing-xu3lp-fungible-convenient-liquidity-provision-for-uniswap-v3-1bbd49ec855c","",""
"535286322701795340","iosec#9538","05/05/2021 8:15 pm","I'm still working on this and the price I've got","","üëç (1)"
"353069283536011264","el_rando","05/05/2021 8:15 pm","Thank you","",""
"396019781754683403","mario.revert.finance","05/05/2021 8:16 pm","Same, I feel like something similar to Positions and PositionsSnapshots would be useful. Though I think we can use the NonFungiblePositionManager contract to get all the positions for a user, which there was no way to do with v2.","",""
"447487680511606785","reuptake","05/05/2021 8:17 pm","I think you can query for `mints`.","",""
"762668904387706920","mw#2715","05/05/2021 8:19 pm","i think you can use this to get reserves from current liquidity and sqrtRatioX96 - https://github.com/Uniswap/uniswap-v3-periphery/blob/464a8a49611272f7349c970e0fadb7ec1d3c1086/contracts/libraries/LiquidityAmounts.sol#L120","",""
"353069283536011264","el_rando","05/05/2021 8:22 pm","@mw Interesting, thanks for the lead","","üëç (1)"
"396019781754683403","mario.revert.finance","05/05/2021 8:26 pm","I think the mint events are emitted by the pool no? but you might not know which pools you want to check for a user","",""
"447487680511606785","reuptake","05/05/2021 8:26 pm","Right, you probably have to check all mints and all burns","",""
"396019781754683403","mario.revert.finance","05/05/2021 8:27 pm","On v2 there was also the issue of the mint events being emitted for things like Zaps, which then transfer the LP tokens to the owner","",""
"447487680511606785","reuptake","05/05/2021 8:28 pm","But this may be less efficient. I don't know much about graph, I'm using it but it's still new to me. But I have some scripts which eg. calculate my fees for the day, and I noticed that rewriting it for v3 is not that trivial.","",""
"396019781754683403","mario.revert.finance","05/05/2021 8:35 pm","Oh your're right! I think we could query Mints and Burns from the subgraph. That didn't really work too well on v2 because of the mentioned zaps, but perhaps now it will because there is a separate ""owner"" and ""sender"" field","",""
"447487680511606785","reuptake","05/05/2021 8:36 pm","And it's much more complex, you have to substract burns from mints and so on.","",""
"396019781754683403","mario.revert.finance","05/05/2021 8:41 pm","Yup, but it's quite nifty if we're able to query the subgraph for them now and get the correct results back","",""
"396019781754683403","mario.revert.finance","05/05/2021 8:41 pm","should make revert.finance much faster üòä","",""
"734616515986587679","0xsachin","05/05/2021 9:09 pm","Today v3 release?","",""
"731587401608331304","bloxpert","05/05/2021 9:24 pm","This is all too quiet. What's up with Version 3 everyone? Is it happening or what?","",""
"396019781754683403","mario.revert.finance","05/05/2021 9:24 pm","ongoing CTF https://v3.app.uniswap.org/","","üëç (2)"
"396019781754683403","mario.revert.finance","05/05/2021 9:25 pm","üòõ","",""
"396019781754683403","mario.revert.finance","05/05/2021 9:25 pm","Any predictions on what ""the surprise"" for today will be?","",""
"396019781754683403","mario.revert.finance","05/05/2021 9:26 pm","https://twitter.com/haydenzadams/status/1388643742861697027","",""
"398387085704429578","sag911#7895","05/05/2021 9:42 pm","nft ? üòâ","",""
"456226577798135808","Deleted User","05/05/2021 10:01 pm","But when they will launch that suprise ?","",""
"456226577798135808","Deleted User","05/05/2021 10:02 pm","Doge NFT","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:27 pm","it's launched https://v3.app.uniswap.org/#/swap","",""
"334252448036159488","viktaur","05/05/2021 11:28 pm","Is v3 in beta phase or is it already fully deployed?","",""
"183309006767521792","jorropo","05/05/2021 11:28 pm","No beta on mainnet","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:29 pm","well it's fully deployed, but uniswap.org I think will not redirect to it for a few days","",""
"394204045742571521","Borelis#2843","05/05/2021 11:29 pm","Is this real?","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:29 pm","yes","","üëç (1),hhhapz_fucked_up (1)"
"396019781754683403","mario.revert.finance","05/05/2021 11:29 pm","Congrats ü¶Ñ  team üöÄ üöÄ üöÄ","",""
"334252448036159488","viktaur","05/05/2021 11:31 pm","Nice, congrats to the team!!","",""
"334252448036159488","viktaur","05/05/2021 11:31 pm","And will Uniswap expand to other networks such as Polygon?","",""
"183309006767521792","jorropo","05/05/2021 11:32 pm","yes on optimism, however this have been delayed","","üëç (1)"
"207939860210647040","nullun","05/05/2021 11:40 pm","DNS propagation on that domain appears to be non-existent. :(","",""
"183309006767521792","jorropo","05/05/2021 11:40 pm","They removed it üòÑ","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:42 pm","https://mask.uniswap.org/","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:47 pm","sweet nft image for the positions","",""
"334252448036159488","viktaur","05/05/2021 11:57 pm","What is that and how can you get it?","",""
"334252448036159488","viktaur","05/05/2021 11:57 pm","@mario | revert.finance","",""
"394204045742571521","Borelis#2843","05/05/2021 11:57 pm","Yeah good question I want it too","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:57 pm","Image for position NFT, get yours here üôÇ https://v3.app.uniswap.org/#/pool","",""
"207939860210647040","nullun","05/05/2021 11:58 pm","What's your DNS settings? I can't resolve that address.","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:58 pm","nice try hacker man","",""
"396019781754683403","mario.revert.finance","05/05/2021 11:58 pm","kidding its 8.8.8.8","",""
"207939860210647040","nullun","06/05/2021 12:01 am","I get nothing. :( `dig @8.8.8.8 -t A v3.app.uniswap.org +short`","",""
"396019781754683403","mario.revert.finance","06/05/2021 12:11 am","you're right. failing for me now as well","",""
"207939860210647040","nullun","06/05/2021 12:13 am","Main site is now working and is live!","",""
"396019781754683403","mario.revert.finance","06/05/2021 12:13 am","confirmed!","",""
"776943802274938902","null#3306","06/05/2021 12:34 am","Any news on the L2 implementation? Is it TrueBit?","",""
"771194963316178945","carrot9585","06/05/2021 1:17 am","https://defi-lab.xyz/","",""
"399617942087532545","_connormartin","06/05/2021 1:22 am","Everyone note: fee on transfer and rebasing tokens will NOT work with v3. Fee on transfer tokens may choose to wrap their tokens, or deploy a customized router in the future. But for the time being these token designs are strictly broken on v3","",""
"399617942087532545","_connormartin","06/05/2021 1:22 am","Pinned a message.","",""
"794944910905180200","zembahk","06/05/2021 1:29 am","`But for the time being these token designs are strictly broken on v3` so thats why i can't make a hoge pool??","",""
"396019781754683403","mario.revert.finance","06/05/2021 1:32 am","Sirs, when v3 branch of uniswap-info repo? üôè","",""
"764597054961877002","Alex evm.finance#0418","06/05/2021 3:04 am","hey, how do I convert the min tick and the max tick from a USD price into the tick values?","",""
"764597054961877002","Alex evm.finance#0418","06/05/2021 3:06 am","for example, I have a LP position that is min 69.95 UNI/ETH and max 90 UNI/ETH, and the min tick shows as -45000 and the max shows as -42480, how do I convert into those values?","",""
"637507746832449557","ixtabai","06/05/2021 4:00 am","So who can‚Äôt connect their wallets ?","",""
"474322772806467600","Ankur#2534","06/05/2021 4:09 am","what are the units of liquidity? is it simply token0 in wei * token1 in wei?","",""
"679775062160703546","tu#8084","06/05/2021 4:16 am","wait should I migrate my usdc-eth pair to V3?","",""
"256584084694892544","jaybro","06/05/2021 4:53 am","log(90)/log(1.0001) = 45000, log(69.95)/log(1.0001) = 42480; negative just because of the order the tokens appear (to get it completely precisely you have to do the math exactly the way the contract does it, but this is what it's trying to approximate)","",""
"396019781754683403","mario.revert.finance","06/05/2021 5:19 am","Seems doable with ""origin"" not ""owner"".","",""
"724596355477143635","andreaelektronvolt","06/05/2021 5:28 am","is there a nodejs library for v3 just like we have for v2?","",""
"764597054961877002","Alex evm.finance#0418","06/05/2021 6:00 am","thanks","",""
"764597054961877002","Alex evm.finance#0418","06/05/2021 6:07 am","when calling the contract directly(not in the UI), I take my range numbers, and put it into that formula, then put the result into the contract, not the raw numbers correct?","",""
"256584084694892544","jaybro","06/05/2021 6:09 am","Taking care to get the sign correct for the two tokens, I *believe* so but I would encourage you to try on a testnet instead of trusting me. üôÇ","",""
"236668935318142977","hodlforjesus","06/05/2021 6:27 am","Hey @iosec do you mind sharing the formula for this? (How to extract reserves from `liquidity`)","",""
"796515431648985088","Chet#4692","06/05/2021 6:28 am","Any possible airdrop like last time UNI upgraded?","",""
"474322772806467600","Ankur#2534","06/05/2021 6:41 am","+1 i'm interested as well","",""
"775893081387827221","david.morgan#8427","06/05/2021 7:21 am","No airdrop. Must be voted for through governance (UNI token holders). It has been proposed and voted down. Ain't gonna happen; no free luncg.","",""
"796515431648985088","Chet#4692","06/05/2021 7:22 am","Who voted that down!!!!! Selfish people!!","","Hayden (1)"
"800910126348501002","presale99#1776","06/05/2021 7:53 am","So how‚Äôs this work then","",""
"800910126348501002","presale99#1776","06/05/2021 7:54 am","Been having so much difficulty with uniswap today. I‚Äôm hearing I‚Äôm not the only one. V2 says price inpact too high. V3 says insufficient liquidty for this trade, even on projects like dai that are not rugs","",""
"800910126348501002","presale99#1776","06/05/2021 7:55 am","Checked the pinned messsges and I don‚Äôt understand a word","",""
"775893081387827221","david.morgan#8427","06/05/2021 7:57 am","You want something for nothing, and you're calling someone selfish?","",""
"402462654318247937","Cloudy#6356","06/05/2021 8:22 am","Hi..How do we get the pricing of say ETH/USDT for a specified amount of USDT? What's the formula?","",""
"402462654318247937","Cloudy#6356","06/05/2021 8:25 am","Is there no function like `calcOutGivenIn(...)` in pool contracts?","",""
"828459705743310868","Water#0108","06/05/2021 8:28 am","Dear,  I can not use the normal 'web3 call' to  get function quoteExactInput result,  do you have the same problem ?","",""
"402462654318247937","Cloudy#6356","06/05/2021 8:29 am","Yea...How do we get the quotes?","",""
"828459705743310868","Water#0108","06/05/2021 8:29 am","So you can the same problem ?","",""
"494056341783052297","UpArrowCapital#3167","06/05/2021 8:34 am","Hey team! May I have the abi for the V3 pool contract? It is not verified on Etherscan and I can't find it on Uniswap Github. Thanks! @Micah","","üôè (2)"
"796515431648985088","Chet#4692","06/05/2021 9:38 am","YEP!!!!","",""
"742653669409030306","f_sheep","06/05/2021 12:45 pm","Hi guys, currently we're using a smart contract to airdrop rewards to our LP providers. The contract simultaneously transfers Eth to the pool and executes the sync function.

Will this approach work for V3 pools? Is there an alternative implementation that would work/work better?","",""
"386567385299288076","Age of Chains | kilian#7542","06/05/2021 1:02 pm","Hi! For projects, how to get Uniswap V3 support?","",""
"386567385299288076","Age of Chains | kilian#7542","06/05/2021 1:03 pm","Or said differently: How to list a project on Uniswap V3?","",""
"591797637313724417","Ad3sh#1255","06/05/2021 2:05 pm","https://www.altcoinbuzz.io/cryptocurrency-news/product-release/unbound-finance-closes-on-mainnet-with-final-testnet-launch/","",""
"234038230155132928","madcake92","06/05/2021 6:25 pm","trying to decipher the subgraph... anyone got any funny conclusions? like, the price indicated in the usdc / weth pool is off for me","",""
"757041428374355969","key333.","06/05/2021 8:36 pm","After the release of V3, the competitors (sushi,1inch) skyrocketed, which was too embarrassing","",""
"447487680511606785","reuptake","06/05/2021 8:48 pm","Hey, I wrote some musings on being LP in Uni v3 (two parts): https://reuptake.medium.com/liquidity-providing-in-uniswap-v3-49bf3a0bd2ec / https://reuptake.medium.com/liquidity-providing-in-uniswap-v3-2-5e24af7c346c I'd love some comments/critique, as I guess we're all just starting to understand it.","",""
"582803091443679273","0xbiig","06/05/2021 9:01 pm","Hey guys, How can I convert position data (from NFTPositionManager smart contract) to liquidity amount0,1 
```
{
""nonce"": ""0"",
""operator"": ""0x0000000000000000000000000000000000000000"",
""token0"": ""0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984"",
""token1"": ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"",
""fee"": ""3000"",
""tickLower"": ""-44340"",
""tickUpper"": ""-43680"",
""liquidity"": ""4519782448394466267970"",
""feeGrowthInside0LastX128"": ""217512326789404188889141305443223245"",
""feeGrowthInside1LastX128"": ""1638796999500672710537552855104901"",
""tokensOwed0"": ""0"",
""tokensOwed1"": ""0""
}
```","",""
"633272973280804866","_nick_1337","07/05/2021 12:14 am","what would be the best way to get the current ticks mapping (int => Tick.Info) of a pool, so I can calculate my swap off-chain? 
is there a helper method or something to get the relevant datapoints? 
afaik i need to make an api_call for each index / datapoint in a mapping.","",""
"428699196514893825","kassandra.eth","07/05/2021 12:18 am","Good analysis of rebalancing that conforms to my understanding- e.g. rebalancing drains your liquidity (neglecting fees earned) and at a potentially alarming rate. With a rebalancing strategy you need to pay very careful attention to the trade offs (opportunity cost of rebalancing (IL), opportunity cost of missing out on fees)","","üôè (1)"
"474322772806467600","Ankur#2534","07/05/2021 12:23 am","how do you calculate the swap off chain?","",""
"633272973280804866","_nick_1337","07/05/2021 12:47 am","i am rebuilding the swap function in my codebase","",""
"633272973280804866","_nick_1337","07/05/2021 1:14 am","could https://github.com/Uniswap/uniswap-v3-periphery/blob/v1.0.0/contracts/lens/TickLens.sol be what i am looking for?
looks like i pass in a poolAddress and it returns the ticks with the liquidities. 
but why do i have to pass in a tickBitmapIndex? and which value do i have to pass as the tickBitmapIndex?","",""
"231940713594617856","Emp#4164","07/05/2021 3:36 am","what's a hoge pool","",""
"794944910905180200","zembahk","07/05/2021 3:42 am","hoge is the 2nd fastest project on the ethereum network only surpassed by eth itself","",""
"231940713594617856","Emp#4164","07/05/2021 3:43 am","no I know what that is, but what is the pool","",""
"794944910905180200","zembahk","07/05/2021 3:43 am","eth/hoge or usdt/hoge both failed to make new pools on v3","",""
"231940713594617856","Emp#4164","07/05/2021 3:43 am","what is defined by fail and why did it fail? is it because nobody migrated ?","",""
"794944910905180200","zembahk","07/05/2021 3:44 am","both the migration and trying to start new","",""
"231940713594617856","Emp#4164","07/05/2021 3:44 am","I got this when I clicked on migrating my v2 to v3","https://cdn.discordapp.com/attachments/823968973753810945/839988514136784966/88e8b1196d5a9253b0a2caf83d1e8df6.png",""
"231940713594617856","Emp#4164","07/05/2021 3:44 am","so I didn't want to","",""
"794944910905180200","zembahk","07/05/2021 3:44 am","it wouldnt let me sign for gas it just droped it","",""
"231940713594617856","Emp#4164","07/05/2021 3:45 am","So hoge/eth v2 pool scams my coins at times which I didn't like","",""
"231940713594617856","Emp#4164","07/05/2021 3:45 am","for the longest of time I was down quite a bit of money","",""
"794944910905180200","zembahk","07/05/2021 3:45 am","i had .7 eth ready yesterday","",""
"794944910905180200","zembahk","07/05/2021 3:46 am","last time i made a pool was on v2 and it cost about .3 eth","",""
"231940713594617856","Emp#4164","07/05/2021 3:46 am","Like I put in 1.5 ETH and 16 million hoge, approx. 1 month ago. At certain points my account had like 1.45 eth and 14.5m hoge. so it was like wtf. This is not including the initial $100 gas fee I paid","",""
"794944910905180200","zembahk","07/05/2021 3:47 am","oh i heard that can happen if the pools get swung to hard on dips and spikes","",""
"794944910905180200","zembahk","07/05/2021 3:47 am","v3 was supposed to help with that","",""
"231940713594617856","Emp#4164","07/05/2021 3:48 am","I knew that you could have a big amount of 1 coin vs the other, but never that both coin balances could decrease","",""
"231940713594617856","Emp#4164","07/05/2021 3:48 am","that's what is weird","",""
"794944910905180200","zembahk","07/05/2021 3:49 am","it happens when the token prices flux, it can go the other way too where you can gain little more on each side. but normally its when the sell off happens you get a bunch of cheaper token and then eth rises and you get less back on the way up","",""
"794944910905180200","zembahk","07/05/2021 3:50 am","impermanent loss or something","",""
"231940713594617856","Emp#4164","07/05/2021 3:50 am","I guess you are right. Either way, I seem to after 1 month of providing liquidity finally scratching a little bit of a profit","",""
"231940713594617856","Emp#4164","07/05/2021 3:50 am","makes me wonder if I was better off just holding hoge","",""
"794944910905180200","zembahk","07/05/2021 3:51 am","probably as much as hoge has ben in motion, stable coins are better for profits, but i like hoge","",""
"794944910905180200","zembahk","07/05/2021 3:53 am","you also don't get the redistro from pool tokens so you diffidently gain more with hoge out side if you count thats flux loss","",""
"794944910905180200","zembahk","07/05/2021 3:53 am","the pool will tell you the fees gain is more tho","",""
"231940713594617856","Emp#4164","07/05/2021 3:55 am","so do we need to create a hoge/ $USDT v3 pool?","",""
"231940713594617856","Emp#4164","07/05/2021 3:56 am","or like a $HOGE / XRP pool to be more precise","",""
"794944910905180200","zembahk","07/05/2021 3:57 am","https://discord.com/channels/597638925346930701/823968973753810945/839590417094803457","",""
"794944910905180200","zembahk","07/05/2021 3:57 am","```Connor Martin ü¶Ñ Will Not Dm You ‚Äî Yesterday at 12:52 PM
Everyone note: fee on transfer and rebasing tokens will NOT work with v3. Fee on transfer tokens may choose to wrap their tokens, or deploy a customized router in the future. But for the time being these token designs are strictly broken on v3```","",""
"794944910905180200","zembahk","07/05/2021 3:57 am","how do we build a router?","",""
"794944910905180200","zembahk","07/05/2021 3:58 am","can we sell xdia hoge? is that wraped?","",""
"794944910905180200","zembahk","07/05/2021 3:58 am","nvm its another network probably not","",""
"794944910905180200","zembahk","07/05/2021 4:01 am","@Micah do you happen to know how we can make a router?","",""
"794944910905180200","zembahk","07/05/2021 4:03 am","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/SwapRouter.sol
is it this?","",""
"402462654318247937","Cloudy#6356","07/05/2021 4:05 am","+1  I'm stuck here too..Unable to get v3 quotes for my app.","",""
"474322772806467600","Ankur#2534","07/05/2021 4:30 am","pull tickbitmap for current tick, convert to binary, identify initialized ticks (""1"" in binary) and call ticks(int24) on those ticks","",""
"474322772806467600","Ankur#2534","07/05/2021 4:31 am","i'm having trouble on the next step: calculating swaps of chain once I have tick data","",""
"474322772806467600","Ankur#2534","07/05/2021 4:31 am","off*","",""
"792829408989413466","curiousrabbit","07/05/2021 4:57 am","were any of you able to find the v3 Pool ABI without compiling?","","üëç (1)"
"792829408989413466","curiousrabbit","07/05/2021 4:57 am","would appreciate XD","",""
"802573673130885180","tradermadness#8656","07/05/2021 7:04 am","This v3 upgrade was an epic fail","",""
"802573673130885180","tradermadness#8656","07/05/2021 7:05 am","Lost ton trying to migrate to v3 then trying to create new pairing pool for my token, which ended up destroying my market price, and now cant delete old pairibgs to fix","",""
"138408179884228608",".tomqiu","07/05/2021 7:10 am","Hi, I'm trying to do a web3 integration (javascript) for v3 and I have a few questions:

1. The path attribute in struct ISwapRouter.ExactOutputParams is bytes. In my mind path should be address[], so lets say that I have an array of addresses for path, how do I convert it to bytes?
2. The I do not see an equivalent method like the getAmountOut/getAmountIn for V2 router in the SwapRouter contract. How should I get this information in V3?
3. Which methods of which contracts should I call to get a detailed liquidity distribution for a specific pool?
4. How do I get the pool contract address for two tokens when I don't know the fee of the pool?
5. I don't seem to find the ABI for the pool contract","",""
"402462654318247937","Cloudy#6356","07/05/2021 7:15 am","Please help with number 3. No one from the team has replied since yesterday","",""
"138408179884228608",".tomqiu","07/05/2021 7:33 am","My guess is that we are supposed to get the detailed liquidity distribution of a pool from somewhere maybe the pool contract or oracle and calculate it ourselves, but I do not find where to get the liquidity distribution either.","",""
"456226577798135808","Deleted User","07/05/2021 10:47 am","how would I go about migrating from permanently locked liquidity in v2 e.g like in core/eth to v3? is that even possible?","",""
"420477687409278986","tarrence#4186","07/05/2021 10:48 am","Hey! Great work on v3! I'm trying to compute the usdc/eth (https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8) pool address using the v3 helper and running into an issue I was hoping someone could help with. I'm calling the method like:
```
PoolAddress.computeAddress(0x1F98431c8aD98523631AE4a59f267346ea31F984, PoolAddress.getPoolKey(0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48, 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2, 3000));
```
but getting `0x78fdd89377a88d64dd24375ff58af1f968826a9c` as the pool address. what am i doing incorrectly?","",""
"420477687409278986","tarrence#4186","07/05/2021 10:53 am","ah my version has an old `POOL_INIT_CODE_HASH`","",""
"402462654318247937","Cloudy#6356","07/05/2021 12:57 pm","I *think* I got it...Need to get some pieces together...Check DM","",""
"833265382466256907","Lilo#7605","07/05/2021 3:11 pm","hello, I just swap eth-shib on V3 and the transaction failed. now I don't see my ETH and don't see the shib.
can someone assist? https://etherscan.io/tx/0x7c3974360188b21817ce3c75ad0fe052fc9166dd1efdba11dec2a2c4043f6dbd","",""
"627202890267754496","nakomoto","07/05/2021 3:47 pm","I am looking for these answers as well, someone help please üôÇ","",""
"719949581684834324","emo_ispolink","07/05/2021 4:18 pm","Hey guys any news about dextool support?","",""
"719949581684834324","emo_ispolink","07/05/2021 4:19 pm","Same here...","",""
"403119413383135248","SiegeRhino |  Flat is justice#9499","07/05/2021 4:46 pm","Also looking for those answers, mainly 2 and 3 ...","",""
"704029495023108189","setecastronomy8","07/05/2021 5:17 pm","Does anyone what the contract address is for the new v3 router(s)?","",""
"724596355477143635","andreaelektronvolt","07/05/2021 5:21 pm","Did you figure this out?","",""
"766273853227008002","FATE#3622","07/05/2021 6:46 pm","I have not been able to see one of my v2 positions on the uni app and I am unable to migrate this position to V3. has anyone else had this issue?","",""
"792829408989413466","curiousrabbit","07/05/2021 7:30 pm","was working on the same thing. The key here is you get the tick from the pool, convert it to the tick bitmap index by right shifting 8 bits, and then use that index to query the lens","","üëç (2)"
"769665433162612788","Kir#5813","07/05/2021 7:34 pm","Hello! In uniswap V2 there was a function in expert mode - to add adress to send funds after swap (in one transaction). Is it possible to use it in new interface? Or can i go back to old interface to use this function?","",""
"724596355477143635","andreaelektronvolt","07/05/2021 7:36 pm","I think I managed to do it. but i get different results compared from UI. maybe we can check the data against eachother?","",""
"724596355477143635","andreaelektronvolt","07/05/2021 7:36 pm","by data i mean: I try getOutputAmount and i get a diff value between my code and the UI (my code gives a lower value)","",""
"535286322701795340","iosec#9538","07/05/2021 7:50 pm","Hi! How do I get the reserve0 and reserve1 in the pool?","",""
"633272973280804866","_nick_1337","07/05/2021 8:06 pm","whats the topic of `FeeAmountEnabled` of the factory?","",""
"633272973280804866","_nick_1337","07/05/2021 8:16 pm","0xc66a3fdf07232cdd185febcc6579d408c241b47ae2f9907d84be655141eeaecc","",""
"535286322701795340","iosec#9538","07/05/2021 8:24 pm","How to get Real Reserves?","",""
"383342717188702208","xatarrer","07/05/2021 8:58 pm","uniswapV3MintCallback Hey, same problem here. How did you solve it?","",""
"383342717188702208","xatarrer","07/05/2021 8:59 pm","And why does `POOL_INIT_CODE_HASH` not match the hash of UniswapV3pool's bytecode provided  by npm?","",""
"383342717188702208","xatarrer","07/05/2021 9:00 pm","Maybe github's hash is not up to date?","",""
"420477687409278986","tarrence#4186","07/05/2021 10:15 pm","I was using a branch of `uniswap-v3-periphery`. After rebasing the pool address computation works for me","",""
"420477687409278986","tarrence#4186","07/05/2021 11:37 pm","in order to increase the oracles historical state, is it just necessary to call `observe` at each block?","",""
"420477687409278986","tarrence#4186","07/05/2021 11:39 pm","or is it basically any transaction will expand the history? i.e. if any trade is made the price is recorded at that block?","",""
"139873569562820609","nnundo","08/05/2021 12:03 am","I'm new to uniswap - can anyone tell me what I just did? lmao","https://cdn.discordapp.com/attachments/823968973753810945/840295233908375572/unknown.png",""
"139873569562820609","nnundo","08/05/2021 12:03 am","i thought i added v2 liquidity for shib-eth pair but i'm not seeing that in the app","",""
"139873569562820609","nnundo","08/05/2021 12:04 am","spent $12 in eth doing it too lol","",""
"256584084694892544","jaybro","08/05/2021 12:13 am","You made it possible to do transactions which require SHIB in the future.","",""
"256584084694892544","jaybro","08/05/2021 12:13 am","Due to how ERC20 tokens work, you need to approve other addresses spending them on your behalf, which is what happens when you use them on Uniswap or another smart contract.","",""
"139873569562820609","nnundo","08/05/2021 12:14 am","so now i can add liquidity?","",""
"256584084694892544","jaybro","08/05/2021 12:15 am","Yes, you should now be able to add v2 liquidity for that pair (assuming that you hold equal quantities of ETH and SHIB that you want to contribute).","",""
"139873569562820609","nnundo","08/05/2021 12:16 am","is there any major differences from doing v2 vs v3 pool?","",""
"256584084694892544","jaybro","08/05/2021 12:16 am","and yes, you'll need to pay more gas to do so; gas makes many things expensive on the Ethereum network these days","",""
"256584084694892544","jaybro","08/05/2021 12:16 am","the blog post explains https://uniswap.org/blog/uniswap-v3/","",""
"139873569562820609","nnundo","08/05/2021 12:16 am","thanks","",""
"139873569562820609","nnundo","08/05/2021 12:17 am","are you saying adding liquidity in v2 pool will cost me more gas/ETH?","",""
"256584084694892544","jaybro","08/05/2021 12:18 am","Yes, you can expect to pay on the order of $30 to add liquidity to a v2 pool and on the order of $80 for v3 at current gas prices, though the exact amount varies.","",""
"256584084694892544","jaybro","08/05/2021 12:18 am","Gas isn't cheap these days, sadly, and every Ethereum transaction needs gas.","",""
"139873569562820609","nnundo","08/05/2021 12:20 am","i guess i should wait until later when gas prices come down then","",""
"256584084694892544","jaybro","08/05/2021 12:39 am","That would certainly save you some money (maybe a factor of two, depending). https://www.gasnow.org/ has some helpful graphs","",""
"764625155414032435","nlwhd#8786","08/05/2021 1:44 am","Having trouble finding testnet pool addresses on Kovan.  Kind of a newb.  Considering writing contract for getPool() calls, but are there resources somewhere that display pool addresses for reference?","",""
"764625155414032435","nlwhd#8786","08/05/2021 1:50 am","Also, if anyone could verify the format for 'fee' parameter in getPool() function, would be appreciated.  Trying (fee/1e-6).  Hundredths of a bip... Correct?","",""
"764625155414032435","nlwhd#8786","08/05/2021 1:50 am","Rather, 1e-6/fee","",""
"256584084694892544","jaybro","08/05/2021 3:35 am","@nlwhd yup https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/interfaces/IUniswapV3Factory.sol#L46","",""
"764625155414032435","nlwhd#8786","08/05/2021 3:38 am","Thnx","",""
"433131023925248000","varg_svenson","08/05/2021 4:58 am","Does anyone know a suitable value for weth/crv lp when migrating from v2 to v3? What values do i put in for min price and max price?","",""
"433131023925248000","varg_svenson","08/05/2021 4:58 am","i just want to set it to v2 curve for now. how do i find out the values to put into v3 lp?","",""
"336243088500588545","jab.sh","08/05/2021 4:59 am","@Varg_Svenson you should enter the values you predict the price will stay within for as long as you plan to hold that position","",""
"433131023925248000","varg_svenson","08/05/2021 5:00 am","do i put in the value for the larger asset or the smaller one on the min and max boxes?","",""
"433131023925248000","varg_svenson","08/05/2021 5:00 am","oh wait now i get it","",""
"433131023925248000","varg_svenson","08/05/2021 5:00 am","i have to switch it","",""
"336243088500588545","jab.sh","08/05/2021 5:00 am","you can choose which way to look at it","",""
"139873569562820609","nnundo","08/05/2021 7:24 am","is anyone else having trouble adding new v3 positions? i can't get it to work","",""
"442520974357823490",".blase.","08/05/2021 8:09 am","I want to know why I am experiencing such failure?","",""
"442520974357823490",".blase.","08/05/2021 8:09 am","","https://cdn.discordapp.com/attachments/823968973753810945/840417607064616990/unknown.png",""
"480948499903676436","raptor1511","08/05/2021 8:31 am","how you know the paramenter for lp v3 in usdc and eth?","",""
"456226577798135808","Deleted User","08/05/2021 3:55 pm","I am not able to add liquidity to V3.  When I click on :Add button, it is not working,","",""
"447487680511606785","reuptake","08/05/2021 6:33 pm","price changed before transaction was mined.","",""
"731587401608331304","bloxpert","08/05/2021 8:28 pm","Quick question. Can Liquidity Providers who are still keeping their pool tokens in V2 earn commission revenue? I have not yet migrated mine from V2 to V3 and when I check swap options major pairs like ETH-USDT, WBTC-ETH and ETH-USDC only give V3 swap option (not V2) with a 3% price slippage (that does not make economic sense to use). So even when no swap takes place from a V2 pool, how do liquidity providers  of V2 still earn commission fee revenue without migrating to V3?","",""
"813841262750072894","PIMERA#7361","08/05/2021 9:44 pm","Anybody trying to swap PIKA?","",""
"839106332186771486","zaidle#2599","08/05/2021 11:30 pm","","https://cdn.discordapp.com/attachments/823968973753810945/840649379919822858/Screenshot_20210508-180000.png",""
"839106332186771486","zaidle#2599","08/05/2021 11:31 pm","Please I want to swap what should I do","",""
"773158115810082847","joshtangible#6779","09/05/2021 12:10 am","Hi can anyone help me with this, I'm currently creating a pair ETH-ALPHR, the current price is around $7.5, as I'm part of the project and we're slowly migrating liquidity over to v3 we want to supply liquidity across the entire price range, so i've put the min price on the left to equal $0.01 in eth and the max price range to be 1 eth $3,800 roughly, is this correct and will it supply liquidity to the whole price range?","https://cdn.discordapp.com/attachments/823968973753810945/840659421339451402/Screenshot_2021-05-08_at_19.23.09.png",""
"754255420272541726","natel098#4427","09/05/2021 1:42 am","Hi guys, any way to use the web link (https://uniswap.org/docs/v2/interface-integration/custom-interface-linking/) or iframe (https://uniswap.org/docs/v2/interface-integration/iframe-integration/) to automatically use the v2 pool for the output currency? We are trying to minimize the amount of clicks required to acquire our coin and it would be nice to just have the interface already setup on the website with the default settings","",""
"731587401608331304","bloxpert","09/05/2021 2:42 am","Logic dictates ""yes"" but best a UniSwap technical lead to answer that. At the moment I am shocked with gas costs of $450 for V2 to V3 migration so staying put for the moment. If you create your pool in V2, it would automatically work from 0 to infinity like you desire so may be consider that for the moment.","",""
"759605824825458738","michaelstone#5047","09/05/2021 3:04 am","Does anyone know if the source code for https://info.uniswap.org/#/ is available on github? Wanted to see how the data is sourced. Doesn't seen to match what I see in v3 subgraph here:
https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3?query=Example%20query","",""
"538552619551948821","slashdowntown","09/05/2021 4:05 am","@michaelstone https://info.uniswap.org/#/ uses https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-alt","",""
"538552619551948821","slashdowntown","09/05/2021 4:08 am","https://i.imgur.com/wTEp6BF.png","",""
"759605824825458738","michaelstone#5047","09/05/2021 4:49 am","Thank you Genius!","",""
"840740747732713512","gentios","09/05/2021 5:40 am","Hi Guys, I am trying to migrate our pool from v2 to v3 but it is very expensive in gas costs. Is this something that will be refunded to me from the text that is shown or its just gas costs that will not get refunded","",""
"734616515986587679","0xsachin","09/05/2021 8:02 am","How do I represent fees?","",""
"734616515986587679","0xsachin","09/05/2021 8:03 am","```
function _validateFees(uint24 _fees) internal pure {
        require(_fees == 0 || _fees == // how to check the other cases, ""!fees"");
    }
```","","üò© (1)"
"734616515986587679","0xsachin","09/05/2021 8:13 am","k, gotcha.","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:38 am","Current uniswap v3 web site doesn't look right. See below centered around 9k. Doesn't make sense","https://cdn.discordapp.com/attachments/823968973753810945/840802463443451904/unknown.png",""
"759605824825458738","michaelstone#5047","09/05/2021 9:39 am","Could someone help connect to Uniswap dev to clarfiy?","",""
"792829408989413466","curiousrabbit","09/05/2021 9:54 am","The liquidity of an initialized tick t, is applicable when the price is between [t, t + 10], correct (say tick sizing is 10)? So if tick is -204, liquidity is on [-210, -200]","",""
"731587401608331304","bloxpert","09/05/2021 1:58 pm","Gentios, this is a protocol based venture and the gas cost goes to miners. Which party do you have in mind to refund the gas costs? The only time I have seen gas cost refunds were made by a platform is when their smart contract code made wrong gas cost input and the tx'es failed and they offered to refund them to users in order to keep their reputation. In this instance the cost is high but not due to any fault of UniSwap team imho. If anything, you may only request a refund of the migration contract fails and you incur a cost without getting a service.","",""
"840740747732713512","gentios","09/05/2021 3:35 pm","Thank you for the clarification @bloxpert  I understand how the gas cost works the only thing that was confusing was the refunding part but now I understood.

Appreciate the support üôÇ","",""
"183309006767521792","jorropo","09/05/2021 4:02 pm","yes it's bugged, the values are shifted.

If you mouse over the right of the graph you will see what should be the center.","",""
"759605824825458738","michaelstone#5047","09/05/2021 6:41 pm","ha what? The far right is actually the center. My gosh...","",""
"759605824825458738","michaelstone#5047","09/05/2021 6:45 pm","Could anyone suggest which table in the v3 subgraph to regenerate the liquidity distribution chart ? Tick table? Tried but no luck so far.","",""
"145314506237673472","binaryalgorithm","09/05/2021 10:32 pm","Has any protocol accepted uni nft as collateral?","",""
"655811657016279063","t0bou","09/05/2021 11:35 pm","someone knows how to determine what value should be given to the fee argument of struct ""ExactOutputSingleParams"" ? Trying to use a 0.3% fee pool in a smart contract","",""
"256584084694892544","jaybro","09/05/2021 11:43 pm","the fee tiers are 0.05%, 0.30% and 1% unless another is approved by UNI governance","",""
"256584084694892544","jaybro","09/05/2021 11:44 pm","anyhow it's generally hundredths of a basis point","",""
"655811657016279063","t0bou","09/05/2021 11:44 pm","do you know how to translate this in a uint24 value as used in the struct ?","",""
"256584084694892544","jaybro","09/05/2021 11:46 pm","so 0.30% is 30 basis point, or 3000 hundredths of a bp","","üëç (1)"
"655811657016279063","t0bou","09/05/2021 11:48 pm","thanks, 3000 worked üôÇ","",""
"514594808208162856","slick22#5084","10/05/2021 12:52 am","If you migrate v2 liquidity to v3 you get an NFT ? When can I get the details on this please?","",""
"730463593711140956","bor444","10/05/2021 1:58 am","@slick22 yep v3 LP tokens are NFTs","",""
"210678624225984512","psyaon","10/05/2021 2:26 am","Are V3 pool contracts going to be verified?","",""
"499281767371374593","duck9474","10/05/2021 2:28 am","Wish I got refunded gas on failed migration.","",""
"437648446095228948","fromorrow","10/05/2021 2:30 am","seeking some help: I have v2 of FTM/ETH. Over the past few days, I see the liquidity pool wasn't available on v3. Now, checking today I see it is. When I attempt to convert to the v3 FTM/ETH LP NFT, I have three 'fee' offerrings. If I select the 0.3%, I see the Pool was already created but I cannot proceed using the Allow LP token migration/Migrate. They are both ghosted out.","",""
"437648446095228948","fromorrow","10/05/2021 2:32 am","do I adjust the Min/Max pricing? when I try to (they are not ghosted out), nothing happens.","",""
"437648446095228948","fromorrow","10/05/2021 2:33 am","nevermind. I think I need to do some further research.","",""
"507789740343296020","coolsamemiya","10/05/2021 6:24 am","https://opensea.io/assets/0xc36442b4a4522e871399cd717abdd847ab11fe88/2537


Is this rare?  Can you sell it high?  Where is the specialized channel to introduce this?","",""
"145314506237673472","binaryalgorithm","10/05/2021 7:53 am","what's interesting is that the 1% and 0.3% pools can have different prices because the cost to arb directly is 1.3% in fees.","",""
"731587401608331304","bloxpert","10/05/2021 10:03 am","Does not hurt to request a refund by sharing the TX ID on etherscan as the development team I guess is working on bug fixing etc. Your wallet address is objectively verifiable as the refund will go there.","",""
"740103558116147231","Altonomy_sid#5817","10/05/2021 11:01 am","Hey guys. I am getting stuck at one concept related to Uniswap v3
For ETH, USDC pool, current price is 1 ETH = 4102 USDC
Current sqrtPrice, tick are  7916424043940016172447997379 and -46071
But 1.0001^-46071 = 0.00998301 which is not 1/4102

What am i doing wrong ?","",""
"234038230155132928","madcake92","10/05/2021 12:43 pm","log(1/4102) / log(1.0001) = -83197","",""
"234038230155132928","madcake92","10/05/2021 12:44 pm","that's the tick if the spacing was 1, from there you must find the nearest usable tick","",""
"800790595748102174","olcariz","10/05/2021 6:11 pm","Guys why a swap on V3 is still so expensive ? Where are enhancements ?","",""
"840740747732713512","gentios","10/05/2021 6:37 pm","Very expensive üò¶","",""
"674207752863875086","boredSatan#1900","10/05/2021 7:01 pm","Hey guys, are you guys planning on integrating with Polygon? Or is it just Optimism?","",""
"759605824825458738","michaelstone#5047","10/05/2021 7:18 pm","Optimism","",""
"744109870210482237","crypton#4126","10/05/2021 9:42 pm","@Noah Zinsmeister I'm using Quoter.quoteExactOutput. Is it correct, that for the calculation of the needed input amount slippage and pool fee is used? Thanks.","",""
"182969707299733504","noahzinsmeister","10/05/2021 10:58 pm","pool fee is included, slippage is not","",""
"571962894695006221","Chaos#4771","10/05/2021 11:50 pm","Any updates on the hardware wallet fix?","",""
"744109870210482237","crypton#4126","11/05/2021 12:08 am","Thanks. I'm a bit surprised, that slippage is not included, because I thought, that Quoter.quoteExactOutput executes a swap and reverts.","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:08 am","we're probably defining slippage differently","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:09 am","the quoter gives you trade outputs/inputs if the trade were to be executed against hte current state of hte chian","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:09 am","so assuming no other txs before yours","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:09 am","i.e. price impact and pool fees are accounted for","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:10 am","slippage - buffer for price movements ahead of your trade/front-running/etc. - is not","",""
"744109870210482237","crypton#4126","11/05/2021 12:12 am","@Noah Zinsmeister Okay, I see. What I meant was price impact.","",""
"182969707299733504","noahzinsmeister","11/05/2021 12:12 am","yeah sorry confusing terminology","",""
"744109870210482237","crypton#4126","11/05/2021 2:15 am","@Noah Zinsmeister in my contract i'm using a flashswap and try to migrate from v2 to v3. in v2 i could repay the token i didn't withdraw (multi-token) and payed the fee for using the pool. if i do the same in v3, i have to pay the fee for using the pool and have to pay on top the fee, which was passed as a parameter to the uniswapV3FlashCallback function. is this correct?","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:18 am","kind of, you only want to use `flash` if you need to repay in the same asset you're borrowing, or you need to borrow both, and yes in that case you're charged the pool fee on tyhe amount you borrow","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:19 am","however you can still borrow 1 asset and repay in the other via swap, if you want","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:19 am","the contracts transfer tokens out before calling the callback, so you can do your logic in there as well","",""
"744109870210482237","crypton#4126","11/05/2021 2:23 am","repaying via swap sounds interesting :). have you got an example for this?","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:25 am","it's actually how exact output swaps work in the router right now!","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:25 am","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/SwapRouter.sol#L74","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:25 am","we swap in reverse, starting with sending the output to the user, and then inside the callback where we have to pay, we initiate another swap that pays the first pool with the output of that next swap, and rolls this up all the way to the end where the user finally pays the input","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:26 am","apologies, we don't have an example tailored toward arb/etc., but working on it!","",""
"744109870210482237","crypton#4126","11/05/2021 2:27 am","great, thanks! will check this out.","",""
"744109870210482237","crypton#4126","11/05/2021 2:29 am","have you also got a hint, where i could find a code example for this?","",""
"182969707299733504","noahzinsmeister","11/05/2021 2:31 am","sorry all i mean by this is that by the time you reach `uniswapV3SwapCallback` the contract already has been sent the tokens it will receive. if you're wondering where that happens, it's here: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol#L771","","üëç (1)"
"744109870210482237","crypton#4126","11/05/2021 2:33 am","thanks! i will have to think a bit about it :).","",""
"633272973280804866","_nick_1337","11/05/2021 3:01 am","i want to read the slot0 of a pool to get the current sqrtPrice and currentTick of the pool.
I am getting the following data back from a random pool, when asking for its slot0:
`0x000000000000000000000000000000000000000018a8f5384aad9aa954703bc6ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff492d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001`
I slice this response into 64-char-long items after removing the leading 0x.
So I get 7 items - which is the amount of attributes a Slot0 struct has. 
Is this slicing correct or am I missing something here? 

And what is the order of those items? Is it like defined in the struct in the contract? ( sqrtPrice, tick, ...stuff i dont care about)

Following the assumption it is like in the contract my values look a bit strange to me (after converting them from hex to decimal)
For example i get values like:
```
'sqrtPrice': 7631897791594637723392031686, 
'currentTick': 115792089237316195423570985008687907853269984665640564039457584007913129593133
```
Am I doing something wrong or am I missing a step?","",""
"76380671861325824","ashevs","11/05/2021 3:20 pm","Hi all, looking at integrating with V3 and looking to get a quote on a swap but saw the following in the IQuoter docs

""These functions are not marked view because they rely on calling non-view functions and reverting to compute the result. They are also not gas efficient and should not be called on-chain.""

The comments in the Quoter smart contract mention they should instead be optimistically executed. Any tips/examples on how to call to get a price on token0/token1 swap? Thanks in advance","",""
"744109870210482237","crypton#4126","11/05/2021 7:53 pm","@Noah Zinsmeister yesterday you wrote, that using flash makes only sense, if i repay the same asset which i borrowed. 

for this purpose i rewrote my contract. i'm using flash on a WBTC/WETH pool, borrowing WBTC. i want to pay back WBTC and for this purpose i'm swapping in the flash callback using the router. i need to use the same pool for swapping, which i already used for flash. do i guess right, that this will fail, as the flash pool is locked?","",""
"182969707299733504","noahzinsmeister","11/05/2021 7:59 pm","i assume you're doing this offchain? you probably want to use a standard abi decoder/interface to parse the return value","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:00 pm","if you want a price quote for a swap on-chain, you're probably better off just executing the swap and failing if the price isn't acceptable. the quoter is for getting price quotes off-chain","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:01 pm","yes, unfortunately you can't swap in the same pool that you're using flash in","",""
"76380671861325824","ashevs","11/05/2021 8:03 pm","thanks for the response, i'm actually looking initially for a price off-chain and if its favourable then moving it on-chain, so looking at how the interface interacts, looks like it uses Quoter just trying to get the params right with the pools etc","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:04 pm","yes that's right!","",""
"744109870210482237","crypton#4126","11/05/2021 8:06 pm","okay, thanks. tbh, i think the way flash works in v3 compared to v2 is a regression. in v2 i could decide, if i want to pay back the token i borrowed or the other pool token. in both cases i only payed the fee for using the pool. in v3 i could pay back the other token, but in that case i have to pay twice the fee: first for using the pool, second the fee which was passed to the flash callback.","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:07 pm","it's the same if you are able to decide whether you need to pay back in the same/other token before initiating a flash/swap","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:08 pm","but yeah it was simply impossible to keep full parity with v2 because of v3's increased complexity","",""
"744109870210482237","crypton#4126","11/05/2021 8:11 pm","could you please explain this a bit more? i know, if i want to pay back the other token before initiating flash.","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:11 pm","well then the fee isn't higher","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:11 pm","in both v2 and v3 you have to pay a fee on that","",""
"744109870210482237","crypton#4126","11/05/2021 8:15 pm","now i'm completely confused. yesterday you confirmed, that it's not a good idea to use flash and don't pay the borrowed token back, as i have to pay an additional fee in that case. i don't think i have to pay that fee in v2, as the flash callback doesn't receive a fee as a parameter.","",""
"763974842574962718","_allenlee","11/05/2021 8:20 pm","There's a problem with the search in the v3 documentation. Seems like your api quota has been exceeded","https://cdn.discordapp.com/attachments/823968973753810945/841688600260509746/Screen_Shot_2021-05-11_at_10.49.43_AM.png",""
"744109870210482237","crypton#4126","11/05/2021 8:25 pm","it really would help, if a flash documentation would exist for v3 like this one for v2 https://uniswap.org/docs/v2/smart-contract-integration/using-flash-swaps/. a v3 flash code example like the one for v2 would also be very useful.

right now i'm not sure, if it makes any longer sense using flash in v3. paying twice the fee than in v2 when not paying back the borrowed token isn't acceptable for me. paying back the borrowed token doesn't work as i'm not able to execute the necessary swaps due to locking.","",""
"76380671861325824","ashevs","11/05/2021 8:27 pm","ive got past the invalid argument errors when calling quoteExactInput now but getting a ""gas required exceeds allowance (0)"" error, do we have to pay gas fees to get a quote?","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:27 pm","@crypton you're not paying 2 fees. if you want to borrow WBTC (and return it) from a v3 pool, you can do so, and after the callback exits you'll need to pay the swap fee * the WBTC amount you borrowed","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:28 pm","the same is true in v2","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:29 pm","off-chain? yeah you do but it doesn't actually get paid","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:29 pm","it's just for metering, you should be able to call that function via infura or w/e","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:29 pm","we're working on an example contract: https://github.com/Uniswap/uniswap-v3-periphery/pull/132","",""
"76380671861325824","ashevs","11/05/2021 8:30 pm","ah interesting, i'm sending it through alchemy / ethers","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:30 pm","yeah that should work, try manually specifying a high gas limit. could be some error in your code still though, or maybe the pool doesnt exist","",""
"76380671861325824","ashevs","11/05/2021 8:31 pm","cool thanks for your help ill continue playing around","","üëçüèª (1)"
"76380671861325824","ashevs","11/05/2021 8:52 pm","overriding the gasLimit on the transaction gives a new error ""insufficient funds for gas * price + value"" , if i fund the wallet used to call this what stops it from actually paying the gas fees? apologies if silly question, just haven't seen the requirement to send a transaction to get pricing data returned previously","",""
"383342717188702208","xatarrer","11/05/2021 8:58 pm","@Noah Zinsmeister If the Uniswap v3 oracle has already been updated for this block and my contracted already queried the oracle, I can avoid calling the oracle for the remainer of the block. However, I cannot seem to find any public variable that allows me to check the last block where price was updated.","",""
"182969707299733504","noahzinsmeister","11/05/2021 8:59 pm","oh are you using callStatic? you need to use it: https://docs.ethers.io/v5/api/contract/contract/#contract-callStatic","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:00 pm","that specifies that you just want to get the return value of a tx","","üëèüèª (1)"
"182969707299733504","noahzinsmeister","11/05/2021 9:00 pm","also will let you manually specify a sender so you don't get that insufficient funds error (though you might not even need that if you use callStatic)","",""
"383342717188702208","xatarrer","11/05/2021 9:01 pm","Oh, never mind. I can call `observations`","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:02 pm","you beat me to it","","üòÜ (1)"
"182969707299733504","noahzinsmeister","11/05/2021 9:03 pm","out of curiosity why do you need the last block in which the oracle was updated?","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:03 pm","(if you don't mind sharing)","",""
"383342717188702208","xatarrer","11/05/2021 9:03 pm","no, of course not","",""
"383342717188702208","xatarrer","11/05/2021 9:04 pm","I want to know the latest price every time someone trades in my contract. I need to keep checking the oracle if the price has not yet been updated in the current block. Once it is updated I can stop querying the oracle.","",""
"383342717188702208","xatarrer","11/05/2021 9:04 pm","Perhaps there is a more efficient way?","",""
"383342717188702208","xatarrer","11/05/2021 9:04 pm","My understanding is that the price is updated on the 1st trade (in Uniswap v3) of every block.","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:10 pm","i see! so, while i think manually querying  `observations` would work, it's probably a little complex. since the oracle can only ever give you prices as of the beginning of the current block (or earlier), you might be better off simply calling `observe([1, 0])`. this will give you two observations which you can then difference to get the tick, and subsequently the price","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:11 pm","the 0 secondsAgo observation is current as of the beginning of the block, and the 1 secondsAgo observation is basically just to get a baseline to run your delta calculation","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:11 pm","only caveat is that you need to increase the observation array length to 2, via https://docs.uniswap.org/reference/UniswapV3Pool#increaseobservationcardinalitynext","",""
"383342717188702208","xatarrer","11/05/2021 9:13 pm","So Im interested in getting a TWAP, but I'd like to have the freshest TWAP. I believe `observe` would not tell me whether it is freshly (current block) calculated or not.","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:14 pm","that is correct","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:15 pm","if you need to know whether the oracle has been updated already in the current block, you will need `observations`","",""
"383342717188702208","xatarrer","11/05/2021 9:15 pm","thanks","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:15 pm","np! seems like you're on the right track üôÇ","",""
"383342717188702208","xatarrer","11/05/2021 9:15 pm","haha!","",""
"744109870210482237","crypton#4126","11/05/2021 9:27 pm","i'm using web3.eth and could call quoteExactInputSingle without problems.","","üëèüèª (1)"
"76380671861325824","ashevs","11/05/2021 9:33 pm","thanks, callStatic in ethers sorted it thanks to @Noah Zinsmeister , all working","",""
"182969707299733504","noahzinsmeister","11/05/2021 9:40 pm","sweeeeet","",""
"383342717188702208","xatarrer","12/05/2021 12:22 am","Hey @Noah Zinsmeister. Once a pool is open, can it be closed in Uniswap v3? In other words, can we be sure the oracle will always work?","",""
"183309006767521792","jorropo","12/05/2021 1:13 am","no it can't.
However users may remove all of their liquidity, this will render the oracle values meaning less as no one would arbitrage an empty pool.","","üëå (1)"
"194693087514198016","abcstatus","12/05/2021 4:25 am","How to add liquidity you can break your head","",""
"236668935318142977","hodlforjesus","12/05/2021 6:41 am","Hey guys made some great progress with extracting Uniswap V3 data. I've been able to extract:

- Current NFT Owner (Even if ownership changes or liquidity is removed)
- Tick ranges
- Original Pooled liquidity (both amount0 and amount1)
- Current pool ownership %

All of this is done in real-time and handles infinite amount of holders. I will be moving to  some trade analytics next but my V3 integration is coming along great!","https://cdn.discordapp.com/attachments/823968973753810945/841844903046414416/v3Pool.png","üëç (2),üëè (3)"
"386279649157840897","MarioDustice#5393","12/05/2021 7:24 am","ETH moved out of my price range for my USDC/ETH pair, when ETH was 3500 I set the range to 3100-4100... what are my options right now? Withdraw whole pool and re-establish?","",""
"633272973280804866","_nick_1337","12/05/2021 8:36 am","thats awesome. i would love to see currentSqrtPrice and currentTick, if that is possible","",""
"456226577798135808","Deleted User","12/05/2021 8:47 am","You will have to reprice your nft, if your looking for a simpler solution a few automated platforms are about to pop up as early as next Monday to handle the rebalancing for you. You will always be in range with Lixir.finance and earning in a smaller concentrated range to maximize fees.","",""
"633272973280804866","_nick_1337","12/05/2021 8:50 am","how can i get current values for sqrtPrice and tick of a pool to verify my results? there are no verified pools on etherscan, right?","",""
"386279649157840897","MarioDustice#5393","12/05/2021 8:53 am","You‚Äôre saying I could just deposit the NFT into a platform and get leverage with it? Wild if I‚Äôm reading right haha","",""
"386279649157840897","MarioDustice#5393","12/05/2021 8:53 am","Im a patient and yolo investor","",""
"456226577798135808","Deleted User","12/05/2021 8:54 am","Lixir Protocol delivers optimal capital efficiency, minimum impermanent loss and solves the inactive liqudity problem in Uniswap v3 yield farming. Simply choose your desired token pairs, and Lixir optimizes and auto-balances your positions accordingly. 
DYOR tons of info about lixir on medium   & the website!
A great integration for v3 hoping to get a grant and make a uni specific application","",""
"456226577798135808","Deleted User","12/05/2021 8:55 am","Basically you have options","",""
"386279649157840897","MarioDustice#5393","12/05/2021 8:55 am","I currently use Uniswap, Bitrue, Aave, BlockFi, and a couple others","",""
"386279649157840897","MarioDustice#5393","12/05/2021 8:55 am","Just so hard to keep up with everything","",""
"705853584608067645","cryptonite6383","12/05/2021 10:49 am","Need urgent help","",""
"705853584608067645","cryptonite6383","12/05/2021 10:49 am","V3 issues on Uniswap","",""
"705853584608067645","cryptonite6383","12/05/2021 10:50 am","@all","",""
"762139190867132416","thequeen13#2348","12/05/2021 10:51 am","Any developers willing to solve an urgent issue ? Willing to pay BIG money","",""
"336243088500588545","jab.sh","12/05/2021 11:54 am","@Cryptonite please open a ticket if you need help, see #üìåfaq-old for instructions","",""
"762139190867132416","thequeen13#2348","12/05/2021 12:47 pm","Can someone respond my ticket ??","",""
"96978835043524608","stadl0r","12/05/2021 2:06 pm","Has anyone got charts working for v3 on uniswap? Doesn‚Äôt seem to work anywhere","",""
"428699196514893825","kassandra.eth","12/05/2021 4:12 pm","Question! I know it increases gas to do larger swaps as you cross more initialized ticks. Does gas used in swap scale linearly with amount of initialized ticks crossed ? Is there a scenario where a trade is so large that the swap reverts for exceeding the block gas limit ?","",""
"234038230155132928","madcake92","12/05/2021 7:38 pm","is there any helper to decode the sqrtpriceX96 to a human readable value","",""
"742334030867070997","leria077","12/05/2021 7:46 pm","","https://cdn.discordapp.com/attachments/823968973753810945/842042596992745482/Screenshot_2021-05-12-21-46-51-50.jpg",""
"742334030867070997","leria077","12/05/2021 7:47 pm","Hello, how can I migrate v2 LP to V3? what do I need to place to allow the LP migration?","",""
"428699196514893825","kassandra.eth","12/05/2021 7:50 pm","no but if you take the value returned, divide by 2^96, and then square that, you get the price in ""normal"" units","","üôå (1)"
"478954549504114700",".rrecuero","12/05/2021 9:51 pm","üëã  one question, what are the units of `pool.liquidity()`   token0, token 1? For example, how to check that there is more than 1000 ETH in liquidity in  a pool? I am also checking the deviation using liquidity cumulatives dividing by the delta in seconds between observations. I am just missing the actual absolute check","",""
"396019781754683403","mario.revert.finance","12/05/2021 10:45 pm","Hi, noticed that the UI code switched to calling Collect statically on the position manager, instead of calculating fees with the  getCounterFactualFees function as before. Wondering if there was something wrong with that implementation","",""
"141155201120731136","brettsun","12/05/2021 10:50 pm","To check how much is collected in the pool, you can query the token balance of the pool directly. For ETH, you'd want to use WETH9's contract. `pool.liquidity()` is the sqrt product of both token0 and token1 so you could also go in reverse, e.g. `token 1 balance of pool = pool.liquidity()^2 / token0.balance(pool)`","",""
"141155201120731136","brettsun","12/05/2021 10:56 pm","I was trying this with the WETH/USDC pool and getting some weird interpretations. The pool is currently giving me:

- `sqrtPriceX96`: 1238549700498296155075555330772205
- `tick`: 193152

Which then gives me ~2.3 * 1e8 after the formula (adjusting for usdc's 6 decimals, this would be ~250?): https://www.wolframalpha.com/input/?i=%281238546379217592926470014513895600%2F2%5E96%29%5E2%2F1e6","",""
"141155201120731136","brettsun","12/05/2021 10:57 pm","It's an infinite loop, so yes, theoretically it would be possible to go oog on a swap crossing a large amount of ticks.","",""
"478954549504114700",".rrecuero","12/05/2021 11:14 pm","Thank you, appreciate it","",""
"744109870210482237","crypton#4126","12/05/2021 11:36 pm","@Noah Zinsmeister is it still like in v2, that the router receives/sends ETH and not WETH? thanks.","",""
"336243088500588545","jab.sh","12/05/2021 11:46 pm","Yes it handles both","",""
"76380671861325824","ashevs","13/05/2021 12:30 am","I'm getting an fail with error, 'STF' using swapRouter on kovan, seen elsewhere that it could be a slippage tolerance issue? i'm currently passing sqrtPriceLimitX96 = 0, what should this be to allow say 0.5% slippage please?","",""
"399617942087532545","_connormartin","13/05/2021 12:34 am","thats the Safe Transfer From error if the transfer fails","",""
"399617942087532545","_connormartin","13/05/2021 12:34 am","not a slippage issue, maybe an approve thats missing","",""
"76380671861325824","ashevs","13/05/2021 12:37 am","ah ok thanks will have a play, and just to confirm using SwapRouter ExactInputSingle we still receive the swapCallback and have to pay the input token + fee there?","",""
"399617942087532545","_connormartin","13/05/2021 12:38 am","yep","","üëèüèª (1)"
"76380671861325824","ashevs","13/05/2021 12:38 am","thank you","",""
"428699196514893825","kassandra.eth","13/05/2021 2:56 am","this checks out in that 1.0001^tick == (sqrtPriceX96/2^96)^2. but either that's just way off the real price (was this on mainnet?) or is just you need to handle the decimals in a different way. That formula will def work for two 18 decimal tokens","",""
"141155201120731136","brettsun","13/05/2021 3:42 am","Yes, this is on mainnet with the weth/usdc pool at https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8","",""
"336243088500588545","jab.sh","13/05/2021 3:42 am","iirc usdc has 8 or 9 decimals (not 18)","",""
"141155201120731136","brettsun","13/05/2021 3:43 am","It definitely has 6, wbtc is the one with 8 üôÇ","","üëç (1)"
"141155201120731136","brettsun","13/05/2021 3:44 am","But I'm just really confused as to how to get from the tick/sqrtPrice to the actual price in this case","",""
"428699196514893825","kassandra.eth","13/05/2021 3:44 am","yes it has 6 decimals","",""
"428699196514893825","kassandra.eth","13/05/2021 3:44 am","so this makes sense if the price is actually (10^18)/ 4000*10^6","",""
"428699196514893825","kassandra.eth","13/05/2021 3:45 am","then this price actually makes sense","",""
"141155201120731136","brettsun","13/05/2021 3:47 am","Right... it needs to take into account the other side's decimals","",""
"141155201120731136","brettsun","13/05/2021 3:47 am","Ok, that does make sense","",""
"428699196514893825","kassandra.eth","13/05/2021 3:48 am","Price = 1.0001^tick
SqrtPriceX96 = sqrt(Price)* 2^96","",""
"141155201120731136","brettsun","13/05/2021 3:48 am","So in this case, WETH is actually the quote token and it's 1/1e6 USDC => 2.3*1e8 wei of WETH","",""
"428699196514893825","kassandra.eth","13/05/2021 3:54 am","so here:
price = 1.0001^tick = 1.0001^193152 = ~245,359,270
price = WETH/USDC = 10^18/4000*10^6 = ~250,000,000
price = (sqrtPriceX96/2^96)^2 = ~244,381,153","",""
"141155201120731136","brettsun","13/05/2021 3:57 am","Yep, all cleared up üòÑ. Kept thinking it was the other way around (1wei of ETH => ~2.3 * 1e8 USDC).","","üëç (1)"
"336243088500588545","jab.sh","13/05/2021 4:00 am","does btc even have 8? I thought it was a multiple of 3","",""
"336243088500588545","jab.sh","13/05/2021 4:00 am","ok good, it is 8","",""
"336243088500588545","jab.sh","13/05/2021 4:00 am","I was going to have a lot of questions...","",""
"428699196514893825","kassandra.eth","13/05/2021 4:01 am","usdt also 8","",""
"141155201120731136","brettsun","13/05/2021 4:01 am","@kassandra.eth related to the above, I was wanting to sanity check my understanding of base/quote and token0/token1","",""
"141155201120731136","brettsun","13/05/2021 4:02 am","I think I flipped how I understood token0/token1 and that's what led me to the confusion, so with the WETH/USDC pool, USDC is token0 and the pool is actually priced with USDC as the base and WETH as the quote?","",""
"428699196514893825","kassandra.eth","13/05/2021 4:09 am","yeah token0 vs token1 is decided semi-randomly (by which token has a 'lower' contract address when thought of as a hex number)","","‚òùÔ∏è (1)"
"336243088500588545","jab.sh","13/05/2021 4:09 am","token0 is the lexicographically lower one","","üëç (1)"
"141155201120731136","brettsun","13/05/2021 4:12 am","Yep, and tick pricing is based on token0 being the base? Confirming from the above on 

> price = 1.0001^tick = 1.0001^193152 = ~245,359,270

The pool is saying that 1 unit of USDC (1/1e6) is equivalent to 250,000,000 wei of ETH","",""
"236668935318142977","hodlforjesus","13/05/2021 6:11 am","Thought you guys might find this update cool. I've been adding Uniswap V3 integration into real-time ledgers. So you can do filtering, sorting and date-range filters.

Also prices are in USD (using historic on-chain USDC pricing).","https://cdn.discordapp.com/attachments/823968973753810945/842199802162053140/v3Ledger.png",""
"552220106223124490","cloot.org#6416","13/05/2021 8:11 am","How can I call `NonfungiblePositionManager.mint()` directly through Etherscan?","",""
"552220106223124490","cloot.org#6416","13/05/2021 8:11 am","","https://cdn.discordapp.com/attachments/823968973753810945/842229972100710400/unknown.png",""
"552220106223124490","cloot.org#6416","13/05/2021 8:11 am","It requires a `params (tuple)` type, which I don't know how to construct it","",""
"620960714424582144","0x.H#4625","13/05/2021 8:29 am","Why is there no sending address in v3 expert mode?","",""
"336243088500588545","jab.sh","13/05/2021 8:43 am","I think you can pass in something like this? `(a,b,c)`","",""
"336243088500588545","jab.sh","13/05/2021 8:43 am","not sure","",""
"336243088500588545","jab.sh","13/05/2021 8:43 am","if you have an example of it being called, you can work off of that","",""
"552220106223124490","cloot.org#6416","13/05/2021 9:05 am","tried this, it doesn't work","",""
"694598006821093377","feebleape#3754","13/05/2021 9:22 am","is there a contract function which can be called that lists the collected/accrued fees for a LP NFT positionID?","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:01 am","Figured it out myself, the correct string should be `{ ""token0"":""0x4f96fe3b7a6cf9725f59d353f723c1bdb64ca6aa"", ""token1"":""0xb7a4f3e9097c08da09517b5ab877f7a917224ede"", ""fee"":""500"", ""recipient"":""0xB982df4f788fdA450c3C98E69B2118f9DF057460"", ""tickLower"":""-513"", ""tickUpper"":""487"", ""amount0Desired"":""10000000000000000"", ""amount1Desired"":""100270"", ""amount0Min"":""0"", ""amount1Min"":""0"", ""deadline"":""2720879736"" }`, here is a follow up question","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:05 am","[Kovan] The above string is trying to provide liquidity by `mint` through `NonfungiblePositionManager.mint()`, you can check that I have approve `0xc36442b4a4522e871399cd717abdd847ab11fe88` to spend both `DAI` and `USDC` from `0xB982df4f788fdA450c3C98E69B2118f9DF057460`. However, submiting this tx through Etherscan fails. Can anybody please help me to figure it out? Besides, `UniswapV3Pool` seems to be not verified on both mainnet and kovan. This make it hard to debug what is going on underneath. (To verify this, you might need to get some DAI and USDC, which you could borrow from Compound kovan)","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:06 am","","https://cdn.discordapp.com/attachments/823968973753810945/842258923587371028/unknown.png",""
"336243088500588545","jab.sh","13/05/2021 10:06 am","interesting","",""
"336243088500588545","jab.sh","13/05/2021 10:06 am","what does metamask say?","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:07 am","Here is a failed transaction: https://kovan.etherscan.io/tx/0x4b8b920c4935a98ed1606ea7b7a4b3e3af00d28a1f04a05bb92cf5e857b37677","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:08 am","The tx is reverted, you can see the above etherscan link","",""
"336243088500588545","jab.sh","13/05/2021 10:13 am","and you have allowances on both? hm","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:19 am","yes, you could check the allowance from above mentioned token addresses","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:42 am","Seems like my `tickUpper` and `tickLower` was wrong, see the following two strings, one succeeds, one fails","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:43 am","Success (adding usdc+usdt): `{ ""token0"":""0x07de306FF27a2B630B1141956844eB1552B956B5"", ""token1"":""0xb7a4f3e9097c08da09517b5ab877f7a917224ede"", ""fee"":""500"", ""recipient"":""0xB982df4f788fdA450c3C98E69B2118f9DF057460"", ""tickLower"":""-5130"", ""tickUpper"":""4870"", ""amount0Desired"":""1000000"", ""amount1Desired"":""1000000"", ""amount0Min"":""0"", ""amount1Min"":""0"", ""deadline"":""99720879736"" }`","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:44 am","Failed one (adding usdc+usdt): `{ ""token0"":""0x07de306FF27a2B630B1141956844eB1552B956B5"", ""token1"":""0xb7a4f3e9097c08da09517b5ab877f7a917224ede"", ""fee"":""500"", ""recipient"":""0xB982df4f788fdA450c3C98E69B2118f9DF057460"", ""tickLower"":""-513"", ""tickUpper"":""487"", ""amount0Desired"":""1000000"", ""amount1Desired"":""1000000"", ""amount0Min"":""0"", ""amount1Min"":""0"", ""deadline"":""99720879736"" } `","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:44 am","For tick `-513` and `487`, I was trying to set the price range into `(0.95, 1.05)`, can anyone help me to figure out what is wrong here? What is the right tick for this range?","",""
"552220106223124490","cloot.org#6416","13/05/2021 10:45 am","apology if this is too annoying","",""
"336243088500588545","jab.sh","13/05/2021 11:07 am","Yeah, I trust you üòÜ","",""
"234038230155132928","madcake92","13/05/2021 3:54 pm","I made some backtesting, experimenting with the range orders features -> https://docs.uniswap.org/concepts/V3-overview/range-orders . In the context of a higher tier fee pool, there wasn't much difference between going the ""take profit"" route depicted in the docs (got a 0.12% extra from fees), when compared to calling the top with a normal swap. What reason or incentives are there to use this system? Maybe I am missing something here, I don't grasp the use case","",""
"392857175191715840","arc4num_","13/05/2021 6:55 pm","In v2 I was using the pairs' Sync events in order to monitor price changes. In v3 should I use Mint, Swap, etc events on the pools for this?","",""
"396019781754683403","mario.revert.finance","13/05/2021 7:54 pm","You can filter the NFT Manager's event logs for ""Collect"" events that match the token id.","",""
"396019781754683403","mario.revert.finance","13/05/2021 7:55 pm","For the uncollected fees, you can calculate them from the pool state and position  as implemented here https://github.com/Uniswap/uniswap-interface/blob/6c880d29a64a497c61202a089243aeb2e544af2c/src/hooks/useV3PositionFees.ts#L18","",""
"474192725239922688","Admin 2gether#5639","13/05/2021 9:03 pm","hi, what is the FACTORY_ADDRESS and INIT_CODE_HASH for UNI v3 please","",""
"396019781754683403","mario.revert.finance","13/05/2021 9:18 pm","From the v3-sdk: 0x1F98431c8aD98523631AE4a59f267346ea31F984 and 0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54","",""
"474192725239922688","Admin 2gether#5639","13/05/2021 9:18 pm","tks for the help","",""
"396019781754683403","mario.revert.finance","13/05/2021 9:19 pm","np","",""
"633272973280804866","_nick_1337","13/05/2021 10:34 pm","i want to calculate the current tick from the sqrtPrice. I verified my sqrtPrice using the eventLogs of a pool. 
(The Swap event is posting the SqrtPrice and its the same hex-value as i get when calling for the slot0 of the pool.)
Now I want to use the function mentioned on p.6 in the whitepaper:","",""
"633272973280804866","_nick_1337","13/05/2021 10:34 pm","","https://cdn.discordapp.com/attachments/823968973753810945/842447208342487040/unknown.png",""
"633272973280804866","_nick_1337","13/05/2021 10:36 pm","i implemented it like this (using math lib in python):
`math.floor(math.log(sqrtPrice, math.sqrt(1.0001)))`
and also tried the following
`math.floor(math.log(sqrtPrice, math.sqrt(1.0001)) * sqrtPrice)`
both are giving me invalid values for the tick. the results are all positive and most often greater than the MaxTick.","",""
"633272973280804866","_nick_1337","13/05/2021 10:36 pm","following pool data i am generating for now. you can see the pools with sqrtPrice and the calculated ""current tick"" as the last items of each pool-entry. I am pretty sure the sqrtPrice is correct so there must be an error in using this relative simple log function. But idk what i am doing wrong at this moment.","",""
"633272973280804866","_nick_1337","13/05/2021 10:37 pm","","https://cdn.discordapp.com/attachments/823968973753810945/842447928349818900/uniswapV3pools.json",""
"762668904387706920","mw#2715","13/05/2021 11:06 pm","i think you gotta divide the sqrtPrice by 2^96","",""
"762668904387706920","mw#2715","13/05/2021 11:07 pm","this is the python code i'm using:
```
floor(2 * log(sr / (1 << 96), 1.0001))
```","","üëè (2)"
"633272973280804866","_nick_1337","14/05/2021 4:22 am","awesome. thank you @mw üëç","","üëç (1)"
"762668904387706920","mw#2715","14/05/2021 4:46 am","np üôÇ","",""
"694598006821093377","feebleape#3754","14/05/2021 5:21 am","Thanks! I see that the new code has moved to calling the collect() contract function - https://github.com/Uniswap/uniswap-interface/blob/b2f88965a9435ef5d55f30ce028a049439fd6cba/src/hooks/useV3PositionFees.ts#L12

Any thoughts on one approach vs the others?","",""
"396019781754683403","mario.revert.finance","14/05/2021 7:18 am","Well assuming you have the pool and position state already, you can compute the fees without that static call to collect. That being said, don't know why the devs switched their approach","",""
"831719129663668276","PurpleFlame#3827","14/05/2021 7:23 am","Is revert uniswap v3 compatiable yet?","",""
"396019781754683403","mario.revert.finance","14/05/2021 7:43 am","Working in it!","","Uni (1)"
"759605824825458738","michaelstone#5047","14/05/2021 9:37 am","Why 96 if you don't mind I'm asking? Thanks!","",""
"759605824825458738","michaelstone#5047","14/05/2021 9:40 am","ah so some special Q (number format) is used in the contract?","",""
"762668904387706920","mw#2715","14/05/2021 3:30 pm","Yup exactly","",""
"762668904387706920","mw#2715","14/05/2021 3:31 pm","Just the convention they use - sqrt prices multipled by 2^96","",""
"759605824825458738","michaelstone#5047","14/05/2021 6:23 pm","I see thx max!","","üëç (1)"
"428699196514893825","kassandra.eth","14/05/2021 7:29 pm","Hello there! I've been having issues calling `pool.observe([3600, 0])` I get the 'OLD' error code from the codebase which on inspection seems to be from here: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/Oracle.sol#L226","",""
"428699196514893825","kassandra.eth","14/05/2021 7:31 pm","I'm wondering what I'm missing and why I revert when I try this. I took the [3600, 0] parameters from the comment over observe function that says these parameters will get you to the ""TWAP over last 1 hour""","",""
"762668904387706920","mw#2715","14/05/2021 7:36 pm","the `increaseObservationCardinalityNext()` method has to be called on that pool","",""
"762668904387706920","mw#2715","14/05/2021 7:37 pm","then it allows older snapshots to be fetched","",""
"428699196514893825","kassandra.eth","14/05/2021 7:37 pm","so the problem is that 3600 is too ""old"" of a snapshot","",""
"428699196514893825","kassandra.eth","14/05/2021 7:37 pm","3600 seconds ago","",""
"762668904387706920","mw#2715","14/05/2021 7:37 pm","yup","",""
"762668904387706920","mw#2715","14/05/2021 7:38 pm","most pools haven't had that method called i think","",""
"762668904387706920","mw#2715","14/05/2021 7:38 pm","so they wouldn't even support an observation 1 block ago","",""
"428699196514893825","kassandra.eth","14/05/2021 7:38 pm","can anyone call these methods they are public","",""
"762668904387706920","mw#2715","14/05/2021 7:38 pm","yeah anyone can call","",""
"762668904387706920","mw#2715","14/05/2021 7:39 pm","i called it on ETH/USDC before so it supports up to a few minutes now i think","",""
"762668904387706920","mw#2715","14/05/2021 7:39 pm","but it might cost a lot of gas to get it up to 1 hour","",""
"428699196514893825","kassandra.eth","14/05/2021 7:55 pm","so every time we increaseObservationCardinalityNext we add one more observation into the length of past observations tracked","",""
"762668904387706920","mw#2715","14/05/2021 7:55 pm","yup","",""
"762668904387706920","mw#2715","14/05/2021 7:55 pm","you can also call it with a larger number to increase it more","",""
"428699196514893825","kassandra.eth","14/05/2021 7:56 pm","so then observations happen every block","",""
"762668904387706920","mw#2715","14/05/2021 7:56 pm","iirc they're stored if price crosses a tick boundary","","üëç (1)"
"428699196514893825","kassandra.eth","14/05/2021 7:57 pm","its interesting on WETH/DAI pool i was able to get `pool.observe([300,0])`  to work sometimes but not others","",""
"428699196514893825","kassandra.eth","14/05/2021 7:57 pm","this is because its not exact when observations will be","",""
"428699196514893825","kassandra.eth","14/05/2021 7:57 pm","so sometimes the current oldest obs is more than 300s ago","",""
"428699196514893825","kassandra.eth","14/05/2021 7:57 pm","and sometimes it is not","",""
"762668904387706920","mw#2715","14/05/2021 7:58 pm","ya exactly","",""
"762668904387706920","mw#2715","14/05/2021 7:58 pm","i was hoping someone would just increase it to several days lol","",""
"762668904387706920","mw#2715","14/05/2021 7:58 pm","then we wouldn't have to worry about this","",""
"428699196514893825","kassandra.eth","14/05/2021 7:58 pm","yeah","",""
"399617942087532545","_connormartin","14/05/2021 9:02 pm","`increaseObservationCardinalityNext` is an internal function - one that is called by `grow` in the oracle - https://docs.uniswap.org/reference/core/libraries/Oracle#grow","",""
"399617942087532545","_connormartin","14/05/2021 9:02 pm","Grow increases the length of the oracle array - anyone can call it who is willing to pay the gas to do so","",""
"399617942087532545","_connormartin","14/05/2021 9:03 pm","trying to return an observation before the oldest populated observation at a given time with give you the error you mentioned above","","üëç (1)"
"428699196514893825","kassandra.eth","14/05/2021 9:23 pm","@Connor Martin  but here it seems like increaseObservationCardinalityNext is external","",""
"428699196514893825","kassandra.eth","14/05/2021 9:24 pm","https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol#L255","",""
"428699196514893825","kassandra.eth","14/05/2021 9:24 pm","Am I mistaken somehow ?","",""
"428699196514893825","kassandra.eth","14/05/2021 9:26 pm","and `grow` seems to be the internal one here: https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/Oracle.sol#L108","",""
"428699196514893825","kassandra.eth","14/05/2021 9:31 pm","I think you just flipped the names, because in the code looks like `increaseObservationCardinalityNext` is external and internal function `grow` is called inside that method","",""
"428699196514893825","kassandra.eth","14/05/2021 9:41 pm","but please let me know if I'm making some error ( and thanks a lot for responding üôÇ )","",""
"399617942087532545","_connormartin","14/05/2021 9:51 pm","whoops yes you are right i flipped the names","","üëç (2)"
"345334029475774466","danielesesta#5744","14/05/2021 10:26 pm","Hello I‚Äôve made both a auto rebalancing for v3 NFT ranges to keep it in the most profitable price range and testing also a liquidity mining program for NFTs so projects can incentivise v3 liquidity is this elegible for grants?","",""
"140289351836762113","nebula0820","14/05/2021 11:09 pm","How can I get my liquidity, in terms of USDC and ETH? I see that I can call positions(tokenId) and do the math manually. But is there an easier way?","",""
"478422369606696990","rlrahulkanojia","15/05/2021 3:45 am","have you tried it manually? if so, can you please share any sample code or something which can help me get started?","",""
"399617942087532545","_connormartin","15/05/2021 5:03 am","anyone can apply - if you think it may be relevant put in an application!","",""
"140289351836762113","nebula0820","15/05/2021 5:43 am","@rlrahulkanojia The example code I'm using as reference is the uniswap webpage. Starts at line 68 of <https://github.com/Uniswap/uniswap-v3-sdk/blob/main/src/entities/position.ts>","",""
"478422369606696990","rlrahulkanojia","15/05/2021 6:03 am","Thanks a lot! will follow it up","",""
"428699196514893825","kassandra.eth","15/05/2021 3:45 pm","quick question in here for someone who knows. How do I calculate the current unclaimed fees for a position? I know I have to call `.positions` but what do I do with feeGrowthInsideLast1, feeGrowthInsideLast0 to get the amount of each asset I would actually receive if I collected now ?","",""
"694598006821093377","feebleape#3754","15/05/2021 3:59 pm","see my questions above","",""
"428699196514893825","kassandra.eth","15/05/2021 4:07 pm","yeah I just saw the static call to collect in the interface code before seeing this","",""
"428699196514893825","kassandra.eth","15/05/2021 4:07 pm","that seems like a really nice and simple way to do it!","",""
"428699196514893825","kassandra.eth","15/05/2021 5:26 pm","hmm still not getting results that make sense to me when trying to calculated uncollected fees earned...","",""
"428699196514893825","kassandra.eth","15/05/2021 8:39 pm","fyi this method worked best for me: https://github.com/Uniswap/uniswap-interface/blob/6c880d29a64a497c61202a089243aeb2e544af2c/src/hooks/useV3PositionFees.ts#L18","","üëç (1)"
"843223950845804584","magicu#4033","16/05/2021 2:20 am","@kassandra.eth was just pulling my hair out trying to observe fee increases on a UniswapV3Pool position, via the 
(, , , fees0, fees1) = pool.positions(myPositionKey);
and noticing some swaps seem to accrue(swaps made in lp managemnt contract itself) and others do not( swaps made via nft position swaps in same liquidity range)
Is this something you've encounterd in your unclaimed fees explorations?","",""
"336243088500588545","jab.sh","16/05/2021 2:21 am","@magicu can you elaborate on the difference between these two swaps?","",""
"843223950845804584","magicu#4033","16/05/2021 2:23 am","Basically, have a fork of charm.fi's lp manager contract and adding some swaps for basic poc of single-asset deposits.
Ony the swaps  used to balance the single-sided asset deposits seem to accrue fees.
Meanwhile, in my tests ( hardhat) i use an nft position in the same range ( so i can call swap outside of a contract/ without callback), none of these swaps seem to accrue fees","",""
"843223950845804584","magicu#4033","16/05/2021 2:24 am","I log fees in a 'rebalance' function where position is exited and new range entered. Before I burn the position, i check (, , , fees0, fees1) = pool.positions(myPositionKey);","",""
"843223950845804584","magicu#4033","16/05/2021 2:28 am","Sure enough the deposit's swaps accrued fees. The nft's swaps in my tests did not","",""
"428699196514893825","kassandra.eth","16/05/2021 2:42 am","its not quite as simple as grabbing the `feeGrowthInsideLast0X128` you need to use that and a number of other values all which you can fetch on public methods in the pool, then use the formula in `getCounterfactualFees` here: https://github.com/Uniswap/uniswap-interface/blob/6c880d29a64a497c61202a089243aeb2e544af2c/src/hooks/useV3PositionFees.ts#L18","",""
"843223950845804584","magicu#4033","16/05/2021 2:56 am","Thank you","",""
"428699196514893825","kassandra.eth","16/05/2021 4:21 am","Welcome üôÇ","",""
"762668904387706920","mw#2715","16/05/2021 5:01 pm","hi i wrote charm's lp manager contract so happy to answer any questions about it üôÇ","",""
"762668904387706920","mw#2715","16/05/2021 5:02 pm","one thing is you have to poke the uniswap pool by calling `burn()` with 0 liquidity - the owed amounts in the position are only updated after a mint/burn","",""
"762668904387706920","mw#2715","16/05/2021 5:03 pm","this is another example from NFP manager - https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/NonfungiblePositionManager.sol#L330","",""
"367891209668263936","deep5566","17/05/2021 6:32 pm","hey team, i'm looking for any projects which have implemented liquidity mining (with staking and all) on uniswap v3. would be very helpful if anyone could share examples/github repos üôÇ","",""
"755833436681273571","Don#3285","17/05/2021 6:48 pm","Hey all, anyone have experience here creating stablecoin pools with uniswap v3?","",""
"478422369606696990","rlrahulkanojia","17/05/2021 6:49 pm","Hey, can you please tell me how can get days of data from subgrapgh api? Any other method which could be more helpful?","",""
"336243088500588545","jab.sh","17/05/2021 8:47 pm","@Deep I believe there's a grant proposal for this","",""
"367891209668263936","deep5566","17/05/2021 10:15 pm","yep! thanks","",""
"399617942087532545","_connormartin","17/05/2021 10:41 pm","there is some active work happening on canonical liquidity mining contracts","",""
"392695673897615370","thisisrodent","17/05/2021 10:42 pm","Anyone done the boring LP automations yet?","",""
"367891209668263936","deep5566","17/05/2021 11:08 pm","sorry not sure what you mean by ""canonical liquidity mining"". how can i find out more about this?","",""
"399617942087532545","_connormartin","18/05/2021 12:05 am","were working on examples, or a deployable instance, that will help most needs for liquidity mining. They're not ready yet - but will be publicly available as soon as they are ready","",""
"367891209668263936","deep5566","18/05/2021 1:27 am","gotcha, thanks! it seems this is separate from the grant proposal mentioned by @jab above. is that right?","",""
"336243088500588545","jab.sh","18/05/2021 1:27 am","I'm not sure if it's different","",""
"755833436681273571","Don#3285","18/05/2021 3:01 am","Just surfacing this again","",""
"336243088500588545","jab.sh","18/05/2021 3:02 am","are you experiencing issues?","",""
"755833436681273571","Don#3285","18/05/2021 5:56 am","We are hoping to enable users to provide liquidity for pre-existing targeted ranges. We are hoping to link direct to those target ranges from our UI for users to be able to create but haven't been able to find an easy way to do so within the Uniswap app","",""
"755833436681273571","Don#3285","18/05/2021 5:58 am","Or alternatively how can we predefine the target ranges for other users to create","",""
"336243088500588545","jab.sh","18/05/2021 8:18 am","ah, you want to deep link with lp ranges? Interesting","",""
"336243088500588545","jab.sh","18/05/2021 8:18 am","would you mind opening a github issue for this? <https://github.com/Uniswap/uniswap-interface/issues/new/choose>","",""
"101116048870223872","SI_IP#9087","18/05/2021 8:27 am","does timestamp_gt not work in V3?","",""
"101116048870223872","SI_IP#9087","18/05/2021 8:57 am","does the v3 subgraph have a pair field? to get the price on a pair?","",""
"101116048870223872","SI_IP#9087","18/05/2021 8:57 am","i see most everything else but not sure if that got renamed or what","",""
"792375636403945522","pnf#9702","18/05/2021 3:37 pm","Working on integrating my app. For some pools, e.g. 0x11184bf5937beb9085b4f070e7b410be052e37a6 the current tick maps to a tickbtimap index (currently = -6) that has no ticks, the surrounding tickbitmap indices have no ticks either. How to get the tick data for this pool? Tx","",""
"843155325619535912","Etherscan Bot#5753","18/05/2021 3:37 pm","<https://etherscan.io/address/0x11184bf5937beb9085b4f070e7b410be052e37a6>","",""
"792375636403945522","pnf#9702","18/05/2021 3:39 pm","If I go to https://info.uniswap.org/#/pools/0x11184bf5937beb9085b4f070e7b410be052e37a6 it seems to be a uniform liquidity distribution. Maybe there is some special logic for these cases? Although I havent been able to find that in the code","",""
"755833436681273571","Don#3285","18/05/2021 6:26 pm","Will do!","","ty (1)"
"661389592343216130","ruddy#7434","18/05/2021 7:50 pm","any examples good examples on github with apps using uniswap v3 periphery?","",""
"819751225427099659","0xSeldon#1784","18/05/2021 8:14 pm","Hi, I was wondering if there were any example integrations for the exactInput swap for solidity integrations, specifically interested in the path parameter.","",""
"744109870210482237","crypton#4126","18/05/2021 9:49 pm","for path you use token1, fee1, token 2, fee2, token3, etc. packed by abi.encodePacked.","",""
"819751225427099659","0xSeldon#1784","18/05/2021 9:50 pm","what is fee?","",""
"744109870210482237","crypton#4126","18/05/2021 9:51 pm","fee for the pool you use for the swap","",""
"819751225427099659","0xSeldon#1784","18/05/2021 9:52 pm","how do i get that value","",""
"819751225427099659","0xSeldon#1784","18/05/2021 9:53 pm","programmatically?","",""
"819751225427099659","0xSeldon#1784","18/05/2021 9:53 pm","and is the fee uint256","",""
"744109870210482237","crypton#4126","18/05/2021 9:55 pm","https://github.com/Uniswap/uniswap-v3-core/blob/e3589b192d0be27e100cd0daaf6c97204fdb1899/contracts/interfaces/pool/IUniswapV3PoolImmutables.sol#L21","",""
"819751225427099659","0xSeldon#1784","18/05/2021 10:08 pm","thanks!","",""
"755833436681273571","Don#3285","18/05/2021 11:20 pm","Just tried out our first v3 pool! https://app.uniswap.org/#/swap?inputCurrency=0x96855edefc3ad2d9efd0421f301d1324e1e93a52&outputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","",""
"843155325619535912","Etherscan Bot#5753","18/05/2021 11:20 pm","<https://etherscan.io/address/0x96855edefc3ad2d9efd0421f301d1324e1e93a52>","",""
"843155325619535912","Etherscan Bot#5753","18/05/2021 11:20 pm","<https://etherscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48>","",""
"336243088500588545","jab.sh","19/05/2021 3:04 am","nice","",""
"347053670812352513","kinrezc","19/05/2021 3:21 am","Has anyone written a utility for easily deploying and initializing v3 pools for local tests?","",""
"347053670812352513","kinrezc","19/05/2021 3:21 am","Initializing as in adding significant liquidity in a large range","",""
"347053670812352513","kinrezc","19/05/2021 3:23 am","Hm i suppose there‚Äôs gotta be something in the periphery tests","",""
"819751225427099659","0xSeldon#1784","19/05/2021 3:32 am","its uint24 just to let you all know. SO for a double hop transaction its:
```abi.encodePacked(address(want1), uint24(feeOfwant1towant2), address(want2), uint24(feeOfwant2towant3), address(want3))```","",""
"390583004658925591","futjr","19/05/2021 4:02 am","hey","",""
"390583004658925591","futjr","19/05/2021 4:02 am","https://swap.grumpy.finance/#/swap?use=V2&outputCurrency=0x93b2fff814fcaeffb01406e80b4ecd89ca6a021b","",""
"843155325619535912","Etherscan Bot#5753","19/05/2021 4:02 am","<https://etherscan.io/address/0x93b2fff814fcaeffb01406e80b4ecd89ca6a021b>","",""
"390583004658925591","futjr","19/05/2021 4:02 am","is this allowed","",""
"390583004658925591","futjr","19/05/2021 4:02 am","with the new license for v3","",""
"390583004658925591","futjr","19/05/2021 4:02 am","?","",""
"390583004658925591","futjr","19/05/2021 4:03 am","looks like this group forked everything and is hosting as their own. wonderng as i tought i saw it wasn't allowed","",""
"390583004658925591","futjr","19/05/2021 4:03 am","thanks!","",""
"336243088500588545","jab.sh","19/05/2021 4:18 am","they don't even whitelist their own token ü§£","",""
"383836935480803339","sendmoodz","19/05/2021 6:13 am","i am pretty sure they just forked the interface not the contracts","",""
"336243088500588545","jab.sh","19/05/2021 6:16 am","just confirmed, the interface just uses 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D for v2 (at least on ropsten)","",""
"843155325619535912","Etherscan Bot#5753","19/05/2021 6:16 am","<https://etherscan.io/address/0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D>","",""
"817773459979501599","gr0mhellscr3am#4782","19/05/2021 3:22 pm","is there any example code or implementation of executing trades against uniswap v3 using the in-built TWAP?","",""
"692823369485385740","0xdsoap","19/05/2021 11:00 pm","Hi","",""
"692823369485385740","0xdsoap","19/05/2021 11:01 pm","What happened if I add liquidity in proportion of 1:10 to the pool that proportion is 1:1?","",""
"336243088500588545","jab.sh","19/05/2021 11:20 pm","@0xdsoap in v3? nothing special. in v2? you can't.","",""
"692823369485385740","0xdsoap","19/05/2021 11:26 pm","Thanks","",""
"462812133113987072","rnd332","20/05/2021 11:19 am","Hey guys, I want to get the price of a token in a specific pair on v3, for some reason I can't find documentation on this issue, has anyone done this?","",""
"792375636403945522","pnf#9702","20/05/2021 12:48 pm","Can anyone from the team help me with this? Still stuck on this unfort, seems like a good proportion of the pools dont have any ticks within the current bitmap or the two surrounding ones. Are those pools broken or is there a different way to get the ticks for them? Thank you","",""
"213722350338834434","izzytdi","20/05/2021 5:48 pm","Hi, does anyone know web3 commands to check on your liquidity?","",""
"803920750917713982","Aza#4204","20/05/2021 9:36 pm","How to token1 by an amount to token 2 output amount?","",""
"692823369485385740","0xdsoap","20/05/2021 11:50 pm","How can I check current fees claimable for my liquidity on smart contract?","",""
"819751225427099659","0xSeldon#1784","21/05/2021 2:15 am","on a smart contract or on the site?","",""
"514594808208162856","slick22#5084","21/05/2021 11:45 am","Where can I get info on the NFT's that are minted when you migrate LP from v2 to v3 ?","",""
"696381544130019390","siandreev#4929","21/05/2021 3:17 pm","Hi, please tell me how to find the exchange price for a pair of tokens?","",""
"830247989549203519","seanquinn.","21/05/2021 3:34 pm","Does anyone know how do you add a new token to uni v3?","",""
"447487680511606785","reuptake","21/05/2021 7:22 pm","I have more fundamental question: why no one from Uniswap Team cares about answering at least some questions that get posted here every day?","","üëÜ (1)"
"783993791673401364","geert6262","21/05/2021 11:57 pm","Hi all, are there Smart contract calls to get the liquidity distribution of a V3 LP-pair?","",""
"399617942087532545","_connormartin","22/05/2021 12:05 am","what do you mean by liquidity distribution?","",""
"399617942087532545","_connormartin","22/05/2021 12:05 am","like a list of all positions? or TVL?","",""
"399617942087532545","_connormartin","22/05/2021 12:05 am","https://docs.uniswap.org/reference/periphery/NonfungibleTokenPositionDescriptor","",""
"399617942087532545","_connormartin","22/05/2021 12:06 am","off chain only: https://docs.uniswap.org/reference/periphery/lens/Quoter","",""
"399617942087532545","_connormartin","22/05/2021 12:07 am","https://docs.uniswap.org/reference/periphery/NonfungiblePositionManager#positions","",""
"399617942087532545","_connormartin","22/05/2021 12:08 am","not sure what you are asking here - can you rephrase?","",""
"399617942087532545","_connormartin","22/05/2021 12:08 am","check out the fixures in the v3 core repo","",""
"399617942087532545","_connormartin","22/05/2021 12:09 am","https://docs.uniswap.org/reference/periphery/lens/Quoter","",""
"399617942087532545","_connormartin","22/05/2021 12:10 am","can you describe how you are querying the pool - I just need more context","",""
"462812133113987072","rnd332","22/05/2021 12:11 am","so much thank, for some reason i didnt find this docs","",""
"692823369485385740","0xdsoap","22/05/2021 12:11 am","Thanks for your reply. I already checked it and is it correct form to get fees for each token?
`        (, , , fees0, fees1) = pool.positions(positionKey);`","",""
"399617942087532545","_connormartin","22/05/2021 12:13 am","yep - but note this is just the `tokensOwed` value - this doesnt collect the fees","",""
"692823369485385740","0xdsoap","22/05/2021 12:17 am","So these params
` feeGrowthInside0LastX128, uint256 feeGrowthInside1LastX128,` are used to represent fees?","",""
"692823369485385740","0xdsoap","22/05/2021 12:17 am","@Connor Martin","",""
"783993791673401364","geert6262","22/05/2021 12:19 am","Yeah, looking for TVL for all ranges for a specific pair. Think I'm looking for the observe-function on a UniswapV3Pool. How would I get to the UniswapV3Pool-contract for a specific pool? When trying to navigate etherscan I'm stuck at NFTs for individual positions.","",""
"399617942087532545","_connormartin","22/05/2021 12:20 am","those are mostly for internal accounting","",""
"399617942087532545","_connormartin","22/05/2021 12:20 am","for your use youd return `tokensOwed0` and `tokensOwed1`","",""
"692823369485385740","0xdsoap","22/05/2021 12:24 am","But the curious thing is I wrote unit test myself to collect fees but it doesnt work as expected. The swap is done between the tick range but I couldnt collect fee","",""
"792375636403945522","pnf#9702","22/05/2021 12:41 am","I use the lens contract ( getPopulatedTicksInWord method) for the tickbitmap corresponding to the current tick of the pool","",""
"792375636403945522","pnf#9702","22/05/2021 12:45 am","And it returns an empty array if I pass the pool and the current tick bitmap as input. If i try the neighouring tickbitmaps it still returns empty. But if I go to uniswap.org and check the liquidity chart it shows a uniform liquidity distribution so im assuming there are ticks","",""
"447487680511606785","reuptake","22/05/2021 12:52 am","Thanks @Connor Martin .","",""
"817773459979501599","gr0mhellscr3am#4782","22/05/2021 1:34 am","how are you supposed to import the v3-core contracts in solidity?

```import ""@uniswap/v3-core/artifacts/contracts/UniswapV3Factory.sol"";
import ""@uniswap/v3-core/artifacts/contracts/UniswapV3Pool.sol"";```
this gives a silent compilation error with hardhat
```
An unexpected error occurred:

{ [Error: EISDIR: illegal operation on a directory, read] errno: -21, code: 'EISDIR', syscall: 'read' }```","",""
"692823369485385740","0xdsoap","22/05/2021 1:41 am","What's the difference between 
https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/interfaces/pool/IUniswapV3PoolState.sol#L88
and 
https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/interfaces/INonfungiblePositionManager.sol#L61 ?","",""
"692823369485385740","0xdsoap","22/05/2021 1:45 am","How can I get the fees between ticks?","",""
"399617942087532545","_connormartin","22/05/2021 2:11 am","what do you mean the fees between ticks? fees accrue to a position, they dont exist between ticks","",""
"692823369485385740","0xdsoap","22/05/2021 2:18 am","My english bad. Assuming a user A added liquidity between -120 and 120. Current tick is 1. And someone swapped. In this case, user A gets reward. How can I check the amount of reward?","",""
"692823369485385740","0xdsoap","22/05/2021 2:28 am","I've been checking uniswap's unit test code but couldnt find about it","",""
"399617942087532545","_connormartin","22/05/2021 3:20 am","you would check `tokensOwed0` and `tokensOwed1` given the position ID of the liquidity position of user A","",""
"692823369485385740","0xdsoap","22/05/2021 3:23 am","It says 0","",""
"399617942087532545","_connormartin","22/05/2021 4:36 am","Then there are no fees due to the given position","",""
"399617942087532545","_connormartin","22/05/2021 4:37 am","I would double check that the tests to make sure the swapping is happening","",""
"792375636403945522","pnf#9702","22/05/2021 4:41 am","@Connor Martin any insights into my issue? Or you need more details?","",""
"762668904387706920","mw#2715","22/05/2021 6:58 am","fees are only updated when you modify the position, so you could do burn 0 liquidity for example, which should update it","",""
"762668904387706920","mw#2715","22/05/2021 6:59 am","otherwise you have to use feeGrowthInside to calculate i think","",""
"345901078853976064","ololotor","22/05/2021 6:25 pm","Hi guys. How may I know how many tokens I'll receive for 1 ETH in UniV3? For UniV2 I could calculate it by myself using xy=k","",""
"447487680511606785","reuptake","22/05/2021 6:52 pm","you receive NFT token which is different from v2 ERC-20.","",""
"447487680511606785","reuptake","23/05/2021 2:05 am","I'm also interested in this. I'm just using etherscan to query for fees. I get some values of `tokensOwed` but those values seem different to what's visible on the page","",""
"447487680511606785","reuptake","23/05/2021 2:06 am","How to convert it into fees in more human readable format?","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:40 am","i would like to create a pool on testnet, using mock tokens.  i am able to create the pool.  is the next step initialization with an arbitrary price?  once this is done, do I call the pool address's mint() function?  do I need the UniswapV3MintCallback function in my contract?  and what contract is ultimately sending the amount tokens owed from my address?  which contract must my address approve initially?","",""
"336243088500588545","jab.sh","24/05/2021 5:47 am","why not just do it through the ui?","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:48 am","Need to make a pool that I have full control of to test a dapp","",""
"336243088500588545","jab.sh","24/05/2021 5:48 am","what does ""full control of"" mean?","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:48 am","Manipulate price as I wish","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:48 am","For possibly a long period of time.","",""
"336243088500588545","jab.sh","24/05/2021 5:49 am","that's fine","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:49 am","Im low on test net ETH","",""
"336243088500588545","jab.sh","24/05/2021 5:49 am","you can still create it through the ui on the testnet","",""
"764625155414032435","nlwhd#8786","24/05/2021 5:49 am","Thnx","",""
"846225522802556988","Kyy_design#8395","24/05/2021 8:55 am","Hey guys, can anyone help a brother out with something?","",""
"355085018433060864",".poyo_","24/05/2021 9:45 am","what?","",""
"401042887531560961","atrainer","24/05/2021 10:07 am","is there an article somewhere on providing LPs rewards with V3 NFT tokens similar to how it was done in v2?","",""
"406965021458038784","djoma","24/05/2021 5:55 pm","Hi there!
Does anyone have any information about deploying v3 on the optimism network?","",""
"331669053263314948","General.Debooster#7670","24/05/2021 6:17 pm","Hello! I have a question on v2/v3 math spreadsheets. What is the column ""Virtual Liquidity (L)"" denominated in? Is it in a more expensive token? Or in a cheaper token?
And why is ticksize calculated as fee*2?","",""
"138408179884228608",".tomqiu","25/05/2021 1:24 am","anyone know how to find sqrtPrice of a pool?","",""
"138408179884228608",".tomqiu","25/05/2021 1:24 am","did not find a method about it in the pool contract abi","",""
"138408179884228608",".tomqiu","25/05/2021 1:33 am","never mind, I found it, it's in slot0","",""
"138408179884228608",".tomqiu","25/05/2021 1:42 am","wait slot0 doesnt look like the current tick though","",""
"138408179884228608",".tomqiu","25/05/2021 1:46 am","anyone know what is Q64.96 value?","",""
"138408179884228608",".tomqiu","25/05/2021 1:52 am","Anyone know how to convert the price slot0.sqrtPriceX96 to a meaningful number?","",""
"762668904387706920","mw#2715","25/05/2021 1:59 am","it's the sqrt of the price multiplied by 2^96","",""
"762668904387706920","mw#2715","25/05/2021 1:59 am","so to get price you can divide by 2^96, then take the square","",""
"633272973280804866","_nick_1337","25/05/2021 4:07 am","how do i call something like getReturn on a pool? so how do i get the price on a specific pool?","",""
"138408179884228608",".tomqiu","25/05/2021 4:16 am","web3","",""
"138408179884228608",".tomqiu","25/05/2021 4:18 am","call getPool method of the factory contract to get the address of the pool contract, and the slot0 method of the pool contract has the price info","","üëç (1)"
"633272973280804866","_nick_1337","25/05/2021 4:24 am","thanks. but i think i am looking for the value after my potential swap.
if I trade x amount of token0 for token1 what will be the new slot0.sqrtPrice be?","",""
"138408179884228608",".tomqiu","25/05/2021 4:30 am","I dont think they have a method to calculate that (at least I didn't find it). So I think you have to calculate it yourself. I think you have to either accumulate all liquidity by ticks or by position, and simulate the exact process of a swap, and see where the price would end up at. (If anyone has a easier way please let me know)","",""
"633272973280804866","_nick_1337","25/05/2021 4:39 am","yes, i will do that. thank you. i am just asking myself how i could verify my calculations in the end","",""
"401042887531560961","atrainer","25/05/2021 4:58 am","Is there any projects providing rewards to liquidity providers using v3?  Wondering if I should just use a v2 pool","",""
"236668935318142977","hodlforjesus","25/05/2021 7:20 am","Hey guys check out this new Uniswap V3 data point I've added for real-time historic pool sizing. The USD price is from USDC/ETH historic pool data.","https://cdn.discordapp.com/attachments/823968973753810945/846565861241651240/uniswapTimeline3.png",""
"236668935318142977","hodlforjesus","25/05/2021 7:22 am","There is also another data point I did for ""Retained Liquidity"". Basically it tells you if value is entering or leaving a liquidity pool (Based on historic USDC on-chain pricing). All of this done in real-time of course.","https://cdn.discordapp.com/attachments/823968973753810945/846566243045081118/retainedLiq.png",""
"514594808208162856","slick22#5084","25/05/2021 10:26 am","What is the benefit of the NFT you get from migrating LP to V3? I read the one thing that was linked but it didn't really give too much info the NFT?","",""
"336243088500588545","jab.sh","25/05/2021 10:48 am","@slick22 the nft is the claim to your LP position","",""
"336243088500588545","jab.sh","25/05/2021 10:48 am","Just like the uni-v2 was","",""
"336243088500588545","jab.sh","25/05/2021 10:48 am","It serves the same purpose","",""
"401042887531560961","atrainer","25/05/2021 7:20 pm","Is my question regarding incentivizing LPs in v3 an ignorant  question or something?  been asking it for 2 days and not one response.","",""
"471357824299958273","crypto_rachel","25/05/2021 7:21 pm","V3 is still very new. I'm sure stuff will pop up, but if no one is answering it cause they don't know","",""
"401042887531560961","atrainer","25/05/2021 7:23 pm","cool.  I mean that is kind of what i was looking for :). There is no drawback to using a v2 pool if i am starting a new project right now right?  Like its gonna work for the forseeable future until something is figured out with v3","",""
"471357824299958273","crypto_rachel","25/05/2021 7:25 pm","V2 contracts will be there forever (as long as ether is üòÑ  ) , but not really, V3 is more about being able to compound your positions for better rewards, which has higher risks","",""
"401042887531560961","atrainer","25/05/2021 7:26 pm","awesome.  thanks @Crypto_Rachel !","",""
"471357824299958273","crypto_rachel","25/05/2021 7:26 pm","np","",""
"401042887531560961","atrainer","25/05/2021 7:29 pm","and uniswap allows a swapper to use a v3 or v2 pool.  So like if i am providing the liquidity in v2, so i can incentivize LPs further, I can have another v3 pool that people can choose to use and not be incentivized further.  when a someone wants to swap, uniswap recongizes both pools and user is given a choice which one to use right?","",""
"471357824299958273","crypto_rachel","25/05/2021 7:34 pm","user is shown the best price, easy to switch from v2 to v3 (button in ui always active)  for v2 you would need a v2 link if the price wasn't better than V3 (ie end of uniswap link adding `?use=v2`)","","üëç (1)"
"399617942087532545","_connormartin","26/05/2021 5:33 am","we're writing liquidity mining contracts for v3 right now - I imagine that with time, there will be more projects rewarding liquidity provisioning on V3 than V2","",""
"399617942087532545","_connormartin","26/05/2021 5:33 am","and there will be more incentive to do so, as the potential returns will be higher (and potential risks)","",""
"401042887531560961","atrainer","26/05/2021 7:15 am","Nice.  Any info on how these contracts will work or when they will be available?  Like is it a boilerplate that I would deploy or something that uniswap deploys and we fund.  Any info would be appreciated I'm shoring up a DeFi app and want something workable in the near future","",""
"755833436681273571","Don#3285","26/05/2021 9:54 pm","Are there guidelines on how to get price supported for a specific token in Uniswap V3? https://info.uniswap.org/#/tokens/0x903bef1736cddf2a537176cf3c64579c3867a881","",""
"755833436681273571","Don#3285","26/05/2021 9:55 pm","Couldn't agree more! We've already got our plans to","",""
"358313355016142849","bryan7466","26/05/2021 9:56 pm","Is there a way to get involved in this effort?","",""
"399617942087532545","_connormartin","26/05/2021 10:08 pm","Tokens will be surfaced once they hit a certain volume threshold","",""
"755833436681273571","Don#3285","26/05/2021 10:12 pm","What is the threshold?","",""
"730463593711140956","bor444","27/05/2021 1:14 pm","it is relative to general volume on the whole protocol","",""
"784298722476687360","tomstoy#7396","27/05/2021 1:19 pm","The charts are not displaying and TVL on this token. We added liquidity, there is trading going on. There is no price and TVL is zero. https://info.uniswap.org/#/tokens/0xaeaf14ce56b052dfc2a2eb0654136ecf87821fbf","",""
"569046594746449939","viraz4331","27/05/2021 1:51 pm","Hi Guys, couple of questions where can I find the uniswap v3 sdk docs and what's the read method to get the liquidity to be minted passed in the v3 pool mint function ?","",""
"779039910342426634","ruito86#1145","27/05/2021 6:41 pm","Hi guys, How to get how much cost for minting LP NFT?","",""
"401042887531560961","atrainer","27/05/2021 7:20 pm","Hey @Connor Martin wondering if you have any more info on those contracts.  I am looking at launching a defi token in the near future and need to be able to incentivize LPs.  Trying to figure out if its worth the time to do v2 now, knowing that i will need to have them audited, or just wait for the v3 contracts you are working on.  if we are talking a matter of weeks i will probably wait but if we are talking months then i may need to go forward on v2.  Any info would be appreciated.","",""
"764625155414032435","nlwhd#8786","27/05/2021 7:33 pm","When uniswap v3 is launched on Arbitrum, will all transactions be routed through the side chain by default, making all current v3 integrations route through arbitrum too?  Or will any contract currently integrated with v3 need to also launch on arbitrum to route transactions through the side chain?","",""
"842094111653363764","ghoti#2736","27/05/2021 7:43 pm","when i  create pool postion with eth and uni , eth decrease  1
first create
why cost so many fees","",""
"756153632147243019","waxii. x1#4984","27/05/2021 8:43 pm","hi there, sorry if this is a repetative quesiton. I tried to find the v3 sdk documentation page but i couldnt find it. The best i can find is the test files in the v3 SDK code base. Is this the case or am i missing something?","",""
"820356687449554944","domo5370","27/05/2021 8:59 pm","hey, I'm a developer thats fairly new to solidity. How does one connect to the Uniswap V3 factory? Are there any helpful examples or references for this? I want to be able to write a simple contract that creates a liquidity position, via the NonfungiblePositionManager interface ( I assumed I needed to connect to the factory to do this)","",""
"345901078853976064","ololotor","27/05/2021 9:05 pm","Hi there! How may I know execution swap price for Univ3? In v2 I can use xy=k formula using exact pool liquidity.","",""
"846507333470257195","kurtosis#5617","27/05/2021 9:10 pm","Hello, I am attempting to create a Trade object using the v3-sdk. I am trying to pass in an array of Ticks that I grab from TickLens that surround the current tick but am running into the ""ZERO_NET"" invariant failing, so I guess that means it is essentially required to pass in all the ticks of the pool. Is there an easy way to do this? For context, I am just trying to compute minimumAmountOut of a trade but this seems quite tedious to load the entire state of a pool, would love to know if there is a better way to do this.","",""
"846507333470257195","kurtosis#5617","27/05/2021 9:21 pm","I see a function for this in the v3-sdk: https://github.com/Uniswap/uniswap-v3-sdk/blob/c8e0d4c56e3b3ebd6446aba66523d20f2ea0fd9c/src/entities/trade.ts#L83","",""
"345901078853976064","ololotor","27/05/2021 9:27 pm","Hope it's not the only way, because it's too long","",""
"399617942087532545","_connormartin","27/05/2021 10:08 pm","hey - the staking contracts will be made public when they're ready - likely in the next 2-3 weeks.","",""
"399617942087532545","_connormartin","27/05/2021 10:09 pm","the user will need to connect to the network of their choosing, just like how you can switch from mainnet to testnet via metamask now","",""
"764625155414032435","nlwhd#8786","27/05/2021 10:32 pm","OK.  Thnx for response.  Will my Ethereum assets (ERC20) be swappable directly on the Arbitrum chain, or will they need to be wrapped somehow?  If wrapping required, will the wrapping be seemless? Will I need to hold an Arbitrum token in order to use Uniswap on Arbitrum?","",""
"401042887531560961","atrainer","27/05/2021 10:41 pm","Very nice!  If you are looking for a beta tester please let me know!","",""
"751282350100578455","lavint#8164","28/05/2021 2:37 am","Will L2 deployment on Optimism affect implementation affects end users?","",""
"336243088500588545","jab.sh","28/05/2021 2:39 am","yes","",""
"751282350100578455","lavint#8164","28/05/2021 2:40 am","sorry I mean will there be downtime of uniswap when implementing L2 and do we have to migrate again?","",""
"336243088500588545","jab.sh","28/05/2021 2:41 am","I highly doubt there will be downtime, but yes you would have to migrate your liquidity to optimism, if you desire","",""
"751282350100578455","lavint#8164","28/05/2021 2:45 am","Ok thank you. the doc said optimism will come shortlyafter V3, do we know when?","",""
"336243088500588545","jab.sh","28/05/2021 2:45 am","there's no current timeframe","","üëç (1)"
"428699196514893825","kassandra.eth","28/05/2021 3:31 am","Hello there I'm creating a fungible ERC20 rebalancing LP strategy on the WETH/DAI pool. I'm wondering how I should be calculating APY or other metrics for users looking to enter our pool. Right now I have a rough APR calculation but its only based on the fee accrual since the last time the pool rebalanced and it fluctuates too wildly to be helpful for users IMO. How would people here go about trying to calculate a metric like this if the size of the pool and the position range is dynamic and constantly changing ?","",""
"447487680511606785","reuptake","28/05/2021 1:58 pm","I'm not sure if I understand your question. APY should reflect performance of equity put into your strategy. I'd calculate several values, taken from last 24hrs, 7 days, 1 month...","","üëç (1)"
"367891209668263936","deep5566","28/05/2021 2:21 pm","Hi, can someone explain the difference between `increaseLiquidity` and `mint` functions? And similarly the difference between `decreaseLiquidity` and `burn`.
reference: https://docs.uniswap.org/reference/periphery/NonfungiblePositionManager","","üëÄ (1)"
"336243088500588545","jab.sh","28/05/2021 2:26 pm","@Deep you can increase an existing position (so no mint) or decrease (but not to zero so no burn)","",""
"367891209668263936","deep5566","28/05/2021 2:31 pm","Thanks. Does that mean when a user becomes an LP to a pool for the first time, then `mint` is called? And next if they add more funds to that pool then `increaseLiquidity` is called?","",""
"447487680511606785","reuptake","28/05/2021 2:35 pm","I guess so.","",""
"367891209668263936","deep5566","28/05/2021 2:51 pm","I hope so too. @jab ser pls guide us.","",""
"336243088500588545","jab.sh","28/05/2021 2:51 pm","yes I believe so, but I haven't verified this personally. that's just what makes sense logically","",""
"429325283599056919","atrotos#4100","28/05/2021 3:11 pm","I'm also interested in this, so probably calling mint opens a position in a pool?","",""
"429325283599056919","atrotos#4100","28/05/2021 3:37 pm","docs say for mint ""Call this when the pool does exist and is initialized. Note that if the pool is created but not initialized a method does not exist, i.e. the pool is assumed to be initialized.""","",""
"429325283599056919","atrotos#4100","28/05/2021 3:38 pm","so does this mean that if a pool doesn't exist you have to create the pool first then use mint to add some liquidity?","",""
"429325283599056919","atrotos#4100","28/05/2021 3:40 pm","and mint() requires MintParams, but what are the MintParams?","",""
"429325283599056919","atrotos#4100","28/05/2021 4:29 pm","nvm found it 

  struct MintParams {
        address token0;
        address token1;
        uint24 fee;
        int24 tickLower;
        int24 tickUpper;
        uint256 amount0Desired;
        uint256 amount1Desired;
        uint256 amount0Min;
        uint256 amount1Min;
        address recipient;
        uint256 deadline;
    }","","üëç (1)"
"367891209668263936","deep5566","28/05/2021 6:04 pm","Okay. And what function is called when price moves outside the range of ticklower and tickupper? Quite confused by this","",""
"447487680511606785","reuptake","28/05/2021 6:05 pm","no specific function is called I guess","",""
"784298722476687360","tomstoy#7396","28/05/2021 6:22 pm","Our project is also not displaying TVL. I saw other projects with much lower liquidity displaying without issues. I don't get the threshold of TVL? 0 TVL is 0, 10 TVL is 10. You can't say, it won't display until let's say 10 and then it will display. It doesn't make sense. I am trying to get my anwers 3 days from Uniswap support and no one can answer. Guys, we are losing money as investors think we rug pulled. It's crazy. https://info.uniswap.org/#/tokens/0xaeaf14ce56b052dfc2a2eb0654136ecf87821fbf","",""
"331669053263314948","General.Debooster#7670","28/05/2021 9:18 pm","Hello! Is there a way to download the liquidity distribution from the chosen pool, so I can see how many tokens are locked for any price of the pool? I mean some sort of a dictionary or a table with a key (price) and a value (tokens locked)","",""
"402494886487523331","stalker474","29/05/2021 4:18 pm","Hello guys, I find it a bit tricky to understand how and when is the WETH auto wrapping happens (like it did on v2). I tried looking in the exactInputSingle code, but I don't see any wrapping/unwrapping even though the function is payable. Is there something I miss if I want to autowrap eth on v3? Is the better solution using multicalls and wraping myself? Thank you","",""
"270572956344778753","kevster.eth","29/05/2021 5:57 pm","Is there an option to get my unclaimed fees returned by a call?","",""
"447487680511606785","reuptake","29/05/2021 6:10 pm","static call to `collect` of NonfungiblePositionManager","",""
"270572956344778753","kevster.eth","29/05/2021 6:13 pm","Ah thanks, that should help me üëç","",""
"456119838629429259","hexonaut","29/05/2021 7:56 pm","Is anyone aware of any efforts to tokenize V3 stable-stable pairs with a fixed spread around $1?","",""
"456119838629429259","hexonaut","29/05/2021 8:15 pm","(fungible token)","",""
"367891209668263936","deep5566","30/05/2021 1:40 am","What is the difference between 
https://docs.uniswap.org/reference/periphery/interfaces/INonfungiblePositionManager
and 
https://docs.uniswap.org/reference/periphery/NonfungiblePositionManager","",""
"367891209668263936","deep5566","30/05/2021 2:00 am","It seems INonfungiblePositionManager just defines some functions and events that are used in the script NonfungiblePositionManager. That's about it?","",""
"336243088500588545","jab.sh","30/05/2021 2:07 am","One's an interface and one is the implementation of that interface.","","ty (1)"
"401042887531560961","atrainer","30/05/2021 2:10 am","@Connor Martin  wondering if this is the repo for the staker build?  https://github.com/omarish/uniswap-v3-staker.  saw an article where they got a grant so figure it is.  just want to start building for methods not looking for anything in production","",""
"331669053263314948","General.Debooster#7670","31/05/2021 1:47 pm","Hello! Is there a way to download the liquidity distribution from the chosen pool, so I can see how many tokens are locked for any price of the pool? I mean some sort of a dictionary or a table with a key (price) and a value (tokens locked)","",""
"729370222959525948","likeblood#9074","31/05/2021 3:41 pm","Hello! Why can function ""positions"" in Position NFT contract return zeroes tokensoOwed despite on I have liquidity  in this range?","https://cdn.discordapp.com/attachments/823968973753810945/848866281770975242/unknown.png",""
"729370222959525948","likeblood#9074","31/05/2021 3:43 pm","And the same for ""positions"" in pool contract: have zeroes by my positionKey","",""
"447487680511606785","reuptake","31/05/2021 5:14 pm","tokens owed is about fees","",""
"720747796176830496","TarHeelCrypto#6371","31/05/2021 11:06 pm","I'm running into an issue switching from V2 to V3. I get to the part where I need to enter MIN/MAX prices for both coins, and have no idea what to put in those boxes. It needs to be right, or it won't be setup for maximum profitable. HELP!","",""
"730463593711140956","bor444","01/06/2021 12:45 am","@TarHeelCrypto it is range where you want your liquidity to be active","","üëç (1)"
"730463593711140956","bor444","01/06/2021 12:45 am","if you want to provide it v2 style just select as close to 0 and as high as infinity","",""
"730463593711140956","bor444","01/06/2021 12:46 am","there is no correct answer to this problem ... it all depends on what market will do in the future","",""
"429325283599056919","atrotos#4100","01/06/2021 1:49 am","hi, is there any method in the SDK with which you can read a position? Or do you have to call the .positions() method on the contract directly?","",""
"508391840525975553","Tickets#6981","01/06/2021 1:51 am","When making a price range decision, LPs should consider the extent to which they think prices will move over the course of their position's lifetime and their willingness to actively manage their positions (and all the costs associated with more active management).","","üëç (1)"
"793213539498065920","psy_tweak","01/06/2021 1:54 am","Is there an easy way to work out the yield on a particular range on Uniswap v3","",""
"428699196514893825","kassandra.eth","01/06/2021 3:40 am","Hello: I am getting a revert when I call this function https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/LiquidityAmounts.sol#L82 should that be possible? I'm passing what seem to be acceptable values to the getAmountsForLiquidity() function","",""
"428699196514893825","kassandra.eth","01/06/2021 3:41 am","","https://cdn.discordapp.com/attachments/823968973753810945/849047505579802634/Screen_Shot_2021-05-31_at_3.11.21_PM.png",""
"428699196514893825","kassandra.eth","01/06/2021 3:44 am","If I call getLiquidityForAmounts with analogous values it works and has the expected result","",""
"428699196514893825","kassandra.eth","01/06/2021 3:44 am","","https://cdn.discordapp.com/attachments/823968973753810945/849048283150417950/Screen_Shot_2021-05-31_at_3.12.49_PM.png",""
"428699196514893825","kassandra.eth","01/06/2021 4:04 am","It doesn't make any sense to me that the second call here could fail.
```
const liquidity = contract.getLiquidityForAmounts(
    ""79228162514264337593543950336"",
    ""4306310044"",
    ""1457652066949847389969617340386294118487833376468"",
    ""1000000000000000000"",
    ""1000000000000000000""
);

const {amount0, amount1} = contract.getAmountsForLiquidity(
    ""79228162514264337593543950336"",
    ""4306310044"",
    ""1457652066949847389969617340386294118487833376468"",
    liquidity
);
```
since this should just be the previous function (amounts -> liquidity) but in reverse (liquidity -> amounts) surely this should not cause revert ?","",""
"428699196514893825","kassandra.eth","01/06/2021 4:05 am","but it does indeed fail - anywhere where these helper functions are exposed one can verify this","",""
"428699196514893825","kassandra.eth","01/06/2021 4:18 am","how can it be that for a given sqrtPrice and a given position bounds (denominated as sqrt prices) that we could `getLiquidityForAmounts()` and the call does not revert. But when we go in the other direction `getAmountsForLiquidity()` (passing the exact liquidity value we received in the previous call!!) that this would revert ? It's driving me a bit bonkers. Likely I'm not considering some detail, but I just can't figure it out.","",""
"428699196514893825","kassandra.eth","01/06/2021 4:28 am","The error is specifically coming in `getAmount0ForLiquidity()` and my guess is its some kind of overflow in `FullMath.mulDiv()`","",""
"428699196514893825","kassandra.eth","01/06/2021 4:28 am","when I use the same prices and call `getAmount1ForLiquidity()` call does not revert and return value is as expected !!","",""
"428699196514893825","kassandra.eth","01/06/2021 9:27 am","Sorry to rant in here to no one! But figured this out FullMath.sol does not work with solidity version 0.8.0 or greater because it relies on overflow","",""
"222259920727310336","wnuochen","01/06/2021 10:46 am","Hey all, I am trying to calculate my NFT's position value manually with etherscan.

I used the `x = L / Psqrt` from the white paper with L being the liquidity of my NFT and Psqrt read from pool's slot0 and doesn't seem to be the right way. Is there another thread that walked through this calculation? Thank you in advance.","",""
"278069699051520000","pablo#2381","01/06/2021 10:59 am","same here, it would be good if there was an example somewhere","","Uni (2)"
"278069699051520000","pablo#2381","01/06/2021 10:59 am","i think we need to take tickLower   and tickUpper into account","",""
"278069699051520000","pablo#2381","01/06/2021 10:59 am","somehow","",""
"278069699051520000","pablo#2381","01/06/2021 11:02 am","#üôã‚îÇhelp please","",""
"731587401608331304","bloxpert","01/06/2021 2:14 pm","Hi Everyone, Do you know what happens to your Uncollected Fees when you remove liquidity from a V3 Pool? Do they get collected and added to your pair balances or do they need to be collected before the liquidity is removed? I just removed a pool and can not work out the math. All help/advice is much appreciated","",""
"429325283599056919","atrotos#4100","01/06/2021 2:27 pm","they get collected to your pair balances if you remove liquidity. The collect fees method is just an alternative to collect the fees periodically while you leave your position open","",""
"429325283599056919","atrotos#4100","01/06/2021 2:31 pm","for anyone struggling to get current price from sqrtPriceX96, I've devised this formula:

`price = 1 / ( ( slot0.sqrtPriceX96/Math.pow(2,96) ) / Math.pow(10,6) )**2`

- slot0 is a method in UniswapV3Pool contract, which gives you sqrtPriceX96

credit goes to @pablo for finding out how it's pieced together. Now we'll try to find how to calculate the Unclaimed Fees for each token in the pair.","",""
"429325283599056919","atrotos#4100","01/06/2021 2:32 pm","I'd call this ""price at current tick""","",""
"833291365164253214","jnp1","01/06/2021 2:36 pm","is this for DAI prices?? i think is / Math.pow(10,12) ) when token0 is eth","",""
"429325283599056919","atrotos#4100","01/06/2021 2:36 pm","by the way the above assumes a USDC base which is 6 decimals","",""
"833291365164253214","jnp1","01/06/2021 2:37 pm","i am using (['sqrtPrice']/(2**96)).pow(2)/10**12 for WETH/USDC pool","",""
"429325283599056919","atrotos#4100","01/06/2021 2:37 pm","@JNP | ranges.fi yes you're correct you beat me before writing the clarification üôÇ","",""
"429325283599056919","atrotos#4100","01/06/2021 2:37 pm","can you format this better? it's not clear for some reason","",""
"833291365164253214","jnp1","01/06/2021 2:38 pm","(['sqrtPrice']/(2xx96)).pow(2)/10xx12","",""
"429325283599056919","atrotos#4100","01/06/2021 2:38 pm","when token0 is eth it should be pow(10,18) no?","",""
"429325283599056919","atrotos#4100","01/06/2021 2:42 pm","","https://cdn.discordapp.com/attachments/823968973753810945/849213906186010665/unknown.png",""
"429325283599056919","atrotos#4100","01/06/2021 2:42 pm","check these","https://cdn.discordapp.com/attachments/823968973753810945/849213923055239168/unknown.png",""
"833291365164253214","jnp1","01/06/2021 2:43 pm","i am checking it","",""
"833291365164253214","jnp1","01/06/2021 2:43 pm","i dont know why i am getting the correct price with 12 decimals","",""
"429325283599056919","atrotos#4100","01/06/2021 2:43 pm","which pair exactly are you doing?","",""
"833291365164253214","jnp1","01/06/2021 2:43 pm","weth/usdc","",""
"429325283599056919","atrotos#4100","01/06/2021 2:43 pm","do you have the pool address?","",""
"833291365164253214","jnp1","01/06/2021 2:44 pm","0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 2:44 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"833291365164253214","jnp1","01/06/2021 2:45 pm","i am quering         token0Price
        token1Price
        sqrtPrice","",""
"429325283599056919","atrotos#4100","01/06/2021 2:45 pm","that pair is usdc/weth","",""
"429325283599056919","atrotos#4100","01/06/2021 2:45 pm","so it should be 10^6","",""
"429325283599056919","atrotos#4100","01/06/2021 2:45 pm","as the base is usdc","",""
"833291365164253214","jnp1","01/06/2021 2:45 pm","when i apply the formula that put here i get sqrtPrice=token0price","",""
"429325283599056919","atrotos#4100","01/06/2021 2:46 pm","hence the price will be in usdc","",""
"429325283599056919","atrotos#4100","01/06/2021 2:46 pm","what price exactly are you getting? give me an example","",""
"833291365164253214","jnp1","01/06/2021 2:47 pm","","https://cdn.discordapp.com/attachments/823968973753810945/849215008297713734/asas.JPG",""
"833291365164253214","jnp1","01/06/2021 2:47 pm","that is what i get when query the pool","",""
"833291365164253214","jnp1","01/06/2021 2:47 pm","and apply","",""
"429325283599056919","atrotos#4100","01/06/2021 2:47 pm","yes it looks right, but you're doing 10^12 ?","",""
"833291365164253214","jnp1","01/06/2021 2:47 pm","1/(((df1['sqrtPrice']/(2xx96)).pow(2))/10xx12)","",""
"429325283599056919","atrotos#4100","01/06/2021 2:48 pm","that's weird, let me alter mine to see what I get","",""
"833291365164253214","jnp1","01/06/2021 2:48 pm","not modifying anything in token0price or token1price","",""
"429325283599056919","atrotos#4100","01/06/2021 2:50 pm","the reason is that you're squaring (sqrtPrice/2^96), I am squaring the whole thing under the division by 1","",""
"429325283599056919","atrotos#4100","01/06/2021 2:51 pm","so I don't know if it works incidentally for you as 10^12","",""
"429325283599056919","atrotos#4100","01/06/2021 2:51 pm","how did you even come with 10^12 btw? where did you see that?","",""
"833291365164253214","jnp1","01/06/2021 2:54 pm","i was trying with 18 but as dont get the decimals i try with 12 and works but didnt know why, so many thanks for figure it out","",""
"429325283599056919","atrotos#4100","01/06/2021 3:04 pm","you're welcome","",""
"833291365164253214","jnp1","01/06/2021 3:07 pm","final formula","",""
"429325283599056919","atrotos#4100","01/06/2021 3:07 pm","in general you should be fiine with 18 decimals, that's what 99% of tokens got I believe, there are very few like usdc that are different","",""
"833291365164253214","jnp1","01/06/2021 3:08 pm","((['sqrtPrice']/(2xx96))/(10xx6)).pow(2)   give yout WETH price","",""
"833291365164253214","jnp1","01/06/2021 3:08 pm","1/formula five you USDC price","",""
"429325283599056919","atrotos#4100","01/06/2021 3:08 pm","yes very good","",""
"833291365164253214","jnp1","01/06/2021 3:09 pm","DAI also has 6 decimals??","",""
"429325283599056919","atrotos#4100","01/06/2021 3:10 pm","nope, 18","",""
"833291365164253214","jnp1","01/06/2021 3:10 pm","gotcha","",""
"731587401608331304","bloxpert","01/06/2021 5:33 pm","Great thanks Atrotos. I thought so too but just wanted to check...","",""
"429325283599056919","atrotos#4100","01/06/2021 5:41 pm","any time","",""
"429325283599056919","atrotos#4100","01/06/2021 7:36 pm","anybody been able to work out this formula to get the unclaimed fees? 

`ùëìùë¢ = ùëô ¬∑ (ùëìùëü (ùë°1) ‚àí ùëìùëü (ùë°0))`

This needs to be done for each of the tokens to find their unclaimed fees and according to the paper ""`ùëìùëü (ùë°0)` is stored in the position as
`feeGrowthInside{0,1}Last`, and `ùëìùëü (ùë°1)` can be computed from
the current state of the ticks""","",""
"429325283599056919","atrotos#4100","01/06/2021 7:36 pm","so I'm stuck at computing `ùëìùëü (ùë°1)`","","ü§î (1)"
"764625155414032435","nlwhd#8786","01/06/2021 8:16 pm","@atrotos `(,int24 tick,,,,,) = IUniswapV3Pool(_poolAddress).slot0();`","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:16 pm","For current tick?","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:18 pm","Question:  According to univ3 docs, the swapRouter .exactInputSingle() function returns uint256 amountOut.   When I call this function like so, amountOut = exactInputSingle(necessaryParams) I receive the following error:  Error: Improper return (caused message: STF)
Can I not set the function call equal to uint256 var and expect that var to equal the value of amountOut after the swap takes place?","",""
"429325283599056919","atrotos#4100","01/06/2021 8:25 pm","yes that's for the current tick","",""
"429325283599056919","atrotos#4100","01/06/2021 8:26 pm","whatever the function returns is uint256, do you pass the correct params?","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:27 pm","yes, i've made swaps using these params:","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:28 pm","```require(IERC20(_tokenIn).approve(UniswapV3SwapRouter, _amount));
        uint256 amountOut = swapRouter.exactInputSingle(
            ISwapRouter.ExactInputSingleParams({
                tokenIn: _tokenIn,
                tokenOut: _tokenOut,
                fee: _fee,
                recipient: _recipient,
                deadline: block.timestamp + 600,
                amountIn: _amount,
                amountOutMinimum: minOut, 
                sqrtPriceLimitX96: 0
            })
        );```","",""
"429325283599056919","atrotos#4100","01/06/2021 8:28 pm","ok this means that the interface doesn't match the ERC20 properly, could be a bug in the SDK","",""
"429325283599056919","atrotos#4100","01/06/2021 8:28 pm","I'm not using the SDK to be honest, I'm hitting the contracts with ethers","",""
"429325283599056919","atrotos#4100","01/06/2021 8:33 pm","so nobody has been able to do unclaimed fees calculations yet?","",""
"429325283599056919","atrotos#4100","01/06/2021 8:34 pm","I can't be the only one trying","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:36 pm","i haven't tried.  i don't currently have a reason to (that I'm aware of)","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:36 pm","but maybe i have good reason to...","",""
"429325283599056919","atrotos#4100","01/06/2021 8:37 pm","yeah it depends what you want to do, if you wish to get your pool positions it's a good thing to have","",""
"429325283599056919","atrotos#4100","01/06/2021 8:37 pm","I've been chatting about unclaimed fees on discord for 3 days straight, nobody has an answer to this question","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:38 pm","i think you're still relatively early","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:38 pm","tbh","",""
"429325283599056919","atrotos#4100","01/06/2021 8:38 pm","yeah that's true, however I've seen other people tracking these, Max from charm.fi, probably zapper and a couple of others","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:38 pm","a lot to learn about V3","",""
"429325283599056919","atrotos#4100","01/06/2021 8:38 pm","so for sure some people have figured it out","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:39 pm","charm.fi github helped me out when i was trying to make swaps for the first time","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:40 pm","this is the response i receive for amountOut when calling the function in .js:","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:41 pm","```received = {
  tx: '0xa06b377bea72baeb381784d2e57f97056e94e7a16b5e7685dbd0d253077d29c3',
  receipt: {
    to: '0xB437F3ba593b787A482A3558328b378b98c44D84',
    from: '0x5409ED021D9299bf6814279A6A1411A7e866A631',
    contractAddress: null,
    transactionIndex: 0,
    gasUsed: 129435,
    logsBloom: '0x00000003000000000000400000000000000000000000000000000000000000000000000000000004000000000000000000000000000020000000000100200000000000000000000800000008000000000000000000000200000008010000000000000000000000000000100000000000000001000000000000000010400800000200000000000000000000000000000080000000000000000000000000000000020000000000000000400000a08000000000000000000000000000000000000000000002000200000000000000000000000000000000000000000000004000000010000000000000000000000200000020000000000000000000000000000000',
    blockHash: '0x4c626c3e78ed8a4e7ad767fdac7c7bc412a6e3e138a2a1a57c8b2b5db3be1fd2',
    transactionHash: '0xa06b377bea72baeb381784d2e57f97056e94e7a16b5e7685dbd0d253077d29c3',
    logs: [],
    blockNumber: 8688583,
    confirmations: 1,
    cumulativeGasUsed: 129435,
    status: 1,
    byzantium: true,
    rawLogs: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  logs: []
}```","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/tx/0xa06b377bea72baeb381784d2e57f97056e94e7a16b5e7685dbd0d253077d29c3>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/tx/0x0000000300000000000040000000000000000000000000000000000000000000>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/tx/0x4c626c3e78ed8a4e7ad767fdac7c7bc412a6e3e138a2a1a57c8b2b5db3be1fd2>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/tx/0xa06b377bea72baeb381784d2e57f97056e94e7a16b5e7685dbd0d253077d29c3>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/address/0xB437F3ba593b787A482A3558328b378b98c44D84>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2021 8:41 pm","<https://etherscan.io/address/0x5409ED021D9299bf6814279A6A1411A7e866A631>","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:42 pm","doesn't look like a uint256 üòÜ","",""
"764625155414032435","nlwhd#8786","01/06/2021 8:42 pm","what am i doing wrong?","","ü§î (1)"
"833291365164253214","jnp1","01/06/2021 9:00 pm","check revert.finance maybe you can find something useful inspecting it","",""
"429325283599056919","atrotos#4100","01/06/2021 9:46 pm","will try it thanks for the heads up","",""
"429325283599056919","atrotos#4100","01/06/2021 10:07 pm","revert is awesome but I can't find their github","",""
"429325283599056919","atrotos#4100","01/06/2021 10:12 pm","it could be closed source I guess, although unlikely","",""
"222259920727310336","wnuochen","01/06/2021 10:21 pm","Do you happen to know the formula for current position balance ?","",""
"429325283599056919","atrotos#4100","01/06/2021 10:42 pm","you mean token0 unclaimed fees + token1 unclaimed fees?","",""
"222259920727310336","wnuochen","01/06/2021 10:43 pm","Not the fee but underlying balance of the two assets","",""
"429325283599056919","atrotos#4100","01/06/2021 10:44 pm","ah no didn't even check how to do that, I wanna get the unclaimed fees first so didn't pay attention to much else lol","",""
"222259920727310336","wnuochen","01/06/2021 10:45 pm",":np: , good luck man","",""
"429325283599056919","atrotos#4100","01/06/2021 10:48 pm","thank you, you as well","",""
"429325283599056919","atrotos#4100","01/06/2021 10:49 pm","these v3 early days i'll remember forever, it's been like an ARG","",""
"222259920727310336","wnuochen","01/06/2021 11:33 pm","I found the calculation in sdk actually, don't think it could compute manually lol","",""
"429325283599056919","atrotos#4100","02/06/2021 12:40 am","oh why not?","",""
"222259920727310336","wnuochen","02/06/2021 1:03 am","At some point it has to take the sqrt(1.00001)/^tick and left shift the liquidity etc.","https://cdn.discordapp.com/attachments/823968973753810945/849370053559844904/unknown.png",""
"776943802274938902","null#3306","02/06/2021 1:21 am","Will UniSwap implement TrueBit protocol (TRU) as a layer 2 optimism solution?","",""
"429325283599056919","atrotos#4100","02/06/2021 1:38 am","I'm sure there is a right way that it can be done. I haven't been able to use the sdk unfortunately, since the doc is just a class description and I can't find many things that should correspond to the protocol","",""
"429325283599056919","atrotos#4100","02/06/2021 1:39 am","been trying to follow the code from the uniswap interface, i.e. from app.uniswap.org, but in some things it seems to do things a bit out of the ordinary","",""
"429325283599056919","atrotos#4100","02/06/2021 1:41 am","I've been tracking the way to calculate uncollected fees, but they seem to be calling collect method to get them - this doesn't make much sense to me since this is a writeable method in the nonfungiblepositionmanager contract which would mean it would need to pay fees to call transact with that? not sure","",""
"429325283599056919","atrotos#4100","02/06/2021 2:32 am","ok for anyone interested I've found how to do this, you can call collect method statically","",""
"841597587617742848","ocean#5144","02/06/2021 7:37 am","I have built a private chain to deploy the contract of V3Factory, how is POOL_INIT_CODE_HASH calculated?","",""
"429325283599056919","atrotos#4100","02/06/2021 12:28 pm","hey all, small update on figuring out v3 integration

1. Getting current price for your position:
`const priceAtCurrentTick = 1 / ( ( slot0.sqrtPriceX96/Math.pow(2,96) ) / Math.pow(10,6) )**2;`

2. Getting fees unclaimed for each token, you have to call `collect` method of `NonFungiblePositionManager` statically, in TypeScript you can do it using `Contract.callStatic.method()`. So an example from the Uniswap interface that I've used:
`const collect = await NonfungiblePositionManager.callStatic
        .collect(
          {
            tokenId: ethers.BigNumber.from(tokenId).toHexString(),
            recipient: owner, // some tokens might fail if transferred to address(0)
            amount0Max: MAX_UINT128,
            amount1Max: MAX_UINT128,
          }
        );`

Then for each amount returned you'd have to divide by 10^d, where d = decimals for the token","","üëç (1)"
"429325283599056919","atrotos#4100","02/06/2021 12:28 pm","hope this helps someone find things more easily when working on their project","","üëç (2)"
"447487680511606785","reuptake","02/06/2021 1:20 pm","What about amounts? I've tried to call `decreaseLiquidity` statically but with no success...","",""
"429325283599056919","atrotos#4100","02/06/2021 1:22 pm","which amounts do you mean?","",""
"447487680511606785","reuptake","02/06/2021 1:24 pm","amounts of both tokens","",""
"447487680511606785","reuptake","02/06/2021 1:24 pm","held in pool","",""
"447487680511606785","reuptake","02/06/2021 1:24 pm","or rather position","",""
"447487680511606785","reuptake","02/06/2021 1:25 pm","I know some ways to do it, I just wonder which is the best one.","",""
"447487680511606785","reuptake","02/06/2021 1:29 pm","perhaps you should get `liquidity` , both range upper/lower tick and price and use some library","",""
"429325283599056919","atrotos#4100","02/06/2021 1:31 pm","oh, I haven't worked on that yet, let me trace how uniswap interface is doing it","",""
"833291365164253214","jnp1","02/06/2021 1:40 pm","i am working on that, but not getting the results yet, i am applying the last 3 equations showed in the peryphery contract in peryphery/liquidityamounts.sol","",""
"833291365164253214","jnp1","02/06/2021 1:41 pm","/// @notice Computes the amount of token1 for a given amount of liquidity and a price range","",""
"833291365164253214","jnp1","02/06/2021 1:42 pm","if (sqrtRatioAX96 > sqrtRatioBX96) (sqrtRatioAX96, sqrtRatioBX96) = (sqrtRatioBX96, sqrtRatioAX96);

        return FullMath.mulDiv(liquidity, sqrtRatioBX96 - sqrtRatioAX96, FixedPoint96.Q96)","",""
"833291365164253214","jnp1","02/06/2021 1:44 pm","i am trying to calculate liquidity for a tick with this equation","",""
"833291365164253214","jnp1","02/06/2021 1:45 pm","usign the liquidityNet value and transforming price0 to sqrt Ratios i am not getting the value showed in the uniswap info charts","",""
"429325283599056919","atrotos#4100","02/06/2021 1:45 pm","`const fiatValueOfLiquidity: CurrencyAmount<Token> | null = useMemo(() => {
    if (!price0 || !price1 || !position) return null
    const amount0 = price0.quote(position.amount0)
    const amount1 = price1.quote(position.amount1)
    return amount0.add(amount1)
  }, [price0, price1, position])`

is this a good start for what you're looking for?","",""
"429325283599056919","atrotos#4100","02/06/2021 1:47 pm","so position.amount0 and position.amount1 are multiplied by the prices to get the fiat","",""
"429325283599056919","atrotos#4100","02/06/2021 1:48 pm","and position is 
`const position = useMemo(() => {
    if (pool && liquidity && typeof tickLower === 'number' && typeof tickUpper === 'number') {
      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })
    }
    return undefined
  }, [liquidity, pool, tickLower, tickUpper])`","",""
"447487680511606785","reuptake","02/06/2021 1:51 pm","Ok, so this is using SDK, right?","",""
"429325283599056919","atrotos#4100","02/06/2021 2:12 pm","yeah, it's from the uniswap interface, they use the sdk themselves","",""
"447487680511606785","reuptake","02/06/2021 2:21 pm","I wondered if I could call static `decreaseLiquidity` but unlike `collect` it checks if the amount of liquidity is not exceeding the one in position. It's either out of gas or reverting for some reason...","",""
"429325283599056919","atrotos#4100","02/06/2021 2:33 pm","the reason you can't really do that is because it wants you to give the amounts you are decreasing. You *can* call it statically but with entering the right amounts and the static call will just let you know if the call would succeed had it been a state-change call. But it won't just return the amounts for each token because of the above.

`struct DecreaseLiquidityParams {
        uint256 tokenId;
        uint128 liquidity;
        uint256 amount0Min;
        uint256 amount1Min;
        uint256 deadline;
    }`","",""
"447487680511606785","reuptake","02/06/2021 2:53 pm","Hmm, I thought it returns the amounts, just like `collect`","",""
"429325283599056919","atrotos#4100","02/06/2021 3:00 pm","it does but you need to specify how much of each amount you want (the **minimum** amount you'd accept for each token) then it responds with a confirmation of how much the actual it sent to you was.","https://cdn.discordapp.com/attachments/823968973753810945/849580679729905669/unknown.png",""
"429325283599056919","atrotos#4100","02/06/2021 3:00 pm","so there wouldn't be a way to get the actual current reserves out of this method","",""
"429325283599056919","atrotos#4100","02/06/2021 3:03 pm","i.e. you'd have to know what your amounts are before calling decreaseLiquidity","",""
"429325283599056919","atrotos#4100","02/06/2021 3:03 pm","so it's useless for this purpose","",""
"447487680511606785","reuptake","02/06/2021 3:11 pm","OK... I thought that I can call it with `MAX_UINT128` but looks like it's not the case...","",""
"648953255635845121","unitest#5007","02/06/2021 4:00 pm","Dear devs, I'm trying to wrap my head around V3, how do you get an estimated amount Out like the V2 getAmountsOut?","",""
"648953255635845121","unitest#5007","02/06/2021 4:01 pm","I mean, how do you get it without swapping (only read, no write as router exactInputSingle does for example)","",""
"429325283599056919","atrotos#4100","02/06/2021 4:14 pm","you need to look at Quoter","",""
"648953255635845121","unitest#5007","02/06/2021 4:15 pm","Thanks for the clue","",""
"429325283599056919","atrotos#4100","02/06/2021 4:15 pm","https://etherscan.io/address/0xb27308f9f90d607463bb33ea1bebb41c27ce5ab6#readContract","",""
"429325283599056919","atrotos#4100","02/06/2021 4:15 pm","here's the contract","",""
"648953255635845121","unitest#5007","02/06/2021 4:16 pm","yeah I found it in the docs now","",""
"648953255635845121","unitest#5007","02/06/2021 4:16 pm","same methodsNames as exactInput, just with a quote prefixed","",""
"648953255635845121","unitest#5007","02/06/2021 4:16 pm","cool!","",""
"429325283599056919","atrotos#4100","02/06/2021 4:16 pm","yep","",""
"648953255635845121","unitest#5007","02/06/2021 4:16 pm","I was looking for a path to bytes encoder, I did not find an,y in the docs?","",""
"648953255635845121","unitest#5007","02/06/2021 4:16 pm","how do you usually deal with it?","",""
"648953255635845121","unitest#5007","02/06/2021 4:17 pm","you can concatenate addr + fee + addr + fee + addr, I am surprised I did not see anything in the docs","",""
"648953255635845121","unitest#5007","02/06/2021 4:17 pm","or maybe I did not look at the right place","",""
"429325283599056919","atrotos#4100","02/06/2021 4:22 pm","I'm not 100% sure if anything changes in v3 but in v2 I'd do
`path = [token0.address, token1.address]`","",""
"648953255635845121","unitest#5007","02/06/2021 4:23 pm","this is what I did in V2 yeah","",""
"648953255635845121","unitest#5007","02/06/2021 4:23 pm","address[]","",""
"648953255635845121","unitest#5007","02/06/2021 4:23 pm","but the bytesData for the struct for exactInput for example contains the fee inbetween which is an uint8 I think","",""
"429325283599056919","atrotos#4100","02/06/2021 4:23 pm","hmm unfortunately I have never used this in v3","",""
"648953255635845121","unitest#5007","02/06/2021 4:24 pm","thanks anyway","",""
"648953255635845121","unitest#5007","02/06/2021 4:24 pm","üôÇ","",""
"429325283599056919","atrotos#4100","02/06/2021 4:24 pm","on v3 I've moved my focus to providing liquidity, didn't have to swap anything yet üôÇ","",""
"648953255635845121","unitest#5007","02/06/2021 4:25 pm","I mean, it is not that difficult to code but it's a pain to do in solidity, I can't believe there is not a func in their lib","",""
"648953255635845121","unitest#5007","02/06/2021 4:25 pm","did not dig deeper in Liquidity Providing actually, as the rates are quite low usually","",""
"648953255635845121","unitest#5007","02/06/2021 4:25 pm","compared to farming on some platforms for example","",""
"429325283599056919","atrotos#4100","02/06/2021 4:26 pm","I'm getting around 300-500% APR on some pairs, and depends how close you set your ranges","",""
"429325283599056919","atrotos#4100","02/06/2021 4:42 pm","@reuptake üåä did you manage to find reserves?","",""
"447487680511606785","reuptake","02/06/2021 4:53 pm","no, I think I'll give it a shot later.","",""
"429325283599056919","atrotos#4100","02/06/2021 4:57 pm","cool, give a heads up if you manage to do it, I'm also interested to see if that works","",""
"744109870210482237","crypton#4126","02/06/2021 5:09 pm","Yes, you can concatenate it like this and pack it with encodePacked. Fee is uint24.","",""
"648953255635845121","unitest#5007","02/06/2021 5:12 pm","Thanks! This is what I was trying to do, but somehow I find it dirty, there is not an ""official"" func to do it? Even though, it might just be a wrapper and might consume more gas","",""
"429325283599056919","atrotos#4100","02/06/2021 7:49 pm","@reuptake üåä @pablo I can now calculate the current reserves for each token using the SDK:
`[Node] Pool Address: 0x8ad599c3A0ff1De082011EFDDc58f1908eb6e6D8
[Node] 2729.328595451202
[Node] feesUnclaimed0: 29.146478
[Node] feesUnclaimed1: 0.011637871800845748
[Node] CurrencyAmount {
[Node]   numerator: JSBI(1) [ 268386242, sign: false ],
[Node]   denominator: JSBI(1) [ 1, sign: false ],
[Node]   currency: Token {
[Node]     chainId: 1,
[Node]     decimals: 6,
[Node]     symbol: 'USDC',
[Node]     name: 'USD Coin',
[Node]     isNative: false,
[Node]     isToken: true,
[Node]     address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
[Node]   },
[Node]   decimalScale: JSBI(1) [ 1000000, sign: false ]
[Node] }`","",""
"843155325619535912","Etherscan Bot#5753","02/06/2021 7:49 pm","<https://etherscan.io/address/0x8ad599c3A0ff1De082011EFDDc58f1908eb6e6D8>","",""
"843155325619535912","Etherscan Bot#5753","02/06/2021 7:49 pm","<https://etherscan.io/address/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48>","",""
"429325283599056919","atrotos#4100","02/06/2021 7:50 pm","so you'd do (numerator/denominator)/pow(10,decimals)","",""
"447487680511606785","reuptake","02/06/2021 7:53 pm","Could you be so nice and share full code?","",""
"429325283599056919","atrotos#4100","02/06/2021 7:55 pm","dm","",""
"773158115810082847","joshtangible#6779","02/06/2021 7:57 pm","Hey guys, any idea how to transfer your NFT UniV3 positions to another address?","",""
"722654206061969463","tcs9688","02/06/2021 9:22 pm","Would it be possible to send that my way as well? üôÇ","",""
"429325283599056919","atrotos#4100","02/06/2021 9:23 pm","coming in dm","",""
"722654206061969463","tcs9688","02/06/2021 9:44 pm",":ty:","",""
"692823369485385740","0xdsoap","03/06/2021 12:22 am","`exactInputSingle` doesn't work correctly.
I added liquitity in proportion of 1:1 and the amount is 1000 for each.
And I swapped 5000 token0 to token1 by using `exactInputSingle` but only few amount moved in liquidity.

Is it even possible?","",""
"268390476879495168","michael4766423#8371","03/06/2021 12:52 am","(reposted from #üíª‚îÇdev-chat  since this seems more suitable)
Hello. I have been recently working with the positions function of the NonfungiblePositionManager... and have been encountering the following error:
```CompilerError: Stack too deep when compiling inline assembly: Variable headStart is 1 slot(s) too deep inside the stack.```
Specifically when a call of this form is done:
```(, , address token0, address token1, uint24 fee, , , , , , , ) = positionManager.positions(nonfungiblePosition.tokenid);```
The above error happens. 
Any experiences on avoiding this problem? I've read that functions cannot have more than 16 in/out variables due to certain opcodes only existing for up to n = 16. So if the spaces between the ticks are treated as variables then there are 12 variables maximum that I am generating, then potentially 14-15 if I have 2-3 in another function. Maybe if someone has some experience can answer. Thanks.
EDIT: HANDLED THIS BY TURNING ON OPTIMIZER FOR COMPILER, NO MANUAL SOLUTION FOUND YET","",""
"428699196514893825","kassandra.eth","03/06/2021 1:00 am","Hello there devs! I posted some rants in here a few days ago about my confusion with some helper functions (in LiquidityAmounts.sol) reverting with unexpected behavior. Took me a while to get to the bottom of it but it was because I was using solidity version 0.8 and FullMath.sol uniswap library relies on pre-0.8 arithmetic. I have created a gist on github of a solidity 0.8+ compatible FullMath.sol in case others run into this same issue. https://gist.github.com/superarius/b053368a0caa0831b113e6ddabcfe386","",""
"428699196514893825","kassandra.eth","03/06/2021 1:06 am","I also agree with this issue/suggestion here: https://github.com/Uniswap/uniswap-v3-core/issues/489 that any files that rely on overflow or pre 0.8 arithmetic should be marked as > 0.8.0","",""
"429325283599056919","atrotos#4100","03/06/2021 1:27 am","in NonfungiblePositionManager we can call tokenOfOwnerByIndex to get the nft token id at each index. However it seems to me a bit inefficient to do a for loop and keep calling the contract until I get all the token Ids of a user, does anybody know of any better way to get all the token Ids?","",""
"429325283599056919","atrotos#4100","03/06/2021 1:51 am","scrap the above, just realized that balanceOf() is supported on all contracts regardless of ABI and since NonfungiblePositionManager balance is of nft positions then the balance will be the amount of nft tokens for the requested address..","",""
"429325283599056919","atrotos#4100","03/06/2021 1:51 am","so you get the balanceOf and use that as the for loop iterator","",""
"399617942087532545","_connormartin","03/06/2021 2:21 am","hey yall - the first smart contract guide is up https://docs.uniswap.org/guides/inheritance-constructors","","Hayden (3),üî• (4)"
"697074692544004106","caduceus33#3651","03/06/2021 2:02 pm","How can I execute a trade directly from etherscan? How should i parse the data into the multicall?","",""
"692823369485385740","0xdsoap","03/06/2021 3:55 pm","swap router doesnt work correctly. I used `exactInputSingle` method to swap tokens but it doesn't work at all","",""
"748301664913588226","moPaintNFY#6565","03/06/2021 4:32 pm","QUESTION PLEASE

Does Uniswap V3 support deflationary token and reward distribution token.?","",""
"429325283599056919","atrotos#4100","03/06/2021 4:37 pm","no","",""
"429325283599056919","atrotos#4100","03/06/2021 4:37 pm","don't try to do this you'll lose your money","",""
"429325283599056919","atrotos#4100","03/06/2021 4:38 pm","i.e. don't add a deflationary token / token that has token fees on transfer on v3","",""
"429325283599056919","atrotos#4100","03/06/2021 4:38 pm","it will be locked and you won't be able to get it out","",""
"471357824299958273","crypto_rachel","03/06/2021 4:41 pm","no Fot and rebase type tokens will experience issues","",""
"429325283599056919","atrotos#4100","03/06/2021 4:42 pm","issues is an understatement, they'll loose both coins üôÇ","",""
"471357824299958273","crypto_rachel","03/06/2021 4:43 pm","not always but very likely make life a pain at the very least, but yes it's likely to get things stuck, which is not always recoverable from","",""
"471357824299958273","crypto_rachel","03/06/2021 4:43 pm","shorter answer üòÑ 
No don't do it","",""
"429325283599056919","atrotos#4100","03/06/2021 4:44 pm","the only way to try and get it back is to somehow rug pull on yourself, which probably wouldn't work anyway","",""
"429325283599056919","atrotos#4100","03/06/2021 4:45 pm","imo uniswap interface should warn of this","",""
"429325283599056919","atrotos#4100","03/06/2021 4:46 pm","at least if it happens to someone it's gonna be a dev/integrator who should have known better and researched things better anyway","",""
"399617942087532545","_connormartin","03/06/2021 7:57 pm","fee on transfer and rebasing tokens break when used in a v3 pool","",""
"482277754319011850","mjc716","03/06/2021 9:22 pm","https://twitter.com/xtokenmarket/status/1400477275854942217?s=19","",""
"331669053263314948","General.Debooster#7670","03/06/2021 10:02 pm","Hi! Have anybody tried modelling commission fees or is there a way to download the distribution (number of tokens for each price range) of fees granted to liquidity providers?","",""
"429325283599056919","atrotos#4100","03/06/2021 10:30 pm","can you rephrase your question a bit? Are you talking about the unclaimed fees? (or ""uncollected fees"" as mentioned in the whitepaper)","",""
"331669053263314948","General.Debooster#7670","04/06/2021 2:27 pm","I'm not sure about the difference actually. I'm talking about the fees from trades that haven't been collected by liquidity providers. E.g. somebody pooled tokens into some price ranges yesterday and during the last 24 hours, there have been several trades that resulted in commissions. I'm wondering if there is a way to observe the list of the trades and their prices (resulting in number of fees for every price range in which trades have occured), because this number on the picture doesn't indicate how many of these fees go its price range","https://cdn.discordapp.com/attachments/823968973753810945/850297249748615178/unknown.png",""
"429325283599056919","atrotos#4100","04/06/2021 2:30 pm","that's the total, you can get the list of trades from the pool contract for each pool","",""
"429325283599056919","atrotos#4100","04/06/2021 2:30 pm","each fee tier holds a different pool so I think there are 3 contracts per pair (unless they haven't been initiated)","",""
"429325283599056919","atrotos#4100","04/06/2021 2:31 pm","so for example you see her usdc/eth have a different pool for each fee tier","https://cdn.discordapp.com/attachments/823968973753810945/850298295870816256/unknown.png",""
"429325283599056919","atrotos#4100","04/06/2021 2:34 pm","https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8#tokentxns 

this is an example of usdc/eth on 0.3% fee tier, you can see all the erc20 transactions","",""
"429325283599056919","atrotos#4100","04/06/2021 2:34 pm","is this what you're looking for?","",""
"429325283599056919","atrotos#4100","04/06/2021 2:37 pm","if you're looking to see the list of liquidity positions actions then you'd need the position manager contract which is https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#tokentxns","",""
"429325283599056919","atrotos#4100","04/06/2021 2:37 pm","this keeps the positions for all NFT positions on Uniswap and you have to sort for the tokens you want to see","",""
"539402854427918337","guidoec#8770","04/06/2021 2:41 pm","Hello all, new here. Have been using JavaScript v2 SDK and it was pretty straightforward. I'm migrating to v3 SDK now, but I don't seem to find something like `Fetcher` to `fetchTokenData` and `fetchPairData` (now pool data). **How do I fetch token data and pool data in v3?** Thanks! üôè","",""
"331669053263314948","General.Debooster#7670","04/06/2021 2:51 pm","Well, this page has a transaction list, but it doesn't show the prices of the trades. So, if I want to calculate the amount of fees distributed to different price ranges, I would take these transactions, calculate the average price of the transaction, calculate the fee from it and add this commission fee to commission fees of this price range. But, since we don't have prices here, we can't do that","",""
"429325283599056919","atrotos#4100","04/06/2021 2:54 pm","You have to calculate the prices. Maybe the data you need is easily retrievable via the subgraph but I haven't played with that so I don't know. For the SDK method check this https://discord.com/channels/597638925346930701/607978109089611786/850286505222340618","",""
"331669053263314948","General.Debooster#7670","04/06/2021 3:00 pm","But how can I calculate it? The page contains only the values of tokens that have been sent from one account to another, but it doesn't show the number of tokens that have been sent back","",""
"429325283599056919","atrotos#4100","04/06/2021 3:06 pm","it shows both right? So you can implement a method in your project which uses the SDK CurrencyAmount and whatever else needed from the SDK to calculate the prices you want against USDC. Uniswap interface uses USDC as dollar price if I'm not mistaken.","https://cdn.discordapp.com/attachments/823968973753810945/850306959324217404/unknown.png",""
"705426491458060399","isamjay#7945","04/06/2021 3:12 pm","Uniswap interface uses postionManager.callStatic.collect(..args) function to retrieve current fees in token0 & token1.
Is it possible to calculate fees on-chain ? As staticCall on the NonFungiblePositionManager contract fails each time.
Or are there any othrr options for just calculating fees ?
Thanks","",""
"331669053263314948","General.Debooster#7670","04/06/2021 3:18 pm","So, am I right that if two transactions are ""out"", it means the withdrawal of tokens, and if ""in"" and ""out"" - this is the swap, right?","",""
"429325283599056919","atrotos#4100","04/06/2021 3:21 pm","I don't understand what you mean by 'withdrawal'","",""
"429325283599056919","atrotos#4100","04/06/2021 3:21 pm","please clarify","",""
"429325283599056919","atrotos#4100","04/06/2021 3:21 pm","in pools you can swap, you put one coin in you get another coin out","",""
"429325283599056919","atrotos#4100","04/06/2021 3:21 pm","so you send eth to the uniswap pool to get shiba for example","",""
"429325283599056919","atrotos#4100","04/06/2021 3:22 pm","the closest thing to withdrawal here is for liquidity providers when they remove their liquidity from a pool thus closing their position, the remaining reserves and accrued fees are returned to them.","",""
"402494886487523331","stalker474","04/06/2021 3:43 pm","HI, when I create a new position I must specify a tick lower and tick upper values, is there a default value I can use for that? I'm creating generic positions from a contract","",""
"429325283599056919","atrotos#4100","04/06/2021 3:46 pm","ticks represent the prices you  want","",""
"402494886487523331","stalker474","04/06/2021 3:47 pm","does it make sense to provide liquidity for any price? Like having a large position?","",""
"429325283599056919","atrotos#4100","04/06/2021 3:47 pm","the price range you choose for your positions is up to you","",""
"402494886487523331","stalker474","04/06/2021 3:48 pm","I see, so there is no easy way to just automate adding liquidity, like in v2","",""
"429325283599056919","atrotos#4100","04/06/2021 3:49 pm","you can automate it, just need to sort out some way to calculate what ranges you need, you'd need to come up with some kind of strategy","",""
"402494886487523331","stalker474","04/06/2021 3:50 pm","I see. I'm building a generic liquidity provider contract which is able to create and lp univ2,v3 and balancer pairs, any advice on that?","",""
"429325283599056919","atrotos#4100","04/06/2021 3:52 pm","what does your contract try to achieve?","",""
"402494886487523331","stalker474","04/06/2021 3:55 pm","a kinf of a standarized interface to put new tokens on sale on the desired DEX","",""
"402494886487523331","stalker474","04/06/2021 3:56 pm","so based on pretty informationless interface functions such as ""addLP"" and ""removeLP"" I'm trying to find a common logic to uniV2, uniV3, balancerV1 and balancerV2, with some effort into being future proof for other DEXes","",""
"402494886487523331","stalker474","04/06/2021 3:56 pm","so, some parameters have to be computed, as v3 has more options and thus is more complex to use then v2","",""
"429325283599056919","atrotos#4100","04/06/2021 3:56 pm","so in which dexes would it add liquidity?","",""
"402494886487523331","stalker474","04/06/2021 3:56 pm","but basically I have a token A, I want people to be able to buy it, thats it","",""
"429325283599056919","atrotos#4100","04/06/2021 3:56 pm","on all of them?","",""
"429325283599056919","atrotos#4100","04/06/2021 3:57 pm","or you choose?","",""
"402494886487523331","stalker474","04/06/2021 3:57 pm","one or more, its a choice","",""
"269842820553113602","ramzes911#5520","04/06/2021 3:57 pm","Hello, please tell me, my project wants to upgrade from Uniswap v 2.0 to Uniswap v 3.0 for commercial purposes, I know that you use the Business Source License 1.1 which restricts the use of the source code v3 for commercial purposes, how could we do this, is there any possibility to negotiate or purchase rights?","",""
"429325283599056919","atrotos#4100","04/06/2021 3:58 pm","if you are just integrating via sdk then this is allowed","",""
"402494886487523331","stalker474","04/06/2021 3:59 pm","so I'm not interested in this case for the multiple positions allowed by v3, as my contract is supposed to create the pool and add liquidity to it to enable trading, the proceeding fees aren't relevant to my usecase","",""
"429325283599056919","atrotos#4100","04/06/2021 4:02 pm","ok I'm pretty sure I don't understand what you're trying to do so I'll leave this up to someone else","",""
"402494886487523331","stalker474","04/06/2021 4:06 pm","alright, sorry if I'm not being clear","",""
"429325283599056919","atrotos#4100","04/06/2021 4:36 pm","no don't worry I'm just a bit thick, hope someone here can help you better","",""
"331669053263314948","General.Debooster#7670","04/06/2021 4:50 pm","How does the Uniswap decide which pool to use while swapping? https://app.uniswap.org/#/swap?inputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&outputCurrency=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
Liquidity provider fee varies with changing the input token amount","",""
"429325283599056919","atrotos#4100","04/06/2021 4:56 pm","it seems the frontend is rigged to always choose the cheapest available for the current trade","",""
"429325283599056919","atrotos#4100","04/06/2021 4:56 pm","so it tries to find liquidity in 0.05, if it doesn't find it then it goes to 0.3 and so on","",""
"429325283599056919","atrotos#4100","04/06/2021 4:57 pm","I could be 100% wrong though, this is just an assumption based on the fact that traders aren't and wouldn't be able to actually choose the tier they trade on otherwise everyone would trade on the 0.05","",""
"402494886487523331","stalker474","04/06/2021 6:38 pm","In order to properly close a position I need to claim the fees, decrease liquidity to 0 and burn the nft token, correct?","",""
"402494886487523331","stalker474","04/06/2021 6:38 pm","when calling decreateLiquidity on the position manager, how do I know the liquidity value, if I want to remove everything?","",""
"429325283599056919","atrotos#4100","04/06/2021 6:59 pm","you don't have to claim the fees first, if you'rre removing the liquidity fully it will collect the fees too for you","",""
"402494886487523331","stalker474","04/06/2021 7:00 pm","alright, thanks, and how do I know the liquidity amount prior removing it? Do I need to make a call?","",""
"429325283599056919","atrotos#4100","04/06/2021 7:07 pm","you have 2 tokens in reserves, you can calculate the amount of each","",""
"402494886487523331","stalker474","04/06/2021 8:10 pm","```    struct DecreaseLiquidityParams {
        uint256 tokenId;
        uint128 liquidity;
        uint256 amount0Min;
        uint256 amount1Min;
        uint256 deadline;
    }```","",""
"402494886487523331","stalker474","04/06/2021 8:10 pm","I'm talking about the uint128 liquidity value here","",""
"402494886487523331","stalker474","04/06/2021 8:10 pm","how do I know it?","",""
"429325283599056919","atrotos#4100","04/06/2021 8:25 pm","it's right in the nfpmanager contract","",""
"429325283599056919","atrotos#4100","04/06/2021 8:25 pm","in the position method","",""
"402494886487523331","stalker474","04/06/2021 8:33 pm","ok, thank you","",""
"539402854427918337","guidoec#8770","04/06/2021 8:49 pm","Really no one? https://discord.com/channels/597638925346930701/823968973753810945/850300797660299284 How do I get pool data or position data with javascript sdk v3?","",""
"316543047586283520","benj_pirate","05/06/2021 7:07 am","hello all direct question:","",""
"316543047586283520","benj_pirate","05/06/2021 7:07 am","","https://cdn.discordapp.com/attachments/823968973753810945/850548852133986344/Screenshot_2021-06-05_at_03.36.31.png",""
"316543047586283520","benj_pirate","05/06/2021 7:07 am","m'I safe to proceed ?","",""
"316543047586283520","benj_pirate","05/06/2021 7:08 am","the message ""at least 3 UNI will be refunded to your wallet' is quite scary","",""
"316543047586283520","benj_pirate","05/06/2021 7:08 am","But this is in case we get out of the range, coorect ?","",""
"316543047586283520","benj_pirate","05/06/2021 7:09 am","I mean theorically if I want the same behaviour than a classique v2 LP I should select very low number on the left and very high number on the right, correct ?","",""
"316543047586283520","benj_pirate","05/06/2021 7:09 am","Like this my LP will work on the whole spectrum of prices","",""
"183309006767521792","jorropo","05/06/2021 7:09 am","it's dusting basically you can only put whole amounts of liquidity (in term of SQRT96x so to us this means nothing)
It's just that you are trying to add let's say `.5` written in uniswap's V3 internal number representation and thus uniswap is forced to floor it (as EVM only support integers efficiently)","",""
"799146304973701150","defiahab","05/06/2021 9:39 am","I know the tokenId of my position and I know how to use the collect function of the NFT Manager contract to get uncollected fees data. But how do I get the position balance (units of tokens in the pair) at the current moment?","",""
"204815842452439041","_mazer","05/06/2021 1:08 pm","Hi, I am new to Uni v3. I know you get paid in trading fees. Is there a list of the APR's? What token do you get paid in as a reward?","",""
"336243088500588545","jab.sh","05/06/2021 1:10 pm","You get paid in the two tokens you provided","",""
"204815842452439041","_mazer","05/06/2021 1:45 pm","Where can I find the APR for each V3 farm?","",""
"336243088500588545","jab.sh","05/06/2021 1:59 pm","The apr depends on the range you use, there isn't one apr per pool","",""
"447487680511606785","reuptake","05/06/2021 8:12 pm","Is it possible to add 0 liquidity (not via the interface, but directly perhaps?)","",""
"447487680511606785","reuptake","05/06/2021 8:47 pm","Part 3 of my Uniswap for LPs series has been just published: https://reuptake.medium.com/liquidity-providing-in-uniswap-v3-3-c82fb9a5f545","",""
"396202227405946890","riqueaalves","06/06/2021 8:46 am","I cant get this unclaimed fees calculation to match the values on the uniswap dashboard. It is 10% to 30% off, don't know why","",""
"194280119710253068","minatotw","06/06/2021 10:50 am","Hello, I was looking at the Quoter : https://github.com/Uniswap/uniswap-docs/blob/2b7f62971e67efef99865a096b684c4748cb2b39/docs/V3/reference/periphery/interfaces/IQuoter.md

But it appears that I need to transact to get the quotes? is there any way else","",""
"183309006767521792","jorropo","06/06/2021 10:53 am","you have 2 ways to do transaction, real ones, that emits transactions on chain, and fake ones that simulate such transactions without emitting them.
In JS web3 it's shown with the function you use `.call` simulates a function call and output you a simulated result for free. `.send` prompt the user for a confirmation and emits a true transaction on chain.","",""
"194280119710253068","minatotw","06/06/2021 10:54 am","oooh ok, thanks, that makes sense now","","üëç (1)"
"837056261827985508","eightwoods#4826","06/06/2021 4:29 pm","Did anyone successfully use refundETH function? I was using ISwapRouter.sol in my smart contract but apparently refundETH is not in this interface. However, I couldn't find SwapRouter.sol in npm.","",""
"784024158924963870","Mudassir45#5256","06/06/2021 7:41 pm","Hello all!
I wanted to know that how can I find the nearest lower tick & nearest upper tick w.r.t to current tick of pool in smart contract?","",""
"428699196514893825","kassandra.eth","06/06/2021 10:36 pm","You just need to query the tickSpacing. Once you know that you find the closest integers above and below current tick that are divisible by tickSpacing I.e. foundTick%tickSpacing=0","",""
"735488035671507005","joerg3470","07/06/2021 12:10 pm","Btw. this is only working on Javascript libraries like ethers, on web3.py there seems to be no way to do this","",""
"539402854427918337","guidoec#8770","07/06/2021 12:43 pm","Hello, got one question. The ticks for a pool can be retrieved from some where or should be calculated?","",""
"422020302009139210","lin2web","07/06/2021 2:10 pm","Why isn't the Uniswap interface working with Trustwallet?
worth downloading, but nothing happens
https://uniswap.webtop.uz/#/swap","",""
"422020302009139210","lin2web","07/06/2021 2:10 pm","","https://cdn.discordapp.com/attachments/823968973753810945/851380055820337152/uni.png",""
"692823369485385740","0xdsoap","07/06/2021 2:43 pm","Is it legally fine to create liquidity management tool on v3?","",""
"183309006767521792","jorropo","07/06/2021 3:33 pm","it has, gas_estimation simulate a fake transaction","",""
"399617942087532545","_connormartin","07/06/2021 6:32 pm","yes you can build anything you want as far as integrations go","",""
"164011892598112256","__balou","07/06/2021 6:36 pm","Has anyone been able to get/calculate these values in a v3 liquidity pool pair?","https://cdn.discordapp.com/attachments/823968973753810945/851447029644132383/unknown.png",""
"164011892598112256","__balou","07/06/2021 6:36 pm","Either through the SDK or another way","",""
"164011892598112256","__balou","07/06/2021 6:37 pm","So how much of tokenA and how much of tokenB your NFT has","",""
"539402854427918337","guidoec#8770","07/06/2021 7:33 pm","@Connor Martin I need tick data to create a bestTradeExactIn. I assume that with TickLens I can get that data, but I don't understand what the param **tickBitmapIndex** refers to. Thanks!","",""
"399617942087532545","_connormartin","07/06/2021 8:34 pm","the bitmap library is here with lots of comments describing the functions","",""
"399617942087532545","_connormartin","07/06/2021 8:34 pm","https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/TickBitmap.sol","",""
"539402854427918337","guidoec#8770","07/06/2021 8:36 pm","Thanks, but how do I use this library? There is a smart contract address to use with in an abi?","",""
"539402854427918337","guidoec#8770","07/06/2021 8:38 pm","```tickBitmap#
  function tickBitmap(
  ) external view returns (uint256)
Returns 256 packed tick initialized boolean values. See TickBitmap for more information```","",""
"539402854427918337","guidoec#8770","07/06/2021 8:38 pm","this is inside the V3PoolState","",""
"539402854427918337","guidoec#8770","07/06/2021 8:40 pm","Even though this function seems to not need any param the abi from the UniswapV3Pool has an input param","",""
"539402854427918337","guidoec#8770","07/06/2021 8:40 pm","``` {
      ""inputs"": [
        {
          ""internalType"": ""int16"",
          ""name"": """",
          ""type"": ""int16""
        }
      ],
      ""name"": ""tickBitmap"",
      ""outputs"": [
        {
          ""internalType"": ""uint256"",
          ""name"": """",
          ""type"": ""uint256""
        }
      ],
      ""stateMutability"": ""view"",
      ""type"": ""function""
    },```","",""
"539402854427918337","guidoec#8770","07/06/2021 8:46 pm","@Connor Martin what is     
``` /// @notice Returns 256 packed tick initialized boolean values. See TickBitmap for more information
    function tickBitmap(int16 wordPosition) external view returns (uint256);```","",""
"539402854427918337","guidoec#8770","07/06/2021 8:46 pm","wordPosition? xD that's not too self explanatory","",""
"399617942087532545","_connormartin","07/06/2021 8:48 pm","are you familiar with the concept of a bitmap?","",""
"539402854427918337","guidoec#8770","07/06/2021 8:48 pm","yes kind of","",""
"399617942087532545","_connormartin","07/06/2021 8:49 pm","are you writing a smart contract or a sdk script","",""
"539402854427918337","guidoec#8770","07/06/2021 8:49 pm","sdk script","",""
"399617942087532545","_connormartin","07/06/2021 8:50 pm","and your goal is to get what kind of tick data?","",""
"539402854427918337","guidoec#8770","07/06/2021 8:51 pm","the necessary tick data to construct a trade based on the static method of `Trade.bestTradeExactIn` which honestly I don't know which is","",""
"539402854427918337","guidoec#8770","07/06/2021 8:52 pm","If I set an array of Pools without Ticks to `Trade.bestTradeExactIn` an error will be thrown that not TickDataProvider is given","",""
"539402854427918337","guidoec#8770","07/06/2021 8:54 pm","Doing trading with v2 was fairly easy, now with the fees and ticks I'm feeling the sdk does not give enough info to do that. Or some bits are missing because is still in alpha, don't know ü§∑‚Äç‚ôÇÔ∏è","",""
"399617942087532545","_connormartin","07/06/2021 8:57 pm","yeah im just not sure what kind of tick data you are thinking of","",""
"539402854427918337","guidoec#8770","07/06/2021 8:58 pm","The case is the following. I have a pool and I want to construct a trade object. To make a swap. How I can do that without having the error of no tick data provider?","",""
"399617942087532545","_connormartin","07/06/2021 9:03 pm","have you looked at https://github.com/Uniswap/uniswap-v3-sdk/blob/44ddd2ec30c9503d655a3f5299f564b2955224db/src/entities/tickDataProvider.ts","",""
"539402854427918337","guidoec#8770","07/06/2021 9:04 pm","yes several hours, that is just a NoTickDataProvider that is the one that throws the error because is constructed if you do not pass any tick data provider, and the other is just the interface.","",""
"539402854427918337","guidoec#8770","07/06/2021 9:05 pm","What is funny is that in the `unisawp-interface` repo the **bestTradeExacIn** methods is not used anywhere.","",""
"399617942087532545","_connormartin","07/06/2021 9:13 pm","ok yes - we use the quoter in the interface","",""
"399617942087532545","_connormartin","07/06/2021 9:13 pm","if you want to do off chain quoting, you need to implement the tick data provider","",""
"399617942087532545","_connormartin","07/06/2021 9:13 pm","or fetch all tick data and use the tick list data provider","",""
"539402854427918337","guidoec#8770","07/06/2021 9:14 pm","Yeah I was looking to your quoter implementation and it was quite too much for me, using v2 was so simple and now the migration is kind of messy with the quoter stuff. But how do I fetch tick data or from where?","",""
"447487680511606785","reuptake","07/06/2021 9:16 pm","Hey @Connor Martin I have a question reg. subgraph. I know that you're probably not directly responsible for this, but maybe you can answer. It's a general question: what is the status of it? I mean the the desired status? Is it meant to be production ready? What is the ETA? Right now it's a mess I have to say. There are 3 graphs, with different schema, some tables are introduced but empty for weeks... I'd like to build something using this subgraph, but I don't if it's pre-alpha, alpha? What is the roadmap?","",""
"447487680511606785","reuptake","07/06/2021 9:17 pm","For many use cases reading blockchain for such basic info like reserves of some position or fees is big overkill","",""
"399617942087532545","_connormartin","07/06/2021 9:17 pm","the subgraph is held back significantly","",""
"399617942087532545","_connormartin","07/06/2021 9:18 pm","its something we're frustrated with and have been trying to find a better solution for a while","",""
"399617942087532545","_connormartin","07/06/2021 9:18 pm","wish I could give you a better answer : (","",""
"447487680511606785","reuptake","07/06/2021 9:19 pm","hmm... but is it related to subgraph itself? is it impossible to update it and keep updated?","",""
"482277754319011850","mjc716","07/06/2021 10:21 pm","https://twitter.com/xtokenmarket/status/1401937931649101824?s=19","",""
"399617942087532545","_connormartin","07/06/2021 10:30 pm","its incredibly slow to test and make changes. each change takes weeks to sync before its usable.","",""
"447487680511606785","reuptake","08/06/2021 1:08 am","Oh, I didn't know that.","",""
"401042887531560961","atrainer","08/06/2021 1:45 am","Hey @Connor Martin any update on the V3 LP incentives contracts?","",""
"399617942087532545","_connormartin","08/06/2021 2:10 am","There‚Äôs a PR open on our GitHub you can follow","",""
"401042887531560961","atrainer","08/06/2021 2:12 am","what repo?  only seeing 1 PR open on v3 core and it doesn't look like it","",""
"183309006767521792","jorropo","08/06/2021 2:21 am","this wouldn't be core anyway, core is the protocol (securing funds (pools), and creating pools (factory))
I guess checkout periphery","",""
"401042887531560961","atrainer","08/06/2021 2:27 am","Yeah i checked a couple others and not seeing anything.","",""
"401042887531560961","atrainer","08/06/2021 2:39 am","@Connor Martin wondering if the repo mentioned here is the correct one.  https://twitter.com/haydenzadams/status/1394529620108718082","",""
"401042887531560961","atrainer","08/06/2021 2:40 am","https://github.com/omarish/uniswap-v3-staker","",""
"399617942087532545","_connormartin","08/06/2021 2:44 am","a getting started guide for some context on the sdk:","","üî• (2)"
"399617942087532545","_connormartin","08/06/2021 2:44 am","https://docs.uniswap.org/SDK-guides/getting-started","",""
"336243088500588545","jab.sh","08/06/2021 7:18 am","maybe this? https://github.com/Uniswap/uniswap-v3-staker","",""
"401042887531560961","atrainer","08/06/2021 7:18 am","Yep just got moved an hour ago. Thx","","np (1)"
"237317393683185666","dod4ufn","08/06/2021 7:13 pm","Hi there, may I ask, is Uniswap going to deploy only v3 contracts on Arbitrum?","",""
"227105897241903105","airboom#0400","08/06/2021 9:45 pm","the governance voted so","",""
"336243088500588545","jab.sh","09/06/2021 3:57 am","@DoD4uFN yes, there's no plans to deploy v2 anywhere","","üëç (1)"
"421184475305607169","balachandra87","09/06/2021 9:50 am","Please update if you find a solution for this, I am trying for the same since a couple of days. üôÇ","",""
"429325283599056919","atrotos#4100","09/06/2021 11:04 am","1000% got these, all you have to do is use the sdk to instantiate the position and then use its functions to do the math.","",""
"421184475305607169","balachandra87","09/06/2021 11:05 am","I got the position data...can you point me to the math...if there is any reference.  Thanks","",""
"429325283599056919","atrotos#4100","09/06/2021 11:10 am","https://docs.uniswap.org/SDK/classes/Position","",""
"429325283599056919","atrotos#4100","09/06/2021 11:10 am","it's all right here, position gives you amount0 & amount1","",""
"429325283599056919","atrotos#4100","09/06/2021 11:11 am","and then do what you need to do with the amount of decimals for each token","",""
"164011892598112256","__balou","09/06/2021 1:58 pm","When I use those, I'm getting odd results. For example my current liquidity amounts are 342.3 USDT / 0.07 ETH. However those return 0.00000000003001 and 0.

It's fetching my position correctly from the NonfungiblePositionManager contract","",""
"456226577798135808","Deleted User","09/06/2021 6:11 pm","Hi, we got whitelisted on Arbitrum, currently deploying our contracts there. Now we would like to set up a pool on UniSwap v3? What are the steps? Does UniSwap has to whitelist us too?","",""
"770738541818413086","p02diada#0369","09/06/2021 6:22 pm","Hi, has anyone been able to use estimateGas in exactInputSingle? I always get an error
```Traceback (most recent call last):
  File ""/opt/.pycharm_helpers/pydev/_pydevd_bundle/pydevd_exec2.py"", line 3, in Exec
    exec(exp, global_vars, local_vars)
  File ""<input>"", line 1, in <module>
  File ""/usr/local/lib/python3.8/site-packages/web3/contract.py"", line 1035, in estimateGas
    return estimate_gas_for_function(
  File ""/usr/local/lib/python3.8/site-packages/web3/contract.py"", line 1618, in estimate_gas_for_function
    return web3.eth.estimate_gas(estimate_transaction, block_identifier)
  File ""/usr/local/lib/python3.8/site-packages/web3/module.py"", line 57, in caller
    result = w3.manager.request_blocking(method_str, params, error_formatters)
  File ""/usr/local/lib/python3.8/site-packages/web3/manager.py"", line 157, in request_blocking
    apply_error_formatters(error_formatters, response)
  File ""/usr/local/lib/python3.8/site-packages/web3/manager.py"", line 62, in apply_error_formatters
    formatted_response = pipe(response, error_formatters)
  File ""cytoolz/functoolz.pyx"", line 667, in cytoolz.functoolz.pipe
  File ""cytoolz/functoolz.pyx"", line 642, in cytoolz.functoolz.c_pipe
  File ""/usr/local/lib/python3.8/site-packages/web3/_utils/method_formatters.py"", line 540, in raise_solidity_error_on_revert
    raise ContractLogicError(response['error']['message'])
```","",""
"730463593711140956","bor444","09/06/2021 6:35 pm","Uniswap app will support Arbitrum pool creation once everything is ready to go live","",""
"730463593711140956","bor444","09/06/2021 6:35 pm","but if you know address of Uniswap router on Arbitrum you can create pools yourself","",""
"456226577798135808","Deleted User","09/06/2021 6:38 pm","Ok, I see. Thanks.","",""
"623496284442984448","Hakob Arshakyan#9064","10/06/2021 12:49 am","Hello guys I got a question about V3 new feauteres and was counting on your help)),
Is the value of k is constant for every liquidity range?","",""
"447487680511606785","reuptake","10/06/2021 1:47 am","For each tick I guess it's constant.","",""
"623496284442984448","Hakob Arshakyan#9064","10/06/2021 2:03 am","Yea, but in that case, k is not constant at all, if it depends on the tick,  or did I misunderstand smth?","",""
"399617942087532545","_connormartin","10/06/2021 4:04 am","no, liquidity may be allocated arbitrarily, so the only constant would be the liquidity available at a given time within two nearest initialized ticks","","üëåüèø (1)"
"847540260555849768","panda86#2009","11/06/2021 1:51 pm","Hello there
Can swaps on v3 utilise the v2 liquidity pools and vice versa ?","",""
"847540260555849768","panda86#2009","11/06/2021 8:42 pm","According above image can i confirm V3 pools and V2 pools are separated.","https://cdn.discordapp.com/attachments/823968973753810945/852928373549170708/unknown.png",""
"274208745699934220","callil_","11/06/2021 9:12 pm","Yes, they are separate","","üëç (1)"
"817773459979501599","gr0mhellscr3am#4782","12/06/2021 1:58 am","looking through canonical `uniswap-v3-staker`  contract we have that the reward amount is purely dependant at a high-level on amount of liquidity staked and time staked for the default implementation.

https://github.com/Uniswap/uniswap-v3-staker/blob/eb47c1f88a34f594044e9c7a9a2710c3be6e7cbd/contracts/libraries/RewardMath.sol#L30


do those time variables measure time only when tickLower < price < timeHigher for that particular position, so that the liquidity gets rewarded only when utilized ? effectively the time  `secondsPerLiquidityInsideX128 - secondsPerLiquidityInsideInitialX128` measures the time the liqudity was actually utilized so that someone can't just stake out of range and be rewarded.

is that the case?","",""
"799382295584833587","Dilara#7228","12/06/2021 2:42 pm","Hi, did you find the answer to the question?","",""
"164011892598112256","__balou","12/06/2021 6:28 pm","Nope :/","",""
"829123702834200597","z01db3rg#4808","13/06/2021 9:49 pm","hello, is it possible on Uniswap V3 to do allPairs (like in Uniswap V2 Factory), and getAmountsOut (like in Uniswap V2 Router)? I found some kind of quoteExactInputSingle in Quoter Contract but it is not declared as view, so it isn't possible to call it from js (I will get transaction, instead of argumets). Could you please help me","",""
"209753376517259266","idatsy","14/06/2021 3:51 am","I'm looking to do just this, v3 version of getAmountsOut as calculating prices from ticks doesn't yield the same output as the uniswap interface. Anyone know how those prices are calculated for a given size?","",""
"633661547394236429","chessgrandmaster#8899","14/06/2021 6:52 pm","Hi, Is there anyone that could help me analyzing my liquidty pools for uniswap V3? There were great tools like zapper and zerion for V2. Any suggestions for V3?","",""
"428699196514893825","kassandra.eth","14/06/2021 7:34 pm","Hi All, little question thanks in advance! What is simplest/easiest way to verify contract for a new UniswapV3Pool deployed through mainnet factory ?","",""
"799382295584833587","Dilara#7228","14/06/2021 8:58 pm","Hi, Did you find the answer to this question?","",""
"164011892598112256","__balou","14/06/2021 8:59 pm","Haven't looked any further so still a no :/","",""
"799382295584833587","Dilara#7228","14/06/2021 9:00 pm","I want to reach these amounts in nft in the back-end?","https://cdn.discordapp.com/attachments/823968973753810945/854019881984589834/unknown.png",""
"799382295584833587","Dilara#7228","14/06/2021 9:01 pm","If you find a source can you share it?","",""
"164011892598112256","__balou","14/06/2021 9:01 pm","Will do for sure","",""
"837056261827985508","eightwoods#4826","14/06/2021 11:54 pm","Is anyone testing with Kovan testnet? I've been hit with error of #<Object> since yesterday (no issue before with the same contract which works with other testnets).","",""
"391460711592755200","Crypto Papi#6016","15/06/2021 9:55 am","Hey guys, i integrated the ExactInputSingle function in a smart contract I created and I‚Äôve been having issues with swapping ETH to an erc 20 token on the Ropsten testnet. I keep getting the error message: STF. Can someone please explain to me why this message keeps coming up? I know it means the transfer failed but what are the possible reasons? Because when I test via mainnet fork the swap goes smoothly","",""
"318288783227355136","wijuwiju","15/06/2021 5:49 pm","yep","",""
"164011892598112256","__balou","15/06/2021 5:53 pm","Any tips/source code you can share?","",""
"318288783227355136","wijuwiju","15/06/2021 5:53 pm","","https://cdn.discordapp.com/attachments/823968973753810945/854335195527381002/Screenshot_2021-06-15_at_15.22.52.png",""
"318288783227355136","wijuwiju","15/06/2021 5:53 pm","i used uniswap-interface for the reference","",""
"318288783227355136","wijuwiju","15/06/2021 5:53 pm","what exactly u looking for thou","",""
"318288783227355136","wijuwiju","15/06/2021 5:54 pm","get current liquidity of a position?","",""
"318288783227355136","wijuwiju","15/06/2021 6:07 pm","import { Position } from '@uniswap/v3-sdk'
const position = new Position({ pool, liquidity, tickUpper, tickLower })
const { amount0, amount1 = position
something like this, for pool check usePools hook in interface repo

liquidity, tickUpper, tickLower is from  NonfungiblePositionManager.sol where u first call 'balanceOf(address)' and get number of NFT's account has, after that u call 'tokenOfOwnerByIndex(from 0 to result of balanceOf)' to get IDs of a positions,  once u get IDs u can call 'positions(id)'","",""
"398178392064655363","yekta","15/06/2021 8:02 pm","do you know what how sqrtPrice is calculated? Squaring that number doesn't seem to give the current price for a token pair. I tried dividing with 2^96 as well but still number don't match up","https://cdn.discordapp.com/attachments/823968973753810945/854367867902230528/Screen_Shot_2021-06-15_at_17.31.10.png",""
"398178392064655363","yekta","15/06/2021 8:03 pm","Using this: https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-alt","",""
"398178392064655363","yekta","15/06/2021 8:07 pm","in official repo I couldn't find and explanation is to how to convert that to the final form as well. Price in base 10 with decimal points.","https://cdn.discordapp.com/attachments/823968973753810945/854369014808838175/Screen_Shot_2021-06-15_at_17.35.36.png",""
"318288783227355136","wijuwiju","15/06/2021 8:19 pm","sorry im not sure about subgraph, tried it using it initially, but many data points seemed invalid to me, so haven't had chance to dive deeper into yet","",""
"398178392064655363","yekta","15/06/2021 8:20 pm","Thank you, that was what I was suspecting after 30 min of trial as well. I should give sdk a go then","",""
"318288783227355136","wijuwiju","15/06/2021 8:26 pm","https://discord.com/channels/597638925346930701/823968973753810945/849220271939256331","",""
"318288783227355136","wijuwiju","15/06/2021 8:27 pm","and here https://discord.com/channels/597638925346930701/765222888617017365/852840520690434058","",""
"318288783227355136","wijuwiju","15/06/2021 8:28 pm","maybe these discussions can help @yekta","",""
"398178392064655363","yekta","15/06/2021 8:42 pm","oh thanks a lot, I checked those before but after re-checking I noticed a mistake I made üòÑ","","SavageHayden (1)"
"391460711592755200","Crypto Papi#6016","15/06/2021 9:04 pm","Which testnet is the best for testing Uniswap integration?","",""
"367891209668263936","deep5566","15/06/2021 10:17 pm","Hey team, I am looking at the indexes 62 and 63 (sync and swap respectively) of this transaction: https://etherscan.io/tx/0x1adb6bd75d40d70c8ee189b73d1f339e71db49e536f9ed478a9090699d52ae8f#eventlog

If i try to work out `amount1Out` by applying xy = k on reserves and amount1In, then my answer doesn't match with the actual `amount1Out` seen on etherscan. Why would that be?","",""
"367891209668263936","deep5566","15/06/2021 10:17 pm","This is a swap on Uniswap v2.","",""
"399617942087532545","_connormartin","15/06/2021 10:28 pm","probably an issue with not calling approve() correctly","",""
"367891209668263936","deep5566","15/06/2021 10:30 pm","This is my calculation:
```
Value of k from the sync event: (70782329896427509860670/10^18) * (5434674093735969866931/10^18) = 384678894.582
New reserve0 due to addition on amount0In: (714875000000000000000/10^18) + (70782329896427509860670/10^18) = 71497.2048964
New reserve1 based on new reserve0: (384678894.582 / 71497.2048964) = 5380.33472972
Amount1out based on change in reserve1: (5434674093735969866931/10^18) - (5380.33472972) = 54.33
Amount1out on etherscan: (55281832493514999296/10^18) = 55.28
```
What‚Äôs the reason for this discrepancy in amount1Out?","",""
"391460711592755200","Crypto Papi#6016","15/06/2021 10:42 pm","Yea I thought so too. I approved the router contract to swap WETH on my behalf but that doesn‚Äôt seem to work either","",""
"153017054545444864","theemozilla","16/06/2021 1:34 am","I'm working on a project that routes trades off-chain (sort of like a DEX aggregator), and the `Pool` object in the SDK needs tick data to do things like `getOutputAmount`, but it's clear to me how to get the tick data into a `TickListDataProvider`. Anyone have any helpful pointers?","",""
"590516558695104542","coppersj","16/06/2021 12:27 pm","has anyone got a way to sanity check virtual reserves you've calculated?","",""
"399617942087532545","_connormartin","16/06/2021 9:59 pm","tick data is optional - you can pass nothing in. but in order to accurately estimate an amount out, you'll need it","",""
"399617942087532545","_connormartin","16/06/2021 10:00 pm","its just a lot of data, so you'll likely have to setup a retrieval system that returns the data intelligently so you dont just burn through a ton of evm state calls continually","",""
"399617942087532545","_connormartin","16/06/2021 10:00 pm","whats the motivation for calculating virtual reserves?","",""
"153017054545444864","theemozilla","16/06/2021 10:50 pm","Yeah, my thought for a naive implementation for the purpose of estimation would be to lazy load them, and that would essentially involve implementing `nextInitializedTickWithinOneWord` duplicating the `TickBitmap` logic and accessing the storage through an EVM call whenever the corresponding solidity accessed the local storage. `TickList` seems more for testing purposes than anything that could conceivably be used on real pools, right?","",""
"398178392064655363","yekta","16/06/2021 10:54 pm","I was able to get an answer to my question on FlipSide crypto discord. Here is how I got the amounts based on that.","https://cdn.discordapp.com/attachments/823968973753810945/854773332330283078/Screen_Shot_2021-06-16_at_20.21.59.png",""
"398178392064655363","yekta","16/06/2021 10:54 pm","This is the adjustment process for liquidity","https://cdn.discordapp.com/attachments/823968973753810945/854773431215194132/Screen_Shot_2021-06-16_at_20.22.24.png",""
"398178392064655363","yekta","16/06/2021 10:55 pm","Here is the result. Amounts seem to be off by a bit but I'm guessing that's because subgraph is not fully synced yet","https://cdn.discordapp.com/attachments/823968973753810945/854773701832736768/Screen_Shot_2021-06-16_at_20.24.54.png",""
"398178392064655363","yekta","16/06/2021 10:57 pm","Someone was kind enough to create this to get the current amounts: <https://velocity-app.flipsidecrypto.com/dashboard/amounts-for-token-28500-sC3dfT> I tried to convert that to results of the subgraph. Might've made a mistake so better if you look yourself","",""
"799382295584833587","Dilara#7228","17/06/2021 1:35 am","Congratulations @yekta  , I will looküôÇ üëç","",""
"590516558695104542","coppersj","17/06/2021 4:36 am","arbitrage","",""
"844338578351849502","BearWhale#1776","17/06/2021 5:11 am","Can someone help me with equation 2.2 in the whitepaper?  I can derive the virtual curve.  But for some reason, I can't figure out the transformation to the real curve.  In 2.2, are x and y the coordinates on the virtual curve (e.g., x_b, and y_b)?  If so, we then need to solve for L, which is the product of x_real and y_real?","",""
"831344176346955776","Jim Hsu#1298","17/06/2021 8:27 am","Hi, anyone can help me out here, is there any farms that accept uni-v3-pos tokens?","",""
"334545864317992960","le_cero","17/06/2021 10:26 am","Can someone help me understand how to use the Trade type in the v3 sdk? I want to check the best trade price of two tokens A and B","",""
"334545864317992960","le_cero","17/06/2021 10:26 am","could not figure it out from the documentation","",""
"334545864317992960","le_cero","17/06/2021 10:26 am","https://docs.uniswap.org/SDK/classes/Trade","",""
"844338578351849502","BearWhale#1776","17/06/2021 7:13 pm","Not sure if I can help - I put some capital into a V3 ETH/USDC pool and took periodic snapshots of the ETH / USDC amounts, liquidity, etc. as prices changed.  I then derived the virtual curve from the whitepaper and sanity checked against observed values (via derived and observed x_real and y_real).","",""
"561252349201481739","boivlad#9133","17/06/2021 7:16 pm","Hi guys, I may have a simple question. To increase liquidity, how can I calculate the amount of token1 if I have the amount of tokens0? What is the formula? Your answer will save many of my hours, thanks)","",""
"428699196514893825","kassandra.eth","18/06/2021 12:11 am","might need more info to respond. Basically if you are adding liquidity to a *Position* then it depends on the current price and your price bounds to figure out how much of token1 you'd owe given the amount of token0 you know you want to add. Check out `LiquidityAmounts.sol` in the uniswap v3 code if you're a solidity dev","",""
"833291365164253214","jnp1","18/06/2021 12:14 am","i have done a python implementation that is in #ü§ù‚îÇliquidity-providers there is a js also","",""
"787807926605053995","fm1367","18/06/2021 1:18 am","Hi what view function should I call to have end of block price for a given pair? thanks","",""
"428699196514893825","kassandra.eth","18/06/2021 5:40 am","Hello @Connor Martin @Noah Zinsmeister @moody üí≠ I'm the dev in charge of Instadapp's fungible vaults for uniswap v3 liquidity mining (I'm a dev at Gelato Network). We just went live and already have a few million dollars in these positions and we just discovered something unexpected. Wondering how we could get in contact/chat with a core dev so we can understand a few small details better and resolve our issue? Thanks. Please get back to me if/when its possible!","",""
"182969707299733504","noahzinsmeister","18/06/2021 5:42 am","let's start a group chat @kassandra.eth","","üëç (1)"
"701183915565776966","ArtemBackpacker#9472","18/06/2021 7:16 pm","Hey, have you found a solution for quote a price in V3? Thanks! I also do not know what to do with path in V3. How should it looks like?","",""
"151764918863921153","bcrouzier#6836","18/06/2021 9:49 pm","Hello. I have a question regarding the uni v3 sdk (https://docs.uniswap.org/SDK/classes/Position#constructor)","",""
"151764918863921153","bcrouzier#6836","18/06/2021 9:49 pm","is this the right place for such a question?","",""
"334545864317992960","le_cero","18/06/2021 11:47 pm","anyone know how to check the active volume of token0 and token1 in a pool","",""
"787807926605053995","fm1367","19/06/2021 12:53 am","how can I get end of block tick, price and liquididty in a view function?","",""
"164011892598112256","__balou","20/06/2021 8:34 pm","Probably better in #üíª‚îÇdev-chat but shoot. I might be able to help","",""
"510353488308338688","_kof_","20/06/2021 11:28 pm","Need help with calculating current virtual reserves for a pool, let's take DAI/USDC `0x6c6bc977e13df9b0de53b251522280bb72383700` for example -
```
liquidity = 164761873865929700066839
sqrtPriceX96 = 79264839247899506248012
```
Whitepaper says `x = L / sqrt(P)` but `liquidity / ( sqrtPriceX96 / 2^96 )` gives a strange result. What am I doing wrong?","",""
"456226577798135808","Deleted User","20/06/2021 11:48 pm","Whats the result you are getting?","",""
"456226577798135808","Deleted User","20/06/2021 11:53 pm","My math aint that good but the only thing I can see going wrong here is that `^` may be interpreted as a bitwise `XOR` instead of a `pow`","",""
"510353488308338688","_kof_","21/06/2021 12:16 am","```
164761873865929700066839 / (79264839247899506248012 / 2^96) = 
164761873865929700066839 / 0.000001000462925 = 
1.646856366916876e29`
```
seems wrong","",""
"510353488308338688","_kof_","21/06/2021 12:17 am","does `liquidity` use 2^96 decimal point as well?","",""
"456226577798135808","Deleted User","21/06/2021 12:17 am","","https://cdn.discordapp.com/attachments/823968973753810945/856243924976926731/unknown.png",""
"456226577798135808","Deleted User","21/06/2021 12:18 am","looks somewhat similar üôÉ","",""
"510353488308338688","_kof_","21/06/2021 12:19 am","so this should be `x`, currently pool has 50.4m / 60.44m of each token, how does these numbers correlate?","https://cdn.discordapp.com/attachments/823968973753810945/856244430721646592/Screen_Shot_2021-06-20_at_21.48.57.png",""
"510353488308338688","_kof_","21/06/2021 12:22 am","or is this the correct result for concentrated liquidity, while $110m is real value locked (not virtual)","",""
"456226577798135808","Deleted User","21/06/2021 12:25 am","I am not sure if I understand your question correctly, but when someone swaps/exchanges DAI for USDC the pool loses USDC and receives DAI. the liquidity for v3 concentrated meaning that each 'tick' (or price gap/range) has its own liquidity. if there aint enough liquidity in that tick it will slip and move on to the next tick","","üëç (1)"
"510353488308338688","_kof_","21/06/2021 12:47 am","yup actually this calculation is correct","",""
"510353488308338688","_kof_","21/06/2021 12:48 am","can be verified by checking `p = r1 / r0` which comes out alright `1.0009`","",""
"456226577798135808","Deleted User","21/06/2021 12:50 am","what does `r1` and `r0` represent?","",""
"510353488308338688","_kof_","21/06/2021 1:14 am","`x` and `y`, the virtual reserves of underlying tokens","",""
"456226577798135808","Deleted User","21/06/2021 1:15 am","ah okay","",""
"456226577798135808","Deleted User","21/06/2021 2:02 am","@buckyroid this gives more info about the ``X96`` notation","",""
"530466082318843935","buckyroid#0683","21/06/2021 2:04 am","sorry I do not get it :/","",""
"530466082318843935","buckyroid#0683","21/06/2021 2:04 am","what does this SqrtRatioX96 means?","",""
"456226577798135808","Deleted User","21/06/2021 2:06 am","its just the way the smart contract stores the value","",""
"456226577798135808","Deleted User","21/06/2021 2:07 am","you just have to ``value = sqrtPriceX96 / (2^96)`` I guess","",""
"530466082318843935","buckyroid#0683","21/06/2021 2:46 am","oh okay, thanks","",""
"510353488308338688","_kof_","21/06/2021 11:02 am","DAI/USDC (`0x6c6bc977e13df9b0de53b251522280bb72383700`) has `liquidity = 164609375753869553974826` and pool info shows $110.78 TVL 
Any idea how to calculate TVL based on `liquidity`?","",""
"171102499057565697","ncitron","22/06/2021 2:27 pm","Does anyone have any info on how far along the v3 staker contacts are?","",""
"399617942087532545","_connormartin","23/06/2021 12:31 am","its the same as sqrtPriceX96","",""
"399617942087532545","_connormartin","23/06/2021 12:31 am","Its the square root price multiplied by 96, because solidity doesn't support floating point numbers","",""
"456226577798135808","Deleted User","23/06/2021 1:44 am","Can I update my position somehow? or do I need to create a new ERC20 for every new position I want?","",""
"399617942087532545","_connormartin","23/06/2021 2:11 am","you can add or withdraw liquidity from a position - but you can't change the boundaries of it","",""
"399617942087532545","_connormartin","23/06/2021 2:12 am","so if you want different tick boundaries you'll need to create a different position instance, which is expressed as an NFT","",""
"399617942087532545","_connormartin","23/06/2021 2:12 am","erc-721","",""
"456226577798135808","Deleted User","23/06/2021 2:13 am","Okay, the UI says 'closed' so it made me a little bit confused there. the docs didnt show a sign of changing min/max ticks so figured I need to create a new ERC721 token for each position id like to open","",""
"456226577798135808","Deleted User","23/06/2021 2:13 am","Thanks","",""
"284286443709530112",".chosunone","23/06/2021 2:41 pm","Can someone help me understand how to parse the `liquidity` field of the `INonFungiblePositionManager` `positions` method?  How would I say convert that singular value to the respective values of the provided liquidity?","",""
"284286443709530112",".chosunone","23/06/2021 2:43 pm","Or even just get the current ratio between the two assets?","",""
"284286443709530112",".chosunone","23/06/2021 2:45 pm","Is it `L * sqrt(curr_price)` and `L / sqrt(curr_price)`?","",""
"456226577798135808","Deleted User","23/06/2021 3:47 pm","Current ratio from your position? or from the whole contract?
You can simply check the balance of the pool to find out how much assets it has, for your own position you need to calculate them yourself","",""
"284286443709530112",".chosunone","23/06/2021 5:37 pm","from my position.  I'm asking how to calculate them myself","",""
"456226577798135808","Deleted User","23/06/2021 5:48 pm","You can calculate a rough % of the assets base on the MinTick, MaxTick of the position and the currentTick of the pool","",""
"456226577798135808","Deleted User","23/06/2021 5:50 pm","For the exact calculation you should look at v3 whitepaper at 6.1, I havent looked into the calculations yet","",""
"736659720185839718","dasaveliev","24/06/2021 4:33 am","knowing position id (nft) and liquidity
how to get underlying tokens liquidity (token0 and token1 amounts) for that position from solidity contract?","",""
"456226577798135808","Deleted User","24/06/2021 5:18 am","I think these are the correct ways to do so:","https://cdn.discordapp.com/attachments/823968973753810945/857406850533294120/unknown.png",""
"456226577798135808","Deleted User","24/06/2021 5:28 am","Or be a bit more lazy and just check the `MinTick`, `MaxTick` and current `Tick` then calculate how much % Token0 and Token1 hold ;P","",""
"456226577798135808","Deleted User","24/06/2021 5:29 am","thats what I used to get a rough overview, dont like the Big numbers, I only use them for high precision stuff","",""
"266577020429926400","jake_loo","24/06/2021 10:54 am","hey, i'm trying to make a single asset zapper and need some help.
given token0 with an amount (example, 10 ETH), what's the best way to find the amount needed for token1 for a pool? this will be done through solidity.

2) given a pool + tick range; how can i find the ratio of the 2 tokens?","",""
"464054066587107336","EskoMoerkoe#3118","24/06/2021 12:31 pm","hi all, can somebody help clarify the note in https://docs.uniswap.org/concepts/V3-overview/oracle#liquidity-accumulator :
> The in-range liquidity accumulator should be used with care. Liquidity and tick data are entirely uncorrelated, and there are scenarios in which weighing price data and liquidity together may create inaccurate representations of the pool.

we're currently building some time-weighted averages of the virtual pool reserves, which we've derived from the liquidity and tick accumulators based on whitepaper's math, but I'm curious if this might be a scenario like the above note mentions? if so, what kind of inaccuracies should we expect - rounding errors or something worse? thanks!","",""
"717669002674962462","w3stside#2942","24/06/2021 5:59 pm","Hi @hereDavid from Gnosis popping in. I am migrating some code to the latest sdk-core and I am sadly confronted with the loss of the `.raw`. method on `CurrencyAmount`. Am i missing something here, how can I get a raw JSBI return object/string in atom form now?","",""
"717669002674962462","w3stside#2942","24/06/2021 6:03 pm","seems like the `.asFraction` getter is the proper way to do maths now. I'll use that for now, cheers","",""
"717669002674962462","w3stside#2942","24/06/2021 6:05 pm","for example here:
```
executionPrice = new Price<Currency, Currency>(
      baseToken.currency,
      quoteToken.currency,
      baseToken.raw,  <------ .raw doesn't exist and .asFraction doesn't work as BigIntIsh
      price.amount
    )
```","",""
"717669002674962462","w3stside#2942","24/06/2021 6:11 pm","ok seems i figured it out, there's a union type for the Price constructor as such:
```
...args: [TBase, TQuote, BigintIsh, BigintIsh] | [{
        baseAmount: CurrencyAmount<TBase>;
        quoteAmount: CurrencyAmount<TQuote>;
    }]
```
where the second type, baseAmount, quoteAmount is what I want. Thanks 

but i still miss `.raw` üòâ","",""
"787807926605053995","fm1367","24/06/2021 6:57 pm","Hi, where is the safe.math contract deployed on mainnet?","",""
"767801330647302194","McAron#1640","24/06/2021 10:32 pm","Hi all! I see that trading pairs may have 2-3 pools with different fees. For example USDC/WETH has:
0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640 for fee = 500
0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8 for fee = 3000
0x7bea39867e4169dbe237d55c8242a8f2fcdcc387 for fee = 100000

How does swap work on that conditions? Does it use single pool for all requested amount, or it has some another logic?","",""
"843155325619535912","Etherscan Bot#5753","24/06/2021 10:32 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"843155325619535912","Etherscan Bot#5753","24/06/2021 10:32 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"843155325619535912","Etherscan Bot#5753","24/06/2021 10:32 pm","<https://etherscan.io/address/0x7bea39867e4169dbe237d55c8242a8f2fcdcc387>","",""
"290530732311445514","ni3do","25/06/2021 12:38 am","Hey, I have a question concerning an 'STF' error I am getting. I am testing on a mainnet fork with brownie and I see the contract executing until the uniswapV3SwapCallback tries to call (in this case DAI) ERC20.transferFrom() there it fails with an 'STF' error 
This is the code I am using (with hardcoded addresses for easy deployment)
```
contract Swap is PeripheryImmutableState, PeripheryPayments {
    using LowGasSafeMath for uint256;
    using LowGasSafeMath for int256;

    ISwapRouter public immutable UniswapRouter;
    IUniswapV2Router02 public immutable SushiswapRouter;

    uint256 gotOut;

    constructor(
    )PeripheryImmutableState(address(0x1F98431c8aD98523631AE4a59f267346ea31F984), address(0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2)) {
        UniswapRouter = ISwapRouter(0xE592427A0AEce92De3Edee1F18E0157C05861564);
        SushiswapRouter = IUniswapV2Router02(
            0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F
        );
    }
    function swapDAIUSDC(uint256 amount) external {
        address token0 = address(0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48);
        address token1 = address(0x6B175474E89094C44Da98b954EedeAC495271d0F);
        amount = amount * (10**18);
        uint24 fee = 500;

        TransferHelper.safeApprove(token0, address(UniswapRouter), amount);
        
        //bytes memory path = (abi.encode(token0) << 23) | (abi.encode(token1) << 3) | abi.encode(fee);

        bytes memory path = abi.encode(token0, token1, fee);
        gotOut = UniswapRouter.exactInputSingle(
            ISwapRouter.ExactInputSingleParams({
                tokenIn: token1,
                tokenOut: token0,
                fee: fee,
                recipient: address(this),
                deadline: block.timestamp + 200,
                amountIn: amount,
                amountOutMinimum: 0,
                sqrtPriceLimitX96: 0
            })
        );
    }
}
```","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0x1F98431c8aD98523631AE4a59f267346ea31F984>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0xE592427A0AEce92De3Edee1F18E0157C05861564>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:38 am","<https://etherscan.io/address/0x6B175474E89094C44Da98b954EedeAC495271d0F>","",""
"290530732311445514","ni3do","25/06/2021 12:38 am","did someone also expecience this kind of behavior or did I forget something?
Thanks in advance üôÇ","",""
"266577020429926400","jake_loo","25/06/2021 4:51 am","are you running it in forked mainnet hardhat?","",""
"290530732311445514","ni3do","25/06/2021 10:45 am","no I dont use hardhat","",""
"290530732311445514","ni3do","25/06/2021 10:50 am","dont brownie and hardhat do basically the same?
I prefer coding in python thats why I use brownie","",""
"530466082318843935","buckyroid#0683","25/06/2021 12:26 pm","hi @jake, did you solved these problems?","",""
"266577020429926400","jake_loo","25/06/2021 12:27 pm","nope","",""
"530466082318843935","buckyroid#0683","25/06/2021 12:27 pm",":/ oh okay","",""
"266577020429926400","jake_loo","25/06/2021 12:27 pm","i had similar issue with running a fork mainnet","",""
"266577020429926400","jake_loo","25/06/2021 12:28 pm","are you trying to builld the same thing?","",""
"530466082318843935","buckyroid#0683","25/06/2021 12:28 pm","yeah","","SadgeCry (1)"
"530466082318843935","buckyroid#0683","25/06/2021 12:29 pm","I want to calculate token1 amount according to first token amount input","",""
"266577020429926400","jake_loo","25/06/2021 12:32 pm","i've the code it for offchain (typescript) but couldn't quite get it to do the same as what i wanted in solidity :/ i think it might be the test pool. i did it by referencing to the uniswap-interface hooks","",""
"530466082318843935","buckyroid#0683","25/06/2021 12:32 pm","can you share me that code? I need to do it on js","",""
"266577020429926400","jake_loo","25/06/2021 12:34 pm","yeah add me again","","üôè (1)"
"290530732311445514","ni3do","25/06/2021 12:39 pm","how did you manage to fix it?","",""
"266577020429926400","jake_loo","25/06/2021 12:43 pm","i did not LOL","",""
"290530732311445514","ni3do","25/06/2021 12:44 pm","oh yikes xD","",""
"290530732311445514","ni3do","25/06/2021 12:46 pm","guess I'll try it on a testnet then","",""
"486643261377871882","guifel","25/06/2021 2:50 pm","Has anyone tried to implement the uni v3 mining algo from @danrobinson  in SQL ?
https://www.paradigm.xyz/2021/05/liquidity-mining-on-uniswap-v3/","",""
"792375636403945522","pnf#9702","25/06/2021 3:23 pm","Is there a problem with the pools page at the moment? https://info.uniswap.org/#/pools. Not loading for me","",""
"857956267539562518","raddd#7836","25/06/2021 7:30 pm","I have a problem with the v3 pairing on my token, can I get assistance from a support member?","",""
"399617942087532545","_connormartin","25/06/2021 8:11 pm","i would recommend hardhat","",""
"399617942087532545","_connormartin","25/06/2021 8:13 pm","hey i think you are using approve to approve the router to spend your contracts tokens, but you can calling transfer from the EOA that is calling your contract, so you need to approve your contract to spend your wallets tokens as well","",""
"290530732311445514","ni3do","25/06/2021 8:16 pm","I'll look into it","",""
"290530732311445514","ni3do","25/06/2021 8:17 pm","yes that could be it. Will test this later, thank you.
Btw what does 'EOA' mean?","",""
"399617942087532545","_connormartin","25/06/2021 8:17 pm","its relevant when you are weighing confidence in price by liquidity. Liquidity can be manipulated w/ flash loans and general weirdness, so you need to build out a system that assesses them independently to protect from implicitly manipulating the price via liquidity manipulation","",""
"399617942087532545","_connormartin","25/06/2021 8:18 pm","https://ethdocs.org/en/latest/contracts-and-transactions/account-types-gas-and-transactions.html","",""
"290530732311445514","ni3do","25/06/2021 8:18 pm","thx","",""
"857956267539562518","raddd#7836","25/06/2021 9:17 pm","Error code 32603 - Cannot estimate gas (transaction may fail or may require manual gas limit) ... When trying to remove V3 Liquidity .. any suggestions ?","",""
"334545864317992960","le_cero","26/06/2021 10:53 am","Price {
  numerator: JSBI(7) [
    1738994724,
    -1034423113,
    246633577,
    1592805033,
    1213972194,
    1742358653,
    548607535,
    sign: false
  ] 

is returned when i call tickToPrice function for tokenA and B with a tick
how to interpret this and get the corresponding prices?","",""
"336243088500588545","jab.sh","27/06/2021 12:26 am","it will use the pool that gives you the best price","",""
"334545864317992960","le_cero","27/06/2021 11:12 pm","let CurrentPrice = JSBI.BigInt(sqrtPriceX96 *sqrtPriceX96* useDecimal0/useDecimal1)/JSBI.BigInt(2) ** (JSBI.BigInt(192)); 

This will return the current price of a pool  from token0 to token1","",""
"334545864317992960","le_cero","27/06/2021 11:12 pm","how to inverse it and show it in terms of token1 to token0","",""
"796577023949930526","cryptopuma#7846","27/06/2021 11:53 pm","Hi guys, I'm building a price discovery bot. I was reading the documentation of the v3, and trying to understand how to get the prices of the different tokens using the oracle, but I don't understand how it works. Can anyone help me?","","Robert (1)"
"415497683017662464","_grimac","28/06/2021 12:08 am","No","",""
"599627400581480448","polishthunder69#7393","28/06/2021 5:28 am","Did you ever figure this problem out?","",""
"183309006767521792","jorropo","28/06/2021 5:30 am","well you are just approving token0 while you are selling token1, you must approve token1 not 0","",""
"183309006767521792","jorropo","28/06/2021 5:30 am","look :hhhapz_fucked_up:","",""
"599627400581480448","polishthunder69#7393","28/06/2021 5:41 am","I made sure to approve the V3 Router address on the WETH contract but still no luck. When I try to use etherscan to write my inputs I get a ridiculously high gas fee on MetaMask and an error with the contract.","",""
"599627400581480448","polishthunder69#7393","28/06/2021 5:43 am","I am trying to exactInputSingle ETH for USDC","",""
"290530732311445514","ni3do","28/06/2021 2:30 pm","ran into some other problems with my testing setup, will post here when I figure it out","",""
"290530732311445514","ni3do","28/06/2021 2:32 pm","ahh yes just saw that, but I think I just copy-pasted the wrong function to this chat","",""
"290530732311445514","ni3do","28/06/2021 11:24 pm","Is but this would be possible in the same contract right?","",""
"290530732311445514","ni3do","28/06/2021 11:24 pm","or would I have to do this beforehand in  a seperate tx","",""
"506242887780925461","oxcesc","28/06/2021 11:52 pm","can anyone help to explain how to do tx multicall on uniswap v3?","https://cdn.discordapp.com/attachments/823968973753810945/859136745190064188/Screenshot_20210629-004214.png",""
"290530732311445514","ni3do","29/06/2021 3:40 am","So, I now managed to get the contract running on hardhat, but I still get the same error message. I tried approving address(this), the token address itself and also the UniswapRouter addess. In any case I get the same error in the Callback function when the Contract wants to call transferFrom","",""
"805883631498297394","onassisxbt","29/06/2021 8:50 pm","Can you deploy reflect tokens on v3?","",""
"183309006767521792","jorropo","29/06/2021 8:54 pm","With or without FoT ?","",""
"805883631498297394","onassisxbt","29/06/2021 10:51 pm","excuse my ignorance. FoT?","",""
"183309006767521792","jorropo","29/06/2021 11:05 pm","**F**ee-**O**n-**T**ransfer.
Taking an extra fee on transactions.","",""
"805883631498297394","onassisxbt","30/06/2021 1:55 pm","Yes there is a FoT","",""
"805883631498297394","onassisxbt","30/06/2021 1:55 pm","This is the code","",""
"805883631498297394","onassisxbt","30/06/2021 1:55 pm","https://etherscan.io/address/0xc40af1e4fecfa05ce6bab79dcd8b373d2e436c4e#code","",""
"617127949480493077","yj_alt","30/06/2021 4:30 pm","Custom tokens eg FoT, reflect, rebase, etc are not compatible with uniswap. Deploy LP and use at your (and your users') own risk.","",""
"183309006767521792","jorropo","30/06/2021 6:09 pm","it's likely not","",""
"817067280445734975","bernatf","30/06/2021 7:29 pm","Can anyone help me understand how tick spacing works?

My understanding is that valid tick values must be a multiple of the tick spacing configured for a given pool (60 for 0.3% fee pools). So I'd expect said pool to be in a tick divisible by 60, but that doesn't seem to be the case?

Example:

```
> pool = interface.IUniswapV3Pool('0x99ac8ca7087fa4a2a1fb6357269965a2014abc35') # WBTC-USD [0.3%]
> >>> pool.slot0()
> (1474666180845862182951540881064, 58480, 3, 10, 10, 0, True)
> >>> pool.tickSpacing()
> 60
> >>> 58480 % 60
> 40
```","",""
"843155325619535912","Etherscan Bot#5753","30/06/2021 7:29 pm","<https://etherscan.io/address/0x99ac8ca7087fa4a2a1fb6357269965a2014abc35>","",""
"805883631498297394","onassisxbt","30/06/2021 7:56 pm","I don't understand why? Those tokens probably constitute 90% of UniSwaps volume","",""
"617127949480493077","yj_alt","30/06/2021 7:58 pm","I guess, to rephrase, they can be made to work with Uniswap, but it's the responsibility of the token contract creators, as it's not possible for the Uniswap deployed contract to ensure compatibility for any and all combinations of custom token contracts.","",""
"805883631498297394","onassisxbt","01/07/2021 12:27 am","So in effect it can work, it‚Äôs just about configuring the contract and the bonding curve. Correct?","",""
"617127949480493077","yj_alt","01/07/2021 12:29 am","Also, I highly doubt they constitute 90% of volume","",""
"617127949480493077","yj_alt","01/07/2021 12:30 am","I'm sure there are custom tokens that do seem to work. But if/when a custom token contract does not work with uniswap, the uniswap team will not be able to provide much support for the token users. They'll have to talk to the token team then.","",""
"617127949480493077","yj_alt","01/07/2021 12:32 am","I'm not 100% sure, but I think the tickspacing requirement is only for when LPs are choosing the price ranges. The pair price ratio (and the corresponding tick) will be whatever it is currently.","",""
"806752647088439306","andi9314","02/07/2021 2:07 am","Hello. Regarding rebasing, could you help me understand the explanation in the link below? What does it mean that LPs ""bear the loss"" of a negative rebase?
https://docs.uniswap.org/concepts/advanced/integration-issues","https://cdn.discordapp.com/attachments/823968973753810945/860257803033772072/unknown.png",""
"617127949480493077","yj_alt","02/07/2021 3:30 am","I think it's just saying that if you add liquidity for a rebase token, and then the token is rebased to a lower value, you will suffer losses. I guess others will just arb out the pair price-ratio change caused by the rebase, and the LP bears that loss.","",""
"806752647088439306","andi9314","02/07/2021 3:33 am","@yj  Hmm but doesn't that mean it's working as intended?","",""
"806752647088439306","andi9314","02/07/2021 3:34 am","Well I guess it depends on what the token is intended to do... but I'm trying to understand if this is the only issue, and the errors that people are reporting have to do with the individual tokens","",""
"617127949480493077","yj_alt","02/07/2021 3:36 am","To be honest I have no idea what rebase tokens normally do or get used for. But when you LP them as a *pair* with another token, you are essentially giving it an initial value-peg to that other token. And when a rebase happens, the other token in the pair ain't gonna follow, so you lose that initial ratio-peg and will then bear a loss.","",""
"806752647088439306","andi9314","02/07/2021 3:39 am","Well afaik AMPL was the first, and they use it to deflate/inflate their token supply. And I think most people using rebasing tokens are okay with the arb happening after each rebase. But the consensus on discord seemed to be that rebasing is just not compatible with v3 at all.","",""
"121777389012385796","narigon","03/07/2021 1:29 am","Is there a simple way built into the SDK to get all pool positions for a given public key? Or is not a part of the SDK, but a part of ethers.js?","",""
"849853835672682556","EA| Skooma 7 | Jhay#4965","03/07/2021 4:00 pm","Hello may I ask why my pool in v3 refunded 5 uni? I migrate my v2 pool to v3 then when I migrate it its comes out the 5 uni refunded. Thank you and hope can I get response","",""
"849853835672682556","EA| Skooma 7 | Jhay#4965","03/07/2021 4:00 pm","","https://cdn.discordapp.com/attachments/823968973753810945/860829927849852988/Screenshot_2021-07-03-18-02-44-75.jpg",""
"617127949480493077","yj_alt","05/07/2021 6:33 pm","For the price range you are LP-ing, it needs a specific token amount ratio, so it ended up sending the surplus tokens back to you.","",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:18 pm","How do I get the image data for the Uniswap v3 LP NFT asset? What are the drawing rules?","",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:21 pm","like zhis","https://cdn.discordapp.com/attachments/823968973753810945/862224214705438740/unknown.png",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:21 pm","like this","",""
"471357824299958273","crypto_rachel","07/07/2021 12:32 pm","well easier said than done, but you can get the data from the uniswap nft positions contract
https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#readContract
you have to call the token URI which is base 64 encoded text
in that encoded text is the Base64 image which also has to be decoded into an image
https://base64.guru/converter/decode/image","",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:33 pm","thanks","",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:33 pm","üëç","","üëç (1)"
"742631577548488704","shier_nftscan.com","07/07/2021 12:51 pm","This is the data I get from the tokenURI, is the next step direct base64 decoding?","https://cdn.discordapp.com/attachments/823968973753810945/862231862088957972/unknown.png",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:53 pm","@Crypto_Rachel","",""
"742631577548488704","shier_nftscan.com","07/07/2021 12:53 pm","","https://cdn.discordapp.com/attachments/823968973753810945/862232442004701184/data.txt",""
"471357824299958273","crypto_rachel","07/07/2021 12:56 pm","you would need to decode that base 64 first with will give a dictionary
https://base64.guru/converter/decode/file
this will decode first step
then find the `""image""` and that will be the base 64","",""
"742631577548488704","shier_nftscan.com","07/07/2021 1:12 pm","OK","",""
"742631577548488704","shier_nftscan.com","07/07/2021 1:18 pm","thanks","","np (1)"
"817067280445734975","bernatf","07/07/2021 3:58 pm","I'm having issues with the `decreaseLiquidity` method. I'm receiving way less output amounts than I'd expect given a supplied liquidity value.

The event triggered at the end of the call is:

```
‚îú‚îÄ‚îÄ 0xC36442b4a4522E871399CD717aBDD847Ab11FE88
‚îÇ   ‚îî‚îÄ‚îÄ DecreaseLiquidity
‚îÇ       ‚îú‚îÄ‚îÄ tokenId: 74907
‚îÇ       ‚îú‚îÄ‚îÄ liquidity: 1964236124482
‚îÇ       ‚îú‚îÄ‚îÄ amount0: 11227106261
‚îÇ       ‚îî‚îÄ‚îÄ amount1: 3484598418518
```

My understanding is that `L = sqrt(X * Y)` however what I'm getting is an order of magnitude off:

```
>>> math.sqrt(amount0 * amount1) / liquidity
0.10069701347635354
```

Any thoughts?","",""
"843155325619535912","Etherscan Bot#5753","07/07/2021 3:58 pm","<https://etherscan.io/address/0xC36442b4a4522E871399CD717aBDD847Ab11FE88>","",""
"380044986265370624","123 Player#4436","07/07/2021 4:01 pm","How do we calculate tickLower and tickUpper in mintParams?","",""
"428699196514893825","kassandra.eth","07/07/2021 5:55 pm","lowerPrice = 1.0001^lowerTick (note that price is token1/token0 and does not normalize decimals so be careful if the two tokens have different decimals). You can get the pools current tick by calling slot0() on the pool","",""
"428699196514893825","kassandra.eth","07/07/2021 6:18 pm","ticks are negative from prices between 0-1 positive from 1-inf","",""
"710541656671125567","js3js3#6271","07/07/2021 7:09 pm","Hey guys im trying to use ""exactInput"" function to swap from tokenA to ETH, what should the address of ETH be since there isnt a swapTokenToETh function anymore like in V2","",""
"849837357254443069","jackie68#1932","07/07/2021 7:18 pm","https://app.uniswap.org/#/pool/74988","",""
"849837357254443069","jackie68#1932","07/07/2021 7:18 pm","","https://cdn.discordapp.com/attachments/823968973753810945/862329249628815360/unknown.png",""
"849837357254443069","jackie68#1932","07/07/2021 7:18 pm","At uniswap it says liquidity is $201,361.21","",""
"849837357254443069","jackie68#1932","07/07/2021 7:19 pm","https://etherscan.io/address/0x16980c16811bde2b3358c1ce4341541a4c772ec9","",""
"849837357254443069","jackie68#1932","07/07/2021 7:19 pm","","https://cdn.discordapp.com/attachments/823968973753810945/862329414321438730/unknown.png",""
"849837357254443069","jackie68#1932","07/07/2021 7:19 pm","But at the pool, more assets were added to the liquidity.","",""
"849837357254443069","jackie68#1932","07/07/2021 7:20 pm","How is the liquidity calculated at uniswap v3?","",""
"472419717970133002","cheechyuan.eth","07/07/2021 7:21 pm","note that v3 has the concept of concentrated liquidity. your position is out of range and you will need to use the suitable formula for that","",""
"849837357254443069","jackie68#1932","07/07/2021 7:22 pm","Thanks for your reply, can you explain it more in details?","",""
"472419717970133002","cheechyuan.eth","07/07/2021 7:25 pm","in short adding liquidity to a v3 pool is different as things were v2. when adding liquidity you will need to specify the price range. there are 3 types of equation to use
1. when current price is beneath your range
2.when current price is within your range
3. when current price is above your range. 

refer to the whitepaper to get a closer look at the equation.","",""
"817067280445734975","bernatf","07/07/2021 7:30 pm","the method is payable so you can include eth in the transaction","",""
"710541656671125567","js3js3#6271","07/07/2021 7:33 pm","But for the address field? And im also trying to swap from tokenA to ETH","",""
"817067280445734975","bernatf","07/07/2021 7:34 pm","try https://info.uniswap.org/#/tokens/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","",""
"710541656671125567","js3js3#6271","07/07/2021 7:37 pm","That is the WETH address. I tried it and could only swap to WETH","",""
"817067280445734975","bernatf","07/07/2021 7:39 pm","I don't know if there's a better option than unwrapping the weth yourself post-swap. There's logic for wrapping eth into weth when supplied as input https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/base/PeripheryPayments.sol#L58 but haven't seen the reverse","",""
"710541656671125567","js3js3#6271","07/07/2021 7:40 pm","Hmm ok thanks! I was thinking of unwrapping it too but thought if there was a cleaner way to do it","",""
"849837357254443069","jackie68#1932","07/07/2021 8:04 pm","thanks a lot","",""
"400521480141537281","marktoda","08/07/2021 2:01 am","I built a tool to automatically manage V3 positions - just provide it with your desired price range % and it will ensure you always have a position in range. I thought the folks here might find it useful - https://github.com/marktoda/uniswap-v3-manager","","heart (2)"
"817067280445734975","bernatf","08/07/2021 3:31 am","Any LP experts here? Reformulating my previous question as ""does the `L = sqrt(x * y)` relationship hold for individual positions?""

In section 6.4, the whitepaper states ""liquidity (l) can be thought of as sqrt(x*y) where ùë• and ùë¶ are the respective amounts of virtual token0 and virtual token1 that this liquidity contributes to the pool at any time that it is within range"", however this doesn't seem to be the case.

For instance, here's an example where I minted a position and trying to compute the liquidity amount yields a very different value:

```
‚îî‚îÄ‚îÄ 0xC36442b4a4522E871399CD717aBDD847Ab11FE88
    ‚îú‚îÄ‚îÄ Transfer
    ‚îÇ   ‚îú‚îÄ‚îÄ from: 0x0000000000000000000000000000000000000000
    ‚îÇ   ‚îú‚îÄ‚îÄ to: 0x5d05005608f765fD37c476292274ff08C10111B8
    ‚îÇ   ‚îî‚îÄ‚îÄ tokenId: 75062
    ‚îî‚îÄ‚îÄ IncreaseLiquidity
        ‚îú‚îÄ‚îÄ tokenId: 75062
        ‚îú‚îÄ‚îÄ liquidity: 2975398568
        ‚îú‚îÄ‚îÄ amount0: 16021711
        ‚îî‚îÄ‚îÄ amount1: 5638794037

>>> 2975398568 / math.sqrt(16021711 * 5638794037)
9.899142747961385 # an almost 1:10 difference
```","",""
"843155325619535912","Etherscan Bot#5753","08/07/2021 3:31 am","<https://etherscan.io/address/0xC36442b4a4522E871399CD717aBDD847Ab11FE88>","",""
"843155325619535912","Etherscan Bot#5753","08/07/2021 3:31 am","<https://etherscan.io/address/0x0000000000000000000000000000000000000000>","",""
"843155325619535912","Etherscan Bot#5753","08/07/2021 3:31 am","<https://etherscan.io/address/0x5d05005608f765fD37c476292274ff08C10111B8>","",""
"696381544130019390","siandreev#4929","08/07/2021 3:08 pm","Hi, how can i encode `bytes path` when call Quoter `quoteExactInput` method?","",""
"399617942087532545","_connormartin","09/07/2021 12:33 am","not sure if i am understanding correctly, but the x*y=k system is no longer relevant as the percentage of liquidity in a given position relative to the pool changes at every tick where there is another position initialized.","",""
"817067280445734975","bernatf","09/07/2021 2:47 pm","you basically concatenate tokenA + fee + tokenB, check out https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/Path.sol#L42","",""
"849837357254443069","jackie68#1932","09/07/2021 9:43 pm","https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#readContract","",""
"849837357254443069","jackie68#1932","09/07/2021 9:44 pm","","https://cdn.discordapp.com/attachments/823968973753810945/863090862685683712/unknown.png",""
"849837357254443069","jackie68#1932","09/07/2021 9:45 pm","this is WBTC-ETH pair.","",""
"849837357254443069","jackie68#1932","09/07/2021 9:45 pm","How can I calculate price range?","",""
"849837357254443069","jackie68#1932","09/07/2021 9:46 pm","p(i) = 1.0001 ^ i is not working for this pair.","",""
"849837357254443069","jackie68#1932","09/07/2021 10:04 pm","üòÖ  solved the issue, the decimals was problem","",""
"401042887531560961","atrainer","10/07/2021 6:09 am","How can u get the v3 pool address on ropsten?  Not seeing it anywhere in the interface and cant figure out how to get to info.uniswap on ropsten","",""
"183309006767521792","jorropo","10/07/2021 6:11 am","ropsten is under 51% attack currently, you can't use.
But still you can walk the factory manually or use : https://discord.com/channels/597638925346930701/606886929094541313/863195139240624128","",""
"428699196514893825","kassandra.eth","10/07/2021 10:40 pm","yes that still works you jsut need to factor in decimals","",""
"825633909793357835","rwnlover#2302","11/07/2021 3:52 pm","How can i get nftv3","",""
"183309006767521792","jorropo","11/07/2021 6:33 pm","provide some liquidity on V3","",""
"669546172263956480","asdf1935","12/07/2021 10:56 am","When calling mint params function, how to use ETH as one of the tokens to stake","",""
"785366948547395595","Insomniac#5522","12/07/2021 2:33 pm","Is there a way to lock an existing liquidity in Uni v3? I can only find v2 lockers","",""
"386165626030260225","koco#3223","12/07/2021 5:38 pm","Hi guys. How to find proper input for
`function tickBitmap(int16 wordPosition)`
Lets consider contract 0xCBCdF9626bC03E24f779434178A73a0B4bad62eD, the current tick is 257996. Shifted by 8 bits => 1007. 
`tickBitmap(1007) returns  uint256 :  0`
What do I do wrong?","",""
"843155325619535912","Etherscan Bot#5753","12/07/2021 5:38 pm","<https://etherscan.io/address/0xCBCdF9626bC03E24f779434178A73a0B4bad62eD>","",""
"849837357254443069","jackie68#1932","12/07/2021 8:56 pm","how can I get these values?","https://cdn.discordapp.com/attachments/823968973753810945/864165839590785044/unknown.png",""
"95507078788947968","hmmdeif","13/07/2021 3:03 am","do a static call on `collect`","",""
"95507078788947968","hmmdeif","13/07/2021 3:03 am","for the bottom part at least","",""
"183309006767521792","jorropo","13/07/2021 1:58 pm","Just transfer the NFT to the `0xdEaD` address","",""
"471357824299958273","crypto_rachel","13/07/2021 2:11 pm","Perma lock üòÑ","",""
"206890981939740673","controtie","13/07/2021 8:56 pm","Hey everyone,
We're working on deploying an LM program on Uni V3 and we're wondering what data makes sense to display to prospective stakers besides their accumulated LM rewards?

Displaying a generic APY on the pool seems difficult/will be inaccurate. Displaying the underlying collateral in their staked LP token also seems difficult/impractical.
Right now our LM flow looks like it will be pretty opaque/faceless üòÖ. Any ideas?","",""
"785366948547395595","Insomniac#5522","14/07/2021 3:56 am","How do I transfer the NFT?","",""
"183309006767521792","jorropo","14/07/2021 4:07 am","You can use the write contract function of etherscan, just grab the NFT id from uniswap / revert finance, CHECK TRHICE ! (you don't want to send the wrong nft) set all the parameters in the transfer function.
And set the recipient to `0xdEaD` (or `0x000000000000000000000000000000000000dEaD` if etherscan complains). And write it.","","üëé (2)"
"703519206603227167","vdm4","14/07/2021 2:14 pm","Don't do this. You'll lose your positions","",""
"680134319611576358","mostarz93","14/07/2021 9:22 pm","Does the Uniswap V3 SDK support L2's?","",""
"183309006767521792","jorropo","15/07/2021 7:17 am","Wasn't this the goal ? It was never stated the liquidity needed to be unlocked later. üòÑ","",""
"183309006767521792","jorropo","15/07/2021 7:18 am","But yes this locks forever, however it's possible to retrieve all the ETH if you have enough tokens to sell (or not even provide ETH in the first place since this is V3).","",""
"849837357254443069","jackie68#1932","15/07/2021 8:24 am","can you give me an example?","",""
"95507078788947968","hmmdeif","15/07/2021 6:32 pm","```
const contract = new ethers.Contract('0xC36442b4a4522E871399CD717aBDD847Ab11FE88', abi, provider)
const MAX_UINT128 = ethers.BigNumber.from(2).pow(128).sub(1)
const rewards = await contract.callStatic.collect({ 
    tokenId: 1, // your token id 
    recipient: '0x..', // token owner address
    amount0Max: MAX_UINT128.toHexString(),
    amount1Max: MAX_UINT128.toHexString(),
})
```","",""
"843155325619535912","Etherscan Bot#5753","15/07/2021 6:32 pm","<https://etherscan.io/address/0xC36442b4a4522E871399CD717aBDD847Ab11FE88>","",""
"849837357254443069","jackie68#1932","15/07/2021 6:34 pm","thanks","",""
"456119838629429259","hexonaut","15/07/2021 9:16 pm","Is there a canonical formula for pricing ERC20 LP tokens on top of Uniswap V3? This would be similar to the fair pricing for V2: https://blog.alphafinance.io/fair-lp-token-pricing/","",""
"731587401608331304","bloxpert","16/07/2021 11:04 am","Hi everyone. Quick question. What happens to V3 pools when trades move to L2 like Arbitrum and Optimism? Dow we need to migrate our pools to L2 as well? We know trading on L2s reduce gas costs but do liquidty providers on V2 and V3 get their share of commissions when a trade is settled on L2?","",""
"849837357254443069","jackie68#1932","16/07/2021 5:40 pm","How can I calculate this value - liquidity?","https://cdn.discordapp.com/attachments/823968973753810945/865566093213040670/unknown.png",""
"849837357254443069","jackie68#1932","16/07/2021 5:40 pm","","https://cdn.discordapp.com/attachments/823968973753810945/865566138074005514/unknown.png",""
"399617942087532545","_connormartin","16/07/2021 8:41 pm","L2 is a separate environment - so a pool on L2 is completely separated form a pool on L1, with different LPs, traders, and fees","",""
"486240771398434816","samayorinde","17/07/2021 1:21 am","Hello guys, please I need help;
I am trying to create an instance of tickList using the TickDataProvider constructor but It keeps throwing an error 
```
Error: Invariant failed: ZERO_NET
    at invariant (C:\Users\USER\Desktop\Uniswap-V3-Integration\node_modules\tiny-invariant\dist\tiny-invariant.cjs.js:13:11)
    at Function.validateList (C:\Users\USER\Desktop\Uniswap-V3-Integration\node_modules\@uniswap\v3-sdk\dist\v3-sdk.cjs.development.js:1350:24)
    at new TickListDataProvider (C:\Users\USER\Desktop\Uniswap-V3-Integration\node_modules\@uniswap\v3-sdk\dist\v3-sdk.cjs.development.js:1654:14)
    at main (C:\Users\USER\Desktop\Uniswap-V3-Integration\index.js:50:26)
    at processTicksAndRejections (internal/process/task_queues.js:88:5)
```
Below is my code:
```
const nearestTick = Math.floor(slot0[1] / tickSpacing) * tickSpacing;

        const tickLowerIndex = nearestTick - (60 * 100);
        const tickUpperIndex = nearestTick + (60 * 100);

        const tickLowerData = await poolContract.ticks(tickLowerIndex);
        const tickUpperData = await poolContract.ticks(tickUpperIndex);

        const tickLower = new Tick({
            index: tickLowerIndex,
            liquidityGross: tickLowerData.liquidityGross,
            liquidityNet: tickLowerData.liquidityNet
        })

        const tickUpper = new Tick({
            index: tickUpperIndex,
            liquidityGross: tickUpperData.liquidityGross,
            liquidityNet: tickUpperData.liquidityNet
        })

        const tickList = new TickListDataProvider([tickLower, tickUpper], tickSpacing);
```
Can anyone help me figure out what the prob could be?","",""
"731587401608331304","bloxpert","17/07/2021 3:12 am","Thanks for the reply Connor. We have been provided with migration tools from V2 to V3. Can we expect the same or should we consider removing liquidity from V2 and create an LP on L2?","",""
"125001847726538753","Thomas | 0xTracker.app#0242","17/07/2021 6:30 pm","Hey I'm looking for some help calculating the worth of a v3 pool token just from the contracts alone.  I don't want to use thegraph so looking to do the calcs manually.  V2 was well known 

user_pct = user_token_amount/totalSupply 
token0_bal = user_pct * reserves0
token1_bal = user_pct * reserves1

I've started reading through the contract methods on github but nothing is jumping out to me.

Can anyone direct me in the right place?","",""
"362770047686672394","lucaskohorst","17/07/2021 7:25 pm","Is there a way to view liquidity in terms of ticks (not price).?","",""
"362770047686672394","lucaskohorst","17/07/2021 7:39 pm","I am having trouble visualizing ""tick space""","",""
"849837357254443069","jackie68#1932","19/07/2021 8:25 am","const p0 = Math.pow(1.0001, tickLower);
            const p1 = Math.pow(1.0001, tickUpper);
            const p = Math.pow(1.0001, tick);
            const maxPrice = 1 / p0;
            const minPrice = 1 / p1;
            const curPrice = 1 / p;
            let amount0 = 0;
            let amount1 = 0;
            const liquidity = pos.liquidity.toString();
            if (liquidity && parseInt(liquidity)) {
                let l = parseInt(liquidity);
                if (curPrice <= minPrice) {
                    amount0 = (l / Math.sqrt(minPrice) - l / Math.sqrt(maxPrice)) / Math.pow(10, decimals1);
                    amount1 = 0;
                } else if (curPrice < maxPrice) {
                    amount0 = (l / Math.sqrt(curPrice) - l / Math.sqrt(maxPrice)) / Math.pow(10, decimals1);
                    amount1 = (l * Math.sqrt(curPrice) - l * Math.sqrt(minPrice)) / Math.pow(10, decimals0);
                } else {
                    amount1= l  * (Math.sqrt(maxPrice) - Math.sqrt(minPrice)) / Math.pow(10, decimals0);
                    amount0 = 0;
                }
            }","",""
"849837357254443069","jackie68#1932","19/07/2021 8:25 am","use this code","",""
"658649281670152245","0xdams","19/07/2021 11:05 am","hello everyone, i want to provide liquidity to uniswap V3 DAI/USDC pool at this address 0x6c6Bc977E13Df9b0de53b251522280BB72383700

i want to use mint function on my solidity code but i get error.
i'm new to uniswap V3 i have understood that i need to mint an nft as positions in pool but i dont understand how to do this in solidity.
can someone please help me better understand how to use mint function on uniswap to provide liquidity ?","",""
"843155325619535912","Etherscan Bot#5753","19/07/2021 11:05 am","<https://etherscan.io/address/0x6c6Bc977E13Df9b0de53b251522280BB72383700>","",""
"861500046654308362","xiaode‚Äî‚Äî#1189","19/07/2021 3:03 pm","i have the same problem, already deal it ?","",""
"362770047686672394","lucaskohorst","19/07/2021 3:25 pm","not yet.. one though is using https://docs.uniswap.org/sdk/reference/functions/tickToPrice","",""
"362770047686672394","lucaskohorst","19/07/2021 4:50 pm","pretty helpful https://uniswap-v3-calculator.netlify.app/","",""
"125001847726538753","Thomas | 0xTracker.app#0242","19/07/2021 5:13 pm","Thanks alot for this!  I'm going to give a try now","",""
"125001847726538753","Thomas | 0xTracker.app#0242","19/07/2021 5:50 pm","This looks like its spot on!  Does this include the fees paid as well?  I thought I read that pos.liquidity doesn't include the pending fees.","",""
"125001847726538753","Thomas | 0xTracker.app#0242","19/07/2021 6:17 pm","@jackie68 Sent a friend request would love to chat if you have a minute","","üëç (1)"
"291828960872890368","thanpolas","20/07/2021 3:04 am","Fresh out of the oven: https://github.com/thanpolas/univ3prices","","üëÄ (3)"
"125001847726538753","Thomas | 0xTracker.app#0242","20/07/2021 3:42 am","Dude! Nice job!  Community has been very helpful!  Can‚Äôt wait to read through it!","",""
"561252349201481739","boivlad#9133","21/07/2021 2:00 am","Hi guys, I have a question. Can I calculate how many tokens token0 and token1 I have to send to increase liquidity if I only have one of the tokens. And how can I calculate how much I need to change one token for this taking into account the fee? Thank you.","",""
"867326294000664636",".burck","21/07/2021 2:59 pm","Does anybody know if I can repay my flashswap loan in the opposite token? My code seems to revert on this.","",""
"291828960872890368","thanpolas","21/07/2021 3:49 pm","how do we determine price given multiple LPs for the same token pair? How does frontend tackle this?
https://github.com/Uniswap/uniswap-v3-sdk/issues/53","",""
"399617942087532545","_connormartin","21/07/2021 8:54 pm","if you withdraw only one token with `flash` - you'll need to pay back that same token to the pool","",""
"399617942087532545","_connormartin","21/07/2021 8:57 pm","you can use the v3 sdk to query tick data, which returns the initialized ticks and the liquidity that use them","",""
"399617942087532545","_connormartin","21/07/2021 8:58 pm","there wont be a migration process for L1 -> L2, L2 is a separate environment with a separate instance of the uniswap protocol. you'll have to manage the two protocols instances as separate entities","",""
"795677630241832970","alexey_6080","22/07/2021 4:45 pm","Hi guys, I want somehow get price rate using Uniswap v3 . When I  use thegraph  vers 2  I have method ""pairs"", but v3  don't have this method. How could I  get price rate for example UNI/USDC ?","",""
"291828960872890368","thanpolas","22/07/2021 6:29 pm","have a look here: https://github.com/thanpolas/univ3prices

and here: https://github.com/Uniswap/uniswap-v3-sdk/issues/53","","üëç (1)"
"519344340506771479","0x_quasar","22/07/2021 8:50 pm","Has anyone made a proposal to Launch Uniswap on Polygon?  If not, why not?","",""
"752364279885463623","jaspa.codes","22/07/2021 8:53 pm","@smsunarto is there a reason you made the Oracle Library `< 0.8.0`? https://github.com/Uniswap/uniswap-v3-periphery/blob/b771ff9a20a0fd7c3233df0eb70d4fa084766cde/contracts/libraries/OracleLibrary.sol","",""
"183309006767521792","jorropo","22/07/2021 11:21 pm","Because they started working before `0.8.0` was out and they don't update the solidity version in the middle of working unless they really need to as this can require reauditing some code and if it works with `0.7.x` why bother maybe breaking it ?","","üëç (1)"
"752364279885463623","jaspa.codes","23/07/2021 3:34 am","Right, but from a browse of most of the other v3 code this is the only one I can find that has that < 0.8.0 limitation.","",""
"183309006767521792","jorropo","23/07/2021 3:40 am","that because it uses wrappings, it's actually important that overflows happen, so in 0.8.0 it would revert instead of having a normal opperation (you can probably wrap everything in an `unchecked` block I guess)","","üëç (2)"
"752364279885463623","jaspa.codes","23/07/2021 12:19 pm","Ah that makes sense. Thanks!","",""
"585006254242529290","The Observer#2274","25/07/2021 9:12 pm","Hi, is there anyone familiar with Uniswap SDK/smart contract and know how to provide liquidity programmatically? Looking for some guidance willing to pay for that!","",""
"853976307720257536","xand6r","25/07/2021 11:21 pm","hi, does anyone know how i can get the exchange rate of assets in a pool? i know that on v2 we use `midPrice` but its not very clear on how to do it on v3. anyone who has any ideas should kindly share","",""
"826856147226198016","heptx","26/07/2021 2:26 am","tickLower and tickUpper shown in the event log of the Mint function don't seem to match the range shown on app.uniswap.org. Eg in the USDC/ETH pool, when tickLower is 199200, the corresponding Min Price shown on the website is 2018 (as expected), but sqrt(1.0001)^199200 = 21152. I saw comments further up that suggested adjusting for decimals, but this alone is clearly not sufficient to reconcile the two figures.","",""
"757282392338595850","WalmartSpecial#2873","26/07/2021 6:23 am","Is there a discord for those wishing to bend over...er  help those wishing to move coins from L2 to L1? I heard something about bonding","",""
"757282392338595850","WalmartSpecial#2873","26/07/2021 6:23 am","I wish to bond some folks lol","",""
"322123571969130507","bolduser","26/07/2021 10:54 am","Hello, Since integrating v2 Uniswap swapping into your own smart contract isn't compatible with v3 (at least that is my understanding), has anyone done a smart contract integration that can implement a swap on V2 or V3?","",""
"383836935480803339","sendmoodz","27/07/2021 4:57 am","the price is 1.0001^tick, the sqrt price is sqrt(1.0001)^tick","",""
"658649281670152245","0xdams","27/07/2021 11:02 am","hello, want to use mint function to take position on uniswap but don't understand how to find valid tickers as parameters (tickLower, tickUpper).
i'm on udsc/dai pool, how can i retrieve right tickers data to use in mint function ?","",""
"778676056210276402","royce#6273","28/07/2021 11:30 pm","How to change gas fee collection wallet address","",""
"185850892010913792","cbndc","29/07/2021 4:01 am","Hi, can I please ask if anyone knows how to encode the path for SwapRouter exactInput function?  Thank you","",""
"185850892010913792","cbndc","29/07/2021 4:04 am","I believe you can call the slot0 function on the pool contract.  That will give you some info including sqrtPriceX96 which you can convert into the price of token0 in units of token1","",""
"185850892010913792","cbndc","29/07/2021 4:24 am","Did you account for the tickSpacing?  Different pools have different tickSpacing","",""
"504037268928069632","BambaStrumf#6750","29/07/2021 1:53 pm","Hey guys, I'm trying to create a contract which:
-Creates a liquidity pool
-Provides that liquidity pool with some liquidity

is the way to do that, to use:
-createPool from univ3factory
-use createpool.call swap -> createpool.call mint     (createpool is the address of the created pool from univ3factory, and swap and mint are called from an interface of UniV3Pool)

Anyone know whether this is the right approach?","",""
"418307328786563073","mh#9849","29/07/2021 11:47 pm","Hi, i'm attempting to query the Quoter lens contract on a locally deployed contract, `quoteExactInput` method, and getting a `revert AS` message back from the call. I've verified my encoding method matches the official sdk's test output. The pools have also been deployed, and positions have been minted successfully. I haven't been able to find that `revert AS` anywhere in either the periphery or core contracts. Does anyone know where I can find that message's generation?

Here's the full call response:
```ValueError: {'message': 'VM Exception while processing transaction: revert AS', 'code': -32000, 'data': {'0x3f0a9fbf9984f219041281e2a2064ba8eed56d300be70cba1f5b0b972a568780': {'error': 'revert', 'pro
gram_counter': 1934, 'return': '0x08c379a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000241530000000000000000000000000000000000000
00000000000000000000000', 'reason': 'AS'}, 'stack': 'c: VM Exception while processing transaction: revert AS\n    at Function.c.fromResults (/app/ganache-core.docker.cli.js:2:257479)\n    at readyCall (/app/gana
che-core.docker.cli.js:17:177652)', 'name': 'c'}}  ```","",""
"843155325619535912","Etherscan Bot#5753","29/07/2021 11:47 pm","<https://etherscan.io/tx/0x3f0a9fbf9984f219041281e2a2064ba8eed56d300be70cba1f5b0b972a568780>","",""
"843155325619535912","Etherscan Bot#5753","29/07/2021 11:47 pm","<https://etherscan.io/tx/0x08c379a000000000000000000000000000000000000000000000000000000000>","",""
"669546172263956480","asdf1935","30/07/2021 11:26 pm","Hi, So I was wondering how one would unit test a smart contract integrated with one of the interfaces","",""
"669546172263956480","asdf1935","30/07/2021 11:26 pm","thanks","",""
"669546172263956480","asdf1935","31/07/2021 12:55 am","I don't really understand because the read me in the v3-periphery makes it seem that there is a contract instance to connect to with the interface but I can't find any?Does the interface connect to the contract that inherits all the interfaces? Correct me if I'm wrong but I'm just very confused","",""
"291828960872890368","thanpolas","31/07/2021 10:37 pm","trying to figure out V3 Pools to integrate with them. I am using the USDC/WETH pool: https://etherscan.io/address/0x8ad599c3A0ff1De082011EFDDc58f1908eb6e6D8#readContract

1. What is the unit of the `liquidity` function? The value is `32526041258128342209` ... what is this value?

2. The tickSpacing has a value of `60`. How can the current tick available through `slot0` have a value that is not a multiple of `60`? The current tick value is: `198267`","",""
"273968343117987841","afslrzkr2","01/08/2021 8:18 pm","Hello guys, does anyone know how to execute a simple multihop?","",""
"273968343117987841","afslrzkr2","01/08/2021 8:18 pm","I can't seem to get to work","",""
"273968343117987841","afslrzkr2","01/08/2021 8:19 pm","always gives me this error","https://cdn.discordapp.com/attachments/823968973753810945/871404287916380190/Screen_Shot_2021-08-01_at_10.49.00_PM.png",""
"273968343117987841","afslrzkr2","01/08/2021 8:19 pm","code from JS ```const ContractName = ""MultiHop""
const MultiHop = artifacts.require(ContractName)

contract(ContractName, () => {
    it(""testing sol contracts"", async () => {
        const contract = await MultiHop.deployed();
        await contract.swapExactInputMultihop(10000);
    });
});```","",""
"273968343117987841","afslrzkr2","01/08/2021 8:20 pm","Im trying to execute this function from my sol contract : ``` function swapExactInputMultihop(uint256 amountIn) external returns (uint256 amountOut) {
        //Transfer `amountIn` of DAI to this contract.
        TransferHelper.safeTransferFrom(DAI, msg.sender, address(this), amountIn);

        // Approve the router to spend DAI.
        TransferHelper.safeApprove(DAI, address(swapRouter), amountIn);

        // Multiple pool swaps are encoded through bytes called a `path`. A path is a sequence of token addresses and poolFees that define the pools used in the swaps.
        // The format for pool encoding is (tokenIn, fee, tokenOut/tokenIn, fee, tokenOut) where tokenIn/tokenOut parameter is the shared token across the pools.
        // Since we are swapping DAI to USDC and then USDC to WETH9 the path encoding is (DAI, 0.3%, USDC, 0.3%, WETH9).
        ISwapRouter.ExactInputParams memory params =
            ISwapRouter.ExactInputParams({
                path: abi.encodePacked(DAI, poolFee, USDC, poolFee, WETH9),
                recipient: msg.sender,
                deadline: block.timestamp,
                amountIn: amountIn,
                amountOutMinimum: 0
            });

        // Executes the swap.
        amountOut = swapRouter.exactInput(params);
        return amountOut;
    } ```","",""
"273968343117987841","afslrzkr2","01/08/2021 8:22 pm","I've also tracked the error via truffle debug but it leads me here a contract I did not even create it is from the v3-peripherals. and I am pretty sure they wouldn't release any contracts that isn't production ready so I am really confused","https://cdn.discordapp.com/attachments/823968973753810945/871405146960179220/Screen_Shot_2021-08-01_at_10.51.36_PM.png",""
"428699196514893825","kassandra.eth","03/08/2021 11:33 pm","STF error means ""safe transfer from"" (as far as i understand) did you approve the tokens?","",""
"428699196514893825","kassandra.eth","03/08/2021 11:34 pm","probably has something to do with approvals","",""
"428699196514893825","kassandra.eth","03/08/2021 11:34 pm","GL üôÇ","",""
"399617942087532545","_connormartin","04/08/2021 5:11 am","you need to create a beforeEach that approves your contract to spend your EOA's DAI","",""
"399617942087532545","_connormartin","04/08/2021 5:12 am","https://docs.uniswap.org/protocol/reference/error-codes","","ty (1)"
"265262139898331143","itsthecon","04/08/2021 6:28 am","https://etherscan.io/tx/0xcd7dae143a4c0223349c16237ce4cd7696b1638d116a72755231ede872ab70fc","",""
"265262139898331143","itsthecon","04/08/2021 6:29 am","UNIV3 flash loan attack on popsicle (afaik) - 20M gone","",""
"740067760541007894","daqingsu","04/08/2021 7:26 am","trying to add liquidity using web3.py but got 'execution reverted' error:

params = {
                    ""token0"": Web3.toChecksumAddress(self.usdc_address),
                    ""token1"": Web3.toChecksumAddress(self.weth_address),
                    ""fee"": 3000,
                    ""tickLower"": 1,
                    ""tickUpper"": 2,
                    ""amount0Desired"": 55*1e6,
                    ""amount1Desired"": 0.02*1e18,
                    ""amount0Min"": 50*1e6,
                    ""amount1Min"": 0.015*1e18,
                    ""recipient"": Web3.toChecksumAddress(self.address),
                    ""deadline"": int(time.time() + 1*60*60)
                  }
                
        transaction = self.nft_position_manager_contract.functions.mint(p).buildTransaction(
                                  {   'nonce': self.web3.eth.getTransactionCount(self.account.address),
                                       'from': self.account.address})
am i calling mint function with the right parameters?","",""
"740067760541007894","daqingsu","04/08/2021 7:40 am","he made off with 4100 ETHs?
https://etherscan.io/txs?a=0xf9e3d08196f76f5078882d98941b71c0884bea52","",""
"265262139898331143","itsthecon","04/08/2021 7:54 am","Correct should be around $20m","",""
"814443445640364092","leek0407","04/08/2021 6:30 pm","where is contract address  of UniswapV3Pool ?","",""
"183309006767521792","jorropo","04/08/2021 6:30 pm","which one ? There are many, there is one pool per pool","",""
"291828960872890368","thanpolas","04/08/2021 6:33 pm","I tried to apply this formula from the whitepaper to calculate reserves for each token and I am having some very wonky numbers... 

I am using the DAI/USDC pool: https://etherscan.io/address/0x6c6bc977e13df9b0de53b251522280bb72383700

Liquidity Value: 166610388303228168521598
Sqrt Price Value: 79248224130243824553353

When I do ""Liquidity / Sqrt"" or ""Liquidity * Sqrt"" the numbers are completely off ... have any clues?","https://cdn.discordapp.com/attachments/823968973753810945/872464811693314069/unknown.png",""
"183309006767521792","jorropo","04/08/2021 6:35 pm","Thoses virtual reserves are just for one tick.
The virtual reserves is how big `x` and `y` must be in `k=x*y` at the current tick.

Or in other words, it's how big a V2 pool would need to be to match V3 at a precise tick.","",""
"291828960872890368","thanpolas","04/08/2021 6:36 pm","okkk... still, are these indeed the correct calculations? The division produces a decimal valued near 1... the multiplication produces a huge number","",""
"183309006767521792","jorropo","04/08/2021 6:37 pm","idk","",""
"291828960872890368","thanpolas","04/08/2021 6:54 pm","The actual results:

```
    token0 reserves: ""2.1024""
    token1 reserves: ""13204000000000000000000000000000000000000000000""
```","","thinkRoll (1)"
"740067760541007894","daqingsu","04/08/2021 7:01 pm","hi does anyone know how to add liquidity with web3.py? what code/function do you use to add liquidity?","",""
"814443445640364092","leek0407","04/08/2021 7:16 pm","@Jorropo.ethI find it! But  a problem","",""
"814443445640364092","leek0407","04/08/2021 7:16 pm","","https://cdn.discordapp.com/attachments/823968973753810945/872475643999293460/unknown.png",""
"740067760541007894","daqingsu","04/08/2021 7:17 pm","i think you have to round liquidity and sqrt price to their right decimals first. so if your liquidity is about 16661 usdc, divide 166610388303228168521598 by 1e18. with price, same thing. no idea why sqrt price is 79... dai/usdc should be close to one though.","",""
"814443445640364092","leek0407","04/08/2021 7:17 pm","","https://cdn.discordapp.com/attachments/823968973753810945/872475767953588224/unknown.png",""
"814443445640364092","leek0407","04/08/2021 7:18 pm","1. How is this positionkey encrypted? 2. What do lowertick and uppertick stand for?","",""
"291828960872890368","thanpolas","04/08/2021 7:19 pm","that's what I believe needs to be done... USDC has 6 decimals... will it be constant that the `liquidity` value represents USDC though so as to know to round it with 10e6?","",""
"740067760541007894","daqingsu","04/08/2021 7:29 pm","liquidity is number of LP token for the position i guess. not usdc or eth. maybe experts here can correct me if i am wrong.","",""
"291828960872890368","thanpolas","04/08/2021 7:32 pm","Tried a different LP, DAI/WETH: https://etherscan.io/address/0x60594a405d53811d3bc4766596efd80fd545a270#readContract

```
liquidity = '2830981547246997099758055'
sqrtPrice = '1550724133884968571999296281'
```

I divide both the above numbers with 1e18, results are:

```
    token0 reserves: ""0.0018256""
    token1 reserves: ""4390100000000000""
```","",""
"401842633464610837","_kfx","04/08/2021 10:06 pm","I'm a newbie in this myself, but I believe the price is expressed in terms that are internally multiplied by 2^96. The decimals really does not come into play for this pair, because both WETH  and DAI have the same number of decimals. Its the difference of decimals between the two tokens that matters. For USDC/DAI you would multiply (or divide) by 10^(18-6) = 10^12, but for ETH/DAI 10^(18-18) is 1","",""
"401842633464610837","_kfx","04/08/2021 10:07 pm","So, `((2 ** 96) // 1550724133884968571999296281) ** 2` is the price of ETH in terms of DAI (it's 2601)","",""
"401842633464610837","_kfx","04/08/2021 10:08 pm","and `1550724133884968571999296281. / (2**96)` is sqrt of the price of DAI in terms of ETH (don't use floating point math in your real code!)","",""
"401842633464610837","_kfx","04/08/2021 10:10 pm","you'd get huge numbers if you multiply that by liquidity - but I think that's the point, that v3 is much more capital efficient than v2 was!","",""
"291828960872890368","thanpolas","05/08/2021 2:24 am","With some unexpected help I figured it out‚Ä¶ will post the refined solution tomorrow","",""
"291828960872890368","thanpolas","05/08/2021 5:05 pm","cracked the liquidity issue, the change is pending code review, feel free to review yourselves and let me know your comments: https://github.com/thanpolas/univ3prices/pull/3","",""
"401842633464610837","_kfx","05/08/2021 7:31 pm","great! do you also plan to add the reverse function, that calculates the liquidity given the amounts of tokens (or amount of token0 and the price) and the range of the position?","",""
"401842633464610837","_kfx","05/08/2021 7:33 pm","by the way, I suggest to check the example code in the README. for instance, the quick start example has `console.log(prices);` where it should have `console.log(price);` and so on","",""
"291828960872890368","thanpolas","05/08/2021 7:34 pm","What would be a use case for that?","",""
"291828960872890368","thanpolas","05/08/2021 7:34 pm","Will do, thanks","",""
"401842633464610837","_kfx","05/08/2021 7:39 pm","to simulate adding liquidity to a pool instead of actually doing it!","",""
"291828960872890368","thanpolas","05/08/2021 7:51 pm","I see‚Ä¶ ok will add, that‚Äôs already implemented in the sdk‚Ä¶ but just curious, can you walk me through that workflow?","",""
"401842633464610837","_kfx","05/08/2021 7:56 pm","my idea is to play with simulated positions, to calculate how many tokens one would get back depending on changes in the price, in order to calculate the impermanent loss. basically write a LP simulator. calculating this was just a few lines of code for Uniswap v2, but its surprisingly difficult for v3","",""
"401842633464610837","_kfx","05/08/2021 7:58 pm","as the liquidity stays constant whatever the price (right?), it can be used to derive the amount of tokens after a price change","",""
"860256991288623134","romanbsd#7873","05/08/2021 9:40 pm","That's pretty complicated, but you can get the idea if you look at the https://github.com/Uniswap/uniswap-v3-sdk/blob/main/src/nonfungiblePositionManager.ts . I'm writing a Python implementation (almost ready), which will allow to add/remove liquidity from python.","",""
"838651199221661706","wei3erhase","05/08/2021 10:04 pm","Hi people, I'm trying to create a Swapper contract that uses UniswapV3, so far I was able to make a payETH/receiveToken transaction, but I'm struggling with payToken/receiveETH functionality, is there something I'm doing wrong?
https://gist.github.com/wei3erHase/96c22dfc6d08d4d737590e531b959dce
I've tried approving the Swapper contract the tokens before calling the function.","",""
"740067760541007894","daqingsu","06/08/2021 2:14 am","nice. tks for the info. let me know when you have python lib ready. would love to try.","",""
"740067760541007894","daqingsu","06/08/2021 2:30 am","i tried code from https://soliditydeveloper.com/uniswap3 and  can't even make convertExactEthToDai() work. it hits require(msg.value > 0, ""Must pass non 0 ETH amount""); but i use brownie and local ganache. pretty sure accounts[0] has ETH in it.","",""
"542853714877087745","Racer#9043","06/08/2021 6:17 am","V3 won't allow me to remove liquidity, the pictured screen flashes to ""Waiting for Confirmation"" from my Coinbase Wallet account but no message is sent to that account from which I can confirm the removal.  Any ideas please?","https://cdn.discordapp.com/attachments/823968973753810945/873004406419914762/unknown.png",""
"838651199221661706","wei3erhase","06/08/2021 12:34 pm","I've taken the code from this page, but it only trades eth for token, and not the other way around. To call the convertExactToDai you have to pass a `{value:... }` parameter","",""
"291828960872890368","thanpolas","06/08/2021 2:34 pm",":tadalolhd:  **univ3prices V2 released** :tadalolhd: 

* Calculate price based on the sqrtPrice Value.
* Calculate price based on the current tick Value.
* **NEW** Calculate amounts of tokens (reserves) for the current tick of a pool.
* **NEW** Tick Math functions for converting tick to sqrt and vice versa.
* **NEW** Provide utility functions to work with Uniswap V3.
* **NEW** Various constants to work with Uniswap V3.

https://github.com/thanpolas/univ3prices","","üëç (2)"
"813792373854961725","cosmaph.blog","06/08/2021 5:43 pm","thank you , may I ask you a couple of things about it?","",""
"572192519291404308","Nolan Vanmoortel#0429","06/08/2021 8:13 pm","Hey I've just release my uni V3 tools ‚ù§Ô∏è
https://twitter.com/NolanVanmoortel/status/1423654800281964547","",""
"826856147226198016","heptx","08/08/2021 9:54 pm","I'm trying to understand how the UniswapV3Pool contract implements the functions, e.g. token0(), in interface IUniswapV3PoolImmutables","",""
"826856147226198016","heptx","08/08/2021 9:55 pm","From what I can tell, this happens in the two lines","",""
"826856147226198016","heptx","08/08/2021 9:55 pm","/// @inheritdoc IUniswapV3PoolImmutables
    address public immutable override token0;","",""
"826856147226198016","heptx","08/08/2021 9:57 pm","If it wasn't for the override keyword, this looks more like a variable declaration rather than a function definition","",""
"826856147226198016","heptx","08/08/2021 9:58 pm","I suspect there is some magic happening under the hood due to the @inheritdoc annotation","",""
"826856147226198016","heptx","08/08/2021 9:59 pm","would be great if somebody could shed some light on what is happening here","",""
"567657365558657024","Frank Zheng#5144","09/08/2021 8:50 pm","Sir, could you teach me how to fetch all tick data of a pool? Thank you so much!","",""
"399617942087532545","_connormartin","09/08/2021 9:09 pm","@inheritdoc is just a commenting script for documentation","",""
"399617942087532545","_connormartin","09/08/2021 9:10 pm","token0 returns the address of token0 in a given pool - its included in the pool immutables library because the address will never change","",""
"399617942087532545","_connormartin","09/08/2021 9:10 pm","the interface surfaces the external functions - the code thats happening is in the UniswapV3PoolImmutables library","",""
"826856147226198016","heptx","09/08/2021 10:54 pm","hm, can you provide a link to the library you are referring to? I can only see a bunch of files with helper functions in uniswap-v3-core/contracts/libraries","",""
"399617942087532545","_connormartin","10/08/2021 3:50 am","ah sorry - its in the pool contract. the pool0 is an immutable variable of type address that is created when the pool is initalized","",""
"399617942087532545","_connormartin","10/08/2021 3:50 am","it represents the token address of the first token pair by sort order","",""
"826856147226198016","heptx","10/08/2021 4:57 pm","What threw me off is that a variable can override a function. But apparently that's legal as long as the variable is a public state variable and the function external. Moreover, the compiler automatically generates externally visible getter functions for all public state variables, so that token0 can be retrieved by calling token0()","",""
"183309006767521792","jorropo","10/08/2021 5:00 pm","a public variable = a function","",""
"183309006767521792","jorropo","10/08/2021 5:02 pm","If you put a variable public, solidity auto gen a getter function with his name.
So :
```js
bool public example;
```
And :
```js
bool private _example;

function example() public returns (bool) {
  return _example;
}
```
Are litteraly the same code. Like it's the same thing except `public` is shorter and has less way for you to mess up (so use the `public` version one).","","üëç (1),Uni (1)"
"399617942087532545","_connormartin","11/08/2021 12:04 am","fetching tick data is kind of a custom process based on your specific needs. just fetching everything will likely be too data intensive for your needs","",""
"844338578351849502","BearWhale#1776","11/08/2021 5:28 am","Can someone check my math?  For an arbitrary pool, let's say USDC / WETH, I want to derive the real and virtual reserves given:
1. Amount (real) of WETH:  1.0
2. Current Price USDC / WETH:  $3,142.14
3.  Range Lower Bound:  $2,356.61
4.  Range Upper Bound:  $3,927.68

Plugging those values in, I get:
1.  Real USDC:  $3,987.46
2.  Virtual WETH:  9.472136
3.  Virtual USDC:  $29,762.78
4.  Real Liquidity = $3,987.46 + $3,142.14 x 1 = $7,129.60
5.  Virtual Liquidity = $29,762.78 + $3,142.14 x 9.472136 = $59,525.56

I'm calculating the full curves (i.e., real and virtual), but need to at least confirm that these values are correct.  Thanks in advance -","",""
"814443445640364092","leek0407","11/08/2021 12:53 pm","If the current price is no longer between my ticklower and tickupper after I add liquidity, then the liquidity will be 0. Will the system automatically help me withdraw liquidity, or will it provide liquidity again when the price returns between the upper and lower bounds","",""
"401842633464610837","_kfx","11/08/2021 4:19 pm","Which formulas do you use to calculate these values?","",""
"401842633464610837","_kfx","11/08/2021 4:19 pm","I thought with Uniswap liquidity is a multiplication, not a sum","",""
"402391611545223168","mark#9857","11/08/2021 4:35 pm","Hi all!
There's a lot of people with the same problem in multiple channels, but I didn't find any answers.
I'm trying to understand how to get the amount of liquidity locked in a tick, as displayed in the pool info (this info comes from the subgraph as I understand)
https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8
I'm getting liquidityGross and LiquidityNet for a tick from Pool.ticks method and TickLens, but I don't understand how to convert these values to actual token0/token1 values so that they match the chart.
I understand that virtual reserves can be calculated as L*sqrt(price), but it doesn't seem to match anyway.","",""
"401842633464610837","_kfx","11/08/2021 5:24 pm","I believe that https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/LiquidityAmounts.sol#L120 shows the calculation that you need.","",""
"402391611545223168","mark#9857","11/08/2021 5:25 pm","thanks, I'll give it a try!","",""
"844338578351849502","BearWhale#1776","12/08/2021 1:19 am","Anyone else find that the amount of virtual liquidity does not depend on the upper range boundary? 

If my algebra is correct, the upper range is only needed to determine the amount needed in token1 given an amount of token0 (as well as the current price and lower range boundary).
Consequently - increasing the upper range boundary only impacts the amount of token1 needed to fund the pool (i.e., the virtual amounts of token0 and token1 do not change).","",""
"402391611545223168","mark#9857","12/08/2021 3:28 am","still can't figure it out - any more tips?
I'm using the formulas, eg `getAmount1ForLiquidity = FullMath.mulDiv(liquidity, sqrtRatioBX96 - sqrtRatioAX96, FixedPoint96.Q96)`.
So if I'm looking at a tick 195540 with liquidityGross 272371832052073414, then the liquidity should be about 3.5M USD/1k Eth from the chart.
By using this formula I'm getting this:
`272371832052073414 * ( (1.0001**195600)**.5 - (1.0001**195540)**.5) = 1.441 * 10**19`
(skipping dividing by `2**96` since I'm taking the sqrt prices without the 96)
Dividing this by either usdc decimals (`10**6`) or weth decimals (`10**18`) doesn't give a reasonable number.","",""
"875152739250896998","Kin#1362","12/08/2021 4:47 am","Uniswap python module , error running on testnets, works fine on mainnet. If anyone can help , will be great","https://cdn.discordapp.com/attachments/823968973753810945/875156110577905714/message.txt",""
"418307328786563073","mh#9849","12/08/2021 6:19 am","Your testnet address  may not be properly formatted: https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md","",""
"875152739250896998","Kin#1362","12/08/2021 6:21 am","I am not actually getting error on the address, its passing through its failing on the below step","",""
"875152739250896998","Kin#1362","12/08/2021 6:21 am","print(uniswap.get_price_input(bat, dai, 1018), route=[eth, dai])
print(uniswap.get_price_output(bat, dai, 1018), route=[eth, dai])`","",""
"875152739250896998","Kin#1362","12/08/2021 6:22 am","Its able to read the token balance","",""
"875152739250896998","Kin#1362","12/08/2021 6:24 am","on mainnet its running withouth the need of web3 checksum for address","",""
"418307328786563073","mh#9849","12/08/2021 6:29 am","My mistake, I didn't expand the error message. If the function you're using works with mainnet, it should work on one of the public testnets as Uniswap deploys them all to the same address. The module shouldn't discriminate","",""
"418307328786563073","mh#9849","12/08/2021 6:34 am","If there's insufficient liquidity on the pool that you are trying to quote from on the testnet, then it will revert as the calculation is based upon a calculated swap for the desired amount.","",""
"875152739250896998","Kin#1362","12/08/2021 6:34 am","i added the test eth on all testnets","",""
"418307328786563073","mh#9849","12/08/2021 6:35 am","The bat dai pool for your chosen fee level may need to have liquidity added first","",""
"567657365558657024","Frank Zheng#5144","12/08/2021 1:11 pm","Thank you, Sir! So what need I do to do off-chain quoting?","",""
"838651199221661706","wei3erhase","12/08/2021 4:22 pm","anyone has a JS script for swapping a token on a UniV3 pool?","",""
"456226577798135808","Deleted User","12/08/2021 6:43 pm","Anyone in here that can assist me with converting ERC20 token balance to USDC","",""
"456226577798135808","Deleted User","12/08/2021 6:43 pm","I was using useUSDCPrice hook but it randomly stopped working on me","",""
"418307328786563073","mh#9849","12/08/2021 9:50 pm","Does anyone know how to properly generate the tick bitmap index from the current pool tick for use with TickLens? I was under the impression we simply had to rightshift by 8 bits, i.e. 75499 >> 8, but the tick data seems to be stored at index 4, not index 294 as this calculation derives.","",""
"401842633464610837","_kfx","13/08/2021 12:24 am","it's the difference between decimals what matters, isn't it? so you'd need to divide by 10^(18-6) which is 10^12.","",""
"401842633464610837","_kfx","13/08/2021 12:25 am","actually, when I sum the liquidityNet and the liquidityGross for that tick range, I get 3.4 million USDC, which is close to what the UI is showing","",""
"401842633464610837","_kfx","13/08/2021 12:25 am","not sure though why would we need to sum the net and gross liquidity for a tick range?","",""
"872790167067447316","BadAsx#9295","13/08/2021 3:20 pm","Does anyone know how to convert the price of the actual token from the Price class","",""
"872790167067447316","BadAsx#9295","13/08/2021 3:21 pm","Price {
  numerator: JSBI(7) [
    -1244791744,
    -1088667284,
    -2121011256,
    -1236356376,
    -371430401,
    333301417,
    308820798,
    sign: false
  ],
  denominator: JSBI(7) [ 0, 0, 0, 0, 0, 0, 1, sign: false ],
  baseCurrency: Token {
    chainId: 1,
    decimals: 6,
    symbol: 'USDC',
    name: 'USD Coin',
    isNative: false,
    isToken: true,
    address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
  },
  quoteCurrency: Token {
    chainId: 1,
    decimals: 18,
    symbol: 'WETH',
    name: 'Wrapped Ether',
    isNative: false,
    isToken: true,
    address: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'
  },
  scalar: Fraction {
    numerator: JSBI(1) [ 1000000, sign: false ],
    denominator: JSBI(2) [ -1486618624, 232830643, sign: false ]
  }
}","",""
"843155325619535912","Etherscan Bot#5753","13/08/2021 3:21 pm","<https://etherscan.io/address/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48>","",""
"843155325619535912","Etherscan Bot#5753","13/08/2021 3:21 pm","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"291828960872890368","thanpolas","13/08/2021 6:10 pm","Price.toSignificant() ?","",""
"280121913064292352","thogard","14/08/2021 12:20 am","hey","",""
"280121913064292352","thogard","14/08/2021 12:20 am","were you able to figure it out?","",""
"280121913064292352","thogard","14/08/2021 12:20 am","if not i can walk you through it","",""
"280121913064292352","thogard","14/08/2021 12:23 am","you basically take the current sqrtP, subtract that from the sqrtPi at which the token value is 0 to get ‚ñ≤sqrtP, and then solve for the ‚ñ≤ of the token. since the token had 0 at the sqrtPi, the ‚ñ≤token is the actual reserve amount","",""
"280121913064292352","thogard","14/08/2021 12:24 am","speaking of that, i'm trying to figure out if there's an easy way to hit 'a moving target' ..","",""
"280121913064292352","thogard","14/08/2021 12:25 am","trying to swap such an amount so that after the swap both the ratio of Y/X in my LP deposit amount and the ratio of Y/X actual reserves (not virtual) are equal","",""
"280121913064292352","thogard","14/08/2021 12:25 am","basically this (pardon the bad handwriting)","",""
"280121913064292352","thogard","14/08/2021 12:25 am","","https://cdn.discordapp.com/attachments/823968973753810945/875814910473433098/image0.jpg",""
"280121913064292352","thogard","14/08/2021 12:26 am","is there something in the library I can use, or someone else who's already figured out a gas optimized way to do it? when i factor the whole thing out i end up with a nasty quadratic that i don't think i can use in solidity without destroying myself on gas costs","",""
"280121913064292352","thogard","14/08/2021 12:27 am","","https://cdn.discordapp.com/attachments/823968973753810945/875815328049954928/image0.jpg",""
"280121913064292352","thogard","14/08/2021 12:27 am","there's gotta be a better way","",""
"280121913064292352","thogard","14/08/2021 12:27 am","any help would be appreciated üôÇ","",""
"280121913064292352","thogard","14/08/2021 12:30 am","i can't help but feel like i'm making a simple equation unnecessarily complex lol","",""
"280121913064292352","thogard","14/08/2021 12:30 am","and that there's a simple solve","",""
"826856147226198016","heptx","14/08/2021 2:35 am","The swap router (SwapRouter.sol in periphery) has a getPool function which returns","",""
"826856147226198016","heptx","14/08/2021 2:36 am","return IUniswapV3Pool(PoolAddress.computeAddress(factory, PoolAddress.getPoolKey(tokenA, tokenB, fee)))","",""
"826856147226198016","heptx","14/08/2021 2:37 am","Can anybody explain what's happening in this line? IUniswapV3Pool is an interface, which somehow gets passed an address","",""
"183309006767521792","jorropo","14/08/2021 2:38 am","interfaces doesn't exists","",""
"826856147226198016","heptx","14/08/2021 2:38 am","It looks like a constructor, even though interfaces cannot have constructors","",""
"183309006767521792","jorropo","14/08/2021 2:38 am","@hepto an interface is just an address, except you have some metadata attached to it so the compiler can cross check things and tell you if you did something wrong","",""
"183309006767521792","jorropo","14/08/2021 2:40 am","@hepto **interfaces doesn't exists** I really want to hammer my point.
After compilation and all compile time checks have been done, nothing is left from your interface, it's just translated into ABI encodes and calls.
You can cast any address to any interface and this will never fail. The calls may tho","",""
"826856147226198016","heptx","14/08/2021 2:43 am","Ok, sure. I get that getPool somehow returns the address of the pool, but why not just return the return value of PoolAddress.computeAddress?","",""
"183309006767521792","jorropo","14/08/2021 2:45 am","@hepto 
```js
interface Test {
  SampleFunction(address) external returns (bool);
}

function example(address _int) external returns (bool) {
  Test int = Test(_int);
  return int.SampleFunction(address(this));
}
```
And:
```js
function example(address int) external returns (bool) {
  (bool success, bytes result) = int.call(abi.encodeWithSignature(""SampleFunction(address)"",address(this)));
  require(success, result); // Forward revert bytes in case of failure
  return abi.decode((bool), result);
}
```
Should compile to mostly  the same thing","",""
"183309006767521792","jorropo","14/08/2021 2:54 am","It just returns the value of `PoolAddress.computeAddress`","",""
"183309006767521792","jorropo","14/08/2021 2:56 am","`IUniswapV3Pool(value)` does nothing, you can erase it from your memory if you want.
It's just that `PoolAddress.computeAddress`, for reasons I don't know returns an address, the uniswap team likes to have all public methods never return interfaces, they only always returns addresses.
But internally they like interfaces because it helps your catching mistakes you make.","",""
"183309006767521792","jorropo","14/08/2021 2:57 am","(I think, currently there is no reasons to not return an interface, maybe if you want to avoid your consumers importing many files that a reason, but honnestly I don't care, people can change it back to an address if they want, while returning interfaces help you write code)","",""
"826856147226198016","heptx","14/08/2021 2:59 am","What does SomeInterface(value) do though? Does this syntax only work if value is an address?","",""
"183309006767521792","jorropo","14/08/2021 2:59 am","it only accepts addresses, or other compatible interface","",""
"183309006767521792","jorropo","14/08/2021 3:00 am","@hepto and it does **nothing**, nothing, it just tell the compiler : ""btw, I know you think this is an address, but in fact I know it's an XYZ""","",""
"826856147226198016","heptx","14/08/2021 3:00 am","And presumably, there needs to be a contract at that address that implements the specified interface, and otherwise the statement will fail?","",""
"183309006767521792","jorropo","14/08/2021 3:00 am","no it will succeed","",""
"183309006767521792","jorropo","14/08/2021 3:01 am","@hepto there are no checks, you can cast your mom to an ERC20 and that will compile and run perfectly fine.","",""
"183309006767521792","jorropo","14/08/2021 3:01 am","The following calls will probably fails tho, as your mom doesn't implements some functions","",""
"183309006767521792","jorropo","14/08/2021 3:01 am","but you need to call a function that is not implemented for that to fail","",""
"826856147226198016","heptx","14/08/2021 3:01 am","Ok, so it's really just a hint to users of the function that the contract at the address should implement the interface","",""
"183309006767521792","jorropo","14/08/2021 3:02 am","I would say it's rather a hint to the compiler.
A cast to an interface allows you to call functions on that same object, and solc will do type checking","",""
"183309006767521792","jorropo","14/08/2021 3:03 am","@hepto if you look at my example : https://discord.com/channels/597638925346930701/823968973753810945/875849983935545345
**Both do literally the same thing**, except the first one is much more readable and less error prone","",""
"183309006767521792","jorropo","14/08/2021 3:04 am","Just imagine any error, something as simple as a typo in the second example, you have nothing to catch that, your only luck is if you have test coverage on that part of the code","",""
"826856147226198016","heptx","14/08/2021 3:07 am","So is Test(_int) effectively a way of attaching the Test interface to the contract at _int?","",""
"826856147226198016","heptx","14/08/2021 3:08 am","An alternative to defining Contract is Test, where Contract is the contract that lives at _int?","",""
"183309006767521792","jorropo","14/08/2021 3:08 am","yes, but be aware, if `_int` is an address, this will always pass, never fail","",""
"183309006767521792","jorropo","14/08/2021 3:09 am","Do you do c++ ? It seems to me üôÇ","",""
"826856147226198016","heptx","14/08/2021 3:09 am","yes, i do","",""
"183309006767521792","jorropo","14/08/2021 3:09 am","@hepto 
`address` is a `void*`
While an interface is a pointer to a virtual class.","",""
"183309006767521792","jorropo","14/08/2021 3:10 am","And `Test(value)` does a static_cast from a `void*` to a `Test*`","",""
"183309006767521792","jorropo","14/08/2021 3:10 am","@hepto is that clearer ? üôÇ","",""
"826856147226198016","heptx","14/08/2021 3:28 am","I think I got it now. By casting to an interface, the compiler will allow calling interface functions on the address. However, if at runtime it turns out the address doesn't actually belong to a contract that implements the interface, the cast will fail and the transaction get reverted","",""
"183309006767521792","jorropo","14/08/2021 3:34 am","> if at runtime it turns out the address doesn't actually belong to a contract that implements the interface, the cast will fail and the transaction get reverted
That just false","",""
"183309006767521792","jorropo","14/08/2021 3:34 am","@hepto it will work, I think I'm repeating myself, but **THIS DOES NOTHING**.
This always works, and just give you back an interface using the address you passed","",""
"183309006767521792","jorropo","14/08/2021 3:35 am","and an interface is just an address with type metadata for the compiler","",""
"183309006767521792","jorropo","14/08/2021 3:35 am","It just adds types metadata, but type metadata doesn't exists on EVM, so this does nothing in practice","",""
"826856147226198016","heptx","14/08/2021 3:36 am","In the getPool function this will always work because the compiler knows that the address' ABI","",""
"183309006767521792","jorropo","14/08/2021 3:37 am","no but like, when I'm saying you can cast your mom to an ERC20 token I'm not jocking. Just give me 2 minutes","",""
"826856147226198016","heptx","14/08/2021 3:37 am","But am I not right in assuming that if I hardcode some random address into the getPool function and then cast it to the Interface, the compiler would ok this, but execution then fail at runtime?","",""
"826856147226198016","heptx","14/08/2021 3:43 am","Or would the compiler not allow the cast if it can't verify that the contract at address implements the interface?","",""
"183309006767521792","jorropo","14/08/2021 3:46 am","you are wrong, everything would just work","",""
"183309006767521792","jorropo","14/08/2021 3:46 am","*as long as you don't call anything*","",""
"183309006767521792","jorropo","14/08/2021 3:46 am","If you do a call, only that call is checked","",""
"183309006767521792","jorropo","14/08/2021 3:46 am","But it's actually the receiver contracts that checks the call","",""
"183309006767521792","jorropo","14/08/2021 3:46 am","So it could get trapped in the fallback","",""
"826856147226198016","heptx","14/08/2021 3:46 am","By 'just work' you mean 'compile'?","",""
"183309006767521792","jorropo","14/08/2021 3:47 am","no, I mean both runtime and compiletime","",""
"826856147226198016","heptx","14/08/2021 3:47 am","and you are saying that the compiler will only check that those interface functions are implemented this are called","",""
"183309006767521792","jorropo","14/08/2021 3:48 am","@hepto
Try :
```js
interface Example {
    function SomeRandomFunctionNoOneCares() external;
}

contract Mom {
    function MakeCast(address mom) external returns (Example) { // Try to call this with 0x000000000000000000000000796f7572206d6f6d (""your mom"" in ascii)
        return Example(mom);
    }
}
```","",""
"843155325619535912","Etherscan Bot#5753","14/08/2021 3:48 am","<https://etherscan.io/address/0x000000000000000000000000796f7572206d6f6d>","",""
"183309006767521792","jorropo","14/08/2021 3:48 am","No the compiler checks nothing","",""
"183309006767521792","jorropo","14/08/2021 3:49 am","Or rather, the compiler checks:
That the function you call on the interface exists in your interface
And that the type passed exists in your interface
And checks that the return types match to your local interface
That all","",""
"826856147226198016","heptx","14/08/2021 3:50 am","Now I call one of the interface functions on the address, but the address doesn't implement that interface function. What happens?","",""
"183309006767521792","jorropo","14/08/2021 3:50 am","@hepto I might have gone to far with the ""your mom"" is a valid interface, but hopefully that memorable at least.
As you can see in this screen shot I pass `0x000000000000000000000000796f7572206d6f6d` which is ""your mom"" in ascii to this contract, it's not even that this contract doesn't implement my example interface, it's that it just doesn't exists, because obviously no contract with the address ""your mom"" has been deployed.
And both compilation and execution are fine.","https://cdn.discordapp.com/attachments/823968973753810945/875866538501091378/Capture_decran_du_2021-08-14_00-16-59.png",""
"183309006767521792","jorropo","14/08/2021 3:55 am","So, your contract send the call to the other contract.
It arrives to the entry point of the other contract.
Enter the big signature switch (actually in EVM there is only one entry point per contract, but solidity hides this because it adds a switch case where each case is a function, they get matched by using the 4 first bytes of the signature (the signature is just a keccak256 hash of the name + parameters premitive types)).
If your function is implemented, even if that only one function in many of the interface and only this has been implemented, just goes through the case for that function and the call continue and succeed as usual.
If the function isn't in any case, then the default is hit, in this case 2 thing happen.
- Either the target contract redefined it by defining the `fallback` function (`fallback` is literally the default case of the switch), and proceed with this function
- If not, the target contract reverts, and then yours checks for success, see that it failed, and revert himself too.","",""
"826856147226198016","heptx","14/08/2021 3:57 am","ok,  makes sense. thanks for helping me out with this!","",""
"777883749185749042","S14#5220","14/08/2021 3:46 pm","Hello everyone, i am new to uniswap, i am just trying to create a smart contract to try simple swaps, here is my code : https://codeshare.io/pqooP4  .
The first fct ""convertExactEthToDai"" works fine but when i call the function ""convertExactDaiToETH"", the transaction passes but when i check both my  eth and dai balances it does not change ... i am not sure what is wrong ...
PS: i did call the approve on the Dai smart contract: https://kovan.etherscan.io/token/0x4f96fe3b7a6cf9725f59d353f723c1bdb64ca6aa?a=0x7a61eb3287ec1951d03ac00696739a9bb0d33769#writeContract  giving the address of my smart contract and value of : 100
I would really appreciate if anyone could have a look at it and tell me what im doing wrong , i've been stuck with this one ://..
Thank you so much in advance,","",""
"654387417691848704","0xpsychotic","14/08/2021 7:57 pm","This looks cool, however I am trying to do this purely using web3.js
Why is it so complex to get price feed üòÖ","",""
"291828960872890368","thanpolas","14/08/2021 8:05 pm","What do you mean ‚Äúpurely‚Äù?","",""
"654387417691848704","0xpsychotic","14/08/2021 8:10 pm","I mean directly interacting with Uniswap v3 contracts using web3 js, and not using any dependency.","",""
"291828960872890368","thanpolas","14/08/2021 8:14 pm","That‚Äôs exactly what I am doing. The library is calculating the values that the contracts are offering","",""
"654387417691848704","0xpsychotic","14/08/2021 8:15 pm","Yeah trying to digest the implementation, its a bit complex.","",""
"291828960872890368","thanpolas","14/08/2021 8:15 pm","That‚Äôs why I wrote the library, to not have to use the SDK","",""
"291828960872890368","thanpolas","14/08/2021 8:17 pm","(Which is 5x more complicated to read than my library)","",""
"654387417691848704","0xpsychotic","14/08/2021 8:21 pm","Yeah that's true, you did a great job with the library, I am just trying to get a hang of the core SDK","",""
"826856147226198016","heptx","15/08/2021 4:42 am","I'm trying to perform a token swap in web3.py like so","",""
"826856147226198016","heptx","15/08/2021 4:42 am","tx_built = swaprouter_contract.functions.exactInputSingle(exactInputSingleParams).buildTransaction(tx)","",""
"826856147226198016","heptx","15/08/2021 4:42 am","where exactInputSingleParams is the dictionary","",""
"826856147226198016","heptx","15/08/2021 4:43 am","{'amountIn': 1000000000000000,
 'amountOutMinimum': 0,
 'deadline': 1628983067,
 'fee': 3000,
 'recipient': '0xKLM...',
 'sqrtPriceLimitX96': 0.017552666158861807,
 'tokenIn': '0xXYZ...',
 'tokenOut': '0xABC...'}","",""
"826856147226198016","heptx","15/08/2021 4:43 am","However, I get an error","",""
"826856147226198016","heptx","15/08/2021 4:43 am","web3.exceptions.ValidationError: 
Could not identify the intended function with name `exactInputSingle`, positional argument(s) of type `(<class 'dict'>,)` and keyword argument(s) of type `{}`.
Found 1 function(s) with the name `exactInputSingle`: ['exactInputSingle(tuple)']","",""
"826856147226198016","heptx","15/08/2021 4:45 am","I've tried a number of alternatives to passing a dictionary, but none has worked. How am I supposed to pass the data, i.e. how to construct ['exactInputSingle(tuple)']?","",""
"471357824299958273","crypto_rachel","15/08/2021 4:48 am","@hepto you would need to abiEncode the variables, not really familiar with web3.py, though i'm sure it's similar to web3js","",""
"471357824299958273","crypto_rachel","15/08/2021 4:54 am","if it's the same structure as web3js
then
have you tried just putting in the variables
```
 1000000000000000, 0, 1628983067, 3000, '0xKLM...', 0.017552666158861807 (and sqrtPricelimit needs to be in same format as sqrtPriceLimitX96), '0xXYZ...', '0xABC...'
```","",""
"471357824299958273","crypto_rachel","15/08/2021 4:58 am","sqrtPriceLimit sets the price of the trade, if you set to 0, then the contract will choose a tickmath. min or max sqrtRatio
```
sqrtPriceLimitX96 == 0 ? (zeroForOne ? TickMath.MIN_SQRT_RATIO + 1 : TickMath.MAX_SQRT_RATIO - 1) : sqrtPriceLimitX96,
```","",""
"826856147226198016","heptx","15/08/2021 5:20 am","Indeed, sqrtPriceLimit can't be a floating point number. I've set it to 0 for now, and I don't get the error anymore. Something else is still wrong though, but this might be unrelated and passing a dict might work just fine","",""
"826856147226198016","heptx","15/08/2021 5:57 pm","Anyone know what this error is:","",""
"826856147226198016","heptx","15/08/2021 5:57 pm","raise ContractLogicError(response['error']['message'])
web3.exceptions.ContractLogicError: execution reverted: STF","",""
"826856147226198016","heptx","15/08/2021 5:58 pm","Almost no hits on google at all. What is STF short for?","",""
"826856147226198016","heptx","15/08/2021 5:59 pm","Still trying to execute a token swap from web3py and something is going wrong with the gas estimate","",""
"826856147226198016","heptx","15/08/2021 6:02 pm","exactInputSingle parameters:
exactInputSingleParams = {'amountIn': 1000000000000000,
 'amountOutMinimum': 0,
 'deadline': 1629028699,
 'fee': 3000,
 'recipient': '0x...',
 'sqrtPriceLimitX96': 0,
 'tokenIn': '0x...',
 'tokenOut': '0x...'}
Transaction parameters:
tx = {'maxFeePerGas': 80000000000, 'maxPriorityFeePerGas': 5000000000, 'nonce': 6}","",""
"826856147226198016","heptx","15/08/2021 6:02 pm","Traceback (most recent call last):
  File ""myfile.py"", line 93, in <module>
    tx_built = swaprouter_contract.functions.exactInputSingle(exactInputSingleParams).buildTransaction(tx)
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/contract.py"", line 1079, in buildTransaction
    return build_transaction_for_function(
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/contract.py"", line 1648, in build_transaction_for_function
    prepared_transaction = fill_transaction_defaults(web3, prepared_transaction)
  File ""cytoolz/functoolz.pyx"", line 250, in cytoolz.functoolz.curry.__call__
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/_utils/transactions.py"", line 96, in fill_transaction_defaults
    default_val = default_getter(web3, transaction)
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/_utils/transactions.py"", line 59, in <lambda>
    'gas': lambda web3, tx: web3.eth.estimate_gas(tx),
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/eth.py"", line 699, in estimate_gas
    return self._estimate_gas(transaction, block_identifier)","",""
"826856147226198016","heptx","15/08/2021 6:02 pm","File ""/Users/user/venv/lib/python3.8/site-packages/web3/module.py"", line 57, in caller
    result = w3.manager.request_blocking(method_str,
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/manager.py"", line 187, in request_blocking
    return self.formatted_response(response,
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/manager.py"", line 167, in formatted_response
    apply_error_formatters(error_formatters, response)
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/manager.py"", line 67, in apply_error_formatters
    formatted_resp = pipe(response, error_formatters)
  File ""cytoolz/functoolz.pyx"", line 667, in cytoolz.functoolz.pipe
  File ""cytoolz/functoolz.pyx"", line 642, in cytoolz.functoolz.c_pipe
  File ""/Users/user/venv/lib/python3.8/site-packages/web3/_utils/method_formatters.py"", line 553, in raise_solidity_error_on_revert
    raise ContractLogicError(response['error']['message'])
web3.exceptions.ContractLogicError: execution reverted: STF","",""
"654387417691848704","0xpsychotic","15/08/2021 6:30 pm","@thanpolas I am able to fetch prices using `quoteExactInputSingle` from Quoter contract (https://docs.uniswap.org/protocol/reference/periphery/lens/Quoter)
Was wondering what is the difference in using this vs the tick/sqrtPrice method","",""
"291828960872890368","thanpolas","15/08/2021 7:18 pm","Different use cases, I am interested in spot price, not price movement for a trade‚Ä¶ so, technically, I don‚Äôt have input/output address and amountIn","",""
"826856147226198016","heptx","15/08/2021 7:21 pm","@thanpolas Just use a small amount for the input parameter. The smaller you choose it, the closer you'll get to the spot price","",""
"291828960872890368","thanpolas","15/08/2021 7:22 pm","How do you deal with the three fee tiers @Pratik @hepto? You‚Äôd have to query for all three as you don‚Äôt know which he the best price and liquidity, right? Or what do you do?","",""
"826856147226198016","heptx","15/08/2021 7:25 pm","depends what your typical swap looks like. ideally you want to transact in the lowest fee pool, but if liquidity is poor, you might be better off transacting in one of the other pools","",""
"826856147226198016","heptx","15/08/2021 7:26 pm","and you are definitely interested in the actual amounts returned rather than just the spot price, because price impact can be significant for larger transactions","",""
"654387417691848704","0xpsychotic","15/08/2021 7:27 pm","Using the tick method as well, we will have to query pool address for all three tiers then fetch tick and finally invoke `sqrtPrice` or `tickPrice` right? This is more expensive actully","",""
"654387417691848704","0xpsychotic","15/08/2021 7:28 pm","Yeah for this it makes sense. But again you need to pass in decimals for both the tokens right?","",""
"291828960872890368","thanpolas","15/08/2021 7:28 pm","Yup, I have those cached","",""
"291828960872890368","thanpolas","15/08/2021 7:29 pm","How do you determine if ‚Äúliquidity is poor‚Äù?","",""
"291828960872890368","thanpolas","15/08/2021 7:30 pm","It‚Äôs three queries either way, how is it more expensive?","",""
"291828960872890368","thanpolas","15/08/2021 7:30 pm","But the real question is how do you determine liquidity to discard a fee tier? Or choose the most liquid one?","",""
"654387417691848704","0xpsychotic","15/08/2021 7:32 pm","With `quoteExactInputSingle` i just need to make three queries, but with `tickPrice` i will have to make three queries to fetch `tick` and then again invoke `tickPrice` so a bit more expensive. 
I have no idea about checking out liquidity, will look more on that","",""
"826856147226198016","heptx","15/08/2021 7:32 pm","liquidity is poor if the price impact is large. you could also try to check liquidity based on issued positionNFTs, but that's unnecessarily complicated. Not sure what your use case is, but if you are looking to execute a transaction with known parameters at the best price, use the quoter as suggested by prtk","",""
"291828960872890368","thanpolas","15/08/2021 7:33 pm","tickPrice is calculations, no IO done, so doesn‚Äôt count much","",""
"291828960872890368","thanpolas","15/08/2021 7:34 pm","Got it, that makes sense‚Ä¶ price impact is the way to go @Pratik","","üíØ (1)"
"654387417691848704","0xpsychotic","15/08/2021 7:36 pm","Yeah not much diff. Btw i was curious how did you came up with that logic of converting tick to price, can you help with some reference? Does uni uses something like this on their interface?","",""
"291828960872890368","thanpolas","15/08/2021 7:37 pm","That‚Äôs how uni does it, that‚Äôs what the quote contract does","",""
"654387417691848704","0xpsychotic","15/08/2021 7:37 pm","Hmm, will dig more into this","",""
"402391611545223168","mark#9857","16/08/2021 12:45 am","hi @thogard 
yes, I figured out how much you need to swap so that the price goes from sqrtPriceCur to sqrtPriceNext:
`amount = liquidity * (sqrtPriceCur - sqrtPriceNext) / sqrtPriceCur / sqrtPriceNext`
This works if the prices are between initialised ticks, otherwise you swap until the next/prev initialised tick (depending on which side you're swapping), add or subtract liquidityNet of that tick, and repeat.
If you want to know what the price is going to be if you swap a given amount, it's easy to invert the equation to `sqrtPriceNext = ...`

I'm getting an error of 1 tick or so compared to the actual price (that's not significant, but still): could it be due to fees, or they are just subtracted from the amount of the output token and don't impact the price?
Or maybe I'm calculating the tick not to the same precision/formulas as the pool? `nextTick = log(sqrtPriceNext**2) / log(1.0001)`

Speaking of what you're doing - I don't understand all the variables in your calculations, but are you accounting for the total liquidity in the pool being spread over many positions with different ranges, or it doesn't matter to you?","",""
"280121913064292352","thogard","16/08/2021 1:25 am","That doesn‚Äôt quite solve for it though","",""
"280121913064292352","thogard","16/08/2021 1:25 am","Since the swap itself changes the sqrtP","",""
"280121913064292352","thogard","16/08/2021 1:27 am","I‚Äôm trying to find the ratio of X to Y (real, not virtual) so that after a swap where I buy Y with my X, my ratio of X to Y matches the NEW ratio of X to Y inside the tick (real)","",""
"280121913064292352","thogard","16/08/2021 1:27 am","Amount and sqrtPnext can be solved for each other but I can‚Äôt have both as variables","",""
"280121913064292352","thogard","16/08/2021 12:00 pm","regarding being off by one - is the tick negative?","",""
"280121913064292352","thogard","16/08/2021 12:06 pm","the roundup / rounddown thing gets complicated when you flip signs","",""
"402391611545223168","mark#9857","16/08/2021 2:13 pm","yes, the ticks are positive. I'm getting tick info from the TickLens contract, so after some preprocessing I have initialized ticks with liquidity in a list
```
[(0, 77164772922725858893, 77164772922725858893),
 (4080, 132968171447330859996, 132968171447330859996),
 (4920, 236591670123590872621, 236591670123590872621),
 (5040, -236591670123590872621, 236591670123590872621),
```","",""
"402391611545223168","mark#9857","16/08/2021 2:14 pm","So I don't need to calculate the tick spacings myself","",""
"860256991288623134","romanbsd#7873","16/08/2021 4:10 pm","The ""collect"" nft manager contract method always returns zeroes when I'm running on ganache-cli which forks the main net. Other things seem to work. Why is that?","",""
"402391611545223168","mark#9857","16/08/2021 9:17 pm","Hey all!
I'm seeing that some pools in v3 have sum(liquidityNet) over all the initialized ticks not equal to zero, and thus I'm getting ZERO_NET error when using the SDK.
I don't really understand why this could happen and how to properly get around it.
Should I just add a tick in the beginning or end removing all the extra liquidity?","",""
"472127405922975756","pie#1907","16/08/2021 10:52 pm","Starting to get a little irritated: 1) why would I have to approve twice; There are instances where a pair has liquidity on both v2 and v3, so there are times where the Approve fee needs to be paid twice.

Is there a way to switch between v2 and v3 (without there being a better price)?","",""
"617127949480493077","yj_alt","17/08/2021 12:42 am","V2 and V3 have different contract addresses, including for the routers. ERC20 approvals are based on addresses. Hence, one approval needed (per token per address) for each router. No way around that, unless you code and deploy another higher level unified router to sit in front of v2/v3 router (but then all your tx will most likely take up more gas, so there is no actual savings anyways)","",""
"424995466959257611","Ryank#6831","17/08/2021 2:53 am","Can anyone help with the TickDataProvider that is required to use the getOutputAmount method on the pools class. I havent been able to find any good docs on it and the TickDataProvider.d.js in the '@uniswap/v3-sdk' returns an error.
Screen shot of the code i am using","",""
"424995466959257611","Ryank#6831","17/08/2021 2:54 am","","https://cdn.discordapp.com/attachments/823968973753810945/876939548121235476/Screen_Shot_2021-08-16_at_4.24.36_PM.png",""
"280121913064292352","thogard","17/08/2021 3:19 am","many exchanges have a minimum amount","",""
"280121913064292352","thogard","17/08/2021 3:19 am","try querying for 2 * (10^18)","",""
"424995466959257611","Ryank#6831","17/08/2021 3:24 am","Still getting a error saying ""Error: No tick data provider was given"" seems like several other people have had this issue in the past but i cant find any resultions.","",""
"370646949692702732","someusername999#5885","17/08/2021 6:06 pm","I am having the same problem. I do not know how to get `getOutputAmount` to work. I get the error: `Error: Invariant failed: LENGTH` . I am creating the `Pool` instance with the `ticks` param equal to an empty array `[]`. I guess I should create the `Pool`  differently. I am stuck here since 3 days. Any help is appreciated.","",""
"370646949692702732","someusername999#5885","17/08/2021 6:58 pm","From my research, `TickDataProvider` is an interface implemented by only two classes `NoTickDataProvider` and `TickListDataProvider`. It seems that we need to pass (upon instantiation) of the `Pool` class a instance of `TickListDataProvider`. To do that we need to construct or get a list of ticks for the specific pool address. Let me know if I am on the right track or if someone has another solution. I will be posting here if I will figure something out.","",""
"491992078226817067","mackiemesser","17/08/2021 7:01 pm","Hi all, how do I regenerate POOL_INIT_CODE_HASH? It looks like the value on github is out of date.","",""
"183309006767521792","jorropo","17/08/2021 7:38 pm","it is","",""
"183309006767521792","jorropo","17/08/2021 7:39 pm","@mackiemesser else read about CREATE2 and how it works","",""
"491992078226817067","mackiemesser","17/08/2021 9:09 pm","I am guessing POOL_INIT_CODE_HASH is the keccak of the UniswapV3Pool bytecode?","",""
"183309006767521792","jorropo","17/08/2021 9:19 pm","yes","",""
"183309006767521792","jorropo","17/08/2021 9:19 pm","I think it has a salt maybe but I'm not sure","",""
"491992078226817067","mackiemesser","17/08/2021 9:28 pm","The value in PoolAddress is the same as what I get when I keccak the bytecode in my artifact. Still it doesn't work. Keccaking the deployedBytecode also doesn't work. So I am missing something. Maybe a salt. I'll keep looking.","",""
"491992078226817067","mackiemesser","17/08/2021 9:29 pm","ah scratch that, I tried it again after recompiling and it worked üëç thanks for the help","",""
"424995466959257611","Ryank#6831","17/08/2021 10:19 pm","My understanding is very similar. From lots of research it apears that you can either pass in an array of ticks for the pool, or some kind of function which follows the TickDataProvider instance to allow the Pool to get ticks on its own. I have not been able to find any examples of people doing the later, however the former doesnt seem that dificult except i havent been able to figure out the correct syntax for the array of ticks. Planning on working on this more today so if i make any breakthroughs ill let you know. Its very frustrating that their is no documantation here","",""
"370646949692702732","someusername999#5885","17/08/2021 11:11 pm","I got it to work. I used Uniswap V3 Official subgraph from The Graph as a data provider and created a sorted array of `Tick` instances.","",""
"370646949692702732","someusername999#5885","17/08/2021 11:14 pm","Here is a code snippet to get the `ticks` param for the `Pool` class. After that, the `getOutputAmount` worked.","",""
"370646949692702732","someusername999#5885","17/08/2021 11:14 pm","```const { Tick } = require(""@uniswap/v3-sdk"");
const { request, gql } = require('graphql-request');

async function getPoolTicks() {
  const query = gql`
  {
    pools(where: {id: ""${poolAddress}""}) {
      id
      tick
      ticks {
        liquidityGross
        liquidityNet
        tickIdx
      }
    }
  }`;
  
  const url = 'https://gateway.thegraph.com/api/YOUR-GRAPH-API-KEY-HERE/subgraphs/id/UNISWAP-V3-SUBGRAPH-ADDRESS';
  const graphPoolData = await request(url, query);
  const ticksRaw = graphPoolData.pools[0].ticks;
  
  // ticks have to be sorted
  ticksRaw.sort(function(a, b) {
    return Number(a.tickIdx) - Number(b.tickIdx);
  });

  // construct array of Tick instances
  const ticks = ticksRaw.map(tick => {
    return new Tick({
      index: tick.tickIdx,
      liquidityGross: tick.liquidityGross,
      liquidityNet: tick.liquidityNet
    });
  })
  return ticks;
}
```","",""
"814059692833112121","zy-benny#7679","18/08/2021 12:50 pm","I found that some of the graph data is wrong, such as transaction pair: 0x8c50e5e1105ce305410da5c721bd0d560e47bdc0, field: reserveUSD is wrong","",""
"843155325619535912","Etherscan Bot#5753","18/08/2021 12:50 pm","<https://etherscan.io/address/0x8c50e5e1105ce305410da5c721bd0d560e47bdc0>","",""
"370646949692702732","someusername999#5885","18/08/2021 7:10 pm","I see, do you maybe know of another data provider more reliable that The Graph for Uniswap V3 ticks data?","",""
"838651199221661706","wei3erhase","18/08/2021 9:43 pm","anyone knows how to make a JS trade in UniswapV3?
like this, but for V3:
https://www.quicknode.com/guides/defi/how-to-interact-with-uniswap-using-javascript","",""
"424995466959257611","Ryank#6831","18/08/2021 11:04 pm","Does anyone now how to convert a CurrencyAmount back to a human redable number. I am getting a currecny amount back from the Pool getOutputAmount method and cant make sense of it","",""
"412001001546186752","dax2904","19/08/2021 9:49 am","https://github.com/Uniswap/uniswap-sdk-core/blob/main/src/entities/fractions/currencyAmount.ts","",""
"412001001546186752","dax2904","19/08/2021 9:49 am","There are toFixed and toSignificant.","",""
"412001001546186752","dax2904","19/08/2021 9:49 am","I am glad that this thing is open source üôÇ","",""
"412001001546186752","dax2904","19/08/2021 9:51 am","You can use the Uniswap-v3-sdk to do that","",""
"838651199221661706","wei3erhase","19/08/2021 11:51 am","Hi @dax , have any idea how to use it? have found none documentation, and the tests they provide make very technical expectations like 
```js
expect(callData).to.be.eq('0xhajsjhkakhjhj')
```","",""
"412001001546186752","dax2904","19/08/2021 11:54 am","It‚Äôs pretty much a helper library to assist you to interact with the Uniswap smart contract","",""
"412001001546186752","dax2904","19/08/2021 11:55 am","The document regarding the smart contract is at docs.Uniswap.org","",""
"412001001546186752","dax2904","19/08/2021 11:55 am","If you are new to this, checking out examples on how to use web3/etherjs to interact with contracts would help","",""
"838651199221661706","wei3erhase","19/08/2021 11:56 am","I'm not even trying to make a swap, I need to make some in a test environment (js)","",""
"412001001546186752","dax2904","19/08/2021 11:56 am","Checkout some samples online on web3 or etherjs","",""
"412001001546186752","dax2904","19/08/2021 11:57 am","You can fork the main net to  local for testing.","",""
"412001001546186752","dax2904","19/08/2021 11:57 am","There are frameworks such as ganache and hardhat","",""
"838651199221661706","wei3erhase","19/08/2021 11:58 am","yep! have everything set up, even a jupyter environment to throw transactions on the fly, i'm not new, i'm just not finding any examples on making a simple trade on a V3 pool üòµ‚Äçüí´","",""
"412001001546186752","dax2904","19/08/2021 11:59 am","Check out the SwapRouter contract.","",""
"412001001546186752","dax2904","19/08/2021 11:59 am","https://docs.uniswap.org/protocol/reference/periphery/SwapRouter","",""
"412001001546186752","dax2904","19/08/2021 12:00 pm","You should be able to make a simple trade through exactInput","",""
"838651199221661706","wei3erhase","19/08/2021 12:01 pm","do you know the address of this router? v2 is already deployed","",""
"412001001546186752","dax2904","19/08/2021 12:03 pm","","https://cdn.discordapp.com/attachments/823968973753810945/877802398939250728/image0.png",""
"658657300671889419","oxmarco","19/08/2021 1:23 pm","The comment on `sqrtPriceLimitX96` says: *The Q64.96 sqrt price limit. If zero for one, the price cannot be less than this value after the swap. If one for zero, the price cannot be greater than this value after the swap*. 
It seems it affects the *token0* price ***after*** the trade","",""
"280121913064292352","thogard","19/08/2021 2:20 pm","Oh that‚Äôs perfect","",""
"280121913064292352","thogard","19/08/2021 2:20 pm","I was looking for that","",""
"685431154257821711","Hackzore Borris#3490","19/08/2021 4:27 pm","Hello,
How can I receive the current token0 and token1 quantities from a uniswap v3 position? What smart contract & method do I have to use? Or is this even possible?","",""
"370646949692702732","someusername999#5885","19/08/2021 4:36 pm","Check this out: https://docs.uniswap.org/sdk/reference/classes/Position","",""
"387306932723253249","huxley88","19/08/2021 9:29 pm","Hey guys have questions concerning the V3: router methods, does anyone know how they work ? Specifically the ones that are in the Write section on Etherscan
the method names are so different from V2: to V3: I'm having a hard time understanding them ?","",""
"387306932723253249","huxley88","19/08/2021 9:33 pm","For example, I notice that in the exactOutput method, in the params.path argument the addresses are input as one big value, but if I look closely, between the address values, there are a few 0's and some numbers","",""
"387306932723253249","huxley88","19/08/2021 9:34 pm","If anybody has the time and patience to answer a few of my questions it would help a lot, thanks !","",""
"387306932723253249","huxley88","19/08/2021 9:34 pm","And / or some documentation links ?","",""
"370646949692702732","someusername999#5885","19/08/2021 9:46 pm","About `exactOutput`: https://docs.uniswap.org/protocol/reference/periphery/interfaces/ISwapRouter#exactoutput","",""
"387306932723253249","huxley88","19/08/2021 9:50 pm","Aweome thanks","",""
"387306932723253249","huxley88","19/08/2021 9:50 pm","I found these doc pages, am going through them right now","",""
"370646949692702732","someusername999#5885","19/08/2021 9:50 pm","It receives one struct parameter `exactInputParams`:https://docs.uniswap.org/protocol/reference/periphery/interfaces/ISwapRouter#exactinputparams","",""
"370646949692702732","someusername999#5885","19/08/2021 9:51 pm","You're welcome, good luck.","","üëç (1)"
"814059692833112121","zy-benny#7679","20/08/2021 8:24 am","I don't knowÔºåu  know?","",""
"456226577798135808","Deleted User","20/08/2021 3:59 pm","Hi all, can you give me more info about the SPL: Square root price limit error, why it arises and how i can go around ? The contract which i have was working fine till yesterday now it throws that error, any suggestions ;/ ?","",""
"872290096886468618","hat2342","21/08/2021 3:36 pm","Hi, guys, I have a question about how could I mint an LP NFT with the little sun? Just like this one.","https://cdn.discordapp.com/attachments/823968973753810945/878580709747478528/7d977c1c0a6564768b71e9e3fb20e07.png",""
"471357824299958273","crypto_rachel","21/08/2021 3:46 pm","it's a flair added for rarity, its random i'm pretty sure","",""
"694128148995899472","speedingonatram","22/08/2021 10:25 pm","hey everyone, i'm getting incorrect results for bestTradeExactIn for illiquid pools - is there something wrong in the logic of bestTradeExactIn in the SDK?
1. function is defined here https://github.com/Uniswap/uniswap-v3-sdk/blob/7c3aedd0cf9441d03607e258734eada44a73863d/src/entities/trade.ts#L495
2. sample pool https://info.uniswap.org/#/pools/0xab2044f105c43c25b1de3ee27504f0b889ce5953","",""
"694128148995899472","speedingonatram","22/08/2021 10:27 pm","so if try to swap 10 UNI for USDC in this pool using the function, it gives me a price that even exceeds the amount of tokens available in the pool","",""
"694128148995899472","speedingonatram","22/08/2021 10:30 pm","this happens for other pools with low liquidity too, the pricing is non-sensible","",""
"387306932723253249","huxley88","22/08/2021 11:00 pm","Hey guys, I can't seem to find other methods being used in the etherscan transaction history aside from : multicall, exactOuput, exactInput and exactInputSingle","",""
"387306932723253249","huxley88","22/08/2021 11:00 pm","does this make sense to you ?","",""
"387306932723253249","huxley88","22/08/2021 11:22 pm","I get that multicall calls other methods within the method, is this where the liquidity pool transactions happen ?","",""
"370646949692702732","someusername999#5885","23/08/2021 2:10 am","Yes.","",""
"370646949692702732","someusername999#5885","23/08/2021 2:19 am","How have you instantiated the pool(s) passed as a param to `bestTradeExactIn`? Have you provided the `ticks` param when instantiating the pool(s)? Also, re-check that you properly formatted the `currencyAmountIn` param and also the return amount(s).","",""
"370646949692702732","someusername999#5885","23/08/2021 3:35 am","In case you want to see the liquidity pool(s) transactions, you can check the `Events` tab: https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#events","",""
"387306932723253249","huxley88","23/08/2021 5:01 am","Thanks","",""
"694128148995899472","speedingonatram","23/08/2021 7:23 am","thanks, pretty sure currencyAmountIn is formatted correctly as my code currently works for other pools.  But I am using a hacked ""ticks"" parameter, I only pass in a single tick that has no liquidity on it, which also works fine for other pools.","",""
"694128148995899472","speedingonatram","23/08/2021 8:29 am","i just tried your graphql code to get the ticks - it gets the ticks properly, but still produces incorrect pool price.  I wonder if there's a way to get the amount of tokens in a pool, to double check against the UI to see if it's pulling data correctly.","",""
"130396053399797760","ncookie","24/08/2021 12:32 am","I'm sure a lot of people have asked this, but I can't really find a working solution anywhere. I'm trying to find the current distribution of tokens in a pool. The usual LP token calculation being (in pseudocode):

```
token0_bal = token0_reserves * (lpToken_balance / lpToken_supply)
```

And similarly for token1... My issues:

1.) balanceOf(token0) and balanceOf(token1) from web3 gives a different result than the one displayed on the Uniswap UI for any pool. This means 'token0_reserves' in the equation above is inaccurate for some reason.

2.) 'lpToken_balance' and 'lpToken_supply' I'm getting from 'liquidity' - from web3 on the NFT manager and web3 on the pool itself. I don't think they're the data I expect. I could use some help understanding what they mean as my calculations are certainly not giving me what I need.

3.) I could also use some help deciphering how to get pending rewards from fees on the pool from the 'positions' method. I assume it can be found from 'feeGrowthInside0LastX128' but haven't found resources explaining it.","",""
"424995466959257611","Ryank#6831","24/08/2021 3:38 am","Could anyone give me a hand executing a swap within a hardhat fork of mainnet. I am getting an STF Error whenever i try. My understanding is that the error likely has to do with needing to approve the contract to withdraw tokens from my wallet however despite my best effort i haven‚Äôt been able to get it to work.","",""
"424995466959257611","Ryank#6831","24/08/2021 3:38 am","Node Code:","",""
"424995466959257611","Ryank#6831","24/08/2021 3:39 am","","https://cdn.discordapp.com/attachments/823968973753810945/879487429126533190/Screen_Shot_2021-08-23_at_5.08.55_PM.png",""
"424995466959257611","Ryank#6831","24/08/2021 3:39 am","Contract:","https://cdn.discordapp.com/attachments/823968973753810945/879487547938578462/Screen_Shot_2021-08-23_at_5.09.26_PM.png",""
"424995466959257611","Ryank#6831","24/08/2021 3:39 am","Error:","https://cdn.discordapp.com/attachments/823968973753810945/879487624501420042/Screen_Shot_2021-08-23_at_5.09.44_PM.png",""
"424995466959257611","Ryank#6831","24/08/2021 3:40 am","@Crypto_Rachel Looks like you may have had some luck with this in the past?","",""
"370646949692702732","someusername999#5885","25/08/2021 2:52 am","To approve your token(s) for transfer by your smart contract, you need to call the `approve` method on each of your tokens once before executing any swap. Something like this: `IERC20(tokenAddress).approve(address(YourContractAddress), amountIn);` . You can also do it in node beforehand, I suppose. Note: `STF` stand for `SafeTransferFrom`.","",""
"424995466959257611","Ryank#6831","25/08/2021 2:55 am","@Thanks for the response, i belive that i am doing that on line 31 of the ""node code"" but still no luck. To clarify when you say each of the tokens, do you mean the starting token, or each of the tokens used in the multihop swap? Sounds like your implying that latter but my understanding from the uniswap docks was the former","",""
"370646949692702732","someusername999#5885","25/08/2021 2:57 am","Each input token that will be sold at any time within your multihop. It's true that you do not have to approve the output tokens, if they will never be used as input tokens during the transaction.","",""
"370646949692702732","someusername999#5885","25/08/2021 2:59 am","Hmm, you also might need to approve the tokens to be spend by v3, since there is where the swaps occur.","",""
"424995466959257611","Ryank#6831","25/08/2021 3:00 am","Say i want to make the swap in the image below. My understanding was that you need to use .approve() to approve the uniswap router to take ETH from your wallet, then use Transferhelper.safeTransferFrom() to move the Eth from your wallet to the contract, then use Transferhelper.safeTransferFrom.safeapprove() to allow the router to spend the eth you moved to the contract.  Just to make sure we are on the same page your saying i need to approve ETH, USDC, USDT, and AAVE","https://cdn.discordapp.com/attachments/823968973753810945/879840062920097812/Screen_Shot_2021-08-24_at_4.25.46_PM.png",""
"424995466959257611","Ryank#6831","25/08/2021 3:01 am","Transferhelper.safeTransferFrom() *","",""
"370646949692702732","someusername999#5885","25/08/2021 3:02 am","Yep, in this case you have to aprove weth, usdc, usdt and aave, since during the transaction, all these tokens will be sold for something else, hence you need to give permission (approval) for your tokens to be spent by the router.","",""
"424995466959257611","Ryank#6831","25/08/2021 3:05 am","Intresting, they dont do that in the Multihop swap examples on the docs: https://docs.uniswap.org/protocol/guides/swaps/multihop-swaps","",""
"424995466959257611","Ryank#6831","25/08/2021 3:05 am","But i cant find a working example anywhere else","https://cdn.discordapp.com/attachments/823968973753810945/879841394108276787/Screen_Shot_2021-08-24_at_4.35.22_PM.png",""
"370646949692702732","someusername999#5885","25/08/2021 3:16 am","You might be right about needing only one approval when using multihop. I haven't tested this. About your error, it's at line 62, you try to send tokens without having the approval. I noticed that you ran the `approve` method in node and then immediately run the swap. The `await` , in this case, waits until the transaction has been sent, not when it has been mined. For that you can use `getTransactionReceipt` and look for `status` or `confirmations`.  Anyway, the swap will most likely be run and not ""know"" that you gave approval to spend your tokens. My advice, at the moment is to focus on the approval and to get it to work properly, maybe make some calls to the coin smart-contract to check the `allowance` for your address and see if indeed it worked. Once that is in order continue with the swap implementation. Good luck!","",""
"424995466959257611","Ryank#6831","25/08/2021 3:25 am","Thanks for the help. Two quick last thoughts. Any chance it could have to do with ETH vs Weth, i admiditly dont understand the wrapping process very well? Also any pointers on how to check allowance, i havent come across that yet.","",""
"370646949692702732","someusername999#5885","25/08/2021 3:35 am","1. You already use the `approve` method of an ERC-20 token in your node code. ERC-20 tokens have an `allowance` function that you can use. Check this documentation on (I)ERC-20: https://docs.openzeppelin.com/contracts/2.x/api/token/erc20#IERC20 . 2. ETH is the mined coin of the Ethereum blockchain, WETH is an ERC-20 token that can be minted when a user sends ETH (wraps it) to the WETH smart contract. This process is also reversible and without fees other than gas.","",""
"424995466959257611","Ryank#6831","25/08/2021 3:54 am","Now im very lost becuase the approve apears to be clearing before caling the swap. And the allowance is set to 5X what the swap opening transfer is","",""
"359920756639137814","nfmelendez","25/08/2021 8:58 pm","Hi there, i want to ask if anybody knows if is there a uniswap playground, i mean a sandbox where you get fantasy tokens and you can play with them, exchange them without any gas cost. just for the begginers to learn the UI","",""
"291828960872890368","thanpolas","26/08/2021 12:09 am","Try a test net like kovan","","üëç (1)"
"359920756639137814","nfmelendez","26/08/2021 2:24 am","a good soul that sends me some ETH in kovan? 0x82Bfc1ffA2e13fB071C1e97610d1b42f0e93B41a","",""
"843155325619535912","Etherscan Bot#5753","26/08/2021 2:24 am","<https://etherscan.io/address/0x82Bfc1ffA2e13fB071C1e97610d1b42f0e93B41a>","",""
"291828960872890368","thanpolas","26/08/2021 2:27 am","Search for the faucet, am on mobile now","",""
"359920756639137814","nfmelendez","26/08/2021 2:28 am","yes, found it thanks!","",""
"764772084001407009","mubashirali.","27/08/2021 5:54 pm","Can anyone suggest a generalized formula for calculating pool APY??
in V3","",""
"456226577798135808","Deleted User","28/08/2021 3:22 pm","Does Uniswap have any plan to build on any  second layer of ethereum such as optimizer or rollup?","",""
"456226577798135808","Deleted User","28/08/2021 3:24 pm","I am trying to build an AI-supported dapp whill will interoperate with uniswap","",""
"401842633464610837","_kfx","28/08/2021 3:45 pm","Uniswap v3 is on Optimism alpha, and coming to Arbitrum very soon, when it launches officially","","‚òùÔ∏è (1)"
"830527070484430868","Pro Investor ‚ú®#3675","28/08/2021 6:57 pm","Hi All, I am looking for V3 model maths simulators for user in simple version. Note - I am already aware about it conceptually and have copy of Math of v3 thats on site. i want simple version in spreadsheet.","","plus1 (1)"
"830527070484430868","Pro Investor ‚ú®#3675","28/08/2021 6:57 pm","Feel free to share if anybody have worked on it or have it similar copy of simple version of V3 model","",""
"826856147226198016","heptx","29/08/2021 8:13 pm","Anyone know to which address version 2 of the Quoter (QuoterV2.sol) has been deployed? It's not listed on https://github.com/Uniswap/uniswap-v3-periphery/blob/main/deploys.md","",""
"399617942087532545","_connormartin","29/08/2021 8:46 pm","0x0209c4Dc18B2A1439fD2427E34E7cF3c6B91cFB9","",""
"843155325619535912","Etherscan Bot#5753","29/08/2021 8:46 pm","<https://etherscan.io/address/0x0209c4Dc18B2A1439fD2427E34E7cF3c6B91cFB9>","",""
"826856147226198016","heptx","31/08/2021 3:12 pm","Doesn't seem to be deployed on Ropsten. Is this still WIP? It's a hassle having to connect to a mainnet node for some contracts when otherwise building in a test environment","",""
"819959492732256267","pei116","31/08/2021 4:16 pm","I'm trying to execute a swap using web3 through following code snap:
```
const expiryDate = Math.floor(Date.now() / 1000) + 900;
const web3 = new Web3(`http://192.168.0.11:8545/`);
const privateKey = credentials.privateKey;
const activeAccount = web3.eth.accounts.privateKeyToAccount(privateKey);
const qty = web3.utils.toWei('0.01', 'ether');

const params = {
    tokenIn: fromTokenAddress,
    tokenOut: toTokenAddress,
    fee: 3000,
    recipient: activeAccount.address,
    deadline: expiryDate,
    amountIn: qty,
    amountOutMinimum: 0,
    sqrtPriceLimitX96: 0,
};

let encodedTx = routerContract.methods.exactInputSingle(params).encodeABI();
let transactionObject = {
    gas: 238989, // gas fee needs updating?
    data: encodedTx,
    from: activeAccount.address,
    to: routerAddress
};

web3.eth.accounts.signTransaction(transactionObject, privateKey, (error, signedTx) => {
    if (error) {
        console.log(error);
    } else {
        web3.eth.sendSignedTransaction(signedTx.rawTransaction).on('receipt', (receipt) => {
            console.log(receipt);
        });
    }
});
```

I'm using mainnet fork via hardhat and the transaction always fails with such error:
```
Returned error: Error: VM Exception while processing transaction: reverted with reason string 'STF'
```

Can someone help me on what that error means? Or can anyone point me an example code that does token swap in Uniswap v3?","",""
"826856147226198016","heptx","31/08/2021 4:27 pm","This is a safeTransferFrom error. See https://github.com/Uniswap/uniswap-v3-periphery/blob/9ca9575d09b0b8d985cc4d9a0f689f7a4470ecb7/contracts/libraries/TransferHelper.sol","",""
"826856147226198016","heptx","31/08/2021 4:29 pm","Could be a missing approval for the router to send tokens","",""
"819959492732256267","pei116","31/08/2021 5:18 pm","@hepto i tried add approve methods around without a luck. can you take a look at my code and let me know what i'm missing?","",""
"455694292799717378","dreamer6763","31/08/2021 6:04 pm","approve routerContract address to transferFrom x amount of AAA tokens you want to exchange","",""
"455694292799717378","dreamer6763","31/08/2021 6:07 pm","usually something like this: await wethToken.approve(routerContract.address, wethTokensAmount);","",""
"399617942087532545","_connormartin","31/08/2021 7:42 pm","its not a WIP - just not deployed on testnet yet","",""
"819959492732256267","pei116","01/09/2021 7:55 am","i tried that but it didn't help me out. any other thoughts?
here's my code for approve:
```
    const tokenDecimals = web3.utils.toBN(await tokenContract.methods.decimals().call());
    const tokenAmountToApprove = web3.utils.toBN(999000000000);
    const calculatedApproveValue = web3.utils.toHex(tokenAmountToApprove.mul(web3.utils.toBN(10).pow(tokenDecimals)));

    const block = await web3.eth.getBlock(""latest"", false);
    const gasLimit = block.gasLimit;
    const gasPrice = await web3.eth.getGasPrice();
    const nonce = await web3.eth.getTransactionCount(activeAccount.address);

    let hexGasLimit = web3.utils.toHex((gasLimit).toString());
    let hexGasPrice = web3.utils.toHex(gasPrice.toString());
    let hexGas = web3.utils.toHex('60000');
    let hexNonce = web3.utils.toHex(nonce);

    let encodedTx = tokenContract.methods.approve(
        routerAddress,
        calculatedApproveValue
    ).encodeABI();

    const tx = {
        nonce: hexNonce,
        from: activeAccount.address,
        to: fromTokenAddress,
        gasPrice: hexGasPrice,
        gasLimit: hexGasLimit,
        gas: hexGas,
        value: '0x0',
        data: encodedTx
    }

    let signedTx = await activeAccount.signTransaction(tx);
    web3.eth.sendSignedTransaction(signedTx.rawTransaction)
        .on('transactionHash', hash => {
            console.log('Transaction Hash:', hash);
        })
        .on('receipt', async (receipt) => {
            console.log('Receipt:', receipt);
            const allowance = await tokenContract.methods.allowance(activeAccount.address, routerAddress).call();
            console.log('Allowance', allowance);
        })
        .on('error', (error, receipt) => { // If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.
            console.error(""Error:"", error, ""Receipt:"", receipt)
        });
```
i can see that allowance is set as 999000000000000000000000000000 after this code","",""
"819959492732256267","pei116","01/09/2021 7:59 am","were you able to fix this issue? if so, how?","",""
"819959492732256267","pei116","01/09/2021 8:23 am","were you able to fix the issue?","",""
"826856147226198016","heptx","01/09/2021 3:29 pm","I'm still unable to reconcile the numbers. Here's a web3.py snippet that retrieves sqrtPriceX96 and tick from the Slot0 struct of the USDC/WETH/3000 pool:","",""
"826856147226198016","heptx","01/09/2021 3:29 pm","sqrtPriceX96 = pool.contract.functions.slot0().call()[0]
tick = pool.contract.functions.slot0().call()[1]
print(f""sqrtPriceX96: {sqrtPriceX96}"")
print(f""tick: {tick}"")
price_from_tick = pow(1.0001,tick)
print(f""price from tick: {price_from_tick} ({price_from_tick * pow(10, pool.base.decimals-pool.quote.decimals)})"")
sqrt_price_from_tick = pow(1.0001,tick/2)
print(f""sqrt price from tick: {sqrt_price_from_tick} ({sqrt_price_from_tick * pow(10, (pool.base.decimals-pool.quote.decimals)/2)})"")","",""
"826856147226198016","heptx","01/09/2021 3:30 pm","The resulting output is:","",""
"826856147226198016","heptx","01/09/2021 3:31 pm","sqrtPriceX96: 1331534492741501631331864375000000
tick: 194599
price from tick: 282425983.76764894 (0.00028242598376764893)
sqrt price from tick: 16805.53431961177 (0.016805534319611768)","",""
"826856147226198016","heptx","01/09/2021 3:33 pm","The price from tick when adjusted for decimals (value in parentheses) matches the current market price 3540 (=1/0.00028242) USD per ETH","",""
"826856147226198016","heptx","01/09/2021 3:33 pm","But I don't see how any of the values calculated from the tick relates to sqrtPriceX96","",""
"617127949480493077","yj_alt","01/09/2021 3:59 pm","X96 = √ó 2^96. To convert sqrtPriceX96 to sqrtPrice, just divide by that.

1331534492741501631331864375000000 / (2^96) = 16806","",""
"826856147226198016","heptx","01/09/2021 4:12 pm","Brilliant, thx. Would be nice to have this documented somewhere in the code or whitepaper","",""
"391460711592755200","Crypto Papi#6016","01/09/2021 4:42 pm","Never found a solution, ended up not needing it, I think it‚Äôs a bug on Uniswap‚Äôs part","","üòû (2)"
"617127949480493077","yj_alt","01/09/2021 5:52 pm","The whitepaper probably shouldn't talk about the code implementation details. The docs page does mention that it's a Q64.96 uint160. I guess it's not immediately obvious what an unsigned Q64.96 number is, though there seems to be some explanation of it on Wiki~

https://en.m.wikipedia.org/wiki/Q_(number_format)","",""
"399617942087532545","_connormartin","01/09/2021 7:01 pm","probably due to calling approve on an incorrect contract address. are all the tokens and contracts you are approving updated for the correct addresses on testnet?","",""
"717064918532358174","yasseen#8989","01/09/2021 7:08 pm","Hi, does anyone know how to construct the  `struct ISwapRouter.ExactInputParams params `with ethers js?","",""
"717064918532358174","yasseen#8989","01/09/2021 7:09 pm","I keep getting this error: `unexpected character at position 42 (argument=""param"", value=""struct ISwapRouter.ExactInputSingleParams para"", code=INVALID_ARGUMENT, version=abi/5.4.0)`","",""
"391460711592755200","Crypto Papi#6016","01/09/2021 7:36 pm","I thought that too but that didn‚Äôt change anything when I made sure I approved the contract. Been a while since I tried it out so going to revisit to see if a solution arises","",""
"370646949692702732","someusername999#5885","01/09/2021 10:54 pm","Take a look at this snippet: ```const overrides = {
  from: account.address,
  gasPrice: gasPrice,
  gasLimit: 300000,
  value: 0, // ethAmount
};

const params = {
  tokenIn: tokenInAddress,
  tokenOut: tokenOutAddress,
  fee: poolFee,
  recipient: account.address,
  deadline: deadline,
  amountIn: amountInWei,
  amountOutMinimum: amountOutMinimum,
  sqrtPriceLimitX96: 0
};

const swapTx = await swapRouterContract.exactInputSingle(params, overrides);```","",""
"414209376014827535","Clint Eastwood#3635","01/09/2021 10:59 pm","Hi, i am currently testing a token on unsiwap. Everything has been working fine for some months until now. When i approve and then try to add liquidity, the transcation disapears and dont show up in metamask.","",""
"837820606471864382","goldpesa","02/09/2021 9:33 am","It seems Uniswap V3 does not support fee on transfer and the documentation is advising to use a wrapper or a custom router. I would assume a wrapper would be the easiest solution. Any advice on how best to approach this and where I can look at sample code for this?","",""
"399617942087532545","_connormartin","03/09/2021 8:04 pm","‚òï Uniswap Labs Developer Office Hours #1  ‚òï 
Friday (September 3rd) at 13:00 EST
agenda:
----------------------------------------------------
Open question format!

This is an open office hours where developers in the community can ask any technical questions on their mind, and developers at Uniswap labs will be available to answer live. 

The forum will be in a live chat in the #uniswap-developers channel group.
 
Come hang out on Friday! anyone is welcome to listen, learn, and ask questions. No requirements to participate, all we ask is that all those attending be respectful of everyones time - so that all questions can be answered.
----------------------------------------------------","",""
"819959492732256267","pei116","06/09/2021 4:59 pm","hello all, how do i get paths for feeding `quoteExactInput` func? some token pairs return error of `execution reverted` when running `quoteExactInputSingle` and i guessed i need to use `quoteExactInput` for some pairs?","",""
"672427073695907841","julianmrodri","06/09/2021 6:09 pm","Hi is there any reference implementation I can see on how to build the best `swapPath` on chain given 2 tokens I want to swap?","",""
"756141989681954856","kenny2021.8471","07/09/2021 1:16 pm","Hello, we are planning to build a program which can stake with Uniswap V3 liquidity token(NFT). Unlike V2, the V3 liquidity token is NFT and I could not find an easy way to calculate how much asset does the liquidity equal to. Can someone help me figure out this or send me the related doc URL?  Thanks in advance!","",""
"813802200353996820","mr.crypto.","07/09/2021 4:31 pm","Hello, everyone?
I am trying to integrate Uniswap v3 but cannot find addresses of contracts on testnet.","",""
"813802200353996820","mr.crypto.","07/09/2021 4:31 pm","Is there anyone knows the v3 sc address on testnet?","",""
"183309006767521792","jorropo","07/09/2021 4:32 pm","it's just the same one as on mainnet","",""
"813802200353996820","mr.crypto.","07/09/2021 4:33 pm","oh, really?","",""
"813802200353996820","mr.crypto.","07/09/2021 4:33 pm","üôÇ","",""
"813802200353996820","mr.crypto.","07/09/2021 4:34 pm","Thank you for your help","",""
"231816156464283651","Sir#2395","07/09/2021 8:39 pm","What contract can I find the accrued_fees owed to each LP address for each pool?","",""
"861310960023240714","kitkatmarty","07/09/2021 11:58 pm","We have liquidity on v3 and want to deploy on Optimism along with unified staking function UNI + QAO please support:)","",""
"884988465308114964","crypyellow#0547","08/09/2021 8:51 am","I am trying to query the Uniswap V3 pool data using GraphGL in thegraph (https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql):

  poolDayDatas{
    pool (first: 10) {
      token0 {
        symbol
      }
      token1 {
        symbol
      }
    }
    volumeUSD
  }
}
however what I get are duplicated pool pairs,

{
  ""data"": {
    ""poolDayDatas"": [
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BCZ""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""0.1849193372604300017804758202164034""
      },
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BUSD""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""298.1129935718988207060480551561013""
      },
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BUSD""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""1275.903410423489251841851495730017""
      },
........
}","",""
"884988465308114964","crypyellow#0547","08/09/2021 8:52 am","I suspect that's because of the different Ticks with same pair, How could I query the whole pair data which includes all ticks sub pool?","",""
"884988465308114964","crypyellow#0547","08/09/2021 9:19 am","sorry, move to other room","",""
"367891209668263936","deep5566","09/09/2021 3:39 pm","Hey folks, have a simple question from the whitepaper","",""
"367891209668263936","deep5566","09/09/2021 3:39 pm","","https://cdn.discordapp.com/attachments/823968973753810945/885466874601697300/unknown.png",""
"367891209668263936","deep5566","09/09/2021 3:39 pm","What does ""in-range"" liquidity mean here? Does that refer to the liquidity at the current tick?","",""
"501144180207255554","SaraReynolds#8454","09/09/2021 11:52 pm","When liquidity providers put up liquidity in V3, they choose a price range (a lower and upper tick)  at which they are willing to provide their assets. ""In range"" liquidity means that the liquidity provided is actively being used in swaps because the current price is somewhere between the two ticks (or ranges) you set your liquidity to be between.","",""
"709174257980276737","t_loor","10/09/2021 2:04 am","Anyone know where I can look at some straight ethers.js (without typescript) integration with the swap functions?  The examples show some typescript methods for doing the token approvals and I'm not yet sure how to reproduce that with just straight ethers.js.","",""
"709174257980276737","t_loor","10/09/2021 2:05 am","I'm pulling ABI down directly or injecting it manually if I can't and that seemed more straightforward than doing the hardhat solidity compiling and such.","",""
"314473209506430996","airrivals","10/09/2021 1:57 pm","the lack of technical support and docs for V3 is unreal","",""
"314473209506430996","airrivals","10/09/2021 1:58 pm","like wtf?","",""
"885836094107688962",".danesc","10/09/2021 4:22 pm","Hello, I'm new here. I would love to be able to swap coins all via the sdk without any frontend. Is there a quick sample code to get started? Thank you","",""
"399617942087532545","_connormartin","10/09/2021 6:24 pm","‚òï Uniswap Labs Developer Office Hours #2  ‚òï 
Friday (September 10th) at 13:00 EST
agenda:
----------------------------------------------------
Open question format!

This is an open office hours where developers in the community can ask any technical questions on their mind, and developers at Uniswap labs will be available to answer live. 

The forum will be in a live chat in the #uniswap-developers channel group.
 
Come hang out on Friday! anyone is welcome to listen, learn, and ask questions. No requirements to participate, all we ask is that all those attending be respectful of everyones time - so that all questions can be answered.
----------------------------------------------------","",""
"883186945734344744","2ndLastKnight#0802","10/09/2021 8:12 pm","An end to end working example in ethersjs would help A LOT I agree","",""
"399617942087532545","_connormartin","10/09/2021 11:02 pm","https://docs.uniswap.org/protocol/concepts/V3-overview/range-orders","",""
"709174257980276737","t_loor","11/09/2021 12:22 am","I mean, if general consensus is it should really only be done with TypeScript and hardhat, I guess I'll bite the bullet and learn.","",""
"788330166380134410","Luca | üá™üá≥üá∏.eth#3285","13/09/2021 5:39 am","Hey

Where can I find Uni arbitrum V3 contracts?","",""
"796364610248245259","olegb#1331","14/09/2021 9:46 pm","Hi all, anyone can tell me uniswap-v3 router address?","",""
"796364610248245259","olegb#1331","14/09/2021 9:46 pm","mainnet and testnet","",""
"796364610248245259","olegb#1331","14/09/2021 9:46 pm","0xE592427A0AEce92De3Edee1F18E0157C05861564
It is correct v3-router address in mainnet?","",""
"843155325619535912","Etherscan Bot#5753","14/09/2021 9:46 pm","<https://etherscan.io/address/0xE592427A0AEce92De3Edee1F18E0157C05861564>","",""
"812538356482834463","notooth#4850","14/09/2021 11:22 pm","Can anyone tell me the swap router to swap DAI/WETH9?","",""
"617127949480493077","yj_alt","15/09/2021 4:26 am","https://github.com/Uniswap/uniswap-interface/blob/416a3f943357cfa25df9f66131179c922e9bea02/src/constants/addresses.ts","",""
"617127949480493077","yj_alt","15/09/2021 4:27 am","https://github.com/Uniswap/uniswap-v3-periphery/blob/main/deploys.md","",""
"617127949480493077","yj_alt","15/09/2021 4:28 am","Uniswap router is the same for all pools. If you want pool address, you can find it on info.uniswap","",""
"812538356482834463","notooth#4850","15/09/2021 5:19 am","Is the Uniswap router `ISwapRouter(0xE592427A0AEce92De3Edee1F18E0157C05861564)`? I got this error when running a single swap:
> Error: Transaction reverted: function call to a non-contract account
Can you help?","",""
"843155325619535912","Etherscan Bot#5753","15/09/2021 5:19 am","<https://etherscan.io/address/0xE592427A0AEce92De3Edee1F18E0157C05861564>","",""
"886617083553644615","itspiyushmaheshwari#0301","15/09/2021 5:26 am","Still having the issue swapping?","",""
"812538356482834463","notooth#4850","15/09/2021 6:00 am","Yes. Do you have any idea why the error happened?","",""
"749871748253483070","WillO3Labs#5750","15/09/2021 11:34 am","Hi guys, I'm Will from O3 Labs https://t.me/O3LabsOfficial. https://o3swap.com/.  We are looking to build connection and set up pools with projects on Arbitrum, could you please introduce us to your devs?","",""
"669546172263956480","asdf1935","15/09/2021 12:18 pm","When calling mint, how do I make an instance of the struct MintParams in the correct format? There seems to be none of that in the deployed contract itself. I'm trying to instantiate a struct seemingly only present in inonfungiblepositionmanager to call nonfungiblepositionmanagers mint. Thanks a lot","",""
"456226577798135808","Deleted User","15/09/2021 1:31 pm","Have you gotten the issue resolved?","",""
"456226577798135808","Deleted User","15/09/2021 1:41 pm","What wallet do you made use of?","",""
"815845990396592129","0xweb3nft#5014","15/09/2021 2:33 pm","Hi all, I wanna deploy swap contract with our token.
How can I get NonFungiblePositionManager?","",""
"815845990396592129","0xweb3nft#5014","15/09/2021 2:37 pm","What is NonFungiblePositionManager address in mainnet?","",""
"815845990396592129","0xweb3nft#5014","15/09/2021 2:40 pm","`0xC36442b4a4522E871399CD717aBDD847Ab11FE88` is correct address?","",""
"471151366958743553","_mundhrakeshav","15/09/2021 3:36 pm","Trying to follow up this tutorial
https://docs.uniswap.org/protocol/guides/providing-liquidity/mint-a-position#!
Gettig this error.
Can anyone help me understand what am i missing?
`ProviderError: Error: Transaction reverted without a reason string`","",""
"471151366958743553","_mundhrakeshav","15/09/2021 3:36 pm","Running on a mainnet fork","",""
"812538356482834463","notooth#4850","15/09/2021 7:08 pm","I want to use Uniswap with Geth. The issue has not been resolved.","",""
"456226577798135808","Deleted User","15/09/2021 8:07 pm","Okay can you send me a dm","",""
"506803734366388225","doc_product","16/09/2021 12:09 am","Hi, all. We have a v3 range order integration in our protocol and I'd like to test how it performs using a localhost (HardHat) node, which is a fork of mainnet from a month ago or so. The pool we're interested in (ETH/USDC) exists in the fork but of course on localhost there is no swapping activity and therefore no yield going to the LPs. Before we go an build a simulator process to sit there executing swaps, does anyone have one of these they can share?

What I had in mind was a web3.js or Ethers process that subscribes to all pending transactions on the Uni v3 Router contract (0xe592427a0aece92de3edee1f18e0157c05861564). It would then filter these for the pool or handful of pools that we're interested in and execute the exact same swaps on that contract on localhost. So the localhost trading activity is a realtime copy of what's happening on mainnet, at least for the pools we're interested in.

Thanks in advance.","",""
"669546172263956480","asdf1935","16/09/2021 12:13 am","Hi all, so I'm testing out a liquidity contract using this guide: https://docs.uniswap.org/protocol/guides/providing-liquidity/the-full-contract and  I'm constantly getting the constructor missing arguments error(Error: missing argument:  in Contract constructor (count=0, expectedCount=1, code=MISSING_ARGUMENT, version=contracts/5.4.0))  Even though I already passed in one, I'm not sure what the issue is? This is when testing using a mainnet fork. If so, how do I pass the argument in the contract. Is it an address?","",""
"669546172263956480","asdf1935","16/09/2021 12:13 am","Thanks in advance","",""
"669546172263956480","asdf1935","16/09/2021 12:18 am","Not really understanding the description above the constructor too well either","",""
"399617942087532545","_connormartin","16/09/2021 4:15 am","seems like writing a fixture would be an easier path https://ethereum-waffle.readthedocs.io/en/latest/fixtures.html","",""
"506803734366388225","doc_product","16/09/2021 4:19 am","Not sure this will help, tbh. We're not just looking to get some swaps done before a test executes. We're looking to watch the yield generated by our v3 range order over a period of hours or days without deploying it to mainnet, but subject to the same swap activity as is happening on mainnet.","",""
"399617942087532545","_connormartin","16/09/2021 4:26 am","hey - i think this is an issue in our docs. working to fix it","",""
"699758536418132028","salome.b","16/09/2021 9:53 am","Hi everyone! I am Salome a Project Manager for Idle.Finance üôã‚Äç‚ôÄÔ∏è 
We are currently evaluating to move funds to the Uni pool V3 and we were wondering what  the expected slippage according to different price ranges are and if you have any simulation tools, so we can understand how much liquidity we should deploy to reach certain numbers.","",""
"887985661200711680","cofresi#9481","16/09/2021 3:01 pm","I need help with myobu","",""
"887985661200711680","cofresi#9481","16/09/2021 3:01 pm","From v1 to v2","",""
"456226577798135808","Deleted User","16/09/2021 5:13 pm","Have you gotten a solution?","",""
"887985661200711680","cofresi#9481","16/09/2021 5:52 pm","No of course not ive lost 200 dollars in fees almost maybe more","",""
"471357824299958273","crypto_rachel","16/09/2021 6:03 pm","we are sorry for your loss but we have already explained in your ticket","",""
"812538356482834463","notooth#4850","16/09/2021 8:20 pm","I followed this https://docs.uniswap.org/protocol/guides/swaps/single-swaps and failed to make a swap. Can anyone help? Here is my code:
> const hre = require(""hardhat"");
> 
> async function main() {
>   const Swap = await hre.ethers.getContractFactory(""SwapExamples"");
>   const swap = await Swap.deploy();
>   const amountOut = await swap.swapExactInputSingle(2600);
>   console.log(""amountOut:"", amountOut);
> }
> 
> main()
>   .then(() => process.exit(0))
>   .catch((error) => {
>     console.error(error);
>     process.exit(1);
>   });

Here is the error:
> Error: Transaction reverted: function call to a non-contract account
>     at SwapExamples.swapExactInputSingle (contracts/SingleSwap.sol:35)
>     at processTicksAndRejections (internal/process/task_queues.js:97:5)
>     at runNextTicks (internal/process/task_queues.js:66:3)
>     at listOnTimeout (internal/timers.js:523:9)
>     at processTimers (internal/timers.js:497:7)
>     at HardhatNode._mineBlockWithPendingTxs (/mnt/Archive/Documents/Solidity/swap-example/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:1582:23)
>     at HardhatNode.mineBlock (/mnt/Archive/Documents/Solidity/swap-example/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:435:16)
>     at EthModule._sendTransactionAndReturnHash (/mnt/Archive/Documents/Solidity/swap-example/node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:1494:18)","",""
"617127949480493077","yj_alt","16/09/2021 8:53 pm","You need to go ask the myobu team. Nothing to do with uniswap.","",""
"806533310745673729","martyrosse#7613","16/09/2021 10:59 pm","I'm pretty new at this stuff, but maybe the call needs to be to contract account address, but it's to an externally-owned account address: https://ethereum.org/en/developers/docs/accounts/#types-of-account","","‚òùÔ∏è (1)"
"399617942087532545","_connormartin","17/09/2021 12:28 am","new sdk swap guide is up! https://docs.uniswap.org/sdk/guides/execute-a-swap","","üëè (2)"
"813802200353996820","mr.crypto.","17/09/2021 8:08 am","How can I calculate tickUpper and tickLower from minPrice and maxPrice?","",""
"669546172263956480","asdf1935","17/09/2021 6:28 pm","Thanks, so it's an issue with the code in docs I take it?","",""
"752470867874676758","bitsandtea","17/09/2021 8:29 pm","The V2 Data field we used to generate when calling the trade() function isn't working on the UniswapV3ExchangeAdapter. I am generating that with GenerateParams which returns a hex string but its not working when I'm passing it to the trade function. Does someone have a piece of code on how to execute a Trade in Web3 (JS) using V3?","",""
"491458813178806272","salty#7507","17/09/2021 11:36 pm","@mr.crypto I'm still learning myself, but if you look at page 8 of this paper (http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf), you'll see that the relationship between the ticks and the prices are price = 1.0001 ** tick, so you should be able to get the tick boundaries by taking the logarithm of the price boundaries at base 1.0001.","","üëç (1)"
"749871748253483070","WillO3Labs#5750","18/09/2021 9:18 am","Hi all, I'm Will from O3 Labs. https://t.me/O3LabsOfficial. https://o3swap.com/.
We offer cross-chain services and are going to launch on Arbitrum, so we wish to build connections with other projects on Arbitrum.","",""
"749871748253483070","WillO3Labs#5750","18/09/2021 9:18 am","We will open a pool for users to stake $UNI to earn $O3, and there are many successful Icing sugar mining examples: 
https://twitter.com/O3_Labs/status/1399716042067218433?s=20 (Stake ETH assets to Earn $O3)
May I ask who am I supposed to contact?","",""
"813802200353996820","mr.crypto.","20/09/2021 12:37 pm","Hi, @Everyone, 
I am trying to follow v3 tutorial for setting up contract
But there is error while compiling, 
""CompilerError: Stack too deep when compiling inline assembly: Variable headStart is 1 slot(s) too deep inside the stack.""
I just copied and tried to compile but can't sure why this is happening.","",""
"813802200353996820","mr.crypto.","20/09/2021 12:37 pm","","https://cdn.discordapp.com/attachments/823968973753810945/889407419548049408/unknown.png",""
"813802200353996820","mr.crypto.","20/09/2021 12:43 pm","","https://cdn.discordapp.com/attachments/823968973753810945/889408833187893258/unknown.png",""
"813802200353996820","mr.crypto.","20/09/2021 12:43 pm","can anyone fix this issue?","",""
"812538356482834463","notooth#4850","21/09/2021 3:31 am","Can anyone help me fix the `Error: underflow (fault=""underflow"", operation=""BigNumber.from"", value=0.0002, code=NUMERIC_FAULT, version=bignumber/5.4.2)` in this code:
> liquidity: state.liquidity.mul(0.0002).toString()","",""
"617127949480493077","yj_alt","21/09/2021 12:48 pm","As mentioned in #üíª‚îÇdev-chat :

> don't use * 0.0002, instead you may consider using state.liquidity.div(5000). at least that works for me, as the state.liquidity is a bigNm","","üëç (1)"
"812538356482834463","notooth#4850","22/09/2021 3:37 am","Can anyone help me fix the `error TS2304: Cannot find name 'get'` in this code:  
>   public get token0Price(): Price<Token, Token> {    
>     return (      
>         this._token0Price ??      
>         (this._token0Price = new Price(        
>             this.token0,        
>             this.token1,        
>             Q192,        
>             JSBI.multiply(this.sqrtRatioX96, this.sqrtRatioX96)      
>         ))              
>     )        
>   }","",""
"617127949480493077","yj_alt","22/09/2021 4:55 am","Not gonna lie, if you cannot debug this one from the very clear error message, you should probably do some brushing up of your coding and debugging, before trying further... üôè","",""
"812538356482834463","notooth#4850","22/09/2021 9:58 am","I got different errors each time I run the example code at https://docs.uniswap.org/sdk/guides/execute-a-swap. Can anyone help?
> Error: call revert exception (method=""tickSpacing()"", errorArgs=null, errorName=null, errorSignature=null, reason=null, code=CALL_EXCEPTION, version=abi/5.4.1)

> Error: call revert exception (method=""token0()"", errorArgs=null, errorName=null, errorSignature=null, reason=null, code=CALL_EXCEPTION, version=abi/5.4.1)

> Error: call revert exception (method=""liquidity()"", errorArgs=null, errorName=null, errorSignature=null, reason=null, code=CALL_EXCEPTION, version=abi/5.4.1)","",""
"183309006767521792","jorropo","22/09/2021 10:00 am","your pool address is wrong","",""
"843155325619535912","Etherscan Bot#5753","22/09/2021 10:15 am","<https://etherscan.io/address/0xee815cdc6322031952a095c6cc6fed036cb1f70d>","",""
"826856147226198016","heptx","22/09/2021 4:37 pm","Are you planning to deploy the quoterV2 contract on ropsten soon? It's a hassle that it's not available across networks in the same way that the other contracts are","",""
"400331718382452747","parashar","22/09/2021 4:45 pm","Hi guys, is there any easy way to initialize v3 uniswap pool, or a library to calculate sqrtPrice96 used for initializing uniswap pool","",""
"699758536418132028","salome.b","22/09/2021 7:09 pm","Can anyone from the team help with this please üôè?","",""
"399617942087532545","_connormartin","22/09/2021 10:07 pm","the v2 quoter contract is not really an improvement from the v1, it just surfaces more data that is potentially redundant outside of our specific use case for it in our interface. Can I ask the reason you're trying to use the v2 quoter instead of the v1?","",""
"399617942087532545","_connormartin","22/09/2021 10:11 pm","Seems like a fixture may still be the best bet. the only difference in your description is the amount of time in which the swaps take place. you could just look at the swap volume in a given time period for a pool on mainnet and create a fixture that swaps the same volume back and forth","",""
"826856147226198016","heptx","22/09/2021 11:47 pm","Those additional return values are rather helpful for our use case, in particular the after sqrt prices. would no doubt be useful to other folks in the trading community as well","",""
"314473209506430996","airrivals","23/09/2021 8:29 pm","where are the arbitrum deployment addresses?","",""
"506803734366388225","doc_product","24/09/2021 8:32 am","Hi. We'd like to test our v3 integration on Kovan. We use a lot of stablecoins (USDC, USDT, DAI, FRAX). AFAICT, there isn't really consensus about which is the contract address on Kovan for each stablecoin ERC-20 contract - people often deploy there own and use that. But we'd like to use stablecoin contracts that are in use in pools at Uniswap on Kovan. Where can I find these? I guess info.uniswap.org can't be switched to Kovan to see which pools there have liquidity?","",""
"183309006767521792","jorropo","24/09/2021 1:12 pm","there is no stablecoin on kovan, because no bot is arbing them","",""
"183309006767521792","jorropo","24/09/2021 1:12 pm","@Eliot Stock | Nethermind you need to setup your own tokens to test it I think (there is a DAI deployed but it's completelly destroyed anyway)","",""
"812538356482834463","notooth#4850","25/09/2021 12:00 am","Can anyone send me the list of liquidity pool addresses on the testnets?","",""
"813526040890179597","dddk#5406","25/09/2021 9:56 pm","Can someone help me with a basic workflow question please: say I mint two different positions (nft1, and nft2) at different times and strikes in the same pool, and subsequently burn some liquidity from each position. Now starting with nft1 or nft2 and using web3, how do I find out all burns that have occurred? Is there a smart contract I can call? I looked at NonfungibleTokenPositionDescriptor, NonfungiblePositionManager and NFTDescriptor without success","",""
"506803734366388225","doc_product","27/09/2021 5:08 am","I know it's common practice to just deploy your own stables contracts. Turns out there are a bunch of stables on Kovan that have some value and can be bought with ETH on either Uni or Sushi. 0xe22da380ee6B445bb8273C81944ADEB6E8450422 for USDC, for example. Aave's Kovan deployment uses this and they publish a list of the stables they're using on Kovan. Super helpful.","","üëç (1)"
"843155325619535912","Etherscan Bot#5753","27/09/2021 5:08 am","<https://etherscan.io/address/0xe22da380ee6B445bb8273C81944ADEB6E8450422>","",""
"492207896495521792","sebastiantf","28/09/2021 7:37 pm","Is there a project that has integrated V3 swaps the right & best way possible, to be used as reference?","",""
"492207896495521792","sebastiantf","28/09/2021 9:05 pm","I am trying to upgrade a Uniswap V2 integration to a V3 integration
1. What is the V3 equivalent of `UniswapV2Factory.getPair()`
2. `UniswapV2Router02.getAmountsIn()` and `UniswapV2Router02.getAmountsOut()` should be replaced with off-chain calls of the `QuoterV2.quoteExactInput()` and `QuoterV2.quoteExactOutput()`. Is that right?
3. How do I get the `path` in the first place if the `QuoterV2.quoteExactInput()` has to be called first off-chain?","",""
"448266560801603585","yazidly","30/09/2021 3:10 am","Hello where can I find the addresses deployed on Arbitrum, (factory)","",""
"669546172263956480","asdf1935","30/09/2021 12:40 pm","Has this issue been fixed yet?","",""
"399617942087532545","_connormartin","30/09/2021 8:14 pm","‚òï --- Uniswap Labs Developer Office Hours #4 ---‚òï 

Thursday (TODAY) at 1PM EST on Discord

Add it to your calendar to keep track of this and future events!

https://calendar.google.com/event?action=TEMPLATE&tmeid=bTl2aGVkbDFmZDRwY2JoOWxrdGdpanFjcWhfMjAyMTA5MzBUMTcwMDAwWiBjX2xhcmY5aGE5NnZoN3FmajA5b2prbmg3MHNjQGc&tmsrc=c_larf9ha96vh7qfj09ojknh70sc%40group.calendar.google.com&scp=ALL","",""
"399617942087532545","_connormartin","30/09/2021 9:07 pm","theres an issue you can track here https://github.com/Uniswap/docs/issues/242 i think the correct code is in the separated code examples, rather than the full code block","",""
"669546172263956480","asdf1935","01/10/2021 8:39 pm","I see, thanks a lot. Just to clarify, by 'factory' of WETH9 in the tutorial, is it the uniswap v3 factory? Also, when compiling this I get a type error.                        TypeError: Referenced declaration is neither modifier nor base class.
  --> contracts/stakingtest.sol:26:7:
   |
26 |     ) PeripheryImmutableState(_factory, _WETH9) {
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^","",""
"399617942087532545","_connormartin","01/10/2021 9:07 pm","factory is the address of the uniswap v3 factory, _WETH9 is the address of WETH9 - they're separate things","",""
"669546172263956480","asdf1935","01/10/2021 11:03 pm","Thanks for the clarification. Will try to deploy with the correct addresses","",""
"893532133384138783","dvbsdgdsg#8998","02/10/2021 1:25 am","So I built a script to deposit liquidity on V3. Got a txhash at the end of it, but the hash isn't showing up on etherscan.io - and I also didn't see any changes on my wallet.

These are the GAS parameters I'm using:
gasLimit: BigNumber { _hex: '0x6df3', _isBigNumber: true },
maxFeePerGas: BigNumber { _hex: '0x2af5a72b80', _isBigNumber: true },
maxPriorityFeePerGas: BigNumber { _hex: '0x8583b000', _isBigNumber: true },

And the value parameter:
value: '0x00'

Is it something to do with the value parameter being 0? Or is it something to do with the GAS parameters?

I'd also like to know what's the best way to monitor the collected fees from my deposit for each swap that hits the pool. Ideally via an API so I could log it to a database.

Thanks in advance for taking your time to answer","",""
"893409705043574805","babaganoush#2080","02/10/2021 3:11 am","Hey, where can I find SwapRouter abi? I code in python and use web3.py to interface with uniswap. thanks","",""
"821681545533587506",".wesleyshao","02/10/2021 5:00 am","it's complicated to monitor the uncollected fee on a position, you need lot of data :   1.Pool Info (current tick, globalfee0, globalfee1) 2.position Info(upper_tick, lower_tick,liquidity) 3.  tickinfo for lowertick and upper tick.   All these three data you can read on the pool contract.   Next step is to calculate the pending fees. The way to calculate this you need to deeply understande the code of the pool contract.","",""
"669546172263956480","asdf1935","06/10/2021 12:06 pm","Hi, I've got a TypeError: Referenced declaration is neither modifier nor base class.
  --> contracts/stakingtest.sol:26:7:
   |
26 |     ) PeripheryImmutableState(_factory, _WETH9) {
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                    
                                                                                                                                                                                INonfungiblePositionManager public immutable nonfungiblepositionmanager;
          constructor (  INonfungiblePositionManager _nonfungiblePositionManager,  address _factory, address _WETH9) PeripheryImmutableState(_factory, _WETH9) {
        nonfungiblepositionmanager = _nonfungiblePositionManager;
    }","",""
"669546172263956480","asdf1935","06/10/2021 12:07 pm","Using the code in the instruction","",""
"669546172263956480","asdf1935","06/10/2021 12:07 pm","Also, doesn't periphery immutable state need to be referenced first?","",""
"812538356482834463","notooth#4850","07/10/2021 12:49 pm","Hello everyone,
Does Uniswap V3 run on Polygon network?","",""
"617127949480493077","yj_alt","07/10/2021 12:54 pm","No. Only Optimistic and Arbitrum for L2.","",""
"225362492677685248","apophis1","07/10/2021 11:58 pm","do you happen to know if theres any kind of plans for v3 to get onto polygon?","",""
"183309006767521792","jorropo","07/10/2021 11:59 pm","Propose it on https://gov.uniswap.org/","",""
"817838640088088616","Pegasus#8500","08/10/2021 1:23 am","theres actually good reason to propose this.  is there enough governance poer to make it happen?","",""
"817838640088088616","Pegasus#8500","08/10/2021 1:37 am","https://polygonscan.com/token/0xb33eaad8d922b1083446dc23f610c2567fb5180f 341,340 uniswap on polygon  https://optimistic.etherscan.io/token/0x6fd9d7ad17242c41f7131d257212c54a0e816691 190,972 uni on optimism","",""
"183309006767521792","jorropo","08/10/2021 1:48 am","That a very effective way to make a feature request to the devs if the vote passes.","",""
"183309006767521792","jorropo","08/10/2021 1:48 am","Else no ETA.","",""
"817838640088088616","Pegasus#8500","08/10/2021 3:01 am","they did a snapshot vote for avax and only 10,000 uniswap voted so it didnt go forward.","",""
"848689610980065290","DexMan#5350","08/10/2021 7:55 pm","Hi! I am building an integration with v3 and would love to understand how to engage with Uni from a tech and business perspective. Who should I best talk to? You guys don't seem to attend too many conferences üôÇ","",""
"893532133384138783","dvbsdgdsg#8998","12/10/2021 4:29 pm","does anyone here use the typescript API to add/remove liquidity and could give me a hand?","",""
"432296436516782080","papaulogamerofc","18/10/2021 11:33 pm","Is there any way to, using Uniswap V3 SDK, track all the pools with a specific currency?","",""
"899926973940383765","wmf#5526","19/10/2021 1:29 pm","Hi, I received a request for a system that will help users automatically trade on Uniswap using certain strategies, is that possible, what do I need to see?","",""
"183309006767521792","jorropo","19/10/2021 9:28 pm","smell like a scam","",""
"899926973940383765","wmf#5526","20/10/2021 6:38 am","this guy must be crazy","",""
"617127949480493077","yj_alt","20/10/2021 11:09 am","Afaik they are using translation service to ask this question in English, and thus easy to misunderstand üòÖ 

In any case, I already pointed them to the SDK, and similar projects eg charm.fi and popsicle.finance. Can't/Won't really do much else for them üòÇ","",""
"215815959691264000","eselyx","21/10/2021 12:45 am","Hello! I'm trying to integrate V3 into my project. Why does V3 not have any events like V2 did?","",""
"732282160492576778","br4e","21/10/2021 1:26 am","Hello, I would like to use Uniswap V3 for prices on a layer 2 (any layer 2 where this will work) 

Do V3 TWAP prices work on Arbitrum or Optimism? 

Would V3 TWAPs work on a ZK rollup? Are there any ZK rollup chains that Uniswap V3 is deployed to?","",""
"370880425473867776","kantostarter","22/10/2021 7:59 am","Does one of the reasons that concentrated liquidity is likely to perform better than 0-infinity liquidity have to do with LPs being in a queue to have their assets used? Where might I find more information about the queuing procedures or to put it differently, how does Uniswap decide which LP's assets to use when a user executes a trade?","",""
"617127949480493077","yj_alt","22/10/2021 8:55 am","There is no ""queue"". When a swap is executed, all LPs that are active in that ""tick"" (for the price ratio) will contribute liquidity and share the swap fees.","",""
"370880425473867776","kantostarter","22/10/2021 9:14 am","thanks @yj !! so If Trader A wants a very small amount of Ethereum and wants to pay for it with WBTC, every single LP will execute that trade in proportion to the percentage of liquidity that they hold. Is that right? Thanks again.","",""
"617127949480493077","yj_alt","22/10/2021 9:20 am","Yeah, pretty much that, but the phrasing might be clearer in a different way -- That swap will just utilise the concentrated liquidity at that price ratio tick, and the liquidity providers that have active liquidity in that particular tick will then share the swap fees according to their active liquidity proportions.","","‚úÖ (1),‚ù§Ô∏è (1),throne (1)"
"262368923972927489","richter#9479","23/10/2021 12:26 am","`NonFungiblePositionManager` is giving me a `Error: Transaction reverted without a reason string` when trying to mint a position to the FEI/DAI pool. I'm testing the contract on a mainnet fork. Any ideas why this is happening?","",""
"262368923972927489","richter#9479","23/10/2021 1:01 am","do u guys help at all fr where are yalls devs","",""
"164011892598112256","__balou","23/10/2021 1:08 am","When someone comes along that knows what the issue could be and reads your issue, they'll help. No need to get so impatient after 30 mins. Everyone is in different time zones and have their own stuff going on too.","","üëÜ (1),‚òùÔ∏è (1)"
"471357824299958273","crypto_rachel","23/10/2021 1:17 am","you should include some more information to, section of code (in `blocks`) There is not much for anyone to help with","",""
"262368923972927489","richter#9479","23/10/2021 4:56 am","can a dev provide me with common reasons why the transaction would be reverted?","",""
"262368923972927489","richter#9479","23/10/2021 4:56 am","both `token0` and `token1` are approved to the `nonFungiblePositionManager` address","",""
"805878185379889212","eli_cm_j#7446","23/10/2021 3:29 pm","Hello, I`m looking for an easy solution to get the exchange rate of two tokens using V3-SDK in human readable format .","",""
"805878185379889212","eli_cm_j#7446","23/10/2021 3:31 pm","ok, I think I got it. Sry.","","üëç (1)"
"506343001509986316","th0th_bravely","24/10/2021 2:03 pm","hey... just to confirm, deriving the price in V2 via the getAmountsOut function gives you a price inclusive of pool fees, while the price from slot0 in V3 is merely spot and does not include pool fees; is this accurate? is there a better way to estimate the swap price inclusive of pool fees than taking the slot0 price and adding the fee?","",""
"215815959691264000","eselyx","25/10/2021 8:04 am","where can I get V3 pool adresses?","",""
"617127949480493077","yj_alt","25/10/2021 8:05 am","Can search on info.uniswap.org, which will link to the pool addresses","",""
"215815959691264000","eselyx","25/10/2021 8:05 am","ah! The address is in the URL, lol","",""
"215815959691264000","eselyx","25/10/2021 8:05 am","I was wondering why it's nowhere on the site","",""
"215815959691264000","eselyx","25/10/2021 8:05 am","thank you","","np (1)"
"215815959691264000","eselyx","25/10/2021 4:57 pm","Where can I find the V3 Pool ABI?","",""
"163301137297047552","SimoneDaRe#9151","26/10/2021 12:08 am","Mmh I got it here, go to the end of the page https://etherscan.io/address/0xcbcdf9626bc03e24f779434178a73a0b4bad62ed#code","",""
"163301137297047552","SimoneDaRe#9151","26/10/2021 12:15 am","My man, I'm looking for the same question. did you manage to calculate spot price with slot0? I tried this code from graphprotocol-ts but is uses assemblyscript and I can't use it on typescript","https://cdn.discordapp.com/attachments/823968973753810945/902266707987529779/unknown.png",""
"163301137297047552","SimoneDaRe#9151","26/10/2021 12:18 am","I then tried to bring that code in JS with another bignumber lib but doesn't work, I think that it's only BigInt. I'm feeling hopeless üòÑ","https://cdn.discordapp.com/attachments/823968973753810945/902267475872342056/unknown.png",""
"506343001509986316","th0th_bravely","26/10/2021 12:29 am","yeah...  hang on....","",""
"506343001509986316","th0th_bravely","26/10/2021 12:32 am","this works in python","https://cdn.discordapp.com/attachments/823968973753810945/902270885510144020/unknown.png",""
"506343001509986316","th0th_bravely","26/10/2021 12:42 am","one tip...  if the number doesn't make sense, try 1/price.","",""
"215815959691264000","eselyx","26/10/2021 4:28 am","terrible structure tho","",""
"215815959691264000","eselyx","26/10/2021 6:04 am","Is the OracleLibrary deployed?","",""
"699758536418132028","salome.b","26/10/2021 4:13 pm","Hi Uni Team! 
I am Salome, part of Idle.Finance Treasury League. We recently deployed our UNI V3 pool and are looking for some active liquidity management platforms options. We had a look at Visor already but wanted to ask if you have any other you could recommend?","",""
"585912578795110424","paulwatson.","26/10/2021 4:33 pm","Hi, so what with sourse code is fixed on github uniV3?","",""
"697100150606397542","alessandro_Jarvis#7952","27/10/2021 12:00 am","Hey guys, a question, how can swap erc20 to eth in routerV3, i don't see the function for converting weth with eth in the router?","",""
"399617942087532545","_connormartin","27/10/2021 5:47 pm","@here Hack the future of the Uniswap Protocol at **UniCode**. Expand the Uni-verse. Win prizes. Application close **today**! https://unicode.ethglobal.com/","","ü§î (2),üòÉ (1),üòó (1),ty (1),ü§ì (1)"
"805878185379889212","eli_cm_j#7446","27/10/2021 8:42 pm","What about rinkedby network? How to Find pool adreesses there?","",""
"617127949480493077","yj_alt","27/10/2021 9:40 pm","Not sure about the easiest way. One way would be to look at the v3factory address for internal transactions, which will be ""pool creation"" transactions?","",""
"805878185379889212","eli_cm_j#7446","27/10/2021 10:30 pm","Im trying to Find it there . No success so far. Thank you anyway.","",""
"805878185379889212","eli_cm_j#7446","27/10/2021 11:34 pm","Your method worked like a charm. Thanks man. Damn, I wasted so much time on this‚Ä¶.","","üëç (1)"
"805878185379889212","eli_cm_j#7446","27/10/2021 11:41 pm","But im getting error while trying to create incentive anyway‚Ä¶","",""
"215815959691264000","eselyx","28/10/2021 5:30 am","I'm having trouble converting a sqrtPriceX96 to a normal number","",""
"215815959691264000","eselyx","28/10/2021 5:30 am","can someone help me?","",""
"215815959691264000","eselyx","28/10/2021 5:47 am","nvm I figured it out!","","üëç (1)"
"140661848683970560","roxhat","28/10/2021 7:34 am","In the docs, the NonfungiblePositionManager stores the **liquidity** of a liquidity position as a uint128. What exactly does this number represent and how do I convert it back into a floating point/decimal number?
 
https://docs.uniswap.org/protocol/reference/periphery/NonfungiblePositionManager","",""
"262368923972927489","richter#9479","28/10/2021 9:13 am","Anyone know why i would be getting reverts when using `IQuoter`?","",""
"352282921056468993","shmoji","29/10/2021 4:06 pm","How do you know which fee to pass in to `getPool` from the Uniswap Factory? https://github.com/Uniswap/v3-core/blob/c05a0e2c8c08c460fb4d05cfdda30b3ad8deeaac/contracts/interfaces/IUniswapV3Factory.sol#L48","https://cdn.discordapp.com/attachments/823968973753810945/903593019176022026/Untitled.png",""
"352282921056468993","shmoji","29/10/2021 4:45 pm","Also, if I want to calculate the exchange rate of an ERC20 token (with DAI), in Uniswap V2, I used `Route.midPrice`, is it fine to use the `Quoter` to do this in Uniswap V3? Also, will using the `Quoter` add on Uniswap's slippage? (i don't want that)","",""
"164011892598112256","__balou","29/10/2021 9:42 pm","It depends on what pool you want.

Do you want the 0.3% fee pool for those tokens, put in 3000. If you want the 0.05% fee pool, put in 500.","",""
"164011892598112256","__balou","29/10/2021 9:44 pm","https://info.uniswap.org/#/pools

If you look at the top pools you'll see that you'll see that you can have different pools for the same token pair depending on the fee tier. So with that method you'll just get back whatever address matches the Token+Fee combo.","",""
"544050672539271178","lyledavids","29/10/2021 10:28 pm","Hi, 
Is it possible to create a multi-token swap using the sdk? e.g. usdc-to-eth, usdc-to-wbtc
Or must do one swap at a time?
and does the sdk do the auto-router automatically? Similar to the uniswap interface","",""
"870349812099350598","cathy.13.","30/10/2021 12:07 am","Hi! I'm Cathy and I'm from the Slingshot team. Can anyone help with a few questions about Ticks:

Is there a way to predict how many Ticks a swap will ‚Äúuse‚Äù?
How can Ticks be pooled in advance for a swap from A->B and the reverse, B->A?","",""
"125498100113604608","jordan___","30/10/2021 1:42 am","Can you explain a bit more about what you mean by ""pooled in advance for a swap""?","",""
"383836935480803339","sendmoodz","30/10/2021 2:08 am","onchain, without simulating the swap, no. you can use QuoterV2 (https://github.com/Uniswap/v3-periphery/blob/main/contracts/lens/QuoterV2.sol) onchain to figure out price after swap, but you might as well just try the swap and then check the price in the callback

i don't understand the second question either","",""
"383836935480803339","sendmoodz","30/10/2021 2:10 am","i don't think it's possible with the current iteration of the sdk to format calldata that way since a trade is from a single input currency to a single output currency. that said it should be possible to do that with the current swap router from an EOA","",""
"383836935480803339","sendmoodz","30/10/2021 2:11 am","could be many reasons, recommend using something like tenderly to debug where it fails","",""
"870349812099350598","cathy.13.","30/10/2021 3:10 am","How to figure out which Ticks will be used for a given swap","",""
"125498100113604608","jordan___","30/10/2021 3:12 am","@cathy You can't know for sure, since the liquidity state will change between when your transaction is formed/broadcast and when it is confirmed. To get a rough idea of how much of subsequent tick liquidity a swap will consume, look at the TickLens contract.","",""
"548435317330280468","izhelyazkov","30/10/2021 9:04 pm","is there a reason why UniswapV3Pools are deployed as a full implementation contract and not a proxy ?","",""
"239760675948199937","hairymanape","31/10/2021 1:00 am","Morning all! Hopefully someone much smarter than me can validate / invalidate my assumptions: I am trying to build a new interface to talk to the uniswap v3 contract. I was originally thinking I would need to implement v3 periphery contracts.

If however I was trying to perform a swap (ETH -> DAI ) as an example, would I just need to make sure my site delivered the right information to the v3 contract without ever having to standup new contracts etc?","",""
"239760675948199937","hairymanape","31/10/2021 1:01 am","I am sure this has been asked before","",""
"617127949480493077","yj_alt","31/10/2021 6:13 am","If I'm not mistaken, the philosophy is that SC should be immutable, plus it helps avoid exploits (no complexity re: upgradability = smaller attack surface)","",""
"548435317330280468","izhelyazkov","01/11/2021 2:09 pm","Proxies can also be immutable. There are simple proxies which cannot be upgraded.","",""
"899740739251093525","zik#3102","01/11/2021 4:13 pm","I was trying to make  sense of the current liquidity value returned by the liquidity() function. Can someone help me with the same?","",""
"352282921056468993","shmoji","02/11/2021 2:32 am","Hey, I'm using `midPrice` to calculate exchange rate of ETH, which it gives me about 4300 DAI. Then, I am simulating a SWAP from ETH to DAI and it gives me about 3800 DAI as output of a direct path swap. This is a slippage of about `10%`, is that normal slippage for a swap?","",""
"471357824299958273","crypto_rachel","02/11/2021 2:36 am","way to high for a dai swap","",""
"471357824299958273","crypto_rachel","02/11/2021 2:38 am","There should be no impact on that pool (for small trades) and you wouldn't need to much slippage, just enough to cover volume","",""
"352282921056468993","shmoji","02/11/2021 3:28 am","I'm using `quoteExactInputSingle` and the arguments I'm passing in are exactly as expected. Is `quoteExactInputSingle` the right method to use to calculate DAI value for a ETH to DAI swap?","",""
"352282921056468993","shmoji","02/11/2021 4:52 pm","So I think my issue is that I am checking if each pool/fee pair exists starting from the low fee. I'm using it if it exists, even if it has the least liquidity. I think that was my issue, I need to choose the pool with the most liquidity.

However, how do you check how much liquidity a pool has? I checked the `Pool` object in the SDK and i checked the V3 Factory contract, but can't figure it out","",""
"812538356482834463","notooth#4850","06/11/2021 7:59 am","Can anyone tell me how to execute a swap using a trade object?","",""
"164011892598112256","__balou","08/11/2021 4:36 pm","The SDK is only used to calculate the different parameters regarding a trade. You'll need a different library to actually send trades on-chain.

Ethers.js is frequently used for that. I recommend looking into that library on how to send transactions on-chain.","",""
"812538356482834463","notooth#4850","09/11/2021 9:50 am","Is there example codes of Ethers.js that swap on Uniswap?","",""
"164011892598112256","__balou","09/11/2021 3:06 pm","This was my entry point for uniswap v2 trades. Uniswap v3 is similar but different.

https://www.youtube.com/watch?v=0Im5iaYoz1Y","",""
"812538356482834463","notooth#4850","10/11/2021 2:59 pm","Hello everyone,
Is there an example of code that swaps on Uniswap V3?","",""
"179972866564030464","rz5859","10/11/2021 5:53 pm","Is there a list of all pools in Uniswap V3 smart contracts? In Uniswap V2 we had a count and for each index in the count we had a pool. Is there a similar functionality in V3?","",""
"617127949480493077","yj_alt","11/11/2021 8:23 am","I don't think there is such a `count` for v3, but you can look at the v3-factory contract to see all the poolcreate events. Etherscan will show them, but will include failed tx: https://etherscan.io/txsInternal?a=0x1f98431c8ad98523631ae4a59f267346ea31f984","",""
"179972866564030464","rz5859","11/11/2021 8:13 pm","Just to let you know guys, the docs about the PoolCreated event here (https://docs.uniswap.org/protocol/reference/core/interfaces/IUniswapV3Factory#poolcreated) are misleading. If someone tries to parse the logs for these events from the blockchain, it will fail because token0, token1, and fee are all indexed.","",""
"179972866564030464","rz5859","11/11/2021 8:13 pm","Lost a good hour wondering why I can't get the event args.","",""
"794774992964550656","0xrajkumar","11/11/2021 8:15 pm","Please tell me how to know price of token using v3 graph or sdk   TOken is on ropsten","",""
"687976490419355659","gerbilio#8895","11/11/2021 10:58 pm","https://docs.uniswap.org/sdk/guides/fetching-prices","",""
"399617942087532545","_connormartin","11/11/2021 11:37 pm","‚òï --- Uniswap Labs Developer Office Hours  --- ‚òï 

Thursday (TODAY) at 1PM EST on Discord (Now)
come hang","",""
"794774992964550656","0xrajkumar","12/11/2021 12:06 am","Thanku bro","","np (1)"
"179972866564030464","rz5859","12/11/2021 6:08 am","Why is the contract here (https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640) showing much different TVL from analytics here (https://info.uniswap.org/#/pools/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640). How does one calculate the TVL that is currently collecting fees?","",""
"465811261536600064","svcrypto","12/11/2021 6:05 pm","can someone assist uni v3 oracle library integration?
i'd like to calculate twap liquidity, but cannot understand what the `harmonicMeanLiquidity` is
https://github.com/Uniswap/v3-periphery/blob/main/contracts/libraries/OracleLibrary.sol#L19","",""
"399617942087532545","_connormartin","12/11/2021 11:05 pm","‚òï --- Uniswap Labs Developer Office Hours  Update ---‚òï 

I will be moving the developer office hours to Twitter next week.

Follow me to get notified when I start the room! 

https://twitter.com/ConnorYMartin","",""
"179972866564030464","rz5859","13/11/2021 5:52 am","How does one get annual ROI for a pool for yesterday for example? I know how to get the fees for yesterday and I know how to get the virtual reserves that are in-range. But how does one best calculate ROI? All I have come up with at this point is total fees/tvl (as you see it on etherscan). Is there a more accurate way? @La @Noah Zinsmeister @Connor Martin","",""
"617127949480493077","yj_alt","13/11/2021 8:38 am","You can extrapolate however you want. There is no ""one best way"" to do such things, since it'll never be accurate anyways, because no one can predict the future. Also, please avoid cold-mentioning people... Thanks.","",""
"179972866564030464","rz5859","13/11/2021 9:55 pm","What about historical performance? What's the best way to extrapolate historical Deposit Annual Percentage Rate? For example, I want to know what the rate was on October 10, 2021. Right now, I'd get the fees for that day and the TVL as it is on Etherscan at the end of the day and divide the former by the latter. Is there a better way?","",""
"179972866564030464","rz5859","13/11/2021 10:04 pm","I guess, what I need to know is how can I calculate the part of the total TVL that is used at a certain point?","",""
"908601687562932284","string#2138","14/11/2021 4:12 am","Hi, there. When does uniswap V3 support OP ? It doesn't seem to work yet.","",""
"454498181556731905","benjyz1","14/11/2021 7:56 am","is there a solution to manage liquidity on v3?
only know visor","",""
"617127949480493077","yj_alt","14/11/2021 9:34 am","IMO extrapolating an annual rate from just a single-day-datapoint is just going to be bumpy and non-informative as hell. At a minimum I would smooth it out by taking a weekly or monthly average.

Also, for v3 you'll need to somehow consider the price ranges of the liquidity in play. Not sure how best, but thinking out loud you'd maybe check the total liquidity that was at least momentarily ""in-play"" during the time period (eg week/month) being considered for averaging?

With that, i guess you can arrive at a ""annualised rate based on one week (or month) of data"", plus ""percentage of liquidity (out of TVL) that earned fees during the time period"".","",""
"179972866564030464","rz5859","14/11/2021 6:48 pm","That's helpful. What I'm still trying to figure out is, how can I get the real reserves from `liquidity`? Do I need to know the price of the lowest initialized tick and the price of the highest initialized tick, and then use formula 2.2 from the whitepaper to get the active real TVL?","",""
"767056406959882251","aguiarti.","15/11/2021 6:45 am","Did you find your answer? I have the same question too üò¶","",""
"239760675948199937","hairymanape","15/11/2021 6:46 am","I honestly couldn't figure it out","","‚òπÔ∏è (1)"
"767056406959882251","aguiarti.","15/11/2021 6:47 am","I let you know if I find something","","Vitalik (1)"
"471357824299958273","crypto_rachel","15/11/2021 7:51 am","Many things get overlooked here due to the amount of postings...
so Yes you don't __have__ to launch the contract unless your in a separate test environment. You can interact with the routers to perform all functions (that's what uniswap does üòä )","",""
"617127949480493077","yj_alt","15/11/2021 8:10 am","Have a look at the uni-v3 whitepaper, and the Technical Note in https://github.com/atiselsts/uniswap-v3-liquidity-math

Notebook implementations of the code above is in https://github.com/uniyj/uni-v3-peri/tree/main/atiselsts-uniswap-v3-liquidity-math","",""
"868638541859672084","daniel1991#6401","16/11/2021 6:34 am","#‚òï‚îÇsdk-integrations","",""
"366829823068340224","fr0xen","16/11/2021 7:52 am","There's the popsicle.finance project","",""
"431961393646796811","derekbarrera","17/11/2021 10:36 pm","@steerprotocol as well, should launch mid jan","","üî• (1)"
"352282921056468993","shmoji","18/11/2021 3:10 am","What's the best way to get a token's pool with highest TVL in code? For example, the UNI token","",""
"352282921056468993","shmoji","18/11/2021 9:01 pm","Also, How can I go about understanding the limit put on swaps? I noticed at a certain point high swaps output stops increasing causing slippage to be insane","",""
"809738998993125416","yuv7575","18/11/2021 10:04 pm","Hi all","",""
"809738998993125416","yuv7575","18/11/2021 10:04 pm","Can someone point me to where I can get the complete list of pairs that can be traded on v3?","",""
"617127949480493077","yj_alt","19/11/2021 10:15 am","I don't know about a ready to use list that is up-to-date, but you can just get the `createPool` events on the uni-v3-factory, similar to what you can see on etherscan (filtering out the failed tx): https://etherscan.io/txsInternal?a=0x1f98431c8ad98523631ae4a59f267346ea31f984","",""
"735519776000049232",".shhs","19/11/2021 10:40 am","How did you figure it out?","",""
"215815959691264000","eselyx","19/11/2021 10:04 pm","I googled and tested until it worked","",""
"760018183590510603","YellowOwl#1789","19/11/2021 10:23 pm","im looking to LP on arbitrum but there is no pool for the token I want to LP, can i create one?

What if there is no bridge for that token yet though?
also is there a tool already that calculates APY for arbitrum pools?","",""
"735519776000049232",".shhs","20/11/2021 4:41 am","Wow! That is very helpful. Thanks a lot. üôÇ 
I had figured it out on ethers.js and was wondering if someone had a quick fix on web3.js. No problem. Will work it out.","",""
"333428951399792640","loque_","20/11/2021 9:19 am","hi anyone can help me with the api?","",""
"215815959691264000","eselyx","20/11/2021 3:54 pm","Yes I have it on web3","",""
"215815959691264000","eselyx","20/11/2021 3:55 pm","Sorry I wasn't really sure what you were hoping for so I simply answered your question, you should be more precise next time üòâ","",""
"215815959691264000","eselyx","20/11/2021 3:58 pm","async function uniQuote(in_, out_){
  const getcontract = await getPair(in_, out_);
  await getcontract.contract.methods.slot0().call((err, result) => {
    var result_ = Math.pow(Math.sqrt(Math.pow(1.0001, result.tick)),2)
    if(getcontract.mirror == ""true""){result_ = 1/result_};
    var result_ = (Math.pow(10, getcontract.indec) * result_) / Math.pow(10, getcontract.outdec);
    eval(`quote.${in_}` + ' = ' + `${result_}`);
    var str = in_ + out_;
    tingoDB.addEntry(str, result_);
  });
  eval(`console.log(""getQuote: "" + ""${in_}"" + "" "" + quote.${in_} + "" ${out_}"")`);
  maths.refresh();
}","",""
"215815959691264000","eselyx","20/11/2021 3:58 pm","++++
async function getPair(in_, out_){
  for (var i = 0, iLen= cad.pairs.push(); i<iLen; i++){
    if(cad.pairs[i].in == in_ && cad.pairs[i].out == out_){
      return cad.pairs[i];
    }
  }
}","",""
"215815959691264000","eselyx","20/11/2021 3:59 pm","++++
CAD object imports this function:
++++
async function addPair(adr_, chain_, oracle_, in_, indec_, out_, outdec_, mirror_){
  pairs.push(
  new Object());
  pairs[pairs.length-1].adr = adr_;
  pairs[pairs.length-1].chain = chain_;
  pairs[pairs.length-1].oracle = oracle_;
  pairs[pairs.length-1].in = in_;
  pairs[pairs.length-1].indec = indec_;
  pairs[pairs.length-1].out = out_;
  pairs[pairs.length-1].outdec = outdec_;
  pairs[pairs.length-1].mirror = mirror_;
  if(mirror_ == ""false""){addPair(adr_, chain_, oracle_, out_, outdec_, in_, indec_ , ""true"")}
}","",""
"215815959691264000","eselyx","20/11/2021 4:00 pm","+++
example:
addPair(""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640"", ""ethmain"", ""uni"", ""USDC"", 6, ""ETH"", 18, ""false"");","",""
"843155325619535912","Etherscan Bot#5753","20/11/2021 4:00 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"215815959691264000","eselyx","20/11/2021 4:00 pm","this is the relevant part for you:
  await getcontract.contract.methods.slot0().call((err, result) => {
    var result = Math.pow(Math.sqrt(Math.pow(1.0001, result.tick)),2)
    if(getcontract.mirror == ""true""){result = 1/result};
    var result = (Math.pow(10, getcontract.indec) * result) / Math.pow(10, getcontract.outdec);","",""
"735519776000049232",".shhs","20/11/2021 4:54 pm","Great. Thanks.","",""
"215815959691264000","eselyx","20/11/2021 7:04 pm","May I ask, what are you working on?","",""
"859697133753597962","tcheee42","21/11/2021 2:42 am","Hello, anyone has a good tutorial to make Uniswap run locally? I use a fork of mainnet on hardhat but impossible to run 'exactInputSingle' from the V3...","",""
"859697133753597962","tcheee42","21/11/2021 2:42 am","I have no error but my account balance stay the same at the end","",""
"859697133753597962","tcheee42","21/11/2021 2:43 am","I wonder wether it is a question of difference of addresses between hardhat localhost and WETH I am trying to use","",""
"859697133753597962","tcheee42","21/11/2021 2:45 am","```
  function convertExactEthToDai() external payable {
    require(msg.value > 0, ""Must pass non 0 ETH amount"");

    uint256 deadline = block.timestamp + 60;
    address tokenIn = WETH9; // Address of Weth on Mainnet
    address tokenOut = multiDaiKovan; // Address of DAY on Mainnet
    uint24 fee = 3000;
    address recipient = msg.sender;
    uint256 amountIn = msg.value;
    uint256 amountOutMinimum = 1;
    uint160 sqrtPriceLimitX96 = 0;
    
    ISwapRouter.ExactInputSingleParams memory params = ISwapRouter.ExactInputSingleParams(
        tokenIn,
        tokenOut,
        fee,
        recipient,
        deadline,
        amountIn,
        amountOutMinimum,
        sqrtPriceLimitX96
    );
    
    uniswapRouter.exactInputSingle{ value: msg.value }(params);
    uniswapRouter.refundETH();
    
    // refund leftover ETH to user
    (bool success,) = msg.sender.call{ value: address(this).balance }("""");
    require(success, ""refund failed"");
  }
```","",""
"333428951399792640","loque_","21/11/2021 11:13 am","hi, does anyone knows why total supply is not accurate in grah api ?","",""
"913039134623428609","dane#5600","24/11/2021 7:54 pm","Yap","",""
"913039134623428609","dane#5600","24/11/2021 7:54 pm","Yap just be patient","",""
"131086742135504896","tylerether","25/11/2021 9:26 am","Gm everyone. I'm wondering how to calculate the number of tokens locked inside individual ticks. How can I go about this?

I'd like to calculate the liquidity (in terms of numbers of tokens) from the prior 10 ticks to the following 10 ticks.","",""
"898130670101078018","hadisilver1997#7386","28/11/2021 11:01 pm","hi","",""
"738956258425700375","Lamia#8137","30/11/2021 1:17 pm","we rewrote Uniswap v3 corepool contract in JavaScript, so you can run it locally in nodejs enviornment, if you want to check it out: https://github.com/Bella-DeFinTech/uniswap-v3-simulator","",""
"738956258425700375","Lamia#8137","30/11/2021 1:17 pm","and some example: https://github.com/Bella-DeFinTech/uniswap-v3-simulator/issues/50","",""
"895675116720119888","karlygach#8497","30/11/2021 4:34 pm","what is to difference between position and positionsnapshot?","",""
"885568800517394483","__M('_')PHS#6303","30/11/2021 7:12 pm","Hey!
I'm getting following error when I installed my cloned uniswap

'v3-periphery)' is not recognized as an internal or external command,
when I replace this with 
./node_modules/@uniswap/?(v3-core|v3-periphery)/artifacts/contracts//*.json'**

then I don't get proper packages","",""
"812538356482834463","notooth#4850","01/12/2021 4:04 am","Hello everyone,
Is there an example of code that makes a swap on Uniswap V3?","",""
"913994374508060753","PamelaFM#7275","01/12/2021 5:55 am","Hello üëã","",""
"491228220520136704","sirpush","01/12/2021 5:29 pm","hey. can anyone tell me if there's an On-chain equivalent of getAmountOut/In for uniswap v3??","",""
"895914387733356546","laurawu909","01/12/2021 5:43 pm","what is V3","",""
"471357824299958273","crypto_rachel","02/12/2021 8:05 am","no","",""
"609833359883108373","od5","02/12/2021 8:44 pm","Is there an example of a custom router for FOT on v3?","",""
"689976223887392769","curiousciaran#1274","02/12/2021 9:25 pm","I would also like to do this. Did you ever figure it out?","",""
"399617942087532545","_connormartin","02/12/2021 10:14 pm","‚òï --- Uniswap Labs Developer Office Hours #4 ---‚òï 

Thursday (TODAY) at 1PM EST on Discord

Add it to your calendar to keep track of this and future events!

https://calendar.google.com/event?action=TEMPLATE&tmeid=bTl2aGVkbDFmZDRwY2JoOWxrdGdpanFjcWhfMjAyMTA5MzBUMTcwMDAwWiBjX2xhcmY5aGE5NnZoN3FmajA5b2prbmg3MHNjQGc&tmsrc=c_larf9ha96vh7qfj09ojknh70sc%40group.calendar.google.com&scp=ALL","",""
"852879459408937010","UP888#8095","05/12/2021 2:35 am","noboday explain it?","",""
"496672526135459880","Paradox#2074","05/12/2021 10:12 am","I am currently learning Ethereum, Solidity, and Uniswap. I deployed a copy of the PairFlash v3 example to the Rinkeby network, and am now trying to call it using hardhat/ether.js. The signature of the flash method was changed to accept a list of parameters, rather than a struct for easier calling.

Here is what my client code looks like.

```
import { ethers } from ""hardhat"";
import { PairFlash } from ""../typechain"";

async function main() {
  const PairFlashContract = await ethers.getContractFactory(""PairFlash"");
  const contract: PairFlash = await PairFlashContract.attach(
    ""0x7f03D7420A2672e24A3d096a2fd4cbFf5e8f2DBf""
  );

  console.log(
    await contract.flash(
      ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"", // eth
      ""0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"", // shib
      3000,
      1000,
      0,
      500,
      10000
    )
  );
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
```

I am just trying to get this to work to verify my understanding of calling the contract with the appropriate addresses and fee encodings.

No matter what values I put into the arguments I still get an UNPREDICTABLE_GAS_LIMIT error.

Does anyone know what I am doing wrong?","",""
"843155325619535912","Etherscan Bot#5753","05/12/2021 10:12 am","<https://etherscan.io/address/0x7f03D7420A2672e24A3d096a2fd4cbFf5e8f2DBf>","",""
"843155325619535912","Etherscan Bot#5753","05/12/2021 10:12 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"843155325619535912","Etherscan Bot#5753","05/12/2021 10:12 am","<https://etherscan.io/address/0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE>","",""
"328663109239832578",".mattdw","07/12/2021 4:06 am","I'm trying to figure out how to determine value of a position NFT on-chain. Liquidity seems to be a random number. How is that calculated?","",""
"95507078788947968","hmmdeif","07/12/2021 4:28 am","to calculate the gas, do a call to `estimateGas` like `await contract.estimateGas.flash(...)` with all the arguments and it will return the estimatedGas (if not reverted). then add an override including the gas limit to your transaction:

```
import { ethers } from ""hardhat"";
import { PairFlash } from ""../typechain"";

async function main() {
  const PairFlashContract = await ethers.getContractFactory(""PairFlash"");
  const contract: PairFlash = await PairFlashContract.attach(
    ""0x7f03D7420A2672e24A3d096a2fd4cbFf5e8f2DBf""
  );

  const gas = await contract.estimateGas.flash(
      ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"", // eth
      ""0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"", // shib
      3000,
      1000,
      0,
      500,
      10000
  )

  console.log(
    await contract.flash(
      ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"", // eth
      ""0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"", // shib
      3000,
      1000,
      0,
      500,
      10000,
      { gasLimit: gas }
    )
  );
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
```","",""
"843155325619535912","Etherscan Bot#5753","07/12/2021 4:28 am","<https://etherscan.io/address/0x7f03D7420A2672e24A3d096a2fd4cbFf5e8f2DBf>","",""
"843155325619535912","Etherscan Bot#5753","07/12/2021 4:28 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"843155325619535912","Etherscan Bot#5753","07/12/2021 4:28 am","<https://etherscan.io/address/0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE>","",""
"843155325619535912","Etherscan Bot#5753","07/12/2021 4:28 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"843155325619535912","Etherscan Bot#5753","07/12/2021 4:28 am","<https://etherscan.io/address/0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE>","",""
"496672526135459880","Paradox#2074","07/12/2021 6:29 am","@deif  Thanks for the response. I will give that a try.","",""
"496672526135459880","Paradox#2074","07/12/2021 6:38 am","@deif here is the contract. The call to `estimateGas` is saying unpredictable gas.","https://cdn.discordapp.com/attachments/823968973753810945/917583362191933490/message.txt",""
"496672526135459880","Paradox#2074","07/12/2021 6:39 am","Its just a copy of the PairFlash example contract with a couple of changes to lock it into the owner.","",""
"95507078788947968","hmmdeif","07/12/2021 6:39 am","probably has a revert message in the error","",""
"496672526135459880","Paradox#2074","07/12/2021 6:40 am","","https://cdn.discordapp.com/attachments/823968973753810945/917583723946467328/message.txt",""
"95507078788947968","hmmdeif","07/12/2021 6:56 am","well you can try with a high gaslimit for testing but usually when it fails on estimate gas it usually means something is missing, like an approval or something","",""
"918162647059398716","Whalet#0870","08/12/2021 9:08 pm","is there a way to implement limit orders on Uniswap V3?","",""
"617127949480493077","yj_alt","08/12/2021 9:47 pm","Natively, only ""range orders"" in a single direction. See: https://docs.uniswap.org/protocol/concepts/V3-overview/range-orders","",""
"918162647059398716","Whalet#0870","08/12/2021 9:49 pm","Great thank you, that I was looking for, is this something that can be implemented on smart contract API level?","",""
"617127949480493077","yj_alt","08/12/2021 9:54 pm","If you are looking to do/implement the range order described in the link above, that's just a normal liquidity position, typically within a single tick interval on one side of the current price. Can be done with just the usual liquidity position APIs.

If you are talking about creating/implementing a limit order in ""the other direction"" (ie buy when price is increasing, or sell when price is decreasing), then I'm not sure, you'll need to come up with your own methodology **and** implementation. (I'm sure there are others doing/looking to do this, I just don't know what the current status is)","",""
"918162647059398716","Whalet#0870","08/12/2021 9:57 pm","trying to implement a range order as one sided liquidity.. so using the liquidity position API is fine I guess...  let me check the API. Thank you. 

 sry one stupid question: is there any copyright or patent  to implement range orders as one sided liquidity via API. I heard some third party is trying to patent using the liq. position API in this way, so checking it is legally OK to use the liq. position API to open range orders, right?","",""
"617127949480493077","yj_alt","09/12/2021 6:14 am","> copyright or patent

None that I know of üôÇ","","üôè (1)"
"406400462133395457","yoshimo#3447","09/12/2021 12:04 pm","good projectüöÄ","",""
"918162647059398716","Whalet#0870","09/12/2021 6:10 pm","Thanks tought so. Would be insane to patent usage of a public API.","",""
"836589948903489548","twilightrus","09/12/2021 6:33 pm","hello, how uniswap web app calculates V3 swap?
i getting slot0 (sqrtPriceX96) from my pool and calculate price using library: https://github.com/thanpolas/univ3prices/blob/cf7855b0c1c892083bbcb9dced6f292040da2ae9/src/sqrt-price.js

i get some price and need to calculate swap for token0->token1 (100 token0 for token1). Pool fee is 0.05%. Then token0 amount is 100 - 0.05 = 99.95 * calculated price from slot0. I got a price like a uniswap web app.  But if i put more token0, discrepancies begin. I think it happens because I do not take into account the price impact. How to calculate this?","",""
"406400462133395457","yoshimo#3447","09/12/2021 7:28 pm","goodproject","",""
"399617942087532545","_connormartin","09/12/2021 11:31 pm","‚òï --- Uniswap Labs Developer Office Hours ---‚òï 

On TWITTER happening now

Add it to your calendar to keep track of this and future events!

https://twitter.com/i/spaces/1vOxwyWwNePGB","",""
"819618668086296686","JimCrypto#7823","09/12/2021 11:50 pm","Hey guys,
I hope you can help me! I am trying to create liquidity pool on the Ropste testnetwork. Here I have problems finding the right ratio between Ethereum and my custom tokens. After I have created the liquidity pool and try to buy my token, the message comes that I have insufficient liquidity.
I put 0.2 eth and 300 billion from the custom token in the pool. I guess I didn't put enough eth in the pool. How much eth do I have to put at least into the pool so that it also works in the mainnet?
Thank you in advance for your support!","",""
"303932255439683594","strmak","11/12/2021 5:42 am","@ASDF Hi there sorry to stalk you here can you DM me about Lands? üôÇ thank you you re the best! just for seeing this xD","",""
"569046594746449939","viraz4331","13/12/2021 8:59 am","hey just a query did you create the pool by calling the deploy function from your smart contract ?","",""
"431961393646796811","derekbarrera","14/12/2021 5:10 am","@Connor Martin when are the next office hours?","",""
"840139465467887636","Mr.BoyarNicholas#9587","15/12/2021 7:22 pm","Share your experience.  Where is it better to sell v3 pools with accumulated income.  What sites are most suitable for these purposes?","",""
"399617942087532545","_connormartin","16/12/2021 3:54 am","https://calendar.google.com/event?action=TEMPLATE&tmeid=bTl2aGVkbDFmZDRwY2JoOWxrdGdpanFjcWhfMjAyMTEyMTZUMTgwMDAwWiBjX2xhcmY5aGE5NnZoN3FmajA5b2prbmg3MHNjQGc&tmsrc=c_larf9ha96vh7qfj09ojknh70sc%40group.calendar.google.com&scp=ALL","",""
"399617942087532545","_connormartin","16/12/2021 3:55 am","^ thursdays at 1pm - add to your calendar above","","‚ù§Ô∏è (1)"
"431961393646796811","derekbarrera","16/12/2021 4:40 am","Thank you!! Appreciate it.","",""
"840139465467887636","Mr.BoyarNicholas#9587","16/12/2021 4:08 pm","It's clear.  You have a closed club here)","",""
"399617942087532545","_connormartin","16/12/2021 9:41 pm","Office hours on twitter today1 https://twitter.com/connorymartin/status/1471505246174154756?s=21","",""
"328663109239832578",".mattdw","17/12/2021 12:43 am","I'm trying to build an integration for v3 NFT positions into a Yearn strategy - but when I go to decrease liquidity, the numbers out don't make much sense","",""
"328663109239832578",".mattdw","17/12/2021 12:43 am","Is there a way to convert desired amount to withdraw directly into ""liquidity?"" Or does it need to be a percentage, as in the example https://docs.uniswap.org/protocol/guides/providing-liquidity/decrease-liquidity","",""
"882066595424395334","_cryptohash","20/12/2021 10:34 pm","where are the arbitrum docs, I want to know where to find the deployed contracts.","",""
"471357824299958273","crypto_rachel","21/12/2021 10:06 am","All contracts are deployed to the same addresses as on main net","",""
"700439617870233660","neeel.eth","21/12/2021 7:27 pm","Hi guys, quick question. What's the right way to get the pool address from the ERC721 tokenId?","",""
"700439617870233660","neeel.eth","21/12/2021 7:28 pm","If I call the positions map, I get token0 and token1 but not the pool address itself. I'm not sure weather there can be more than one pool with the same tokens ü§î","",""
"700439617870233660","neeel.eth","21/12/2021 7:33 pm","nvm found this on the v3-subgraph code:

```
  let position = Position.load(tokenId.toString())
  if (position === null) {
    let contract = NonfungiblePositionManager.bind(event.address)
    let positionCall = contract.try_positions(tokenId)

    // the following call reverts in situations where the position is minted
    // and deleted in the same block - from my investigation this happens
    // in calls from  BancorSwap
    // (e.g. 0xf7867fa19aa65298fadb8d4f72d0daed5e836f3ba01f0b9b9631cdc6c36bed40)
    if (!positionCall.reverted) {
      let positionResult = positionCall.value
      let poolAddress = factoryContract.getPool(positionResult.value2, positionResult.value3, positionResult.value4)
```
I was trying to find a way without contract calls but seems it's not possible. Would be very helpful if you include more data on events!","",""
"843155325619535912","Etherscan Bot#5753","21/12/2021 7:33 pm","<https://etherscan.io/tx/0xf7867fa19aa65298fadb8d4f72d0daed5e836f3ba01f0b9b9631cdc6c36bed40>","",""
"492207896495521792","sebastiantf","22/12/2021 11:46 pm","Has any project integrated V3 swap including the quoter calls onchain?
Has any project correctly integrated V3 swaps, which can be referred for doing the same?","",""
"492207896495521792","sebastiantf","23/12/2021 12:11 am","How can I find the **best** pool for a swap fully onchain using V3, without quoter being called offchain?","",""
"492207896495521792","sebastiantf","23/12/2021 12:11 am","Has any project done that?","",""
"617127949480493077","yj_alt","23/12/2021 1:36 pm","@SCTarasu --> #üìô‚îÇrules","",""
"291932083092324352","Aleksey Makarkin#7279","24/12/2021 1:09 pm","Hello. I want to use `exactInputSingle` to swap USDC for native ETH. What address param should I use for native token? (address(0) ?","",""
"799194686426185730","walker9607","26/12/2021 3:38 pm","Yes CNDL but it‚Äôs private beta","",""
"496672526135459880","Paradox#2074","27/12/2021 7:41 am","Is there a good example of using Multicall that I can reference?","",""
"749264487218937888","0xnoahc","27/12/2021 2:40 pm","Hey @marktoda , can you accept my friend request? I've got some questions referring your repo.","",""
"422654861092454401","zack5578","27/12/2021 7:55 pm","Can anyone help with: nonfungiblePositionManager.mint
I get ""Transaction reverted without a reason string""
googled and searched and tried stuff but didn't find how to solve this?","",""
"492207896495521792","sebastiantf","28/12/2021 11:33 am","Thanks. Can you share a link/twitter? Couldn't find much about them","",""
"799194686426185730","walker9607","28/12/2021 1:44 pm","Yes","",""
"799194686426185730","walker9607","28/12/2021 1:44 pm","Candletoken.com","",""
"407906037832744991","wrongchain#1603","29/12/2021 3:01 pm","tried deploying routing-api to AWS, it works on ChainId=1 but throws Internal Server Error on ChainId=137 
https://y2lkyb8fj3.execute-api.us-east-1.amazonaws.com/prod/quote?protocols=v2,v3&tokenInAddress=0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063&tokenInChainId=137&tokenOutAddress=0xc2132D05D31c914a87C6611C10748AEb04B58e8F&tokenOutChainId=137&amount=100000000000000000000000&type=exactIn","",""
"799194686426185730","walker9607","01/01/2022 3:38 pm","Did it work","",""
"492207896495521792","sebastiantf","01/01/2022 6:45 pm","The telegram and twitter both dont seem to exist","",""
"799194686426185730","walker9607","01/01/2022 6:45 pm","Yeah they do","",""
"890531116182827028","‰Ω†Ë¶ÅÊé®Â°î#2751","03/01/2022 6:30 pm","hi","",""
"605389887352602624","onchainsai","04/01/2022 6:31 pm","Hey @Micah 

Could you please assist me in extracting the current pool info from the tokenId in uniswap v3?","",""
"825562665446932500","undoubted08","04/01/2022 6:33 pm","HI there, no need to ping the Admin. Your post is visible to all already. Let's just wait for other helpers to be available.","",""
"605389887352602624","onchainsai","04/01/2022 6:33 pm","I am waiting from since last 6 hrs sir.","",""
"831719129663668276","PurpleFlame#3827","05/01/2022 8:10 am","You are looking to see your LP info? You can search the LP tokenid on the app.uniswap.org/#/pool/1 , replace the 1 with your LP token ID","","‚òùÔ∏è (1)"
"617127949480493077","yj_alt","05/01/2022 5:14 pm","Or try revert.finance/#/uniswap-position/1","",""
"812538356482834463","notooth#4850","05/01/2022 5:44 pm","Hello everyone,
Is it possible to get the market data in real time?","",""
"928243879361278002","LP#6859","05/01/2022 11:39 pm","hello","",""
"399617942087532545","_connormartin","06/01/2022 9:34 pm","Office hours today @1pm EST https://twitter.com/i/spaces/1dRJZlDLRBwKB","",""
"508998800476733441","Kean#7345","07/01/2022 4:34 am","Hi @Connor Martin please check dm","",""
"735275460329734185","ABlank#2631","07/01/2022 4:22 pm","https://info.uniswap.org/#/","",""
"844261871192375327","ggbee","07/01/2022 10:39 pm","Hi allÔºåHow do I call the positions function of the V3 Pool contract? What kind of bytes32 parameter should I pass, I have tried many times and the result is 0üòÇ","",""
"575779309155909642","iosonntag","08/01/2022 9:15 pm","I might be able to help with that:
```c
address owner = msg.sender; // or address(this)
int24 tickLower = x; // your lower tick
int24 tickUpper = y; // your upper tick

pool.positions(keccak256(abi.encodePacked(owner, tickLower, tickUpper)));
```","",""
"844261871192375327","ggbee","08/01/2022 9:45 pm","my code with python web3.py","",""
"844261871192375327","ggbee","08/01/2022 9:45 pm","v3pool_contract = get_contract('0x1d42064fc4beb5f8aaf85f4617ae8b3b5b8bd801',myweb3)
    data = myweb3.solidityKeccak(['address','int24','int24'], ['0x11E4857Bb9993a50c685A79AFad4E6F65D518DDa',-50580,-36720])
    positions = v3pool_contract.functions.positions(data).call()","",""
"843155325619535912","Etherscan Bot#5753","08/01/2022 9:45 pm","<https://etherscan.io/address/0x1d42064fc4beb5f8aaf85f4617ae8b3b5b8bd801>","",""
"843155325619535912","Etherscan Bot#5753","08/01/2022 9:45 pm","<https://etherscan.io/address/0x11E4857Bb9993a50c685A79AFad4E6F65D518DDa>","",""
"844261871192375327","ggbee","08/01/2022 9:45 pm","It return 0 too","",""
"575779309155909642","iosonntag","08/01/2022 9:47 pm","I dont know the python library is the abi.encode stuff also integrated in the .solidityKeccak func?","",""
"844261871192375327","ggbee","08/01/2022 9:50 pm","This is token 1's parameters","",""
"844261871192375327","ggbee","08/01/2022 9:51 pm","Can you show me the results of the byese32 parameter that you calculated with web3.js for token1 and successfully fetched the data?","",""
"575779309155909642","iosonntag","08/01/2022 9:56 pm","I will go shopping now, i can check that for you later","",""
"844261871192375327","ggbee","08/01/2022 9:57 pm","Ok,thx","",""
"575779309155909642","iosonntag","08/01/2022 10:54 pm","polygon or ethereum? i can only help on polygon","",""
"575779309155909642","iosonntag","08/01/2022 11:38 pm","I just checked myself, seems like it isnt working as expected. They uniswap contract itsself uses it with:
```
function get(
        mapping(bytes32 => Info) storage self,
        address owner,
        int24 tickLower,
        int24 tickUpper
    ) internal view returns (Position.Info storage position) {
        position = self[keccak256(abi.encodePacked(owner, tickLower, tickUpper))];
    }
```
But it seems like its not working","",""
"844261871192375327","ggbee","09/01/2022 5:02 pm","OKÔºåthx üòä","",""
"867719073885716501","jordaniza","12/01/2022 10:55 am","Hi, when calling the multicall contract using the redux multicall, my contract call data is stuck on:
```
error: false
loading: true
result: undefined
syncing: true
valid: true
```","",""
"867719073885716501","jordaniza","12/01/2022 10:56 am","I'm following the example of calling the contract as so:

```
  const callState = useSingleCallResult(chainId, blockNumber, contract, 'getCurrentBlockTimestamp');
```","",""
"867719073885716501","jordaniza","12/01/2022 10:56 am","Where `contract` is declared as:","",""
"867719073885716501","jordaniza","12/01/2022 10:56 am","```
    const contract = new Contract(MULTICALL_ADDRESS, MulticallABI, provider) as UniswapInterfaceMulticall
```","",""
"867719073885716501","jordaniza","12/01/2022 10:57 am","The provider is an injected web3 provider from web3-react","",""
"867719073885716501","jordaniza","12/01/2022 10:57 am","Works for other contract calls but I can't get this to return an actual value","",""
"867719073885716501","jordaniza","12/01/2022 12:00 pm","I've narrowed it down to here:

```ts
export function toCallState(
  callResult: CallResult | undefined,
  contractInterface: utils.Interface | undefined,
  fragment: utils.FunctionFragment | undefined,
  latestBlockNumber: number | undefined
): CallState {
  const { valid, data, blockNumber } = callResult
// ...
  if (valid && !blockNumber) return LOADING_CALL_STATE
  if (!contractInterface || !fragment || !latestBlockNumber) return LOADING_CALL_STATE
```","",""
"867719073885716501","jordaniza","12/01/2022 12:01 pm","What I can't now work out is what is causing the app to get stuck in LOADING_CALL_STATE","",""
"867719073885716501","jordaniza","12/01/2022 12:02 pm","I am passing the latest block number and have manually computed the interface and fragment, so I think it's in the `blockNumber` which comes from the redux actions","",""
"867719073885716501","jordaniza","12/01/2022 12:50 pm","Raised an issue here https://github.com/Uniswap/redux-multicall/issues/9","",""
"399617942087532545","_connormartin","13/01/2022 9:20 pm","‚òï --- Uniswap Labs Developer Office Hours ---‚òï 

Thursday (TODAY) at 1PM EST on Twitter

https://twitter.com/ConnorYMartin/status/1481654249180176394

Connor Martin (@ConnorYMartin)
Uniswap Labs Office Hours today at 1pm with @sendmoodz https://t.co/Q42auxSq4B

Twitter‚Ä¢Today at 10:47 AM","",""
"396130406891651075","killergoose75","17/01/2022 8:42 am","Hey everyone - I'm new here so lmk if this is the wrong channel, but does anyone know how I can get the pair contract address from Uniswap V3's factory contract? With V2 I just had to call getPair() but that function is gone now. Any ideas?

There's a getPool() function, but that doesn't return the same address that getPair() would've, right?","",""
"471357824299958273","crypto_rachel","17/01/2022 9:14 am","getPool will return the pools address, you just need the two tokens and the fee (ie. 3000 = 0.3%, 10000 = 1%, 500 = 0.05%, 100= 0.01%)","",""
"396130406891651075","killergoose75","17/01/2022 9:14 am","Awesome, thank you!","","np (1)"
"707220294712164362","gerhardsteenkamp","17/01/2022 3:21 pm","@here

Hey guys! 

So I have a question that might be a bit naiive but I would appreciate any guidance. `

Suppose I wanted to use the uniswap sdk and contract suite to facilitate swaps on my dapp. 
Suppose this is the scenario: 
The user has 2 ETH and wants to swap is for as much GRT as possible.
Given these 2 parameters (assuming a set amount of slippage and deadline) which contract functions should I call to figure what the best trade route would be?

In the docs I found reference to an *auto-router*, could this be the right thing to use here?

For clarity, as a result of this function call, I should know what trade route and the output amount would be (adjusted for gas and slippage).I also should know any addresses of any LPs  might have to interact with so that I can send all the parameters to the user's wallet to finalise the transaction.

Any help in this matter would be a greatly appreciated! TIA","",""
"602180011512037397","48cfu","18/01/2022 5:34 am","Hello all! How do I get a pool given just tokenA and tokenB address from Uniswap V3 factory without knowing the fee?","",""
"828586404279877673","heatdeathx","18/01/2022 7:21 am","you could do a loop over all three fee tiers and see if the contract exists","",""
"602180011512037397","48cfu","18/01/2022 6:40 pm","That would be a solution I guess. So there's no way to have a list of all deployed pools directly?","",""
"828586404279877673","heatdeathx","18/01/2022 6:53 pm","if you mean on-chain - i don't think so","",""
"828586404279877673","heatdeathx","18/01/2022 6:53 pm","off-chain you could use things like thegraph","","‚ù§Ô∏è (1)"
"916640093089964032","TheGodfather#7637","19/01/2022 9:50 pm","@48cfu 
I have a solution to that","",""
"602180011512037397","48cfu","21/01/2022 12:20 am","Care to share?","",""
"370646949692702732","someusername999#5885","23/01/2022 1:54 am","THe uniswap v3 factory contract (https://etherscan.io/address/0x1f98431c8ad98523631ae4a59f267346ea31f984#readContract) has a read method called `getPool`  which has 3 params: `token0Address`, `token1Address`, and `feeTier` (10000 = 1%). You can make multiple calls with the different fee tiers and you will get the all the pools. If a pool was not yet created, you will get the null address (`0x0000000000000000000000000000000000000000`). The order of `token0Address` and `token1Address` does not matter in this case.","https://cdn.discordapp.com/attachments/823968973753810945/934544129667522570/uni-get-pool.png",""
"370646949692702732","someusername999#5885","23/01/2022 2:11 am","Or maybe you can use a subgraph and run a query like this:","https://cdn.discordapp.com/attachments/823968973753810945/934548305952784424/uni-pair-pools-ql.png",""
"370646949692702732","someusername999#5885","23/01/2022 2:19 am","You might be right, the autorouter seems to give you all the params you need to implement a swap. Check out the full example in this page: https://docs.uniswap.org/sdk/guides/auto-router","",""
"797858811142340660","bonfis","23/01/2022 7:19 pm","Hi @here","",""
"797858811142340660","bonfis","23/01/2022 7:19 pm","We‚Äôre building a DeFi game on AVAX and are counting on being able to use V3!
Noticed you already have a successful temp check on an AVAX deployment. Also noticed you‚Äôre trying to help community members deploy to all EVM-compatible chains in your latest blog post.

So I was hoping to ask:

When are you planning to deploy to AVAX?
Could we potentially help accelerate the AVAX deployment?
We‚Äôre hopeful we won‚Äôt have to delay our game launch because of what feels like a purely logistical issue, given the positive temp check and the overall intention to deploy everywhere.

Please help us launch on time!","","üëÄ (1)"
"696407205196333117","IanN#7809","24/01/2022 2:40 am","Thats how I have done it and just built a file cache that stores all the addresses. You can just then refresh the cache every now and then to ensure you got all the addresses. There is also some code in the uniswap git repo that you can use to build the addresses offchain but you still need to validate them so I didnt bother with that.","","üëç (1)"
"904040397330874478","klok#9286","25/01/2022 8:55 am","Hi there, we are working on a deFi project and trying to implement a smart contract wallet and do an iFrame integration to wrap Uniswap UI into our portal, the mechanism would be similar to Gnosis Safe I believe. But I wonder what can we do such that Uniswap would recognise the wallet provided by our portal instead of recognising the end user‚Äôs wallet? If it needs some customised integrations is there anyone we can talk to ? Thanks!","",""
"774350243226714112","ytrewq#8974","25/01/2022 9:11 pm","I think you'd essentially need to provide a new context for the iframe/whatever container Uniswap ends in, this is probably more web development then blockchain development.

What Metamask essentially does, is that it inserts an object into the global browser context that provides an interface for apps like Uniswap to work with. So you need to overwrite that within the context you'll be defining with that iframe.","",""
"774350243226714112","ytrewq#8974","25/01/2022 9:29 pm","Why are there pool creation calls to the v3 factory so far and in-between? 

https://etherscan.io/address/0x1f98431c8ad98523631ae4a59f267346ea31f984

Is this the actual V3 Factory or has a new version been deployed to a new address? The latest pool creation is almost a month ago - you'd think that by now someone would have created another pool ü§î","https://cdn.discordapp.com/attachments/823968973753810945/935564581017899018/unknown.png",""
"349369252421042176","isaacthemexican","25/01/2022 10:27 pm","When people create a new pool it's the router that calls the factory. At least that's what happens in v2","",""
"774350243226714112","ytrewq#8974","25/01/2022 10:28 pm","Yeah but that call should be visible on the factory right? This is a screenshot of the transactions on the factory","",""
"349369252421042176","isaacthemexican","25/01/2022 10:29 pm","Switch to ""internal transactions"" that's where calls from other contracts will be","",""
"774350243226714112","ytrewq#8974","25/01/2022 10:33 pm","Real lightbulb moment right there ü§¶ , God bless you young man","","üëç (1)"
"912080978971881532","arc4i#4907","26/01/2022 11:43 pm","Hi there! Guys does anybody know how I can see through API  changing if my staked pull %","",""
"912080978971881532","arc4i#4907","26/01/2022 11:43 pm","?","",""
"912080978971881532","arc4i#4907","26/01/2022 11:43 pm","Of*","",""
"936147703493169152","napper#4588","27/01/2022 12:25 pm","this is interesting https://twitter.com/PilgrimProtocol/status/1486548551123423232","",""
"784685577625665576","laudiacay","01/02/2022 11:15 am","has anyone written a cadcad model of uni v3? i see the v2 one in the repo.","",""
"784685577625665576","laudiacay","01/02/2022 11:15 am","@Noah Zinsmeister ^^ maybe fun question üôÇ","",""
"784685577625665576","laudiacay","01/02/2022 11:18 am","or @Pote ü¶Ñ- google stalked you and it seems like you're technical too- sorry to be a pest- i'm about to implement this for some stuff i'm working on and would rather not duplicate effort","",""
"471357824299958273","crypto_rachel","01/02/2022 11:20 am","Please don't random cold ping","",""
"784685577625665576","laudiacay","01/02/2022 11:21 am","i'm trying to be helpful... literally offering free labor","",""
"784685577625665576","laudiacay","01/02/2022 11:21 am","anyway it looks like this exists: https://github.com/cadCAD-org/demos/tree/master/demos/Multiscale/uniswap","",""
"784685577625665576","laudiacay","01/02/2022 11:23 am","probably going to start on v3 tonight unless im told otherwise. would love support from knowledgeable people","",""
"784685577625665576","laudiacay","01/02/2022 11:25 am","oh @Crypto_Rachel i see you are swarmed in the other channel... sorry, i understand why the cold pinging policy now. i would appreciate if there's any way for you to escalate my question, because i think me building this could be helpful to the ecosystem, but i got it if not","",""
"471357824299958273","crypto_rachel","01/02/2022 11:29 am","Not legal advice or anything. I'm not sure but I personally don't see any reason you couldn't do that. I don't think either of them or uniswap had anything to do with it. I can' look into it further","",""
"784685577625665576","laudiacay","01/02/2022 11:45 am","it's not legal advice, i just want to know if it exists","",""
"471357824299958273","crypto_rachel","01/02/2022 11:49 am","üòä  well I hadn't event seen that tbh. I'm not seeing any for v3","",""
"471357824299958273","crypto_rachel","01/02/2022 12:09 pm","found this
https://www.youtube.com/watch?v=7555Zh7hWXg","",""
"784685577625665576","laudiacay","01/02/2022 12:10 pm","yeah i think it's for v2","",""
"784685577625665576","laudiacay","01/02/2022 12:10 pm","okay- thank you","",""
"784685577625665576","laudiacay","01/02/2022 12:11 pm","do you know how i can find out whether uniswap would give me a grant to build a v3 one?","",""
"471357824299958273","crypto_rachel","01/02/2022 12:13 pm","yeah your correct that was for v2
yeah one sec, I'll dig up the link","",""
"471357824299958273","crypto_rachel","01/02/2022 12:13 pm","https://airtable.com/shrWrSFRs6t1q1s9v","",""
"471357824299958273","crypto_rachel","01/02/2022 12:13 pm","seems like a good thing to go for","",""
"194538735382167553","elcabrono#7465","01/02/2022 4:06 pm","I'm trying to integrate the auto router at my local hardhat with mainnet fork (so running it with chainid 1) is there anything special to set? 
as I'm getting a timeout on calling await router.route()","",""
"771308814665777162","andrej_dev","01/02/2022 11:02 pm","How to properly do a refund when swapping ETH for exact amount of some ERC20 token via V3 `ISwapRouter.sol`? 

For example:
```javascript
import ""@uniswap/v3-periphery/contracts/interfaces/ISwapRouter.sol"";
import ""@uniswap/v3-periphery/contracts/interfaces/IPeripheryPayments.sol"";
.
.
function swapEthForToken(ISwapRouter.ExactOutputSingleParams memory params) public payable {
    uint256 amountIn = ISwapRouter(routerAddress).exactOutputSingle{value: msg.value}(params);

    // fails because no ETH is held by this contract
    if(msg.value > amountIn) {
       // IPeripheryPayments(routerAddress).refundETH();
       (bool success, ) = msg.sender.call{ value: msg.value - amountIn }("""");
       require(success, ""Refund failed"");
    }
}
```
fails because, even if `maximumAmountIn` (`msg.value` in this case) is greater than `amountIn` , there is no ETH in the contract, logically. 

`IPeripheryPayments(routerAddress).refundETH();` reverts with error message 'STE' although I confirmed both in test and via hardhat/console.sol that balance of `routerAddress` contract is not zero, rather than exactly `msg.value - amountIn`

Thanks in advance üôÇ

ANSWER:
It looks like the proper way to handle this case is 
```javascript
    if(msg.value > amountIn) {
       IPeripheryPayments(routerAddress).refundETH(); // refunds ETH to the contract
       (bool success, ) = msg.sender.call{ value: msg.value - amountIn }(""""); // refunds ETH from the contract to the actual sender (user)
       require(success, ""Refund failed"");
    }
```
but be sure to include `receive()` or `fallback()` function. Feel free to correct me if I am wrong","",""
"194538735382167553","elcabrono#7465","01/02/2022 11:39 pm","ok seems just a problem with some tokens other don't timeout.

other question: how I can force to use only V3 for alphaRouter.route() ?
I tried to set protcols:[Protocol.V3] for the AlphaRouterConfig, but it still gives me V2 route","",""
"938009367192690688","Gigicc#0831","01/02/2022 11:46 pm","Are you still getting this error ?","",""
"519929019072905219","bmilesp#1456","04/02/2022 1:51 am","Are these fees you've listed the only fees available or can they be any number?","",""
"506803734366388225","doc_product","04/02/2022 7:37 am","Hi all, I have a question on the AlphaRouter. I'm trying to execute a ""swap and add liquidity"" transaction on Arbitrum. As a human, I'm used to paying around 12 USD for the swap and the add liquidity transactions combined. When I use the routetoRatio() function, here's the gas estimate: 

`estimatedGasUsedUSD: CurrencyAmount {
    numerator: JSBI(2) [ 471797760, 455291010, sign: false ],
    denominator: JSBI(1) [ 1, sign: false ],
    currency: Token {
      chainId: 42161,
      decimals: 18,
      symbol: 'DAI',
      name: 'Dai Stablecoin',
      isNative: false,
      isToken: true,
      address: '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1'
    },
    decimalScale: JSBI(2) [ 660865024, 931322574, sign: false ]
  }`

Given this is ""decimals: 18"", the value 471797760 seems way too low. Nevertheless, from an account with 0.01 ETH in it (about 27 USD), sending the transaction fails with:

`message\"": \""not enough funds for gas\""}}"", error={""code"":-32000}`

Any ideas?

Update: same error even with ETH 0.04 in the account. Should be more than enough.","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 7:37 am","<https://etherscan.io/address/0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1>","",""
"471357824299958273","crypto_rachel","04/02/2022 7:46 am","Those are the only ones currently available on mainnet (all other nets arb, opt, and poly don't have the 0.01% tier)","",""
"519929019072905219","bmilesp#1456","04/02/2022 7:47 am","Awesome, thank you!","","np (1)"
"471357824299958273","crypto_rachel","04/02/2022 8:52 am","what exactly are you doing, the tx data looks way to long. Arbitrum has nothing to go off of. But it doesn't look like you approved any tokens","",""
"506803734366388225","doc_product","04/02/2022 8:53 am","Ah! That old chestnut. Sorry, I probably haven't. Will do that now and retest.","","üëç (1),np (1)"
"506803734366388225","doc_product","04/02/2022 9:02 am","No joy yet. I approved the position manager and swap router contracts to spend all my WETH and USDC. What I'm doing here is using the new ""swap and add liquidity"" function on the AlphaRouter. I'm assuming that uses the same contract on-chain.

The addresses I approved are:

`addrPositionManager: ""0xC36442b4a4522E871399CD717aBDD847Ab11FE88""
addrSwapRouter: ""0xE592427A0AEce92De3Edee1F18E0157C05861564""`

These are the same addresses on every chain, right?

Update: you can see my four approvals here: https://arbiscan.io/address/0x1ee071ec8ad0768256ab32c8ba61d99a39ef84a4","",""
"471357824299958273","crypto_rachel","04/02/2022 9:18 am","the contracts are the same. there are two routers the orig `0xE592427A0AEce92De3Edee1F18E0157C05861564` and the new `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45`
data still doesn't look correct though. I don't know ethers, so I can't really help much with that, and the alpharouter scripts are doing the work.","",""
"506803734366388225","doc_product","04/02/2022 9:20 am","Thanks, will approve 0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45 and see if it makes a difference.","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 9:20 am","<https://etherscan.io/address/0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45>","",""
"471357824299958273","crypto_rachel","04/02/2022 9:21 am","no that's not the contract your calling though","",""
"471357824299958273","crypto_rachel","04/02/2022 9:21 am","your calling the original contract","",""
"506803734366388225","doc_product","04/02/2022 9:24 am","Yeah maybe I should also be calling the swap router 2 contract. Looks like the SDK has not decided that for me. Oh wait, the example at https://docs.uniswap.org/sdk/guides/liquidity/swap-and-add does indeed use ...Fc45.","",""
"471357824299958273","crypto_rachel","04/02/2022 9:24 am","so approve and call that contract","","üëç (2)"
"471357824299958273","crypto_rachel","04/02/2022 11:38 am","that's just the transaction not helpful","",""
"471357824299958273","crypto_rachel","04/02/2022 11:39 am","also you shouldn't share anything with the r & s of the signature","",""
"506803734366388225","doc_product","04/02/2022 11:57 am","OK, I see. What can I share that will help debug this?","",""
"471357824299958273","crypto_rachel","04/02/2022 12:08 pm","Well I don't know ethers to well but if you drop your code here I'll see if I see anything","",""
"506803734366388225","doc_product","04/02/2022 12:38 pm","Thanks! Here's some code.","https://cdn.discordapp.com/attachments/823968973753810945/939054910056579092/message.txt",""
"471357824299958273","crypto_rachel","04/02/2022 1:02 pm","definitely not familiar with the sdk
? whats up with this question mark","https://cdn.discordapp.com/attachments/823968973753810945/939060836570374144/unknown.png",""
"506803734366388225","doc_product","04/02/2022 1:08 pm","That's just Typescript optional chaining. It means use undefined if route.methodParameters is undefined, or route.methodParameters.value if it's defined. Pretty sure I checked that route.methodParameters is defined in the debugger, but will log it now to be sure.","",""
"471357824299958273","crypto_rachel","04/02/2022 1:10 pm","that's cool. yeah I'm more solidity based, and old school web3 üòÑ","","üëç (1)"
"471357824299958273","crypto_rachel","04/02/2022 1:11 pm","the one thing I see that seems really odd is that the multicall is huge data, some redundant and looks like a lot more than needed","",""
"506803734366388225","doc_product","04/02/2022 1:12 pm","That's odd. I haven't departed that much from the docs example code. Not sure what would cause that to happen.","",""
"506803734366388225","doc_product","04/02/2022 1:13 pm","I checked and both calldata and value are defined on methodParameters. Value is 0 but I'd expect that given the swap is USDC to WETH (or vice versa) and not USDC to ETH.","",""
"506803734366388225","doc_product","04/02/2022 1:14 pm","I see what you mean about the calldata. It's massive.  3019 characters.","",""
"471357824299958273","crypto_rachel","04/02/2022 1:14 pm","yeah","",""
"471357824299958273","crypto_rachel","04/02/2022 1:14 pm","and it's only calling one function","",""
"471357824299958273","crypto_rachel","04/02/2022 1:15 pm","which shouldn't be, should be multiple calls","",""
"506803734366388225","doc_product","04/02/2022 1:17 pm","To you have a handy calldata decoder I can whack this into that tells us all the fields and values?","",""
"471357824299958273","crypto_rachel","04/02/2022 1:18 pm","nope I do by hand/eye","",""
"471357824299958273","crypto_rachel","04/02/2022 1:19 pm","","https://cdn.discordapp.com/attachments/823968973753810945/939065048507240498/message.txt",""
"471357824299958273","crypto_rachel","04/02/2022 1:19 pm","better view","",""
"506803734366388225","doc_product","04/02/2022 1:20 pm","I'll step into the router.routeToRatio() call in the debugger and see if anything stands out.","",""
"506803734366388225","doc_product","04/02/2022 1:21 pm","While I'm doing that, do you think increasing ratioErrorTolerance or deadline would help?","",""
"471357824299958273","crypto_rachel","04/02/2022 1:22 pm","oh snap. the deadline needs to be Date.now() +1800","",""
"506803734366388225","doc_product","04/02/2022 1:24 pm","oh! cool. will try that.","",""
"506803734366388225","doc_product","04/02/2022 1:25 pm","Not out of the woods yet, sorry. Call exception still.","",""
"471357824299958273","crypto_rachel","04/02/2022 1:28 pm","üò¶","",""
"471357824299958273","crypto_rachel","04/02/2022 1:29 pm","maybe the data ?.calldata","",""
"471357824299958273","crypto_rachel","04/02/2022 1:29 pm","¬Ø\_(„ÉÑ)_/¬Ø","",""
"506803734366388225","doc_product","04/02/2022 1:31 pm","Will try upping my ratioErrorTolerance to 5%.","","üëé (1)"
"471357824299958273","crypto_rachel","04/02/2022 1:32 pm","I know it's only arbitrum but you should really test on a testnet","",""
"506803734366388225","doc_product","04/02/2022 1:33 pm","I tried on Kovan but I had to create my own pool, then it was a ton of work to get the pool in the right state that a swap and add liquidity would work.","",""
"471357824299958273","crypto_rachel","04/02/2022 1:34 pm","well i'm not sure but the data isn't right, I don't see a single function that would handle both, and these calls are only calling one function (from what I see)","",""
"506803734366388225","doc_product","04/02/2022 1:34 pm","Cheaper to iterate on Arbitrum where there are real assets if you value your time, no?","",""
"506803734366388225","doc_product","04/02/2022 1:35 pm","Is it worth me opening a bug on the smart-order-router repo?","",""
"506803734366388225","doc_product","04/02/2022 1:35 pm","I'll also try to step into the SDK code in the debugger and see if I can see anything wrong in my state.","",""
"471357824299958273","crypto_rachel","04/02/2022 1:37 pm","to open a bug on the repo you would need to find it üòÑ","",""
"506803734366388225","doc_product","04/02/2022 1:44 pm","Where does this logging go to, do you know?

https://github.com/Uniswap/smart-order-router/blob/main/src/routers/alpha-router/alpha-router.ts#L680","",""
"506803734366388225","doc_product","04/02/2022 1:46 pm","How about: this function generates calldata that is 3019 characters long: https://github.com/Uniswap/smart-order-router/blob/b19ebcb3f3e2b6b10a8021884f5336c8735ba8a5/src/routers/alpha-router/alpha-router.ts#L1281 üòâ","",""
"506803734366388225","doc_product","04/02/2022 1:46 pm","And only calls one function of course","",""
"471357824299958273","crypto_rachel","04/02/2022 1:59 pm","hmm, not sure, but they just look like the build of the parameters","",""
"506803734366388225","doc_product","04/02/2022 2:08 pm","I can't step into the SDK code for some reason. My debugger steps right over it, like I don't have the source.

I added some logging and nothing looks wrong so far:

`trade swaps:
[
  {
    route: RouteV3 {
      _midPrice: null,
      pools: [Array],
      tokenPath: [Array],
      input: [Token],
      output: [Token],
      protocol: 'V3',
      path: [Array]
    },
    inputAmount: CurrencyAmount {
      numerator: [JSBI],
      denominator: [JSBI],
      currency: [Token],
      decimalScale: [JSBI]
    },
    outputAmount: CurrencyAmount {
      numerator: [JSBI],
      denominator: [JSBI],
      currency: [Token],
      decimalScale: [JSBI]
    }
  }
]
trade routes:
[
  RouteV3 {
    _midPrice: null,
    pools: [ [Pool] ],
    tokenPath: [ [Token], [Token] ],
    input: Token {
      chainId: 42161,
      decimals: 18,
      symbol: 'WETH',
      name: 'Wrapped Ether',
      isNative: false,
      isToken: true,
      address: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'
    },
    output: Token {
      chainId: 42161,
      decimals: 6,
      symbol: 'USDC',
      name: 'USD Coin',
      isNative: false,
      isToken: true,
      address: '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'
    },
    protocol: 'V3',
    path: [ [Token], [Token] ]
  }
]
trade input amount: 0.05 WETH, output amount: 168.55 USDC
optimalRatio: 150247143.8263`","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 2:08 pm","<https://etherscan.io/address/0x82aF49447D8a07e3bd95BD0d56f35241523fBab1>","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 2:08 pm","<https://etherscan.io/address/0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8>","",""
"506803734366388225","doc_product","04/02/2022 2:09 pm","optimalRatio looks too big until you consider that WETH has 18 decimals and USDC has only 6.","",""
"471357824299958273","crypto_rachel","04/02/2022 2:24 pm","¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø","",""
"753676702323966083","_internalerror","05/02/2022 5:00 pm","Hi everyone, I hope I'm a bit more lucky here to get help:
https://discord.com/channels/597638925346930701/607978109089611786/939263442739658782","",""
"843155325619535912","Etherscan Bot#5753","05/02/2022 5:00 pm","","",""
"900489901978570763","Marcus O#6956","08/02/2022 12:46 am","Hello, I am having difficulty solving this import error. I am trying to import contracts and libraries from the Uniswap protocol so I can implement some functionalities into my project. I keep receiving the ""source file not found file import callback not supported"" error for each uniswap file I imported. I tried importing the files through NPM also and still come across this error. How do I resolve this error?","",""
"900489901978570763","Marcus O#6956","08/02/2022 12:46 am","","https://cdn.discordapp.com/attachments/823968973753810945/940325127571247146/unknown.png",""
"564718359304863744","voith","08/02/2022 6:25 pm","Hi, I'm testing out the Uniswap-V3-Staker
https://github.com/Uniswap/v3-staker/blob/4328b957701de8bed83689aa22c32eda7928d5ab/contracts/UniswapV3Staker.sol#L19
I managed to create an incentive program, deposited and staked my LP token. 
[Question]: Now given a wallet address, how do I know which tokens were staked by it? Methods like `getRewardInfo`, `unstakeToken` need the tokenID. However, once a Token is deposited in the `V3-Staker` contract, I couldn't figure out a way to query the contract to know which tokens were deposited by a particular address?
[Scenario]: 
- Say I have a UI that allows users to stake their V3 LP NFTs in the v3-staker contract. To know the tokens owned by a particular address, I can query `NonfungiblePositionManager`.
- However, Once a token is deposited and staked in an incentive program, how to figure out which tokenIDs were staked by a user in a particular incentive program?","",""
"805000188208218132","Flogi#0939","09/02/2022 7:56 pm","Hello everyone! I am fighting to get a single swap done using the contract method exactInputSingle(). I finally got the transaction fired, but i ends up in the state ""failed"" giving no further error. Do you know the reasons for this error? https://polygonscan.com/tx/0xd641a5c395b4ae7b33b58d5d8329d7341a26a1d07aa94e2928a900c9c915e479","",""
"805000188208218132","Flogi#0939","09/02/2022 7:56 pm","I use the netherum c# framework","",""
"393701657466241025","BacnLettcTomat#2302","11/02/2022 12:31 am","I have a question about using Uniswap-v3 Factory on production. Does the licence permit to create LPools using factory and use it on prod such as clone the contracts and deploy them on our own defi app?","",""
"725705883333689395","jcs8809","11/02/2022 3:56 am","Hi! Where can i see addresses as tokens or uniswap smart contracts?","",""
"725705883333689395","jcs8809","11/02/2022 3:56 am","For differents networks","",""
"392029832659337226","milanPS#9595","14/02/2022 8:27 am","Hello guys, I have a problem with SwapRouter and Quoter for getting quote and swapping on multihop methods, I use the encoding function from uniswap, setting up parameters and get  Error: cannot estimate gas; transaction may fail or may require manual gas limit (error={""code"":-32000,""message"":""execution reverted""}
can someone help please?","https://cdn.discordapp.com/attachments/823968973753810945/942615604366573638/unknown.png,https://cdn.discordapp.com/attachments/823968973753810945/942615604874063872/unknown.png",""
"392029832659337226","milanPS#9595","14/02/2022 8:30 am","I'm testing on Polygon Mainnet with both SwapRouter and SwapRouter 02 ...","",""
"922849005564727296","yue187#8297","14/02/2022 12:34 pm","Áî®Èí±ÂåÖÂêó","",""
"564718359304863744","voith","14/02/2022 10:01 pm","Never mind, I implemented it myself:
https://github.com/Uniswap/v3-staker/commit/d9ac5bb2102de802ccde095ace0bf70451206dc9
I will submit a PR  upstream after I add some tests for it.","",""
"457756784195665941","seb_ethmonk","14/02/2022 10:11 pm","Hey Dev and non-devs
 :inst: Instadapp launched a Uniswap v3 Reward Management - you can create Uniswap v3 reward pools in one click! It creates a Uni v3 Staker Reward pool with no need to deploy any subgraphs or contracts. Available on all versions of Uniswap v3 

You can find it on any Uniswap page within Instadapp like this one for mainnet: https://defi.instadapp.io/uniswap-v3

If anyone wants to use this and needs any help feel free to reach out","",""
"564718359304863744","voith","14/02/2022 10:26 pm","Thanks for this.","","üëç (1)"
"245588472239357953","Yaroslav+ | Overnight.fi#8814","16/02/2022 4:06 pm","Hello! 
I try to add liquidity to uniswap v3 pool via smart contracts, NOT dapp interface.
How I can get parameters a ratio  token0 (amount0Desired) , token1(amount1Desired)?","https://cdn.discordapp.com/attachments/823968973753810945/943455881981493318/unknown.png",""
"922865022999330906","TM#8368","16/02/2022 6:52 pm","Hi! Is it possible to somehow get a list of all V3 pairs through a contract, as it was on V2?","",""
"922865022999330906","TM#8368","16/02/2022 7:30 pm","I could find that you can receive pools through ""Uniswap V3: Positions"", but the data that is given there (for example, liquidity) does not match the data in the contact of the pool itself.","",""
"697632121560498227","olivia_#9242","17/02/2022 6:26 am","@Eliot Stock | Nethermind Hi, have you been able to succesfully use alpha-router (adding or minting/adding) in your projects?","",""
"506803734366388225","doc_product","17/02/2022 6:28 am","Nope! Have been working on it for about a day now. I had some failed transactions where the calldata was much longer than expected at about 3K bytes. Have started debugging the SDK sources locally and I'm finding lots of places where JSBIs or Fractions are not handled properly, getting errors on the call to routeToRatio().","",""
"506803734366388225","doc_product","17/02/2022 7:55 am","I just opened this bug, for example: https://github.com/Uniswap/smart-order-router/issues/65. This is blocking for me. I get the sense that no-one is really using the smart-order-router repo yet.","",""
"697632121560498227","olivia_#9242","17/02/2022 9:49 am","Have you been able to mint a position without using the alpha router?","",""
"506803734366388225","doc_product","17/02/2022 10:33 am","I think I have on Kovan, yes. Never on mainnet nor Arbitrum. I'm falling back to that now, giving up on the alpha router.","",""
"817459832109662208","ordi_nals","17/02/2022 8:21 pm","Hello everyone, where can I get the UNI test coins?","",""
"817459832109662208","ordi_nals","17/02/2022 8:21 pm","üëÄ","",""
"765941287315832882","kevinriedl.eth","17/02/2022 9:14 pm","Hi we want to integrate v3 in our dapp via multicall. Everything seems fine, except that we can't even execute the exact(Input|Output)Single function on Etherscan directly. 

**Ropsten testnet**: exactOutputSingle
```['0xc778417e063141139fce010982780140aa0cd5ab','V3 token address',10000,'recipient_address',1645203723,'21136859214300893386870','5795384454304879',0]```

Etherscan itself throws an error for this params.

Does someone have an idea?","",""
"765941287315832882","kevinriedl.eth","17/02/2022 9:14 pm","we use this contract on ropsten: 0xE592427A0AEce92De3Edee1F18E0157C05861564","",""
"759443905862303764","davidtuc","17/02/2022 10:47 pm","Hi Kevin, I'm having similar a problem, were you able to get that function working? PM if you like.  Thank you","",""
"765941287315832882","kevinriedl.eth","17/02/2022 11:00 pm","unfortunately not, .. what's your issue?","","üëç (1)"
"759443905862303764","davidtuc","17/02/2022 11:01 pm","","https://cdn.discordapp.com/attachments/823968973753810945/943922589703741472/e.png",""
"759443905862303764","davidtuc","17/02/2022 11:04 pm","I'm trying to make it work from the contract itself, so I want to be sure I'm managing the params correctly ... so I'm having similar problems in my main development using C# üò¶ (on Polygon net in my case)","",""
"765941287315832882","kevinriedl.eth","17/02/2022 11:28 pm","have you connected your wallet on Etherscan?","",""
"765941287315832882","kevinriedl.eth","17/02/2022 11:29 pm","and u will need to put a higher amount than 0 as this is a payable function and you want to convert the matic in your case","",""
"759443905862303764","davidtuc","17/02/2022 11:43 pm","yes sure, I'm connected.   Regarding the higher amount of MATIC, I'm not sure since I want to swap from DAI to WETH, and I have Approved DAI too.","",""
"765941287315832882","kevinriedl.eth","18/02/2022 1:13 am","ah ok you are right didn't check your token addresses","",""
"765941287315832882","kevinriedl.eth","18/02/2022 1:14 am","and in Metamask you have opened the corresponding wallet/account which is connected?","",""
"765941287315832882","kevinriedl.eth","18/02/2022 1:14 am","otherwise you will receive this exact error","",""
"759443905862303764","davidtuc","18/02/2022 1:52 am","Wohoo I managed to make it work, you must write something like:  {""tokenIn"":""0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"",""tokenOut"":""0x7ceb23fd6bc0add59e62ac25578270cff1b9f619"",""fee"":3000,""recipient"":""0x387...cfb"",""deadline"":1645118879,""amountIn"":""100000000000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0} ....... and payableAmount = 0 MATIC in my case.  üòâ","",""
"765941287315832882","kevinriedl.eth","18/02/2022 2:31 am","nice!","",""
"765941287315832882","kevinriedl.eth","18/02/2022 2:32 am","still not working for me 
```{""tokenIn"":""0xc778417e063141139fce010982780140aa0cd5ab"",""tokenOut"":""0x968F...40274"",""fee"":10000,""recipient"":""0x659e0...4b8335"",""deadline"":1647546835,""amountIn"":""500000000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}
```","",""
"765941287315832882","kevinriedl.eth","18/02/2022 2:43 am","also not working: 
```{""tokenIn"":""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"",""tokenOut"":""0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"",""fee"":10000,""recipient"":""0x65..335"",""deadline"":1645133235,""amountIn"":""50000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}```","",""
"759443905862303764","davidtuc","18/02/2022 4:47 am","I found something weird, I'm seeing that the ""deadline"" is not present in the final transaction sent to the blockchain ... eh what!!?? ... so, please repeat your transactions without it.   In my case also my C# app started to work !! so that means that we cannot include deadline in our transactions ?? this has gotten serious, we need some Uniswap guru here","",""
"759443905862303764","davidtuc","18/02/2022 4:47 am","","https://cdn.discordapp.com/attachments/823968973753810945/944009678327795802/exact.png",""
"759443905862303764","davidtuc","18/02/2022 5:20 am","Taking a look at the smart contract I can confirm that ""deadline"" is not in the struct üò¶ .... so someone forgot something ?? haha or may be the help page is wrong: https://docs.uniswap.org/protocol/reference/periphery/interfaces/ISwapRouter    .... anyway, bad news, since this is a super important parameter ... again üò¶","https://cdn.discordapp.com/attachments/823968973753810945/944018112859209758/struct.png",""
"471357824299958273","crypto_rachel","18/02/2022 6:06 am","thats interesting that new router doesn't have the deadline in that parameters. I had to go double check, The UI makes use of multi calls so deadline is suggested to use, but that routers deadline would go in a different call probably
You had figured it out earlier, so I didn't post this but you have it correct
```{""tokenIn"":""selling"",""tokenOut"":""receiving"",""fee"":""poolFee,""recipient"":""toAddress"",""deadline"":""futureDeadline"",""amountIn"":""sellingAmount"",""amountOutMinimum"":""minimumOutSlippage"",""sqrtPriceLimitX96"":0}```
This would work for the old router which is what I thought you were calling
old V3 router `0xE592427A0AEce92De3Edee1F18E0157C05861564`
new V3/V2 router `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45`
in the new router you should only have to remove deadline, but Use High gas and priority to assure it goes through, or do with a multicall
for the quantity it's dealt with as big number so if amount Quoted
{""tokenIn"":""0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72"",""tokenOut"":""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"",""fee"":""3000"",""recipient"":""0xeCf3...8e13"",""deadline"":""1645199902"",""amountIn"":""10000000000000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}
Now you need to verify all conditions of pool, verify pool fee tier created and not at a bad price or little to no LQ","",""
"759443905862303764","davidtuc","18/02/2022 6:21 am","Thank you for clarifying some things. I saw that there is a multicall with deadline, so I suppose I could make use of it just sending my exactInputSingle data though it ? ... do you have any examples of what should be sent in the ""data (bytes[])"" ?","",""
"759443905862303764","davidtuc","18/02/2022 6:21 am","thanks!","https://cdn.discordapp.com/attachments/823968973753810945/944033325138460743/multi.png",""
"471357824299958273","crypto_rachel","18/02/2022 6:21 am","which contract are you actually trying to call","",""
"759443905862303764","davidtuc","18/02/2022 6:22 am","0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45","",""
"471357824299958273","crypto_rachel","18/02/2022 6:22 am","ok then yeah you would have to pre encode that to bytes if calling from etherscan","",""
"759443905862303764","davidtuc","18/02/2022 6:23 am","","https://cdn.discordapp.com/attachments/823968973753810945/944033905416220702/seg.png",""
"759443905862303764","davidtuc","18/02/2022 6:24 am","I should send just all that ?","",""
"471357824299958273","crypto_rachel","18/02/2022 6:24 am","```
0xac9650d8 multicall
0000000000000000000000000000000000000000000000000000000000000020
0000000000000000000000000000000000000000000000000000000000000002
0000000000000000000000000000000000000000000000000000000000000040
0000000000000000000000000000000000000000000000000000000000000180
0000000000000000000000000000000000000000000000000000000000000104
414bf389  exactInputSingle
000000000000000000000000c18360217d8f7ab5e7c516566761ea12ce7f9d72
000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
0000000000000000000000000000000000000000000000000000000000000bb8
0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000620eb4d2
0000000000000000000000000000000000000000000000000de0b6b3a7640000
000000000000000000000000000000000000000000000000000f89bbce2922d7
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000044
49404b7c unwrap weth
000000000000000000000000000000000000000000000000000f89bbce2922d7
000000000000000000000000return address
00000000000000000000000000000000000000000000000000000000
```","","üòç (1)"
"471357824299958273","crypto_rachel","18/02/2022 6:24 am","no","",""
"471357824299958273","crypto_rachel","18/02/2022 6:25 am","you would need the multicall  setup","",""
"759443905862303764","davidtuc","18/02/2022 6:26 am","oh yes!,  I think I undestand .... do you have some help about that ? ... so I cannot find that in uniswap webpage","",""
"471357824299958273","crypto_rachel","18/02/2022 6:26 am","I just grabbed this from UI so it has the unwrap","",""
"471357824299958273","crypto_rachel","18/02/2022 6:27 am","if not doing unwrap ensure recipient is in exact In","",""
"471357824299958273","crypto_rachel","18/02/2022 6:27 am","the multi call chunk defines where the data lays though also","",""
"759443905862303764","davidtuc","18/02/2022 6:29 am","amazing ! thank you for your help !  I will try to make it work","",""
"471357824299958273","crypto_rachel","18/02/2022 6:31 am","strike that mine is going through the old router","","üëç (1)"
"759443905862303764","davidtuc","18/02/2022 6:33 am","do you know where I could find more info about what this means ? :p","https://cdn.discordapp.com/attachments/823968973753810945/944036287227248650/gg.png",""
"471357824299958273","crypto_rachel","18/02/2022 6:38 am","that's a tough one it's the placement in the array
prolly in here somewhere https://docs.soliditylang.org/en/v0.5.3/types.html","","üëç (1)"
"471357824299958273","crypto_rachel","18/02/2022 6:38 am","{""tokenIn"":""0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72"",""tokenOut"":""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"",""fee"":3000,""recipient"":""0xeCf3...c8e13"",""amountIn"":""1000000000000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}","",""
"471357824299958273","crypto_rachel","18/02/2022 6:39 am","works for me on the new router","",""
"759443905862303764","davidtuc","18/02/2022 6:42 am","yes that works, but without deadline.  I will try to make use of multicall + deadline param  üòâ","",""
"471357824299958273","crypto_rachel","18/02/2022 6:46 am","yeah, deadline is really only about getting it before to much can change. Gas price matters more
but if doing for production I understand","","üòç (1)"
"759443905862303764","davidtuc","18/02/2022 6:47 am","excellent,  thank you for all!","",""
"471357824299958273","crypto_rachel","18/02/2022 6:49 am","np","",""
"697632121560498227","olivia_#9242","18/02/2022 9:15 am","does anyone knows how much usdc this acctually is ?? `const token0Balance = CurrencyAmount.fromRawAmount(USDC, '5000000000')`","",""
"697632121560498227","olivia_#9242","18/02/2022 9:30 am","@Crypto_Rachel do you happen to know how to interpret `CurrencyAmount.fromRawAmount(USDC, '5000000000')`?            from my testing it is not actually that big of a number is instead very small but not sure how to interpret and the source code does not explain it either....","",""
"506803734366388225","doc_product","18/02/2022 12:19 pm","Hi, all. Anyone want to take a guess at why I'm getting about six orders of magnitude less assets into this v3 range order than I expect?

I have 131649619 USDC and 43193860240149417 WETH in the account (USDC has six decimals, the WETH number here is wei, so 18 decimals)

When I create a Position with `Position.fromAmounts()`, `position.mintAmounts.amount1.toString()` comes out as only 1. `position.mintAmounts.amount0.toString()` is the full USDC amount as expected.","https://cdn.discordapp.com/attachments/823968973753810945/944123435976626176/addLiquidity.txt",""
"506803734366388225","doc_product","18/02/2022 12:21 pm","Isn't it 5K USDC? USDC has 6 decimals. So just knock six zeroes off.","",""
"471357824299958273","crypto_rachel","18/02/2022 12:30 pm","please don't randomly ping people for questions. Devs are busy.
that i'm not sure where that function comes from. it's likely from etherjs or uniswap package, and likely changing an amount from it's base decimals to a human readable number
so if that's the case `5000000000` then thats 5000 usdc. But not knowing the package I can't say","",""
"471357824299958273","crypto_rachel","18/02/2022 12:36 pm","I don't really have time to go into ranges, but your range Highly affects the amount of each token required based off of the amount of one
that function is likely taking the USDC (probably token0) and using that amount to base the range requirement for the WETH","",""
"471357824299958273","crypto_rachel","18/02/2022 12:38 pm","I would verify your range","https://cdn.discordapp.com/attachments/823968973753810945/944128234541436938/unknown.png",""
"506803734366388225","doc_product","18/02/2022 1:31 pm","Thanks. I should have mentioned that my min and max prices are chosen such that the current price in the pool is right in the middle (give or take a bit given the tick spacing). So I expect to use equal values of each token, more or less.","",""
"765941287315832882","kevinriedl.eth","18/02/2022 6:06 pm","Ok so we have to use `0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45` ? And here without deadline for sure because it isn't in the struct","","üëç (1)"
"765941287315832882","kevinriedl.eth","18/02/2022 6:06 pm","?","",""
"765941287315832882","kevinriedl.eth","18/02/2022 6:11 pm","Btw can we also use v2 pools by calling the v3 methods? Is the call delegated?","",""
"856056142315388949","0xalfalfa#1646","18/02/2022 7:20 pm","Hi! I'm trying to batch fetch V3 prices with this solidity code:

```    function UniSwapV3QuoterQuoteExactInputSingle(address quoter, address[] calldata tokenIn, address[] calldata  tokenOut, uint24[] calldata  fee, uint256[] calldata  amountIn, uint160[] calldata  sqrtPriceLimitX96) public view returns (uint256[] memory) {
        uint256[] memory result = new uint256[](tokenIn.length);
        for (uint i = 0; i < tokenIn.length; i++) {
            try
            IUniswapV3Quoter(quoter).quoteExactInputSingle(tokenIn[i], tokenOut[i], fee[i], amountIn[i], sqrtPriceLimitX96[i]) returns (uint256 amountOut)
            { result[i] = amountOut; }
            catch {
                result[i] = 42;
            }
        }
        return result;
    }
```

Whatever I pass into this contract function I get 42, so the call to quoter.quoteExactInputSingle always fails. This includes parameters that work fine when directly (not from another contract) calling Quoter.quoteExactInputSingle. 
Any ideas why this does not work? Since this is a call only and no tx, it's a pain to debug...","",""
"759443905862303764","davidtuc","18/02/2022 11:11 pm","Exactly .. no deadline if you use V3","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:19 pm","hmm tried it again with
```['0xc778417e063141139fce010982780140aa0cd5ab','0x968F...74',10000,'0x659..b8335','976380462363368',0,0]```

Token with V3 liquidity","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:19 pm","still an error","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:19 pm","no deadline + the v3 router ending with `c45`","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:25 pm","and 100% enough liquidity","",""
"759443905862303764","davidtuc","18/02/2022 11:27 pm","Take a look at the contract source code and be sure that you have ""IV3SwapRouter.sol"" and ExactInputSingleParams with or without Deadline","https://cdn.discordapp.com/attachments/823968973753810945/944291661683507240/v3.png",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:28 pm","```{""tokenIn"":""0xc778417e063141139fce010982780140aa0cd5ab"",""tokenOut"":""0x968..274"",""fee"":10000,""recipient"":""0x659..b8335"",""amountIn"":""976380462363368"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}```

Also doesnt work","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:28 pm","without deadline","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:28 pm","https://ropsten.etherscan.io/address/0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45#code","",""
"765941287315832882","kevinriedl.eth","18/02/2022 11:28 pm","using that one","",""
"759443905862303764","davidtuc","18/02/2022 11:49 pm","Are you sure Uniswap V3 is fully usable on Ropsten, I'm working with exactInputSingle on Polygon with no problems (via contract write as I mention before and C# app)","",""
"759443905862303764","davidtuc","18/02/2022 11:50 pm","I just tried to swap from WETH to DAI on Ropsten and it failed üò¶","",""
"856056142315388949","0xalfalfa#1646","18/02/2022 11:52 pm","Try UNI and WETH, this just worked for me:
```
        tokenIn=[""0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984"",]    #UNI
        tokenOut=[""0xc778417E063141139Fce010982780140Aa0cD5Ab"",]   #WETH
        fee=[3000,]
        amountIn=[10000,]
        sqrtPriceLimitX96=[0,]
````","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:16 am","confused as well. But regularly swapping via Uniswap testnet on Ropsten works.","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:16 am","so seems like it does work","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:18 am","how is that supposed to work on Etherscan?","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:18 am","doesn't seem to be right syntactically","",""
"471357824299958273","crypto_rachel","19/02/2022 12:21 am","Give my conversation here a read real quick
https://discord.com/channels/597638925346930701/823968973753810945/944029587086655528","",""
"856056142315388949","0xalfalfa#1646","19/02/2022 12:22 am","I wasn't aware you are using Etherscan.","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:25 am","also getting an error with that solution: 

```{""tokenIn"":""0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72"",""tokenOut"":""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"",""fee"":""3000"",""recipient"":""0x65..335"",""deadline"":""1645199902"",""amountIn"":""10000000000000000000"",""amountOutMinimum"":0,""sqrtPriceLimitX96"":0}```","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:25 am","doesn't seem to work. With and without deadline","",""
"471357824299958273","crypto_rachel","19/02/2022 12:28 am","You would need to verify that your approved for the `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45` contract to spend the tokenIn, that the pool exists for that fee teir, and that the liquidity exists
also this is an address `0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72` on ropsten not a token","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:28 am","ok yeah but I used the exact same query with WETH and a token having v3 liquidity.","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:28 am","and it didn't work","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:29 am","For WETH I usually don't need to approve the contract right? Because I want to swap ETH","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:30 am","here","",""
"471357824299958273","crypto_rachel","19/02/2022 12:33 am","for a direct call to a single function you would have to have token or weth approved to be spent by the V3V2 contract","",""
"317510894554841088","aprimadi#9790","19/02/2022 12:33 am","How to wrap / unwrap eth in uniswap v3?","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:36 am","ok so basically for a singleSwap without multicall, I would need to: 

1. Deposit Eth on the WETH contract 
2. Approve the Uniswap V3 Router on the WETH contract
3. Then I can execute the swap","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:36 am","Is that correct?","",""
"471357824299958273","crypto_rachel","19/02/2022 12:39 am","actually scratch that I forgot that the pay method does the wrap, so you should be able to.","",""
"765941287315832882","kevinriedl.eth","19/02/2022 12:40 am","thought so, but still thank you! 
Tried it with the approve + wrap as well and didn't work either","",""
"471357824299958273","crypto_rachel","19/02/2022 1:25 am","I think something may be happening with etherscan and that function. It's not accounting for the ETH input
when you put a payable ETH amount in the 1st box this should populate with that amount in the wallet","https://cdn.discordapp.com/attachments/823968973753810945/944321193287221309/unknown.png",""
"765941287315832882","kevinriedl.eth","19/02/2022 3:25 am","this also looks a bit weird","https://cdn.discordapp.com/attachments/823968973753810945/944351326425448468/unknown.png",""
"913128618367000577","jude#6067","19/02/2022 3:30 am","Were you able to solve this issue.

I am also facing the same issue.

I read the uniswapv2  router contract.  It seems why it is failing is because we need to first transfer the tokenIn to the address of uniswapv3 pool. But now I am wondering how the pool will know someone that transferred tokens to it","",""
"913128618367000577","jude#6067","19/02/2022 3:33 am","In uniswapv2 router we have

function swapExactTokensForTokens( uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline ) external override ensure(deadline) returns (uint[] memory amounts) { amounts = UniswapV2Library.getAmountsOut(factory, amountIn, path); require(amounts[amounts.length - 1] >= amountOutMin, 'UniswapV2Router: INSUFFICIENT_OUTPUT_AMOUNT'); TransferHelper.safeTransferFrom(path[0], msg.sender, UniswapV2Library.pairFor(factory, path[0], path[1]), amounts[0]); _swap(amounts, path, to); }


Pay attention to this line
 TransferHelper.safeTransferFrom(path[0], msg.sender, UniswapV2Library.pairFor(factory, path[0], path[1]), amounts[0]);

It transfer tokenIn to the pair contract","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 3:33 pm","","https://cdn.discordapp.com/attachments/823968973753810945/944534539991138354/unknown.png",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 3:33 pm","i keep failing trying to add liqudity on v3","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 3:33 pm","0xd452eeadad9ebd96e51e7ae745e53eeda8942344a9cee55eb9cb70fcf13ac3e7","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 3:33 pm","it's on ropsten","",""
"759443905862303764","davidtuc","19/02/2022 6:09 pm","I think you made the same mistake as me, you are sending deadline but exactInputSingle doesn't support it in Uniswap V3","https://cdn.discordapp.com/attachments/823968973753810945/944573907950764122/dfd.png",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:17 pm","","https://cdn.discordapp.com/attachments/823968973753810945/944575825158742066/unknown.png",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:17 pm","help","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:17 pm","i cant add liquidily in v3","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:17 pm","","https://cdn.discordapp.com/attachments/823968973753810945/944575944549597204/unknown.png",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:17 pm","it trace to pool.mint functin","",""
"644079235711107103","somebodytouchmyspaghetti","19/02/2022 6:18 pm","but all the parms in it seem i send correctily","",""
"765941287315832882","kevinriedl.eth","20/02/2022 3:01 am","Hi guys, I really can't understand why the exactSingleInput doesn't work, even on mainnet: 

Trying to swap ETH to SHIB via Router v3 `0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45` on mainnet

payable 0.1 ether
```['0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2','0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE',10000,'0x659..4b8335','100000000000000000',0,0]```","",""
"913128618367000577","jude#6067","20/02/2022 3:23 am","Hi. Good evening 

Do you mean I should pass this exactly like this on the etherscan

{""tokenIn"":""selling"",""tokenOut"":""receiving"",""fee"":""poolFee,""recipient"":""toAddress"",""deadline"":""futureDeadline"",""amountIn"":""sellingAmount"",""amountOutMinimum"":""minimumOutSlippage"",""sqrtPriceLimitX96"":0}

But for the new router I should remove deadline??","",""
"913128618367000577","jude#6067","20/02/2022 3:30 am","Like for the params (tuple)

I should put

{""tokenIn"":""selling"",""tokenOut"":""receiving"",""fee"":""poolFee,""recipient"":""toAddress"",""amountIn"":""sellingAmount"",""amountOutMinimum"":""minimumOutSlippage"",""sqrtPriceLimitX96"":0}


And what about payableAmount (ether)

What should I put there??","https://cdn.discordapp.com/attachments/823968973753810945/944715041373032548/Screenshot_20220219-225632_Chrome.jpg",""
"913128618367000577","jude#6067","20/02/2022 5:07 am","Ok so just doing that

And setting payableAmout (ether) to 0

Solved my problem.


And in the contract I was coding,  I removed deadline from the param and now its working fine.

Thank you","",""
"720101009447190666","colin#5769","20/02/2022 10:07 am","Hi all, good day, I am currently building a small dapp on yield farming that need to consist of the factory and staking contracts. So like to know how do we use uniswap contracts? do we implement them into our own contracts or it is recommended to use their SDK instead?

Thank you!","",""
"259646475666063360","zksoju","20/02/2022 3:37 pm","I'm also having difficulty using exactSingleInput, stack trace not helping either.","",""
"259646475666063360","zksoju","20/02/2022 3:41 pm","It's in the param struct though? https://gyazo.com/cb2cdefad16e5f5fe37bf3655fd77798","",""
"759443905862303764","davidtuc","20/02/2022 6:51 pm","No, deadline is not in the struct for UniswapV3 0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45","",""
"759443905862303764","davidtuc","20/02/2022 6:51 pm","https://media.discordapp.net/attachments/823968973753810945/944291661683507240/v3.png","",""
"259646475666063360","zksoju","20/02/2022 11:18 pm","I‚Äôll have a look thanks @DavidTuc that‚Äôs weird it showed it in the docs","",""
"259646475666063360","zksoju","21/02/2022 3:00 am","@DavidTuc It says on the v3 docs it's just ISwapRouter https://docs.uniswap.org/protocol/reference/periphery/interfaces/ISwapRouter","",""
"259646475666063360","zksoju","21/02/2022 3:02 am","Oh okay,  I see the interface for v3swaprouter in a different repo, why?","",""
"259646475666063360","zksoju","21/02/2022 3:05 am","Thanks I got it to work üëç","",""
"759443905862303764","davidtuc","21/02/2022 3:05 am","I think the documentation refers to the old V2/V3 contract, so 0x68b346... contract is new (according what I heard)","",""
"759443905862303764","davidtuc","21/02/2022 3:05 am","Amazing","",""
"259646475666063360","zksoju","21/02/2022 3:06 am","Oh gotcha, so is deadline now just default block.timestamp?","",""
"759443905862303764","davidtuc","21/02/2022 3:07 am","If you want to use deadline you must use Multicall instead of direct exactInputSingle and friends","",""
"259646475666063360","zksoju","21/02/2022 3:08 am","Ahh ok","",""
"759443905862303764","davidtuc","21/02/2022 3:28 am","Hello all, I'm trying to use exactInput function, but I'm not sure what to send in Path parameter:

struct ExactInputParams
{
    bytes path;
    address recipient;
    uint256 amountIn;
    uint256 amountOutMinimum;
}

function exactInput(ExactInputParams calldata params) external payable returns(uint256 amountOut);

In this case path is a concatenation of n * 20 bytes ? ...where n is the number of path items ?

Something like:

string dai = ""0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"";
string wmatic = ""0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"";

path = hexString2byteArray(dai) + hexString2byteArray(wmatic);","",""
"259646475666063360","zksoju","21/02/2022 3:38 am","@DavidTuc saw this example on the docs","",""
"259646475666063360","zksoju","21/02/2022 3:38 am","https://gyazo.com/32285692d48fed14607351996d72e421","",""
"471357824299958273","crypto_rachel","21/02/2022 3:57 am","no byte array needed, just build a regular array and then use the Web3 or ethers to abi encode it","",""
"759443905862303764","davidtuc","21/02/2022 3:58 am","thank you guys!","",""
"506803734366388225","doc_product","21/02/2022 6:28 am","Here are the details of my range and the current price, both in USDC and ticks (this is the ETH/USDC pool with the 0.3% fee):

current price: 2640.20 USDC
range: 2628.08 <-> 2659.81
minTick: -197580, maxTick: -197460, current tick: -197507

All looks fine to me: I'd expect nearly equal values of each asset when using `Position.fromAmounts()`.

Any other ideas?","",""
"471357824299958273","crypto_rachel","21/02/2022 6:41 am","","https://cdn.discordapp.com/attachments/823968973753810945/945125633300783164/unknown.png",""
"471357824299958273","crypto_rachel","21/02/2022 6:42 am","same ticks this range is outside of price and only allows deposit of USDC","",""
"506803734366388225","doc_product","21/02/2022 6:44 am","Sure, but that's because the price moved in between your post and mine (or you're looking at Mainnet and I'm looking at Arbitrum) or a bit of both, no?","",""
"471357824299958273","crypto_rachel","21/02/2022 6:45 am","in arb it's close to the lower bound","",""
"471357824299958273","crypto_rachel","21/02/2022 6:45 am","so it wouldn't be close to even amounts","",""
"471357824299958273","crypto_rachel","21/02/2022 6:47 am","and with such a small range its hard to track rn
but it will require different ratios based on the chosen range","",""
"471357824299958273","crypto_rachel","21/02/2022 6:48 am","even less that .6% difference +-
the ratio is a bit off","https://cdn.discordapp.com/attachments/823968973753810945/945127427519180830/unknown.png",""
"506803734366388225","doc_product","21/02/2022 6:51 am","OK I like your theory. Will do some more testing now, maybe with a wider range.","",""
"471357824299958273","crypto_rachel","21/02/2022 6:52 am","if your using the sdk, there is a function to get the ratios (i don't know much about the sdk though)","",""
"506803734366388225","doc_product","21/02/2022 6:53 am","Yeah `maxLiquidityForAmounts()`, in the v3-sdk repo.","",""
"506803734366388225","doc_product","21/02/2022 2:01 pm","Found the issue, finally. The order of the tokens in the pool is NOT consistent between Mainnet and Arbitrum. For the pool I'm working in (WETH/USDC, 0.3% fee):

      // Ethereum mainnet: USDC is first
      // Arbitrum mainnet: WETH is first

This makes it painfully easy to write code that works on Mainnet, then start testing on Arbitrum (or vice versa), then get weirdness on the mix of assets in the Position instance. The SDK doesn't force you to qualify the amount0 and amount1 figures with a symbol or Token instance, so there's no checking going on.","",""
"401842633464610837","_kfx","21/02/2022 4:47 pm","Don't assume that token ordering will be the same on all networks. The tokens with the smallest address always comes first. `if (token0 > token1) { swap(token0, token1); swap(amount0, amount1); }`","",""
"886275760174805052","stevent","22/02/2022 4:15 am","Hey guys, I heard that it is not possible to create auto compounder on top of V3 LP. Is that true?","",""
"759443905862303764","davidtuc","22/02/2022 4:58 am","Hi guys, I'm trying to implement multicall (UniswapV3 0x68b3..) doing exactInputSingle then unwrapWETH9. I don't understand what address should I put in exactInputSingle recipient field. I ran a swap test on Uniswap-App and the Input Data shows the address 0x0....02 ?? ü§Ø  thanks!","https://cdn.discordapp.com/attachments/823968973753810945/945461918213214238/mul.png",""
"259646475666063360","zksoju","22/02/2022 9:51 am","```solidity
bytes[] memory callsArr = new bytes[](1);
        callsArr[0] = abi.encodeWithSelector(
            bytes4(
                keccak256(
                    ""exactInputSingle(address,address,uint24,address,uint256,uint256,uint160)""
                )
            ),
            params
        );```  is this the right way to call multicall?","",""
"317510894554841088","aprimadi#9790","22/02/2022 10:20 pm","Hello guys, how to find out which pool fee to use? As I understand, different token pair could possibly be using different pool fee.","","üëÜ (1)"
"370646949692702732","someusername999#5885","22/02/2022 11:07 pm","It depends on what you are trying to do. For most profits pick the one with the highest fees/tvl ratio, for long term maybe pick the one with the most tvl.","",""
"759443905862303764","davidtuc","22/02/2022 11:09 pm","mm or may me he is asking regarding this? ....... 1% , 0,3%  or 0,05 %","https://cdn.discordapp.com/attachments/823968973753810945/945736652079382599/32285692d48fed14607351996d72e421-png.jpg","üíØ (2)"
"317510894554841088","aprimadi#9790","22/02/2022 11:55 pm","Yes I'm asking about the pool fee like @DavidTuc said","",""
"317510894554841088","aprimadi#9790","22/02/2022 11:55 pm","Not sure if I should use 1%, 0.3% or 0.05%","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:11 am","Hello guys, I got transaction too old error? Any idea what might cause this?","https://cdn.discordapp.com/attachments/823968973753810945/945752208346071040/Screen_Shot_2022-02-23_at_01.40.50.png",""
"759443905862303764","davidtuc","23/02/2022 12:19 am","Yes, I'm wondering the same","",""
"759443905862303764","davidtuc","23/02/2022 12:20 am","Are you using multicall with deadline? ... so may be deadline is wrong. Just check it using unix timestamp","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:22 am","Ok thank you","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:22 am","I'm using ExactInputSingle","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:24 am","I passed in block.timestamp as the deadline (using ether js)
```
const blockNo = await provider.getBlockNumber()
const block = await provider.getBlock(blockNo)
const deadline = block.timestamp
```","",""
"759443905862303764","davidtuc","23/02/2022 12:32 am","But you have to add some minutes in the future, not only block timestamp","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:33 am","I try that also still failing","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:33 am","I try this code:
```
const deadline = block.timestamp + 1000000
```","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:33 am","Try it with 15 also","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:36 am","Nvm, you're right","",""
"317510894554841088","aprimadi#9790","23/02/2022 12:36 am","I just realize that the error is different when I do that, it just said fail","",""
"759443905862303764","davidtuc","23/02/2022 12:39 am","üëç","",""
"759443905862303764","davidtuc","23/02/2022 2:14 am","Lets keep this question alive üëÜ  regarding pair fees","",""
"259646475666063360","zksoju","23/02/2022 2:20 am","What's the specific question with this?","",""
"259646475666063360","zksoju","23/02/2022 2:21 am","On testnets there's either no pool or 0 liquidity for some of these fees, just got to find the working one.","",""
"259646475666063360","zksoju","23/02/2022 2:21 am","This answer for production","",""
"259646475666063360","zksoju","23/02/2022 2:22 am","You'll get a SL something error if there's not enough liquidity","",""
"259646475666063360","zksoju","23/02/2022 2:23 am","and no label revert for non existent pools","",""
"759443905862303764","davidtuc","23/02/2022 2:37 am","The question here is, which is the correct fee to apply for each pair in the swap path ?","https://cdn.discordapp.com/attachments/823968973753810945/945789007290318878/32285692d48fed14607351996d72e421-png.jpg",""
"259646475666063360","zksoju","23/02/2022 2:38 am","3000 = 0.3%","",""
"259646475666063360","zksoju","23/02/2022 2:38 am","10000 = 1%","",""
"259646475666063360","zksoju","23/02/2022 2:39 am","Unless you had a diff question","",""
"759443905862303764","davidtuc","23/02/2022 2:40 am","yes, but how to know which is the correct one?  for example I found this case:  Dai - 0,05 - Usdc - 0,3 - Mana .... so what is the logic ?","",""
"259646475666063360","zksoju","23/02/2022 2:42 am","If you‚Äôre on test net, just whichever has liquidity will work","",""
"259646475666063360","zksoju","23/02/2022 2:42 am","Some pools are just non existent I think","",""
"259646475666063360","zksoju","23/02/2022 2:42 am","I would also like to know where to check though","",""
"259646475666063360","zksoju","23/02/2022 2:43 am","Had to test to get the WETH > DAI > UNI path","",""
"259646475666063360","zksoju","23/02/2022 2:43 am","3%","",""
"759443905862303764","davidtuc","23/02/2022 2:43 am","yes, I took my example from prod., specifically Polygon (contact UniV3 0x68b34...)","",""
"913128618367000577","jude#6067","23/02/2022 4:08 pm","Hi I'm trying to use exactInput for a multihop swap","",""
"913128618367000577","jude#6067","23/02/2022 4:10 pm","I encoded the path like this

path: abi.encodePacked(USDT, poolFee, WETH, poolFee, PROFIT)

According to uniswap documentation 

But when I try to swap directly from the router contract it says ""Exception thrown in contract code""","",""
"913128618367000577","jude#6067","23/02/2022 4:10 pm","","https://cdn.discordapp.com/attachments/823968973753810945/945993639572668446/IMG_20220223_114043_475.png",""
"913128618367000577","jude#6067","23/02/2022 4:11 pm","","https://cdn.discordapp.com/attachments/823968973753810945/945993878207602698/IMG_20220223_114144_920.png",""
"913128618367000577","jude#6067","23/02/2022 4:12 pm","This is the encoded path plus other params


{
    ""path"": ""0x07865c6e87b9f70255377e024ace6630c1eaa37f0000000000000000000000000000000000000000000000000000000000000bb8c778417e063141139fce010982780140aa0cd5ab0000000000000000000000000000000000000000000000000000000000000bb829e4d6c08e3ad060dc2fc8dce70aab8c8c57563f"",
    ""recipient"": ""myAddress"",
    ""amountIn"": ""50000000"",
    ""amountOutMinimum"": ""0""
}


Can someone help me figure out the problem pls. Thanks","",""
"759443905862303764","davidtuc","23/02/2022 6:08 pm","Hi, path must be encoded as follows:","https://cdn.discordapp.com/attachments/823968973753810945/946023237584830524/exact.png",""
"727696548464558142","vedant88","24/02/2022 4:36 pm","Hello All,
We are looking to integrate Uniswap V3 pools data in our website via using Uniswap V3 Smart Contracts Interfaces. 
For that I need to fetch list of all the pools addresses stored in the Uniswap V3 Factory.
But unlike uniswap V2 , where there was a function ""function allPairs(uint) external view returns (address pair);"" which returns addresses of all the available pools, I cannot find similar function in the V3 version.
Is there a way I can fetch list of all the available pools in Uniswap V3 via using smart contract interfaces,if so via which functions?
Though , I did find one function , at ""https://github.com/Uniswap/v3-core/blob/main/contracts/interfaces/IUniswapV3Factory.sol#L48"" , ""getPool"" in ""IUniswapV3Factory.sol"" , function getPool( address tokenA, address tokenB , uint24 fee) external view returns (address pool); but ,here how would I come to know what I should put in fees field ?
Much thanks for guiding in advance.","","üëÜ (1)"
"811942194952929342","aravindh k#7607","24/02/2022 5:23 pm","Anyone can please explain this variable sqrtPriceX96?

I'm just using ropsten testnet. I just deployed two stable coins in testnet. Eg (DAI, USDT) 

And then I'm going to add this pair in uniswap3. i was using this function createAndInitializePoolIfNecessary() in nftPosition contract.

I have very clear about the three parms. which is (address token0, address token1, uint24 fee).  and last params is sqrtPriceX96.

What is the exact value I need to send?

please give me some example calculations. Both token prices is 1 USD.","",""
"317510894554841088","aprimadi#9790","26/02/2022 1:31 pm","Hello, is it possible to swap ether directly to other token?","",""
"317510894554841088","aprimadi#9790","26/02/2022 1:31 pm","Or do I need to wrap it first into weth before swapping?","",""
"926887934001561660","ec58#2087","27/02/2022 11:11 am","Hi, you can swap it directly","",""
"317510894554841088","aprimadi#9790","27/02/2022 11:49 am","@ec58 what do I pass as tokenIn parameter? 0x000...?","",""
"259646475666063360","zksoju","27/02/2022 1:53 pm","@aprimadi pretty sure you need to wrap or use iweth which is essentially same thing","",""
"748890201006407813","crisalgi#4404","27/02/2022 10:06 pm","I have the same issue, it is supposed to use the weth token address as token_input, but the swap doesnt work...","",""
"467641354831396864","oxdog.ethüè¥#9626","28/02/2022 2:38 am","hi there! I would like to calculate the token output amount on a certain input amount. Can someone please point out to me if this is correct?","",""
"467641354831396864","oxdog.ethüè¥#9626","28/02/2022 2:38 am","// How many token1 you get for token0
    function uGetAmountOutToken1(uint256 sqrtRatioX96, uint256 token0amountIn)
        public
        pure
        returns (uint256)
    {
        // sqrtPriceX96 = sqrt(price) * 2 ** 96
        // price = sqrtRatioX96 ** 2 / 2 ** 192

        return (token0amountIn * sqrtRatioX96**2) / 2**192;
    }","",""
"467641354831396864","oxdog.ethüè¥#9626","28/02/2022 2:39 am","It is a v3 pool. I have it setup in a local environment. The actual swap is slightly off than calculated (about 0,002ETH)","",""
"467641354831396864","oxdog.ethüè¥#9626","28/02/2022 2:39 am","Would be very happy if you can help me out!:)","",""
"471357824299958273","crypto_rachel","28/02/2022 3:06 am","Eth is sent as payment the WETH address is used in path","",""
"471357824299958273","crypto_rachel","28/02/2022 3:10 am","Its best to use the quoter `0x61fFE014bA17989E743c5F6cB21bF9697530B21e` to get the exact amount for a swap. But calling it and reading the bytes returned ¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø

here is how to get the price from the sqrtPriceX96
but it doesn't take into account liquidity and liquidity at ticks, so no means is it good to use without more
https://discord.com/channels/597638925346930701/607978109089611786/943374038162616370","",""
"748890201006407813","crisalgi#4404","28/02/2022 4:30 am","what address should I use if I want to swap from ETH","",""
"748890201006407813","crisalgi#4404","28/02/2022 5:52 am","```
ISwapRouter.ExactOutputSingleParams memory params =
            ISwapRouter.ExactOutputSingleParams({
                tokenIn: TOKEN_IN,
                tokenOut: TOKEN_OUT,
                fee: poolFee,
                recipient: msg.sender,
                deadline: block.timestamp,
                amountOut: amountOut,
                amountInMaximum: amountInMaximum,
                sqrtPriceLimitX96: 0
            });

        // Executes the swap returning the amountIn needed to spend to receive the desired amountOut.
        amountIn = swapRouter.exactOutputSingle(params);
```
What would be TOKEN_IN if I want to swap native ETH","",""
"506803734366388225","doc_product","28/02/2022 7:07 am","Can anyone tell me why this tx failed?

https://arbiscan.io/tx/0x67bd4311c61359b1ce26c15c2ce06e28bcbc54d3a4eff503b9498e0a8c9d0483

Arbiscan UI simply says ""Status: Fail"". Here's the decoded input data:

#    Name    Type    Data
0    data    bytes[]    0x0c49ccbe0000000000000000000000000000000000000000000000000000000000008b0f0000000000000000000000000000000000000000000000000002b9ec127f0e2a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000621c245a
Function: decreaseLiquidity((uint256,uint128,uint256,uint256,uint256))
#    Name    Type    Data
0    params.tokenId    uint256    35599
0    params.liquidity    uint128    767373527158314
0    params.amount0Min    uint256    0
0    params.amount1Min    uint256    0
0    params.deadline    uint256    1646011482

0xfc6f78650000000000000000000000000000000000000000000000000000000000008b0f0000000000000000000000001ee071ec8ad0768256ab32c8ba61d99a39ef84a400000000000000000000000000000000ffffffffffffffffffffffffffffffff00000000000000000000000000000000ffffffffffffffffffffffffffffffff
Function: collect((uint256,address,uint128,uint128))
#    Name    Type    Data
0    params.tokenId    uint256    35599
0    params.recipient    address    0x1EE071ec8aD0768256Ab32c8bA61d99A39ef84a4
0    params.amount0Max    uint128    340282366920938463463374607431768211455
0    params.amount1Max    uint128    340282366920938463463374607431768211455","",""
"471357824299958273","crypto_rachel","28/02/2022 9:27 am","where are you getting your liquidity from, you should just call slot0.liquidity","",""
"506803734366388225","doc_product","28/02/2022 12:07 pm","I'm getting it from here:

`      const removeLiquidityOptions: RemoveLiquidityOptions = {
        tokenId: this.tokenId,
        liquidityPercentage: new Percent(1), // All of our liquidity
        slippageTolerance: CHAIN_CONFIG.slippageTolerance,
        deadline: moment().unix() + DEADLINE_SECONDS,
        collectOptions: collectOptions
      }
  
      const {calldata, value} = NonfungiblePositionManager.removeCallParameters(this.position,
        removeLiquidityOptions)`

I just want to remove all of my liquidity. Anything wrong with the above?","",""
"471357824299958273","crypto_rachel","28/02/2022 1:13 pm","I don't really know what the sdk is doing with the params
but
liquidityPercentage seems like it should be liquidity, and the slippage tolerance would be a percent for slippage  ¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø
in the end
That tx didn't have the correct liquidity, it was more than you have and slippage was 100%","",""
"506803734366388225","doc_product","28/02/2022 2:17 pm","But your own docs say ""liquidityPercentage represents the amount of liquidity to remove. Adjust this parameter based on how much liquidity you want to remove. Set it to Percent(1) to remove all liquidity."". Here: https://docs.uniswap.org/sdk/guides/liquidity/removing.","",""
"471357824299958273","crypto_rachel","28/02/2022 2:22 pm","not my docs üòÑ","",""
"506803734366388225","doc_product","28/02/2022 2:23 pm","Sorry, was assuming you work for Uniswap!","",""
"471357824299958273","crypto_rachel","28/02/2022 2:24 pm","well in the end your liquidity was to high (more than you had) and the slippage was 100%","",""
"506803734366388225","doc_product","28/02/2022 2:26 pm","I see the params.liquidity in the decoded call params, but where do you see the slippage?","",""
"471357824299958273","crypto_rachel","28/02/2022 2:43 pm","slippage is harder as you would have to calculate the amount out of each token then subtract a percentage for slippage","",""
"506803734366388225","doc_product","28/02/2022 2:50 pm","I see, thanks. Perhaps there's something funny going on here:

https://github.com/Uniswap/v3-sdk/blob/main/src/nonfungiblePositionManager.ts#L350

I'm tempted to stop using `NonfungiblePositionManager.removeCallParameters()` and just build the calldata up myself. The params look straightforward.","",""
"471357824299958273","crypto_rachel","28/02/2022 2:58 pm","try just passing 1 for both the LQp and slippageP","",""
"471357824299958273","crypto_rachel","28/02/2022 2:59 pm","or maybe only as the LiquidiyP","",""
"471357824299958273","crypto_rachel","28/02/2022 2:59 pm","about to crash though, best of luck","","üôè (1)"
"179972866564030464","rz5859","28/02/2022 4:46 pm","Let's say we have two LPs: one stakes without a price range (0, infinity) the other stakes for a range (100, 200), the current price being 150. What formula does one use to calculate the stake of the first LP compared to the stake of the second LP in the second LP's price range?","",""
"179972866564030464","rz5859","28/02/2022 5:16 pm","Or more specifically, how does one calculate the stake of two LPs with different position price ranges when a swap is executed?","",""
"415196182806003712","marczeller","28/02/2022 6:46 pm","Henlo, I'm trying to build a custom pool on v3 polygon mainnet for testing, the UI doesn't recognize my second asset, is there some form of curation happening on the frontend app? should I just interract with the contracts?","",""
"415196182806003712","marczeller","28/02/2022 6:48 pm","is this the right channel or should I ask in #ü§ù‚îÇliquidity-providers ?","",""
"399541098227433472","mugiwara6991","01/03/2022 7:25 pm","How do you implement a liquidity mining campaign on Uni V3? links or services would be appreciated.","",""
"888457089771511868","JBar6984#3363","01/03/2022 9:42 pm","Android Log Files (User ID: 35508202)","",""
"888457089771511868","JBar6984#3363","01/03/2022 10:37 pm","Android Log Files (User ID: 35508202)","",""
"713343254657105960","hiennguyen#3523","03/03/2022 11:57 am","Hi all,‚Ä® I am interacting with Uniswap V3, but I don't know how to calculate the price impact of the swap. Can you help me? Thank you.","",""
"843155325619535912","Etherscan Bot#5753","03/03/2022 1:13 pm","<https://etherscan.io/address/0x64D9a103f9a759a54483736fE39BB5Df364a1853>","",""
"471357824299958273","crypto_rachel","03/03/2022 1:16 pm","@Jrapture no begging","",""
"204627801561628672","meriadoc1209","04/03/2022 1:51 am","https://github.com/Uniswap/sdk-core/blob/main/src/utils/computePriceImpact.ts","",""
"204627801561628672","meriadoc1209","04/03/2022 1:56 am","Hello all, I am working with the LiquidityMath library and it is reverting in unexpected places. When I call LiquidityAmounts.getAmountsForLiquidity with the following values:
SqrtRatioX96: 7.922816251426434e+28
sqrtRatioAX96: 7.922816251426434e+28
sqrtRatioBX96: 7.946619196619765e+28
Liquidity: 3.3385024970969944e+22

All of these values are taken directly from other sources. sqrtRatioX96 is taken from slot0, sqrtRatioA and B are taken from the TickMath library for ticks 0 and 60, respectively, and liquidity is taken from the pool. The only change I have made to the library is replacing 
 uint256 twos = -denominator & denominator; with
uint256 twos = (type(uint256).max - denominator + 1) & denominator;

due to compiler constraints. Could anyone tell me what I am doing wrong?","",""
"913128618367000577","jude#6067","04/03/2022 8:02 am","Hi.

How is the price gotten in uniswap v3 

Is it still

price(token x) = reserve of token Y / reserve of token X

¬†price(x) = y/x¬†

?","",""
"204627801561628672","meriadoc1209","04/03/2022 8:48 am","No, Uniswap slot0 will get you the sqrtPriceX96, which equals sqrt(price) * 2^96","",""
"204627801561628672","meriadoc1209","04/03/2022 8:48 am","y/x doesn't work for v3","",""
"471357824299958273","crypto_rachel","04/03/2022 10:59 am","https://discord.com/channels/597638925346930701/607978109089611786/943374038162616370","",""
"843155325619535912","Etherscan Bot#5753","04/03/2022 10:59 am","","",""
"913128618367000577","jude#6067","04/03/2022 3:22 pm","Ok.

I fetched slot0 for pool of WETH/DAI  on ropsten

dai : `0xaD6D458402F60fD3Bd25163575031ACDce07538D`

weth: `0xc778417E063141139Fce010982780140Aa0cD5Ab`

poolFee: 3000

slot0() returned :

{
  ""0"": ""uint160: sqrtPriceX96 3902883614695164293775330072"",
  ""1"": ""int24: tick -60216"",
  ""2"": ""uint16: observationIndex 15"",
  ""3"": ""uint16: observationCardinality 20"",
  ""4"": ""uint16: observationCardinalityNext 20"",
  ""5"": ""uint8: feeProtocol 0"",
  ""6"": ""bool: unlocked true""
}


The SqrtPriceX96 is:

 uint160: sqrtPriceX96 3902883614695164293775330072


I noticed this number is bigger than 18 decimals.

How to I convert sqrtPriceX96 to the real price??","",""
"913128618367000577","jude#6067","04/03/2022 3:42 pm","Okay so I did

Price = (sqrtPriceX96 / 2^96) **2


And it gave me 0.0024

And on Uniswap ropsten 

1 WETH = 410 DAI 

So 1 DAI = 1/410 WETH = 0.0024 WETH


The calculation is correct.

Thank you","",""
"799181613840728065","rcpico","04/03/2022 8:46 pm","Hello sirs
I'm trying to use AlphaRouter from Uniswap SDK to get a path to use with V3 ExactInput
I've followed https://docs.uniswap.org/sdk/guides/auto-router, however the returned Route object is not very convenient to use to extract a raw path for ExactInput","",""
"799181613840728065","rcpico","04/03/2022 8:47 pm","I need something in the format `token1, percent1/2, token2, percent2/3, token3`","",""
"799181613840728065","rcpico","04/03/2022 8:48 pm","But the Router object doesn't provide this directly
Worse, it provides calldata for a multicall function, despite my request for a `TradeType.EXACT_INPUT`","",""
"799181613840728065","rcpico","04/03/2022 11:08 pm","ok, found the percent for every pool in route.route[i].route.pools","",""
"799181613840728065","rcpico","04/03/2022 11:08 pm","Wish there was a buil-in func to extract raw path from this yuge object","",""
"408616272214097922","shreyaspapi","05/03/2022 3:56 pm","It would be great if someone can take a look at this issue - https://github.com/Uniswap/smart-order-router/issues/58","","üôè (1)"
"408616272214097922","shreyaspapi","05/03/2022 3:57 pm","Are you getting any error while reacting the route object? - `Error: Convert JSBI instances to native numbers using toNumber`","",""
"499760119785979904","afee8621","05/03/2022 8:38 pm","I want to test my project with uniswap v3 in ETH testnet, who know the address of USDC/WETH pool in testnet(kovan, rinkeby, goerli, ropsten, anyone is ok)? other pools are also ok, like USDT/ETH, DAI/ETH","",""
"913128618367000577","jude#6067","06/03/2022 11:44 am","You can use v3 factory.getPool to get address of any pool

In testnet the pool fee is 3000 most times","",""
"808440358845284422","david_23s5","07/03/2022 8:00 pm","Wondering if there is any articles on the Uniswap V3 staker design:
https://docs.uniswap.org/protocol/reference/periphery/staker/Design
I can only find the technical details, but I need some explanation on the big picture idea.","",""
"617127949480493077","yj_alt","07/03/2022 9:36 pm","Post below might help?
https://www.paradigm.xyz/2021/05/liquidity-mining-on-uniswap-v3","",""
"799564051092078597","james1847","07/03/2022 10:03 pm","Hello everyone, I'm trying to use v3 sdk in node.js for swaping,  I can get price but at the end, I don't know how to use ethers.js to send a transaction to router-v3, like i use in fronentend in uniswap, the etherscan.io shows me this transaction is ""multicall"", and need two params, data and deadline, so how can I create the data field?","",""
"799564051092078597","james1847","08/03/2022 11:24 am","I can successfully make a trade in uniswap V3 SDK","https://cdn.discordapp.com/attachments/823968973753810945/950632502345756702/unknown.png",""
"799564051092078597","james1847","08/03/2022 11:25 am","using ethers.js and trade.js","",""
"408616272214097922","shreyaspapi","08/03/2022 3:40 pm","Can anyone please help me with this error I am getting while using smart-order-router? 
```
Uncaught (in promise) Error: Convert JSBI instances to native numbers using `toNumber`.
```","",""
"685133139806519337","hashTheBlocks#3428","08/03/2022 7:23 pm","Hi all ,
  
  Can someone please guide me , what is the exact function signature of which solidity file of UniswapV3 smart contracts,which I can use
  to fetch price of the tokens directly?
  I want to use UniswapV3 as a price oracle for our DEFI Dapp integration.
  
  Much thanks in advance.","",""
"808440358845284422","david_23s5","08/03/2022 8:18 pm","Thank you","",""
"685133139806519337","hashTheBlocks#3428","09/03/2022 6:58 pm","https://github.com/Uniswap/v3-periphery/blob/main/contracts/libraries/OracleLibrary.sol","",""
"685133139806519337","hashTheBlocks#3428","09/03/2022 6:59 pm","this is the oracleLibrary we  can use to fetch prices of the token right? How can I access its contract address if it has been deployed to mainnet?","",""
"892606510486683698","abhijeet9181","09/03/2022 7:55 pm","Hi team
 I am trying to create liquidity pool through Uniswap NonFungibelPositionManager smart contract using createAndInitializePoolIfNecessary function. The pool I want to create have a new ERC20 token with other ERC20 token.
But smart contract is throwing error something like this: ""execution reverted: R""
Please help. We have to test on Rinkeby as we have to launch on the mainnet very soon.","",""
"697952197983338520","kabir#4932","09/03/2022 10:16 pm","hey so high level, how do i get connected to a uniswap pool from a vault contract im putting together?","",""
"892606510486683698","abhijeet9181","10/03/2022 9:46 am","Can anyone help to calculate sqrtPriceX96 of 1wETH and 2500 DAI . thank you","",""
"506803734366388225","doc_product","11/03/2022 3:04 am","Hi, all. I see a lot of failed txs for removing liquidity from an existing position on Arbitrum, like this one:

https://arbiscan.io/tx/0xc47595bcddd9dcc01cda1ff46eab4bdf34cdba05782ddadd69200fd0b5c79828

In the past, Rachel pointed out that the liquidity figure in the calldata was higher than the liquidity in the position. But looking at my code, I take this straight from the existing position, so I don't see how this can be the case.

Worse, if I retry the same tx a bit later, it very often works (maybe even always works?). I see this fairly often and would like to get to the bottom of it.

Anyone got any ideas as to why this one failed? Or how I can easily see the liquidity in an existing position from outside my code to compare?","",""
"471357824299958273","crypto_rachel","11/03/2022 3:11 am","how are you getting your liquidity? do you do anything with the number, are you using the sdk? share that code bit","",""
"506803734366388225","doc_product","11/03/2022 3:16 am","Sure, like this:

```
export function removeCallParameters(position: Position,
    tokenId: number,
    deadline: BigintIsh,
    recipient: string): string {
    const calldatas: string[] = []

    const deadlineHex = toHex(deadline)
    const tokenIdHex = toHex(tokenId)

    // Verbatim from NonfungiblePositionManager
    const MaxUint128 = toHex(JSBI.subtract(JSBI.exponentiate(JSBI.BigInt(2), JSBI.BigInt(128)), JSBI.BigInt(1)))

    // Remove liquidity function call.
    calldatas.push(
      NonfungiblePositionManager.INTERFACE.encodeFunctionData('decreaseLiquidity', [
        {
          tokenId,
          liquidity: toHex(position.liquidity),
          amount0Min: toHex(0),
          amount1Min: toHex(0),
          deadline
        }
      ])
    )

    // Collect function call.
    calldatas.push(
      NonfungiblePositionManager.INTERFACE.encodeFunctionData('collect', [
        {
          tokenId,
          recipient: recipient,
          amount0Max: MaxUint128,
          amount1Max: MaxUint128
        }
      ])
    )

    return Multicall.encodeMulticall(calldatas)
}
```","",""
"506803734366388225","doc_product","11/03/2022 3:17 am","The Position instance passed in here is the one I'm about to remove liquidity for, for sure. I checked the token ID.","",""
"471357824299958273","crypto_rachel","11/03/2022 3:18 am","so it this via the SDK?","",""
"471357824299958273","crypto_rachel","11/03/2022 3:19 am","you can go here and enter your position # and it will show your position variables
https://arbiscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#readContract","",""
"506803734366388225","doc_product","11/03/2022 3:21 am","Nope, that function is mine. We recently discussed not using the SDK for this.","","üòä (1)"
"506803734366388225","doc_product","11/03/2022 3:21 am","Oh yeah this is cool. Which function do I call though?","",""
"471357824299958273","crypto_rachel","11/03/2022 3:23 am","so you would want to call positions on that contract with your token ID, then just pass the Liquidity to your removal","",""
"506803734366388225","doc_product","11/03/2022 3:24 am","Cool. Works. I see this for the liquidity figure: 805116545830079.","","üëç (1)"
"471357824299958273","crypto_rachel","11/03/2022 3:24 am","","https://cdn.discordapp.com/attachments/823968973753810945/951598859065380864/unknown.png",""
"506803734366388225","doc_product","11/03/2022 3:24 am","Vs. what I passed in the calldata: 860255662834660.","",""
"506803734366388225","doc_product","11/03/2022 3:26 am","From calldata: 860_255_662_834_660
From position via Arbiscan UI: 805_116_545_830_079","",""
"506803734366388225","doc_product","11/03/2022 3:26 am","So you're right, the calldata value is too high.","",""
"471357824299958273","crypto_rachel","11/03/2022 3:26 am","where were you getting the call data?","",""
"506803734366388225","doc_product","11/03/2022 3:26 am","But now I'm super confused about liquidity in general. Shouldn't it be static during the lifetime of a v3 position?","",""
"506803734366388225","doc_product","11/03/2022 3:27 am","Using Arbiscan to decode the input data from that failed tx: https://arbiscan.io/tx/0xc47595bcddd9dcc01cda1ff46eab4bdf34cdba05782ddadd69200fd0b5c79828","",""
"471357824299958273","crypto_rachel","11/03/2022 3:30 am","yeah I saw the calldata, was that your original LQ or something, i was confused where you got the `860255662834660` before making the tx","",""
"506803734366388225","doc_product","11/03/2022 3:32 am","YEah this raises a fundamental question for me: can the liquidity in a position increase or decrease as the price in the pool moves, absent of any adding or removing of liquidity done by me?","",""
"506803734366388225","doc_product","11/03/2022 3:32 am","I though it stayed static and only the unclaimed fees increased?","",""
"506803734366388225","doc_product","11/03/2022 3:35 am","I use a Position instance (from the SDK) that I established when my process started up, by calling the position manager contract:

const position: Position = await positionManagerContract.positions(tokenId)

(or in some cases from when I created the position a few hours ago, from the add liquidity tx)","",""
"471357824299958273","crypto_rachel","11/03/2022 3:38 am","hmm I'll have to see if I can figure out what the SDK is doing, as it should be making the same call to that contract
I'm really not sure about it changing or now
from the whitepaper 6.4
```liquidity (ùëô) means the amount of virtual liquidity that the
position represented the last time this position was touched```","",""
"471357824299958273","crypto_rachel","11/03/2022 3:39 am","So perhaps since it's virtual LQ ¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø","",""
"506803734366388225","doc_product","11/03/2022 3:40 am","OK, I'll start logging it right after creating the position and right before removing liquidity","",""
"506803734366388225","doc_product","11/03/2022 3:40 am","and I'll refresh my Position instance from the contract before I remove liquidity","",""
"506803734366388225","doc_product","11/03/2022 3:40 am","thanks","",""
"471357824299958273","crypto_rachel","11/03/2022 3:41 am","yeah I wouldn't mind knowing too üòä","",""
"471357824299958273","crypto_rachel","11/03/2022 3:41 am","glad to help","","üôè (1)"
"444145713304174599","maol1997","11/03/2022 6:32 am","can you help me ? im so lost with V3 :c","",""
"444145713304174599","maol1997","11/03/2022 7:02 am","Does anyone happen to have a working example of Uniswap V3 swaps on testnet so I can understand how it works? It frustrates me to be so lost with the multicall thing ü•≤","",""
"471357824299958273","crypto_rachel","11/03/2022 7:04 am","I'm leaving right now, but I have some basic web 3 examples pinned in #üíª‚îÇdev-chat","","‚ù§Ô∏è (2)"
"444145713304174599","maol1997","11/03/2022 7:12 am","thanks you, ill be looking at it üôÇ , btw what is the fee that is passed as a parameter to the function?  ExactIn(TokenSelling,TokenBuying,Fee,AmountSending,SlipP)","",""
"471357824299958273","crypto_rachel","11/03/2022 9:21 am","that would be the fee tier","",""
"499760119785979904","afee8621","12/03/2022 2:18 pm","function _swap(address tokenIn, address tokenOut, uint256 amountIn, uint24 swapPoolFee) internal {
        // swap params
        ISwapRouter.ExactInputSingleParams memory param;
        param.tokenIn = tokenIn;
        param.tokenOut = tokenOut;
        param.fee = swapPoolFee;
        param.recipient = address(this);
        param.deadline = block.timestamp;
        param.amountIn = amountIn;
        // swap using router
        uint256 amountOut = router.exactInputSingle(param);
        // event
        emit Swap(msg.sender, tokenIn, tokenOut, amountIn, amountOut);
    }
I try to call the router.exactInputSingle to swap the token, but it always executes failed.
anything wrong in the above function?","",""
"765941287315832882","kevinriedl.eth","12/03/2022 10:35 pm","For me it seems like everyone has similar problems with v3. Does anyone have a full example with swapping tokens via multicall? web3","",""
"471357824299958273","crypto_rachel","13/03/2022 10:13 am","I have a basic example in the pins in #üíª‚îÇdev-chat  in the exactOutput example","",""
"537759758506000385","jhonaiker.","14/03/2022 9:10 am","Hello guys. Good evening, I have a question. Any of you have used the Interface or Paraswap to do swaps in your smart contract? I have to implement in a project to get my first job in web3 but I really don't understand the documentation. Someone could help me? I already implemented uniswap to my project and it works great but the paraswap interface is horrible","",""
"912025439990583396",".neeer","14/03/2022 3:40 pm","Need help with Uniswap V3.
A function in my contract is reentrancy guarded and  makes call to  ISwapRouter.exactInputSingle method. 
Execution fails with an error ""re entered""","",""
"456226577798135808","Deleted User","14/03/2022 4:02 pm","Does anyone know of any existing projects/initiatives for doing data science on Ethereum's transaction history/stored data, in a self-hosted manner?

I've spent a fair bit of time trying to get Dune Analytics and The Graph working for this, but they're simply too inefficient or poorly abstracted for my purposes.","",""
"883520461412118569","minmin#9549","15/03/2022 2:31 am","When I am swapping with uniswap.app am I swapping with the uniswapv3 router or the uniswapv3 v2 router
Does the ui route to the new or old router?","",""
"943832264956076073","Kyleryke#7683","15/03/2022 12:24 pm","In case anyone is struggling with adding ""Matic"" to the custom linking, check out this article: https://medium.com/dongle-space/custom-linking-to-matic-in-uniswap-d47f036258cf","",""
"884038773871087617","96666.eth","15/03/2022 4:16 pm","My V3 mobility can't be cancelled any old iron encounter
keep turning not to cancel","",""
"884038773871087617","96666.eth","15/03/2022 4:17 pm","Can you help me with this?","https://cdn.discordapp.com/attachments/823968973753810945/953243028426993684/20220315175514.png",""
"886275760174805052","stevent","16/03/2022 6:01 am","Looking for a way to automate collecting fees from liquidity pools. Any links you guys have will help. Thanks","",""
"431961393646796811","derekbarrera","16/03/2022 11:31 pm","Hey all! We are very very very close to release uniswap liquidity management with a development platform and tooling as well for liquidity management. That said, we are having a couple snags with some final work. We use multiple positions for a given vault and each position can have different amounts of liquidity on a rebalance or tend. We've come to the realization that calculating the trade amounts on-chain are just about impossible so are looking to use the quoter as a fallback as we need to know the exact in and out of a swap. There were some good discussions from BoredGenius's recent post but we are still at a loss for how to go about the logic. In the end we want to pass in tick boundaries for each position in the vault as well with the associated percentage of the total TVL to move to this position. We've posted more details in this stackoverflow (https://ethereum.stackexchange.com/questions/124000/is-there-any-way-for-a-multisig-to-rebalance-a-narrow-uniswap-v3-liquidity-posit). 

Is there anyone who would be able to talk with the team to finalize this integration? 

This is the last remaining logic to write before we can go to audit.","",""
"431961393646796811","derekbarrera","16/03/2022 11:31 pm","üôè","",""
"723754663748304958","sandemoney.eth","17/03/2022 7:23 pm","How do I mint V3?","",""
"431961393646796811","derekbarrera","17/03/2022 11:31 pm","No office hours today? cc: @Connor Martin","",""
"399617942087532545","_connormartin","17/03/2022 11:55 pm","tomorrow!","",""
"399617942087532545","_connormartin","17/03/2022 11:56 pm","@Derek | Steer Protocol im going to check this stackexchange post out and get it answered","","ü¶æ (2),üí™ (2),üöÄ (2)"
"431961393646796811","derekbarrera","18/03/2022 12:14 am","I'll be there!","",""
"399617942087532545","_connormartin","18/03/2022 12:42 am","@Derek | Steer Protocol i think this may be what you're looking for - we've just made it public so the docs aren't ready yet / the repo needs a bit cleaned up https://github.com/Uniswap/lp-action-contracts","",""
"399617942087532545","_connormartin","18/03/2022 12:43 am","There is also swap + add https://docs.uniswap.org/sdk/guides/liquidity/swap-and-add","",""
"399617942087532545","_connormartin","18/03/2022 12:44 am","@Derek | Steer Protocol have you already looked at these contracts?","",""
"399617942087532545","_connormartin","18/03/2022 1:04 am","@Derek | Steer Protocol i've read your question but im still kind of having trouble understanding exactly what you're asking","",""
"431961393646796811","derekbarrera","18/03/2022 1:06 am","I've seen this, issue is we are looking to do this all on-chain","",""
"399617942087532545","_connormartin","18/03/2022 1:10 am","i guess my question is - you're talking about how to do an on-chain calculation of the intermediary swap amount necessary to atomically remove and add liquidity","",""
"399617942087532545","_connormartin","18/03/2022 1:11 am","?","",""
"431961393646796811","derekbarrera","18/03/2022 1:12 am","This is correct","",""
"431961393646796811","derekbarrera","18/03/2022 1:18 am","this is interesting, but you have the input amount. We won't have that number (hopefully)","",""
"399617942087532545","_connormartin","18/03/2022 1:22 am","@Derek | Steer Protocol noah recommends using binary search","",""
"431961393646796811","derekbarrera","18/03/2022 1:23 am","Would you mind sharing on what?","",""
"431961393646796811","derekbarrera","18/03/2022 1:27 am","This is the state change we are trying to make","",""
"431961393646796811","derekbarrera","18/03/2022 1:27 am","","https://cdn.discordapp.com/attachments/823968973753810945/954106122971783208/unknown.png",""
"431961393646796811","derekbarrera","18/03/2022 1:27 am","Note the tick placement changes AND how much liquidity in each position changes","",""
"431961393646796811","derekbarrera","18/03/2022 1:28 am","We have everything worked out except the swap after withdrawing from the initial state's positions to the amount we'd need for each position on the desired state","",""
"431961393646796811","derekbarrera","18/03/2022 1:32 am","Because the swap could be significant depending on the vault size, the tick would move (most likely) and so the desired amounts would change. So basically from what we've seen is that you can't calc on-chain how much it will move unless doing a static call on that swap off-chain and passing the values into the tending of the vault","",""
"701794856506228756","jump2fly","18/03/2022 2:02 am","Hey üëã I am having a hard time figuring out to interpret the value that is returned here. I'd like to apply a formula to derive the amount of token_0 and token_1 in the pool.","https://cdn.discordapp.com/attachments/823968973753810945/954115122043949066/Screenshot_2022-03-17_at_21.27.01.png",""
"471357824299958273","crypto_rachel","18/03/2022 2:06 am","These two githubs have the math for liquidity also the whitepaper
https://uniswap.org/whitepaper-v3.pdf
<https://github.com/thanpolas/univ3prices>
<https://github.com/atiselsts/uniswap-v3-liquidity-math>","","üëç (1)"
"471357824299958273","crypto_rachel","18/03/2022 2:09 am","you could probably work out the math from the üëÜ scripts for the Liquidity values","",""
"471357824299958273","crypto_rachel","18/03/2022 2:12 am","Also wasn't sure I think your past this part but just in case üòä 
https://github.com/Uniswap/lp-action-contracts/blob/main/src/RemoveAndSwap.sol","",""
"399617942087532545","_connormartin","18/03/2022 5:26 am","unfortunately this is a hard problem to solve, i dont really have a good answer for you : /. if you end up solving it I'll be very curious to see though. using off chain + multisig is not going to work though, price changes will make it non viable","",""
"431961393646796811","derekbarrera","18/03/2022 5:27 am","Can you explain how this is not viable and what causes it to be so","",""
"431961393646796811","derekbarrera","18/03/2022 5:27 am","I feel because this has such nuance that a call with a team member may be helpful","",""
"431961393646796811","derekbarrera","18/03/2022 5:28 am","Basically you‚Äôre saying it‚Äôs not possible on chain or off chain","",""
"399617942087532545","_connormartin","18/03/2022 5:28 am","im not saying its not possible - its just a difficult engineering challenge","","üíØ (1)"
"431961393646796811","derekbarrera","18/03/2022 5:29 am","Def agree here","",""
"471357824299958273","crypto_rachel","18/03/2022 5:29 am","also poses risks of mev bots manipulating block","",""
"431961393646796811","derekbarrera","18/03/2022 5:29 am","Could you help setup a call to discuss possible avenues?","",""
"431961393646796811","derekbarrera","18/03/2022 5:30 am","Unless you‚Äôre running on flashbots","",""
"431961393646796811","derekbarrera","18/03/2022 5:30 am","Thank you team btw for the discussion","",""
"471357824299958273","crypto_rachel","18/03/2022 5:30 am","yeah safer definitely","","üíØ (1)"
"399617942087532545","_connormartin","18/03/2022 5:30 am","@Derek | Steer Protocol can you dm me with some details of the project","","ü§ù (1)"
"431961393646796811","derekbarrera","18/03/2022 5:41 am","Just to be clear we are not looking for the algo to achieve this. We have most of that. We are just looking for guidance on the swap and if it‚Äôs supported and which are the best endpoints to achieve. We don‚Äôt mind doing the legwork.","",""
"349495483183529985","cryptverse","18/03/2022 5:58 am","Throughput your whole conversation it sounded like the algo was your problem. Now that you have said this in your last message I no longer know what the problem is.","",""
"349495483183529985","cryptverse","18/03/2022 6:09 am","If you are sure of your initial withdraw and you are trying to rebalance multiple positions afterward with swaps I guess what you are looking for is the correct ratio of liquidities. SInce your desired a state is actually a function of a shift in liquidity as well as potential tick changes, you won't be able to produce certain liquidity states, only total liquidities on involved positions can be controlled. The only way to change that would be to desire a different state.","",""
"349495483183529985","cryptverse","18/03/2022 6:10 am","And, in that case, your initial withdraw may be incorrect.","",""
"349495483183529985","cryptverse","18/03/2022 6:13 am","I think a better way to look at this would be to not look at desired states but rather possible states and then decide which of those possible states you'd want to swap to. Then you'd be able to figure out your optimal withdraw amount and swap amounts would be implicit from then on. It sounds like a problem that would require multiple binary searches on multiple variables until the optimal operation amounts are found.","",""
"431961393646796811","derekbarrera","18/03/2022 7:10 am","Very helpful, thank you for your thoughtful response. Agreed, on the above. Finding the optimal state is something we're working to do off-chain right now with an additional slippage check during the rebalance. I think your solution is def close to the proper solution but I have a feeling this would not be efficient on-chain and possibly non-viable based on vault returns etc.","",""
"349495483183529985","cryptverse","18/03/2022 7:12 am","Yeah, I wasn't meaning to do it on chain either.","",""
"431961393646796811","derekbarrera","18/03/2022 7:12 am","Ah got it, fair enough.","",""
"349495483183529985","cryptverse","18/03/2022 7:13 am","I think you'd at least have to call ticks and liquidities on ranges your are going to work on.","",""
"349495483183529985","cryptverse","18/03/2022 7:13 am","Then all calculations can theoretically be done off chain.","",""
"349495483183529985","cryptverse","18/03/2022 7:14 am","Actually just the ticks you could possibly move the current tick by.","",""
"431961393646796811","derekbarrera","18/03/2022 7:21 am","Yeah agreed, this also would allow you to possibly use multi-hop swaps to have better slippage during the rebalance. The flexibility def increases by moving off-chain. Hard problem nonetheless.","",""
"349495483183529985","cryptverse","18/03/2022 7:47 am","How does the multi-hop swap help with rebalancing? I'm still visualizing this on a single pool. I can see how it will help with multiple pools but I think if you are just rebalancing on a single pool then every rebalance should just require a single swap. Unless you mean that multi-swap arbitrating could bring in more liquidity when rebalancing. However, I have read in the Financial Alchemy article that it is a good idea to leave some liquidity outside of the pool in order to rebalance when required.","",""
"204627801561628672","meriadoc1209","18/03/2022 7:48 am","The rebalance only requires a single swap, but multiple swaps through different pools can help with slippage","",""
"349495483183529985","cryptverse","18/03/2022 7:49 am","Here is the article if you want to read it. It's V2 but principles cross. https://research.paradigm.xyz/uniswaps-alchemy","",""
"204627801561628672","meriadoc1209","18/03/2022 7:50 am","","https://cdn.discordapp.com/attachments/823968973753810945/954202542395498576/unknown.png",""
"204627801561628672","meriadoc1209","18/03/2022 7:50 am","28 mil in eth is a bit much but just as an example, this swap goes through a few different pools to take advantage of multiple pools' liquidity and minimize slippage","",""
"204627801561628672","meriadoc1209","18/03/2022 7:52 am","Thanks for the article. We're definitely going to be keeping some liquidity outside of the pool, but the goal is definitely to deposit as much as possible","",""
"349495483183529985","cryptverse","18/03/2022 7:54 am","Alright, it makes sense now. All of this taking fees into account and using same pair pools.","",""
"204627801561628672","meriadoc1209","18/03/2022 7:56 am","Well the original question was just about same pair pools for sure so no worries there, you had it right. At this point we're still planning on just performing the swap through the 1 pool, but using the auto-router does open up interesting possibilities for very large swaps.","",""
"349495483183529985","cryptverse","18/03/2022 8:00 am","Yeah, if there are any arb ops as well, that could also be capitalized on every rebalance. Have only read some of the source code on using the auto router so I don't know how profitable it is. Have been developing my own router so I'll be testing them together.","",""
"349495483183529985","cryptverse","18/03/2022 8:04 am","I update a local cache of pool and token data then use multi-call on pool states and then calculate routes off-chain based on that data before building and sending transaction. Saw the auto router a bit late into production but might as well finish before I try it out.","","üëÄ (1),ü¶æ (1)"
"343796045895172102","sambacha","20/03/2022 5:56 am","oof ngmi","",""
"343796045895172102","sambacha","20/03/2022 5:56 am","OOOF","",""
"343796045895172102","sambacha","20/03/2022 5:56 am","https://github.com/sambacha/foundry-tutorial/blob/master/src/test/UniswapV3.t.sol","",""
"471357824299958273","crypto_rachel","20/03/2022 6:16 am","Why ping me? and what's with the ngmi","",""
"343796045895172102","sambacha","20/03/2022 6:19 am","why do tick math in nodejs when you have solidity?","",""
"343796045895172102","sambacha","20/03/2022 6:19 am","JSBI is not even needed correct? UniV3 ssk doesnt use it right?","",""
"471357824299958273","crypto_rachel","20/03/2022 6:20 am","not sure I don't use sdk","",""
"343796045895172102","sambacha","20/03/2022 6:20 am","my point exactly :))))))","",""
"343796045895172102","sambacha","20/03/2022 6:22 am","JSBI is for bowser bigint support vi polyfill,","",""
"471357824299958273","crypto_rachel","20/03/2022 6:22 am","yes this is true","",""
"471357824299958273","crypto_rachel","20/03/2022 6:28 am","I see you're calling this in a contract are you using a fork, since it's not read it would cost gas","",""
"471357824299958273","crypto_rachel","20/03/2022 6:31 am","someone has done all the work for a read only function here, I haven't looked to deep into it yet
https://github.com/sandrones/V3-Quoter","",""
"343796045895172102","sambacha","21/03/2022 12:09 am","ü´Ç","",""
"456226577798135808","Deleted User","21/03/2022 1:11 pm","Hi,
Is there any detailed sample contract on how to implement a swap?","",""
"456226577798135808","Deleted User","21/03/2022 1:38 pm","??","",""
"499760119785979904","afee8621","22/03/2022 4:34 pm","how can I get the earned tokens in the pool of UNIV3 without fees?","",""
"240226339196502016","addiaddiaddi","22/03/2022 10:09 pm","revert.finance","",""
"240226339196502016","addiaddiaddi","22/03/2022 10:09 pm","Is there a frontend for the univ3 staker","",""
"602584951912923146","l2andom0101","22/03/2022 11:22 pm","@Crypto_Rachel I keep getting an error from the SDK swapToRatio saying ""Failed to get approval type from swap router for token in or token out"" I've approved both tokens to the V3 swap router address ""0x68b.."" what is the issue?
I'm on the polygon mainnet if that makes any difference.","",""
"602584951912923146","l2andom0101","23/03/2022 12:21 am","Looking through the smart router code I don't see polygon mainnet (137) chain in the util/chains.ts file, I'm assuming the network is not supported by the smart router yet. That would explain all the issues I have had with it.","",""
"431961393646796811","derekbarrera","23/03/2022 6:18 pm","Because each tick has its own liquidity so on chain is pretty expensive. Maybe doable for a single position but adding more causes the gas to increase significantly.","",""
"343796045895172102","sambacha","24/03/2022 2:06 pm","let me rephrase that, why not also have tests written in solidity as well to check results against ?","",""
"431961393646796811","derekbarrera","24/03/2022 4:41 pm","Fair enough, this makes sense.","",""
"179972866564030464","rz5859","26/03/2022 5:27 am","Do the `amount0` and `amount1` issued in the `Swap` event include the fees?","",""
"886113790490447913","imomoe","26/03/2022 3:15 pm","Hey, does anyone have ProviderGasError issue when using smart-order-router?","",""
"440507007167102978","h8h","28/03/2022 12:17 pm","@Ian (dev) ü¶Ñ [No DMs] : hi, can you please explain why the Arbitrum subgraph for Uniswap v3 has no ticks tracked?

As I check on info.uniswap.org, the current subgraph for Arbitrum is https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-dev

But when I queried for ticks (in total) or pool's ticks, it always return an empty array.","",""
"691426430168465430","pstylez78#4758","28/03/2022 10:16 pm","Hi, I'm trying to build a website the tracks the number of flashloans that occur on uniswap v3. I was wondering if anyone had suggestions on how to identify flash loan transactions on uniswap v3 given you have to differentiate between users that are just swapping tokens using the swap() function and those that are using a flash loan.","",""
"456226577798135808","Deleted User","29/03/2022 11:26 am","Can anyone help me with this?","https://cdn.discordapp.com/attachments/823968973753810945/958243310496002048/IMG-20220329-WA0006.jpg",""
"471357824299958273","crypto_rachel","29/03/2022 11:54 am","in V3 the Flash loans are done with a separate function so you can subscribe to those functions calls","",""
"471357824299958273","crypto_rachel","29/03/2022 11:56 am","STF safe transfer from error
either 
approval wasn't done before transaction
or
an issue with token caused slippage to shift at bad time","",""
"456226577798135808","Deleted User","29/03/2022 12:50 pm","I added the approval statement but the error is still there.","https://cdn.discordapp.com/attachments/823968973753810945/958264374273929266/unknown.png",""
"471357824299958273","crypto_rachel","29/03/2022 12:52 pm","https://discord.com/channels/597638925346930701/607978109089611786/958229771278483476
check this","",""
"456226577798135808","Deleted User","29/03/2022 12:53 pm","ok..thanks","",""
"886113790490447913","imomoe","29/03/2022 6:32 pm","Hey, does anyone have ProviderGasError issue when using smart-order-router?","",""
"584440319404277779",".moresh","30/03/2022 9:34 pm","hey !! can someone help me figure out how we can buy synthetic options ?","",""
"742340528661725236","halfbloodmafia","31/03/2022 8:12 pm","Hi Guys, I was unable to find quoter address in the v3 documentation. What is the link for that inside the documentation?","",""
"307988561326505986","dragondmoney","01/04/2022 6:18 am","Hey is there a guide or tool I can use to create a liquidity incentive with uni-v3 staker?
There are some docs, but they don't show how to create the incentive","",""
"456226577798135808","Deleted User","02/04/2022 4:18 am","@Dragondmoney did you got a guide ?","",""
"707305496473763860","ajadavis","02/04/2022 8:54 pm","anyone have insight into interaction with C#?","",""
"766885581875445762","spike#3859","03/04/2022 11:39 pm","Hey! is there a way to get tokens amount of a liquidity? i get the liquidity value form positions function of uniswap V3 Liquidity NFT contract 0xc36442b4a4522e871399cd717abdd847ab11fe88.","",""
"927454148214018088","blockchain-dev#0751","04/04/2022 11:17 am","@here Hi guys, trying to find a way to fetch current amountOut of an token using UniSwapV3 on chain. Not able to find much info, some help would be really useful. Thank you","",""
"471357824299958273","crypto_rachel","04/04/2022 11:18 am","check my pins in #üíª‚îÇdev-chat  I have a basic Web3/bigNumber example of how to use the quoter contract","",""
"927454148214018088","blockchain-dev#0751","04/04/2022 11:21 am","Sure @Crypto_Rachel , I will take a look. Thank you","","np (1)"
"927454148214018088","blockchain-dev#0751","04/04/2022 12:31 pm","@Crypto_Rachel , I looked at the pins and the quoter docs, it states that it should not be used on chain as it expensive, so is there no other way to do it on chain? Or only off chain is possible as of now? Thank you","",""
"471357824299958273","crypto_rachel","04/04/2022 12:34 pm","you don't send a tx with it, its done in a call
if your doing in contract it would cost, but you shouldn't do quotes in transaction as it allows a bot to frontrun you","",""
"482277754319011850","mjc716","06/04/2022 10:53 pm","https://twitter.com/xtokenterminal/status/1511749630199230466?s=20&t=gwOQ6raW_I1b-DzQdItOEg","",""
"893557371803148318","psychoduck2876","07/04/2022 7:04 pm","Hello everyone! Can I make an integration with uniswap that will allow me to upload my tokens to uniswap and fill them with liquidity?","",""
"769481506976170035","Ankit1995#6182","12/04/2022 11:57 am","Hello Everyone I am trying to integrate V3 with my app. Able to create  pair and initialize. But when I try to use mint function its giving me this error. Error :  require(tick % tickSpacing == 0); // ensure that the tick is spaced
You can check contract here https://kovan.etherscan.io/address/0xd68f2531ac57a56507ab95a4e4a282ac88809897#readContract

Can anyone tell me what I am doing wrong and how to resolve that. Thank You","",""
"471357824299958273","crypto_rachel","12/04/2022 12:02 pm","the ticks you use for liquidity range at creation must be at ""Usuable ticks""
usable ticks are the ticks that are evenly divisible by the tick spacing","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:13 pm","HY @Crypto_Rachel , But I am not adding that tick it come automatically When I Initialize so how Can I make sure that?","",""
"471357824299958273","crypto_rachel","12/04/2022 12:14 pm","what are you using to do this","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:15 pm","I am entering sqrtPriceX96 when initializing.","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:17 pm","@Crypto_Rachel , This is how I am calculating sqrtPriceX96","https://cdn.discordapp.com/attachments/823968973753810945/963329441814175744/unknown.png",""
"471357824299958273","crypto_rachel","12/04/2022 12:18 pm","```
struct MintParams {
        address token0;
        address token1;
        uint24 fee;
        int24 tickLower;
        int24 tickUpper;
        uint256 amount0Desired;
        uint256 amount1Desired;
        uint256 amount0Min;
        uint256 amount1Min;
        address recipient;
        uint256 deadline;
    }```","",""
"471357824299958273","crypto_rachel","12/04/2022 12:19 pm","the mint paramaters for V3 require tick range","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:19 pm","This is how I am entering","https://cdn.discordapp.com/attachments/823968973753810945/963329937140502578/unknown.png,https://cdn.discordapp.com/attachments/823968973753810945/963329937320869958/unknown.png",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:20 pm","I found this on UniswapV3 docs. A full contract","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:21 pm","@Crypto_Rachel For ticklower and upper I am using TickMath library, should I change that ? and how?","",""
"471357824299958273","crypto_rachel","12/04/2022 12:22 pm","are you trying to create a full range position","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:22 pm","NO","",""
"471357824299958273","crypto_rachel","12/04/2022 12:24 pm","where are you getting min and max tick","",""
"769481506976170035","Ankit1995#6182","12/04/2022 12:26 pm","I am getting from TickMath library TickMath.MIN_TICK, TickMath.MAX_TICK","",""
"471357824299958273","crypto_rachel","12/04/2022 12:44 pm","yeah no these are for the math and are the max/min ticks range available
that would still be bound to the tick spacing rule
and for a range you need to either 
select a low price and high price for your range, you would convert those prices to ticks, and then you would make sure your using the nearest usable tick (evenly divisible by spacing)
or
select a tick range (how many ticks above and below current tick) and take the current tick divide by tick spacing math.flat that number and multiply by the tick spacing then you subtract and add, the multiple of your tick range and spacing
ie```

current tick of usdc/weth 0.3%
196229 / tick spacing (60) == 3,270 * tick spacing(60) == 196,229 (nearest usable lower tick, add 60 for nearest usable upper tick)
tick range of 5 (5 ticks below 5 above)
5*60 = 300
196229-300=195929
196229+300=196529```","",""
"915205969166860308","kitchDev#6379","12/04/2022 9:10 pm","Hey there! I have a Hardhat forked mainnet locally. Just wondering if there is a handy way to swap Eth for say USDC? In the web app it looks like it's apart of the process to convert to wETH? But for local testing when starting from a account that only has eth, can I perform a swap from Eth -> Token, or should I do a wETH deposit function call first? 

Also let me know if I'm in the right place for these questions?","",""
"456226577798135808","Deleted User","13/04/2022 7:00 pm","how can I add the functionality to show the amount of tokens I will get after the swap?","",""
"194038399139708930",".brunosilva","18/04/2022 2:01 pm","What is the easiest way to get the entire list of v3 pools?","",""
"139358944739983361","bejvg","18/04/2022 2:52 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-subgraph/graphql","",""
"139358944739983361","bejvg","18/04/2022 2:52 pm","","https://cdn.discordapp.com/attachments/823968973753810945/965542879915294760/Screenshot_2022-04-18_at_11.22.36.png",""
"139358944739983361","bejvg","18/04/2022 2:53 pm","or https://info.uniswap.org/#/pools but i'm assuming you probably know about this already","",""
"194038399139708930",".brunosilva","18/04/2022 6:02 pm","Ye, was just wondering if there was a good on-chain way","",""
"194038399139708930",".brunosilva","18/04/2022 6:03 pm","but thank you anyway","",""
"583144109078872074","nikoferro","21/04/2022 4:23 pm","hey a quick question about v3 swaps. how can i get the path (like autorouter does on the app) for a multihop swap? knowing which is my input, and my output, i would like to know whats the path to get there so i can call the `exactOutput` function","",""
"965591278886744074","_thelife001","21/04/2022 6:14 pm","Hello @everyone, glad to meet you here, I have something to ask.
I am going to fetch the price in my contract from the uniswap v3.
Anyone can help me to get price directly in contract?","",""
"965591278886744074","_thelife001","21/04/2022 6:15 pm","Please help me!!!","",""
"697632121560498227","olivia_#9242","22/04/2022 12:07 am","https://discord.com/channels/597638925346930701/607978109089611786/966723983875653642","",""
"843155325619535912","Etherscan Bot#5753","22/04/2022 12:07 am","","",""
"908437104198045759","0x156","22/04/2022 4:15 pm","is it ok/safe to approve unlimited weth or usdc or any erc20 to v3pool contract?","",""
"917784205050671114","M Aquib#0331","26/04/2022 5:19 pm","Hi, can anyone please tell me, what is wrong with it??
I'm unable to createpool of uniSwapV3.","https://cdn.discordapp.com/attachments/823968973753810945/968478805649915944/unknown.png",""
"968846859965726730","Allison52#8990","27/04/2022 6:52 pm","Text me","",""
"449969903437611008","roughpandaz","29/04/2022 4:33 am","@Deeee","",""
"449969903437611008","roughpandaz","29/04/2022 4:35 am","@Derek | Steer Protocol Just curious how you were able to get the entire set of contracts to run locally? I've managed to deploy everything including periphery contracts. Would be super helpful if you have some resources on this.","",""
"449969903437611008","roughpandaz","29/04/2022 4:38 am","Hi @salom√© Just curious if you could provide some resources to help us deploy the Uniswap V3 locally. We're trying to set up a local environment to test tokenswaps. Thank you.","",""
"913856450588184616","sdcrypt0","02/05/2022 4:29 am","Hi guys, I didnt find documentation about how to verify uniswap v3 pair contract on polygon. Can anyone help about it? pair contract is: https://info.uniswap.org/#/polygon/pools/0x30f5c777ab316e6878d2b71a32274e4c2842327a","",""
"971327765108359198","DEXter#9297","05/05/2022 7:44 am","Hi there, I am a developer whom recently got involved in the blockchain space. Pleasure to meet you all! üôÇ","",""
"808440358845284422","david_23s5","05/05/2022 5:56 pm","Hi team, wondering if the team is considering adding solidity 0.8.x support on https://github.com/Uniswap/v3-periphery ? We are building our dapp in 0.8.x but now we are not able to wire in the Uniswap component","",""
"720301118969741383","0xAlucard#4620","06/05/2022 10:15 am","Hi @everyone If I want to swap MATIC to USDC on Polygon from smart Contract, which function should I use, exactInput or exactInputSingle. Also what should be path for Mainnet and testnet","",""
"720301118969741383","0xAlucard#4620","06/05/2022 5:33 pm","@everyone","",""
"742805357189136487","sbusonero","06/05/2022 6:56 pm","Hello, we built an automation app on top of uniswap - allows autocompound and to deploy idle liquidity in other protocols (https://orbitdefi.finance/) for any token pair / range","",""
"390057863722041347","bensa#0251","07/05/2022 6:18 pm","bump","",""
"837663414972842025","sainthemp#7097","08/05/2022 2:32 am","How can we pass optional parameters for the swap widget?
 https://docs.uniswap.org/sdk/widgets/swap-widget/api

Trying to setup convenienceFee and convenienceFeeRecipient","",""
"396130406891651075","killergoose75","08/05/2022 12:52 pm","Hey all, I've been messing around wtih V2 forks on Polygon and I've gotten used to calling getAmountsOut(). I'm trying to migrate to V3, but this function is gone. Do I need to call the Quoter's getExactInput()??

Does this call require gas since it's not technically a view func?","",""
"948928961512104016","cryptomackinlay","08/05/2022 4:08 pm","How to add Liquidity","",""
"948928961512104016","cryptomackinlay","08/05/2022 4:09 pm","To V3?","",""
"795703217764827176","uhuge","09/05/2022 1:11 am","It should just return what you need with .call() in Web3py for example. Having an example in the docs would be very helpful though.","",""
"560884943454994432","0xrishabh","09/05/2022 8:55 pm","Hey, is there a way to get the list of all the pools on every chain for uniswap v3?","",""
"933077696232194118","zubaidahmedzia","10/05/2022 2:04 pm","Hey guys, I have a project to integrate uniswap V3 with swap and liquidity features. I have seen many tutorials but they are using sdk. How can I integrate v3 without using sdk? Do I have to use router contract for this? I am still exploring and would appreciate if someone can guide me. Thank you","",""
"339297427318374401","gokhanuck","11/05/2022 1:55 am","Hey all, looking for a live price feeds from v3 and v2. Is there any usable ways to do that?","",""
"788838189683048468","captainwoof.official","11/05/2022 1:08 pm","Hey everyone!

Can anyone tell me, to add/remove liquidity on a position in a pool, does the caller need to be the owner of the position nft?","",""
"788838189683048468","captainwoof.official","11/05/2022 1:12 pm","You use the Router contract to create new Pools (contract).

The Position Manager (contract) allows creating Positions (nfts), and adding/removing liquidity from those Positions.

You use the SwapRouter (contract) to swap tokens.

That's the overall layout.","",""
"933077696232194118","zubaidahmedzia","12/05/2022 4:07 am","Thank you so much üòä. That's exactly what I have done for swap contract following the official docs. I had few errors luckily I removed them with some searching and deployed the contract for swap successfully. But still I am unable to perform swap. Can I dm you the error I am facing? OR is there a detailed guide other than the official docs which also covers the probable mistakes. Thank you","",""
"471357824299958273","crypto_rachel","12/05/2022 4:17 am","what error and what network","",""
"653991556809883678","belas.eth","12/05/2022 11:01 am","Hi question about core V3 smartcontracts, I saw on your Github that there is a branch for solidity 0.8. Is-it safe to use it","",""
"933077696232194118","zubaidahmedzia","13/05/2022 1:06 am","Hi! Previously I was getting ""TransferHelper::transferFrom: transferFrom failed"" error. I removed it by approving the DAI tokens from etherscan and following this tutorial ""https://brightinventions.pl/blog/single-swap-on-uniswap-v3-with-3-common-mistakes/"". I am using kovan testnet. 

Now I am facing a gas estimation error. I have 0.097 kovan test ethers. screenshot attached.","https://cdn.discordapp.com/attachments/823968973753810945/974394712079351918/swapError.PNG",""
"471357824299958273","crypto_rachel","13/05/2022 1:11 am","So I don't have time to get into it. 
But that means your transaction will fail.
Testnets are not maintained, verify your addresses are correct, verify the pools has enough LQ and compare your input/output to the UI
also I see the deadline, so make sure you are using the 1st V3 contract `0xE592427A0AEce92De3Edee1F18E0157C05861564`
I also have examples in #üíª‚îÇdev-chat  in the pins","",""
"933077696232194118","zubaidahmedzia","13/05/2022 1:16 am","Thanks a lot. I am looking at all the things with a fresh mind now. will follow your instructions.","","np (1),üëç (1)"
"336898405588664321","_koalification","13/05/2022 8:23 am","Hey Dev! I am still going over the white paper but i need help in clarification  some topics. Im still confused the difference between virtual and real reserves and figure 5.1 on page 4 of the v3 paper. Why is it log1.001?","",""
"928344085809475657","0xsecuritymanager","13/05/2022 2:33 pm","Hi Everyone, I am looking for help. I am needing to get the equivalent value of token B compared to Token A. However, the issue comes if Token B does not have a pool with Token A. How do I find the quickest path from token B to A. Example. If I need to find the equivalent value of DAI to Ether (for argument's sake there is no DAI/ETH pool). How do I do this?","",""
"788838189683048468","captainwoof.official","13/05/2022 5:45 pm","Anyone from Uniswap here, need help.

Calling `mint` on `nonfungiblePositionsManager` causes a revert without any error string.

What can be the reasons for this?","",""
"886998554890100786","SuperSizeMe#0887","14/05/2022 8:09 pm","need code examples.  there are many reasons it could fail","",""
"886998554890100786","SuperSizeMe#0887","14/05/2022 8:17 pm","https://docs.uniswap.org/sdk/guides/auto-router","",""
"886998554890100786","SuperSizeMe#0887","14/05/2022 10:39 pm","To add liquidity you do not need to be the owner: https://github.com/Uniswap/v3-periphery/blob/a0e0e5817528f0b810583c04feea17b696a16755/contracts/NonfungiblePositionManager.sol#L198

Note that it's missing the isAuthorizedForToken check that decreaseLiquidity has: https://github.com/Uniswap/v3-periphery/blob/a0e0e5817528f0b810583c04feea17b696a16755/contracts/NonfungiblePositionManager.sol#L261

This makes sense.  If someone wants to add money to your liquidity position, that costs you 0 and you just reap more fees.  But letting someone remove liquidity from your position or close the position without your permission makes no sense","",""
"605819235142467597","kerwan.","15/05/2022 9:36 pm","Hi, I am trying to create a pool for USDC and a custom ERC20 token.  When initializing the pool I get an error with the result 'R'
```
    function createPopCoin(string memory name, uint256 totalSupply) public {
        PopCoin popCoin = new PopCoin(name, msg.sender, totalSupply);
        PopCoinSwap popCoinSwap = new PopCoinSwap(
            _uniswapRouter,
            address(popCoin)
        );

        _popCoins.push(popCoin);
        _popCoinSwaps.push(popCoinSwap);

        IUniswapV3Factory factory = IUniswapV3Factory(address(0x1F98431c8aD98523631AE4a59f267346ea31F984));
        address pool = factory.createPool(address(popCoin), address(0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48), 3000);
        poolAddr = pool;

        IUniswapV3Pool pool = IUniswapV3Pool(pool).initialize(0);

        emit PopCoinCreated(popCoin);
    }
```

I am completely new to Uniswap so I am maybe far away of what I have to do","",""
"595460255245139968","samgarcia","16/05/2022 2:56 am","Hi all! I'm writing my first smart contract to use Uniswap to swap some tokens and using Mumbai Testnet w/ Hardhat. But I'm getting my transactions failing because of the approval not being correct :samshock: 

```
function swapExactInputSingle(address tokenAddressIn, uint256 amountIn, address tokenAddressOut) external returns (uint256 amountOut) {

    IERC20(tokenAddressIn).approve(address(swapRouter), amountIn);
    
    TransferHelper.safeTransferFrom(
            tokenAddressIn,
            msg.sender,
            address(this),
            amountIn
    );

   TransferHelper.safeApprove(tokenAddressIn, address(swapRouter), amountIn);

    ISwapRouter.ExactInputSingleParams memory params =
            ISwapRouter.ExactInputSingleParams({
                tokenIn: tokenAddressIn,
                tokenOut: tokenAddressOut,
                fee: poolFee,
                recipient: msg.sender,
                deadline: block.timestamp,
                amountIn: amountIn,
                amountOutMinimum: 0,
                sqrtPriceLimitX96: 0
            });

    amountOut = swapRouter.exactInputSingle(params);
}
```
https://mumbai.polygonscan.com/tx/0x4a1be5f543693811f49b895ee831e616a05e2f33a6be0c002f99e9e97f4519e1
I think it's the `IERC20(tokenAddressIn).approve(address(swapRouter), amountIn);` line but I'm not sure. I was getting an STL and SA error before adding the IERC approval method. Any ideas? Thanks!","",""
"471357824299958273","crypto_rachel","17/05/2022 6:32 am","you have two approvals in the contract, not needed, only the second
you will have to manually approve your own contracts address to spend tokens from msg.sender
https://discord.com/channels/597638925346930701/849513079792336977/851721460543914035","",""
"402357840469164040","letters4907","17/05/2022 7:12 am","hello everyone, i have a question about the sqrtPriceX96 calculation in the uiswap v3 pool contract. i found this guide (https://docs.uniswap.org/sdk/guides/fetching-prices), which gives a formula for how to derive a ratio from sqrtPriceX96

I implemented this myself, and am getting these outputs for some mainnet pools:

```
usdc/eth 0.05% SqrtPriceX96: 1758582669866665179230541653,   price: 0.0004926817,  reciprocal: 2029.7081211504
usdc/dai 0.01% SqrtPriceX96: 79229319787363362464423,        price: 0.0000000000,  reciprocal: 999970786959.9233398438
usdc/dai 0.05% SqrtPriceX96: 79228098875206400916719,        price: 0.0000000000,  reciprocal: 1000001606477.6108398438
 rpl/eth 0.3%  SqrtPriceX96: 790284174452644601606294549722, price: 99.4964081703, reciprocal: 0.0100506141
```

ie, for the usdc/eth 0.05% pool, it's calculating the eth price at 2029 usdc, which seems right. and for the rpl/eth 0.3% pool, it's calculating a RPL price of 99.496 RPL per wth, which again sounds right

but the usdc/dai price is way off, for both the 0.05% pool and for the 0.01% pool!","",""
"402357840469164040","letters4907","17/05/2022 7:13 am","it appears to be ""correct"" but scaled by 10^-12","",""
"402357840469164040","letters4907","17/05/2022 7:14 am","is there something i'm missing that would account for this mystery scale?","",""
"471357824299958273","crypto_rachel","17/05/2022 7:24 am","you have to take the difference in the decimals of each token, I have a basic web3 example in #üíª‚îÇdev-chat  pins","",""
"471357824299958273","crypto_rachel","17/05/2022 7:25 am","https://discord.com/channels/597638925346930701/607978109089611786/943374038162616370","",""
"471357824299958273","crypto_rachel","17/05/2022 7:27 am","even more basic example of WETH/usdc pool
https://discord.com/channels/597638925346930701/607978109089611786/958642561197678602","",""
"402357840469164040","letters4907","17/05/2022 7:29 am","i didn't consider the decimals, thanks","","üëç (1),np (1)"
"402357840469164040","letters4907","17/05/2022 7:33 am","i have one more question - in the tick data, i'm not quite sure what the difference is between net liquidity and gross liquidity. i've seen a few comments in the contract code on what they are but i think i need a dumbed down description üòú","",""
"471357824299958273","crypto_rachel","17/05/2022 7:42 am","tbh, not sure where or how they are using that. Can you share example location
but there are differences in liquidity from ticks at the tick spacing, since anyone can supply LQ at any tick range based on the tick spacing
each tick is a valid price, but users are only able to supply LQ at the ticks that are spaced by the tick spacing
I have a little bit about ticks in the #üíª‚îÇdev-chat  pins","",""
"402357840469164040","letters4907","17/05/2022 7:44 am","https://etherscan.io/address/0xbfd8137f7d1516D3ea5cA83523914859ec47F573#code#F3#L9 i'm calling the ticklens contract to get liquidity data. the return value is a struct containing the tick, and then two numbers called ""liquidity net and liquidity gross""","",""
"402357840469164040","letters4907","17/05/2022 7:45 am","the PopulatedTick struct in ITicklens.sol","",""
"402357840469164040","letters4907","17/05/2022 7:45 am","i'm not quite clear on what the semantics of those 2 numbers are","",""
"402357840469164040","letters4907","17/05/2022 7:45 am","or what units they're in or etc","",""
"471357824299958273","crypto_rachel","17/05/2022 7:53 am","~~so not 100% would have to dig deeper, but I'm pretty sure that's the difference in between the liquidity in that tick (net) and the total amount in contract all ticks (gross)~~","",""
"402357840469164040","letters4907","17/05/2022 7:59 am","i got the decimal difference integrated into the code, and that fixed my price decoding problem, thanks @Crypto_Rachel","","np (1)"
"471357824299958273","crypto_rachel","17/05/2022 8:28 am","```// the total position liquidity that references this tick
uint128 liquidityGross;
// amount of net liquidity added (subtracted) when tick is crossed from left to right (right to left),
int128 liquidityNet;```","",""
"928069437989457952","WoellaM#1359","20/05/2022 9:41 am","Does anyone know why liquidity pools that trade same cryptopairs, but at different fee levels, co-exist? What is the economic reasoning behind this? #ü¶ÑV3","",""
"471357824299958273","crypto_rachel","20/05/2022 9:41 am","no need to post to multiple rooms","",""
"471357824299958273","crypto_rachel","20/05/2022 9:43 am","Just allows people to supply at a level that may be more tempting to the trader, lower fees are good, and then when they are traded other fee tiers become better trade","",""
"928069437989457952","WoellaM#1359","20/05/2022 10:06 am","Allright, quite new with discord so thats why","","np (1)"
"928069437989457952","WoellaM#1359","20/05/2022 10:06 am","I don‚Äôt fully understand what you are saying, could you elaborate a bit?","",""
"471357824299958273","crypto_rachel","20/05/2022 10:09 am","Supplying multiple fee tiers allows for some who want higher lp fees , and allows others to be more competitive with lower fees","",""
"966584841963458641","fankw1#5572","20/05/2022 3:13 pm","function convertExactUsdcToWeth(uint256 UsdcAmount, uint256 WethAmount) external {
    //require(msg.value > 0, ""Must pass non 0 ETH amount"");

    uint256 deadline = block.timestamp + 15; // using 'now' for convenience, for mainnet pass deadline from frontend!
    address tokenIn = usdctoken;
    address tokenOut = WETH9;
    //address tokenOut = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
  //  uint24 fee = 3000;
    address recipient = address(this);
    //address recipient = address(this);
    uint256 amountIn = UsdcAmount;
    //uint256 amountOutMinimum = 1;
    uint256 amountOutMinimum = WethAmount;
    uint160 sqrtPriceLimitX96 = 0;
    
    usdcerc20.transferFrom(msg.sender, address(this), UsdcAmount);
    //TransferHelper.safeApprove(FAI, address(0xE592427A0AEce92De3Edee1F18E0157C05861564), );
    usdcerc20.approve(address(UNISWAP_ROUTER_ADDRESS), type(uint256).max);
    ISwapRouter.ExactInputSingleParams memory params = ISwapRouter.ExactInputSingleParams(
        tokenIn,
        tokenOut,
        fee,
        recipient,
        deadline,
        amountIn,
        amountOutMinimum,
        sqrtPriceLimitX96
    );

    uniswapRouter.exactInputSingle(params);
      
  }
the contract call cannot be exchanged for eth ,that can only be exchanged erc20 token(weth)","",""
"595460255245139968","samgarcia","21/05/2022 9:35 pm","Thanks I will check it out!","","np (1)"
"757313921504772167","josh.kokatnur#6788","22/05/2022 1:33 pm","Hi, we are trying to mint a LP position via smart contract and currently are testing on Rinkeby; the transaction is reverting w/ no error code, here is our function call if anyone could give advice:
```bash
        INonfungiblePositionManager.MintParams memory params = INonfungiblePositionManager.MintParams({
            token0: _token0,
            token1: _token1,
            fee: poolFee,
            tickLower: TickMath.MIN_TICK,
            tickUpper: TickMath.MAX_TICK,
            amount0Desired: amount0ToMint,
            amount1Desired: amount1ToMint,
            amount0Min: 0,
            amount1Min: 0,
            recipient: address(this),
            deadline: block.timestamp + 60
        });

        
        nonfungiblePositionManager.mint(params);
```
In addition, some related questions:
Is there a specific degree of precision we need to meet w/ our ratio of amount0Desired to amount1Desired?
For reference, we have also created our own pool of fDAI/DAI, with a 1/1 ratio, and calling mint with that token pair is still reverting with a 1/1 input of tokens.

If anyone has experienced a similar issue or could give any help, that would be greatly appreciated, thanks","",""
"402357840469164040","letters4907","23/05/2022 11:41 am","not sure if you're still dealing with this, but i had the revert-without-error problem, and it turns out there are 2 different swap routers for uniswap v3 floating out there, an old one and a new one. you could be calling the old one with the ABI for the new one or vice versa","","üëë (1)"
"471357824299958273","crypto_rachel","23/05/2022 12:33 pm","So there is a ratio in v3 when using ranges, when it's full range its basically the same as v2 with the x*y=K constant, and 1 for 1 pools are easy as it's 1 to 1 LQ

your likely needing to implement NFT transfer code
```
function onERC721Received(address, address, uint256, bytes memory) public returns (bytes4) {
        return this.onERC721Received.selector;
    }```
and if you want to control/remove it
```
function Rnft(uint256 nftID,address GoTo) public onlyOwner {
        IERC721(Unft).safeTransferFrom(address(this),GoTo,nftID);
    }```","",""
"757313921504772167","josh.kokatnur#6788","24/05/2022 9:47 am","Thank you guys for the responses! Our contract already implements the IERC721Receiver interface and we are using the NonfungiblePositionManager address from the docs: 0xC36442b4a4522E871399CD717aBDD847Ab11FE88. We were able to provide liquidity pretty easily on V2 (using the same parameters), so we may hold off on a V3 implementation for a bit. Do let me know if you have any other ideas though","",""
"471357824299958273","crypto_rachel","24/05/2022 11:30 am","Do you have approvals for both tokens in contract for NFT manager contract, share some more code","",""
"726521535770132556","artofkot","25/05/2022 8:55 pm","Hi all! Is there any simple web solution out there that allows me to execute the following if statement:
[if ETH price = X, then pull out my liquidity from UniV3]","",""
"757313921504772167","josh.kokatnur#6788","26/05/2022 9:20 am","We do approve both tokens for the NonfungiblePositionManager (refer to my last comment to check the contract address of this) using TransferHelper.safeApprove(). The current version of our contract on our repo is configured with uni v2, but here is a link to the last version where we were testing v3: https://github.com/hackmoney-superfluid-project/lp-automation-super-app/blob/28dc0cc3c67157d08739add5ceb88afb0a139944/uniswapFactory/contracts/UserPosition.sol - the code was somewhat messy at this phase, but the logic for this operation is almost entirely in our mintNewPosition() function (basically copied from the uniswap docs). Thanks again for your help","",""
"471357824299958273","crypto_rachel","26/05/2022 11:23 am","Does this contract hold the tokens you are trying to mint with?","",""
"471357824299958273","crypto_rachel","26/05/2022 12:00 pm","If the tokens aren't in the contract address then you would need the transferFrom's that's commented out, and approve that contract to spend manually from wallet holding

if the contracts are in the address, might need to run a test tx that will fail, to see where it's failing and hopefully get a error code returned","",""
"878990659514683393","Broad#8123","27/05/2022 3:03 am","Hello, everyone, I have researched uniswap contract recently. Please help my issue","",""
"757313921504772167","josh.kokatnur#6788","27/05/2022 9:22 am","I suppose I should have also mentioned that the tokens are already held by the contract, and we have not been able to get an error code on transaction fail (etherscan simply says 'fail') - We believe it is likely some small detail we are overlooking and are going to thoroughly review our implementation","",""
"471357824299958273","crypto_rachel","27/05/2022 9:41 am","just noticed the createDeposit in the erc721 bit, have you tried without, it looks like you have more areas than are returned 
```
returns (
            uint256 tokenId,
            uint128 liquidity,
            uint256 amount0,
            uint256 amount1
        )```","",""
"757313921504772167","josh.kokatnur#6788","27/05/2022 9:48 am","For testing purposes, we've gotten rid of all other code and can confirm it is reverting at the nonfungiblePositionManager.mint(params) call. We are currently testing on Rinkeby, do you think it may be worth a try switching to another testnet (or maybe even forking mainnet with ganache)?","",""
"471357824299958273","crypto_rachel","27/05/2022 9:50 am","Doesn't matter network really all will work the same - speed","",""
"471357824299958273","crypto_rachel","27/05/2022 9:57 am","well go through the code and remove the create Deposit
```
function onERC721Received(
        address operator,
        address,
        uint256 tokenId,
        bytes calldata
    ) external override returns (bytes4) {
        // get position information

        *********_createDeposit(tokenId);***************

        return this.onERC721Received.selector;
    }

    function _createDeposit(uint256 tokenId) internal {
        (
            ,
            ,
            address token0,
            address token1,
            ,
            ,
            ,
            uint128 liquidity,
            ,
            ,
            ,

        ) = nonfungiblePositionManager.positions(tokenId);

        // set the owner and data for position
        // operator is msg.sender
        deposits[tokenId] = Deposit({
            liquidity: liquidity,
            token0: token0,
            token1: token1
        });
    }
```
this should be continued in your mint like you had at one time
and verify your amount0 and amount1 to mint with the UI (will work on rinkeby) use the same values that the UI deposit LQ would
Best of luck with it","",""
"471357824299958273","crypto_rachel","27/05/2022 9:58 am","share a failed tx after","",""
"471357824299958273","crypto_rachel","27/05/2022 10:01 am","also the function
```
function onERC721Received(address, address, uint256, bytes memory) public returns (bytes4) {
        return this.onERC721Received.selector;
    }```
you don't need the names","",""
"471357824299958273","crypto_rachel","27/05/2022 10:01 am","not sure if it matters","",""
"757313921504772167","josh.kokatnur#6788","27/05/2022 10:05 am","Ok will give that a go, I'll also create a new branch to share my current changes","","üëç (2)"
"757313921504772167","josh.kokatnur#6788","27/05/2022 10:58 am","Ok I've just went on and created a new project by following the tutorial on the uniswap v3 docs: https://github.com/joshkokatnur/swap-example/blob/master/contracts/LiquidityExamples.sol. Here is the failing transaction (just a call to the mintNewPosition function): https://rinkeby.etherscan.io/tx/0xb43a10d99172c1f0acf442b720fd78f531b5b16c4f9571650046c52c0190d9da. The contract (https://rinkeby.etherscan.io/address/0xE728588AfE7744972eA96e828Dd052f0207723F6) has been funded with an amount greater than the two tokens that we are using to provide liquidity. Here is a successful transaction that I received after successfully minting a position w/ the same token pair through the uniswap website: https://rinkeby.etherscan.io/tx/0x7fd45535ef17b9fb535a49db3e21917c1080632318fdc32cc0843ca0927951cf. The token amounts in the contract were computed via the uniswap website after that initial successful transaction. I hope our team's confusion here is understandable","",""
"471357824299958273","crypto_rachel","27/05/2022 11:52 am","Ok So i was missing this cause I had already accounted for it in my max/min tick so instead of reading the contract again for the variables I was using mine 
The ticks need to be usable initialize-able ticks (was thinking that my code had the max, but I was already using max initialize-able ticks my apologies could have saved us both time)

usable/ initialize-able  ticks are divisible by the tick spacing so with the pool having a tick spacing of 60, the tick must be evenly divisible by it
quick math ==
tickU = (maxTick / tickSpacing) * tickspacing
tickL  = (minTick/ tickSpacing) * tickspacing

the tick ratios you're sending
```
0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffff27618   == -887272
0x00000000000000000000000000000000000000000000000000000000000d89e8   ==  887272
```
 the UI ticks
```
0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2764c   == -887220
0x00000000000000000000000000000000000000000000000000000000000d89b4   ==  887220
```","",""
"272222134305161226","0xjimmy","28/05/2022 7:52 am","Are there any active channels to discuss building on Uniswap?","",""
"272222134305161226","0xjimmy","28/05/2022 7:53 am","I'm trying to create a pool and add liq for a unit test but I've hit a brick wall trying to work out what tick and sqrt prices I need to provide
As far as I've seen there is no documentation or utils in the SDK for calculating these and no active channels to discuss","",""
"757313921504772167","josh.kokatnur#6788","28/05/2022 8:20 am","That got it working! Thanks for all the help. Some notes: 1) it doesn't seem that token amounts affect whether or not the transaction fails (although I assume an improper ratio would hurt the position) and 2) i've pushed my changes to the repo I mentioned in my previous comment if anyone is having the same issue","",""
"757313921504772167","josh.kokatnur#6788","28/05/2022 8:36 am","One more question - I'm still having trouble getting that code to work on the DAI/WETH pair, although it has worked on every other pair that I tested with. For reference, the transactions I previously shared were interacting with DAI/WETH. Here is a new failing transaction that uses the new tick calculations: https://rinkeby.etherscan.io/tx/0x7bd8c8264677d7fb2db5b2f10e796e54971ac316ccf8a08e1cf2f06a5b3afd17. Possibly you might see something here that I don't, thanks again","",""
"980094829939798086","Bapi#1012","28/05/2022 7:11 pm","Hello

Can someone help me with this error while importing AlphaRouter
import { AlphaRouter } from '@uniswap/smart-order-router'","",""
"980094829939798086","Bapi#1012","28/05/2022 7:12 pm","","https://cdn.discordapp.com/attachments/823968973753810945/980103783398912050/unknown.png",""
"752570582117384346","Tank#3683","30/05/2022 12:48 am","Hi all, I am facing an error while transferring my nft position to univ3 staker contract on polygon in an initialized incentive. The error is as follows:
       "" ERC721: transfer to non ERC721Receiver implementer""","",""
"752570582117384346","Tank#3683","30/05/2022 12:48 am","I tried to debug it but couldnt find a solution.. any sort of help would be appreciated","",""
"471357824299958273","crypto_rachel","30/05/2022 10:21 am","failed at the mint
~~looks like a different DAI token than the fDAI that you have coded as far as I see~~
¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø all I see is low amount, not sure","",""
"885740228181102592","cryptototalwar","01/06/2022 8:45 pm","hey guys","",""
"885740228181102592","cryptototalwar","01/06/2022 8:50 pm","I have an AI-trained trading bot that i connect to exchanges like Kucoin and Binance via an API, to automate my buy/sell orders. 

I want to enable this trading bot on Uniswap v3. This will be my first web3/defi project. Any documentation you can point me to or suggestions would be most helpful","",""
"342421846060171265","maneglegle#5491","01/06/2022 9:12 pm","https://docs.uniswap.org","",""
"342421846060171265","maneglegle#5491","01/06/2022 9:12 pm","everything is there","",""
"283790172045180928","_will_5","01/06/2022 10:07 pm","hey all, the alpha launch of Voltz Protocol - the first ever synthetic interest rate swap AMM (meaning you can trade rates with leverage) - is now live. Voltz was provided a Uniswap v3 Additional Use Grant following a governance vote. There are 3 stablecoin pools (aUSDC, aDAI, and cDAI) currently deployed, allowing traders to lock in a fixed rate of return, supply concentrated liquidity to earn fees, or trade variable rates with leverage. https://app.voltz.xyz/","",""
"951617750852333568","POPTWOPLZ#9771","03/06/2022 3:05 am","Mr f","",""
"400331718382452747","parashar","08/06/2022 4:09 pm","is there any whitepaper or docs, i can check?","","üëÄ (1)"
"471357824299958273","crypto_rachel","09/06/2022 1:35 am","https://uniswap.org/whitepaper-v3.pdf","",""
"400331718382452747","parashar","09/06/2022 2:26 am","I was asking about voltz protocol posted in original message","",""
"947797975227314208","mhamzza#3892","09/06/2022 4:59 pm","#üíª‚îÇdev-chat","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0xcf7ed3acca5a467e9e704c703e8d87f634fb0fc9>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0x9fe46736679d2d9a65f0992f2272de9f3c7fa6e0>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0x610178da211fef7d417bc0e6fed39f05609ad788>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0x0165878a594ca255338adfa4d48449f69242eb8f>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0xe0f463039b3cbb74a79aae755fb18d0ccf714105>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0x0165878a594ca255338adfa4d48449f69242eb8f>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:31 am","<https://etherscan.io/address/0x610178da211fef7d417bc0e6fed39f05609ad788>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:37 am","<https://etherscan.io/address/0x0165878a594ca255338adfa4d48449f69242eb8f>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:37 am","<https://etherscan.io/address/0xe0f463039b3cbb74a79aae755fb18d0ccf714105>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:37 am","<https://etherscan.io/address/0x0165878a594ca255338adfa4d48449f69242eb8f>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:37 am","<https://etherscan.io/address/0x610178da211fef7d417bc0e6fed39f05609ad788>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:38 am","<https://etherscan.io/address/0xcf7ed3acca5a467e9e704c703e8d87f634fb0fc9>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:38 am","<https://etherscan.io/address/0x9fe46736679d2d9a65f0992f2272de9f3c7fa6e0>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2022 1:38 am","<https://etherscan.io/address/0x610178da211fef7d417bc0e6fed39f05609ad788>","",""
"826805064836055040","johnguilding","14/06/2022 2:01 am","Can someone tell me how to calculate the `amountOutMin` parameter in the `swapRouter.exactInputSingle()` function using an onchain oracle? I've got a working uniswapV3 oracle that can retreive the price of a token and my V3 swap function works as expected. We are looking to get our code production-ready so need to calculate `amountOutMin`. I've attached a screenshot of the code - see TODO","https://cdn.discordapp.com/attachments/823968973753810945/986004885084450856/Screenshot_2022-06-13_at_21.29.11.png",""
"818944859443298314","Kaych#6158","14/06/2022 8:13 am","Hey guys - apologies if not the right place. My name is Keith from Exodus.com. We are adding ETH support to our Browser Extension Wallet this week and would like to know what method you use to integrate connectable wallet? i.e direct integration / web3-onboard / etc.... Thank üôè","",""
"947797975227314208","mhamzza#3892","14/06/2022 12:52 pm","Use Metamask extentsion and Web3.js  package in app to connect metamask with your app and initiate transaction from your app","",""
"154325300346355713","trayhardplay","15/06/2022 10:19 pm","Is anywhere some faq or example how to add metamask to uniswap widget?","",""
"154325300346355713","trayhardplay","15/06/2022 10:43 pm","By some reason when i'm putting provider from metamask (result of `await detectEthereumProvider()` (from package `'@metamask/detect-provider'`)) to the `provider` prop of SwapWidget it goes in some infinite loop by some reason (`Maximum call stack size exceeded`)","",""
"154325300346355713","trayhardplay","16/06/2022 12:49 pm","Anyone heeeeelp please!","",""
"718928768713883749","NanoSoul#0145","16/06/2022 3:44 pm","Hey, I am trying to understand how the swap fee applies. So for example, if I am in a pool with a 0.3% fee tier, and want to proceed with a swap between 2 tokens with 1:1 ratio so swapping 1000, I should expect to get in return 
a. 1000 * 0.3% 
b. 1000* 0.3% * protocol fee 
c. 1000 * protocol fee","",""
"684432642992504837","ack129#6956","16/06/2022 9:52 pm","Check out this repo which has an example of adding a basic provider for the widget. https://github.com/kristiehuang/uniswap-widget-playground","",""
"154325300346355713","trayhardplay","16/06/2022 9:54 pm","I actually right a minute ago figured out that it works in React properly, but I'm trying to make it work in Vue (using `vuera`) and it works unless am trying to change provider to metamask provider","",""
"456226577798135808","Deleted User","18/06/2022 4:57 am","Hi","",""
"836040289008877578","nanko.sol","21/06/2022 8:24 pm","can someone explain to me the key partners of Uniswap and how you have integrated with those projects?","",""
"159985870458322944","MEE6#4876","21/06/2022 8:24 pm","GG @nanko.sol, you just advanced to level 1!","",""
"347441557231632385","gradonsky","21/06/2022 8:33 pm","Guys üôå does maybe someone know if it's possible to add liquidity in V3 without the NonFundigblePositionManager?  ü§®
like directly to the LiquidityPool? 
bcs i found a function addLiquidity function in LiquidityManagement.sol which i copied + collect function in V3Pool
https://github.com/Uniswap/v3-core/blob/main/contracts/UniswapV3Pool.sol#L490","",""
"818944859443298314","Kaych#6158","22/06/2022 5:36 pm","we want the Exodus as a connetable wallet rather than customers needing to utilise the MM connection as it can be confusing to customers who are new to defi.

They may not understand they can connect to the app.

Do you have any info on how to get Exodus listed as a connectable wallet?","",""
"357119353566658562","syko6019","22/06/2022 9:17 pm","Hi, where can I find the deployed contract's address of the PositionValue library? 
contracts/libraries/PositionValue.sol
I want to call the functions in this library from my JavaScript codes to price an Uniswap V3 Liquidity NFT Token.","",""
"225788448961855488","huddy987","23/06/2022 5:15 am","Hi, can anyone explain why there is no Quoter on Optimism?","",""
"471357824299958273","crypto_rachel","23/06/2022 5:17 am","https://optimistic.etherscan.io/address/0x61ffe014ba17989e743c5f6cb21bf9697530b21e#code","",""
"225788448961855488","huddy987","23/06/2022 5:17 am","Oh thanks, I was confused because that contract is not verified on optimism","",""
"225788448961855488","huddy987","23/06/2022 5:17 am","Like how the router contract is verified","",""
"225788448961855488","huddy987","23/06/2022 5:18 am","Is there somewhere I can create an issue to verify all contracts on optimism?","",""
"471357824299958273","crypto_rachel","23/06/2022 5:19 am","","https://cdn.discordapp.com/attachments/823968973753810945/989316156923973662/unknown.png",""
"471357824299958273","crypto_rachel","23/06/2022 5:20 am","it was verified, not sure when, most of optimism wasn't reverifying after their glitch nocked out all the verified contracts","",""
"225788448961855488","huddy987","23/06/2022 5:21 am","Maybe I'm using the wrong terminology lol. But the contract has no public tag like the other uniswap contracts do xD For example see Uniswap Router vs. Uniswap Quoter:","https://cdn.discordapp.com/attachments/823968973753810945/989316739839954974/Screen_Shot_2022-06-22_at_5.50.47_PM.png,https://cdn.discordapp.com/attachments/823968973753810945/989316740154540052/Screen_Shot_2022-06-22_at_5.51.01_PM.png",""
"225788448961855488","huddy987","23/06/2022 5:21 am","makes it hard to find the quoter contract xD","",""
"471357824299958273","crypto_rachel","23/06/2022 5:22 am","üòÑ  never seen a name tag there for the uniswap contracts just above the read contract page ¬Ø\ (‚óâ‚Äø‚óâ) /¬Ø","",""
"225788448961855488","huddy987","23/06/2022 5:24 am","on L1 ETH all contracts have name tags as expected xd","",""
"225788448961855488","huddy987","23/06/2022 5:24 am","but anyways, I found it now so thanks üôÇ","",""
"471357824299958273","crypto_rachel","23/06/2022 5:25 am","ahh you mean the token tracker name not present on optimism","",""
"471357824299958273","crypto_rachel","23/06/2022 5:25 am","","https://cdn.discordapp.com/attachments/823968973753810945/989317659881533470/unknown.png",""
"225788448961855488","huddy987","23/06/2022 5:25 am","yes like beside contract overview","",""
"471357824299958273","crypto_rachel","23/06/2022 5:25 am","yeah not sure about that üòÑ","",""
"471357824299958273","crypto_rachel","23/06/2022 5:27 am","ahh so that would only be present on contracts that have tokenized the contract in a way","",""
"471357824299958273","crypto_rachel","23/06/2022 5:28 am","since quoter is just a contract no token name","",""
"225788448961855488","huddy987","23/06/2022 5:28 am","Waiittt the contract you sent me looks different than the one deployed on L1...","",""
"225788448961855488","huddy987","23/06/2022 5:28 am","https://etherscan.io/address/0xb27308f9f90d607463bb33ea1bebb41c27ce5ab6#code","",""
"225788448961855488","huddy987","23/06/2022 5:28 am","here's the one on L1","",""
"471357824299958273","crypto_rachel","23/06/2022 5:29 am","that would be the first version","",""
"471357824299958273","crypto_rachel","23/06/2022 5:29 am","I only use the v2 version","",""
"225788448961855488","huddy987","23/06/2022 5:31 am","really, should these deployment addresses be updated then? https://github.com/Uniswap/v3-periphery/blob/main/deploys.md","",""
"225788448961855488","huddy987","23/06/2022 5:31 am","look under quoter, address it sends me to is the quoter V1","",""
"225788448961855488","huddy987","23/06/2022 5:33 am","and this whole example leads to the V1 contract too https://docs.uniswap.org/sdk/guides/creating-a-trade","",""
"471357824299958273","crypto_rachel","23/06/2022 5:40 am","The UI still uses the old one, so not yet, there are many changes needed first. (also issue I was thinking of was for another contract not these)","",""
"225788448961855488","huddy987","23/06/2022 5:40 am","Ohhhh ok xD","",""
"225788448961855488","huddy987","23/06/2022 5:41 am","Thanks for answering my questions üòÑ","","np (1)"
"970763399694786610","catchercarl","23/06/2022 7:33 am","oh hey, I didn't see #‚òï‚îÇsdk-integrations when I posted in #üíª‚îÇdev-chat , posting again here:","",""
"970763399694786610","catchercarl","23/06/2022 7:33 am","Hi, I want to do V3 swaps from my smart contract.
A reference transaction is this: https://etherscan.io/tx/0xc9b84ff5722c27af740a71ededffb80531aca3efdd2bcd739a11e1b0640ff06d which went from the user's original token (DAI) to RAI to DC through the RAI-DC UniswapV3 Pool. Gas costs: ~200k.

Following the Uniswap guide ""implementing a [V3] Swap"" I wrote a function for the contract to do this:

```
//a couple require checks before this, that's all
  ISwapRouter.ExactInputParams memory params =
        ISwapRouter.ExactInputParams({
            path: abi.encodePacked(WETH, standardPoolFee, RAI, standardPoolFee, DC), //these 3 are addresses
            recipient: address(this),
            deadline: deadline,
            amountIn: amountIn,
            amountOutMinimum: amountOutMin
        });

    swapRouter.exactInput(params);

```

Hardhat estimates a whopping ~800k in gas (!!)

So I started looking at how I could swap directly with the pool and got into a rabbit hole of needing to calculate `Q64.96` values re:

https://ethereum.stackexchange.com/questions/98685/computing-the-uniswap-v3-pair-price-from-q64-96-number

```
function swap(
     address recipient,
     bool zeroForOne,
     int256 amountSpecified,
     uint160 sqrtPriceLimitX96,
     bytes data
   ) external override noDelegateCall returns (int256 amount0, int256 amount1)
```

This is the path I am currently exploring.. it looks like I will need to calculate the `sqrtPriceLimitX96` offchain, pass into the function call where it works sort of like an ""amountOutMin""","",""
"970763399694786610","catchercarl","23/06/2022 7:33 am","so my 2 questions are..
1) How can I achieve a low-gas transaction, similar to the 200k linked earlier (the multicall one presumably generated from the uniswap website), with the potential optimization that I know the pools I'm going through? (is `sqrtPriceLimitX96` calculation the way to go?)
2) What should I be using to achieve the best value (lowest price impact) - is autorouter the way to go here?","",""
"970763399694786610","catchercarl","27/06/2022 2:34 am","so.. ended up using V2 router for our dumps","",""
"970763399694786610","catchercarl","27/06/2022 2:34 am","but would love to know about the efficient V3 route","",""
"970763399694786610","catchercarl","27/06/2022 2:34 am","it looks like you _can_ swap with the pool directly, if you implement the callback.","",""
"548435317330280468","izhelyazkov","27/06/2022 11:00 pm","Hey guys, I found an error - not sure if bug or not in the `LiquidityAmounts` library `getLiquidityForAmount0` function.
Calling the function with these parameters:
```
{
  ""sqrtRatioAX96"": ""84095315378351358005511"",
  ""sqrtRatioBX96"": ""1461300573427867316570072651998408279850435624081"",
  ""amount0"": ""5000000000000000000""
}
```

reverts on casting to uint128 as seen here:
https://dashboard.tenderly.co/tx/mainnet/0x5ac143a6e4b454d47f1b1388ed1f90fe86b6ce98ab045cbee55fed3cce46dc47/debugger?trace=0.2.0.1.0.0
Can someone tell me why this happens ?","",""
"797000848047472661","ake1175","28/06/2022 9:45 am","Is it safe for the address `0xE592427A0AEce92De3Edee1F18E0157C05861564` on optimism?
contract was not verified","",""
"225788448961855488","huddy987","28/06/2022 9:46 am","This is a question for @Crypto_Rachel I think üòÑ","",""
"225788448961855488","huddy987","28/06/2022 9:46 am","Maybe we can make a ticket somewhere on GitHub?","",""
"797000848047472661","ake1175","28/06/2022 9:47 am","I just ask in the dev-chat. I'm not sure is it  right channel?","",""
"797000848047472661","ake1175","28/06/2022 9:48 am","do you guy integrate swap with `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45` or `0xE592427A0AEce92De3Edee1F18E0157C05861564`?","",""
"797000848047472661","ake1175","28/06/2022 9:49 am","I got the answer already
```
Yes this is the V3 uniswap router, safe, just optimism had issues and lost the verified contracts, this one hasn't been fixed yet
```","","üëç (2)"
"225788448961855488","huddy987","28/06/2022 9:51 am","I think you can do swap with either, I think Rachel said one is the new version","","üíØ (1)"
"225788448961855488","huddy987","28/06/2022 9:51 am","If you read the thread I had earlier","","üëå (1)"
"394071351159422978","davidhanks","29/06/2022 1:59 pm","Hey guys. I work at Unipilot, a uni v3 Liquidity Optimizer. We've applied to be listed on the Uniswap ecosystem page a few times over the last 6 months but it hasn't been listed yet. Could you help look into this or explain any reason why? Our competitors are all listed and some of them are widely considered to have rugged or soft rugged","",""
"970996028616634418","sergen1995","29/06/2022 4:25 pm","Hi all (I just deleted this post from the wrong channel to post it here), 

I am using the @uniswap/smart-order-router package and I want to swap tokens. 

const route = await router.route(...)

this route function returns null, as soon as the from- or to-Token is the ETH null address (0xeeee..., so if I want to swap ETH to X or X to ETH), is there any example showing how you would swap ETH to X? 

I didn't find anything in the docs 
Or does it only work with WETH and I have to stake my ETH first? 

Thanks a lot!","",""
"471357824299958273","crypto_rachel","30/06/2022 10:27 am","ETH is all converted to weth all uniswap v2 & v3 pools work on weth","",""
"970996028616634418","sergen1995","30/06/2022 1:28 pm","Is there a possibility do to all in one transaction using the sdk (V3)? Or do I have to create a function to first wrap ETH and then do the swap after the first function was successful?","",""
"225788448961855488","huddy987","01/07/2022 9:19 am","Hi guys, how can I get the balances of both ERC20 tokens in a given uniswap pool in ts/js?","",""
"968786090033029130","ICSilva#0258","01/07/2022 7:48 pm","I have a doubt, when should i use addLiquidity and addLiquidityETH when interacting with the uniswap protocol, is it when ""weth"" is involved in one of the liquidity tokens to add or when the pool it self is weth? Sometimes i saw working with both addLiquidity with weth involved which is making me more confuse... Can someone help me i have been around for day's trying to figure it out üò¶","",""
"416793902549565441","crazy6440","03/07/2022 8:49 pm","Hi,  in exactInput function  [  path:  abi.encodePacked(DAI, poolFee, USDC, poolFee, WETH9) ]
how can i generate path with javascript?","",""
"369184527286927371","mauricedesaxe","04/07/2022 5:38 pm","Hello there,

I'm trying to run the following code as shown in the v3 docs:
```
ISwapRouter.ExactInputParams memory params = ISwapRouter
    .ExactInputParams({
        path: abi.encodePacked(
            DAI,
            POOL_FEE,
            USDC,
            POOL_FEE,
            token
        ),
        recipient: address(this),
        deadline: block.timestamp,
        amountIn: amountToSwap,
        amountOutMinimum: 0
    });

swapRouter.exactInput(params);
```

But it throws the following error:
```
     Error: Transaction reverted without a reason string
    at <UnrecognizedContract>.<unknown> (0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45)
    at Bluchip.invest (contracts/Bluchip.sol:71)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async HardhatNode._mineBlockWithPendingTxs (node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:1773:23)
    at async HardhatNode.mineBlock (node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:466:16)
    at async EthModule._sendTransactionAndReturnHash (node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:1504:18)
    at async HardhatNetworkProvider.request (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:118:18)
    at async EthersProviderWrapper.send (node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)
```


I've been trying to figure it out on my own since yesterday and can't quite put my finger on it. As far as I know, I've been following the docs well. Also, I'm trying to run this on a polygon fork. 

There's a lot of other information that I could be sharing, but I don't want to bloat this chat more than I'm already doing unless there are more specific questions. Any potential pointers?","",""
"843155325619535912","Etherscan Bot#5753","04/07/2022 5:38 pm","<https://etherscan.io/address/0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45>","",""
"760279702019244090",".sirgarfield","05/07/2022 11:00 pm","Hi, I am trying to integrate flashswap from v2 and v3 and I found the documentation is a little inconsistent.

From v2, flashswap means that you borrowing token A from a pair and payback token B from the same pair at the end.

However for v3,  under the `implement flashswap section` from documentation,  it talks about using `poo.flash` to trigger  `uniswapV3FlashCallback`.

Is this more like a flashloan  (repayment must be made in the same token )instead of flash swap where user can withdraw both tokens from the pool ? 

I look at v3pool and I found v2 flashSwap behavior (borrow token  A from a pair and pay back token B) seems to be available in v3 
https://github.com/Uniswap/v3-core/blob/main/contracts/UniswapV3Pool.sol#L776
via  `uniswapV3SwapCallback`


My questions:

1. Is v2 flashswap function available in v3 as well ?  To use it, I just have to bypass the swapRouter and directly invoke swap on Pool

2. Why is there such inconsistency in what a flashswap means between v2 and v3 ?","",""
"932587474826444841","arjunwhabi#3460","07/07/2022 12:22 am","Hello, Could some one please guide me to the correct documentation:
I have an existing Liquidity Pool on Uniswap ETH - USDT. 

I want to update the range(tickLower and tickUpper) of that Pool.

How can I do that through the Uniswap API ? Which function to use?","",""
"456226577798135808","Deleted User","08/07/2022 12:10 pm","Hi all,
 I am trying to implement a ERC20 token which will debit some fee in ETH on Uniswap Buy and Sell. Is there any way to implement this?

Currently I have tried a method. On ETH - ERC20  swap inside the transfer function I am debiting fee in terms of ERC20 and saving the amount in variables. Later when the owner required he can call a function. This function will swap ERC20 for WETH and send it to the owner after unwrapping to ETH. 

But in case of sell, that is ERC20 - ETH, this logic is not working, since fee debiting is happening from the calculated ERC20 amount that supposed to go to the pool.

So is there any solution to this problem? Any ideas or examples  or documentation?","",""
"471357824299958273","crypto_rachel","09/07/2022 6:50 am","sorry I kept forgetting about this room 
I don't know the SDK very well, but I assume there is a way","",""
"471357824299958273","crypto_rachel","09/07/2022 6:51 am","the only way to change a tick range is to remove liquidity and make a new position","",""
"389942050260516887","0x4li","21/07/2022 6:13 pm","Hello. I am creating a trading bot using web3 and wanted to buy a token address instantly after script received token address :","",""
"389942050260516887","0x4li","21/07/2022 6:13 pm","","https://cdn.discordapp.com/attachments/823968973753810945/999657990657413161/web3.js","‚úÖ (1)"
"389942050260516887","0x4li","21/07/2022 6:14 pm","But here the results : https://etherscan.io/tx/0xc744cd951ca48489e7d89eb418cafea29ba5e08bea615fdd31f8e28b4059f423 https://etherscan.io/tx/0xc88c8b76bf5bc2d0f6fd8c291437f0d482a5585ef7796ced3a35dd3f2f09b80b https://etherscan.io/tx/0xc5c59e23d047a8b6a6fe7fb25bc9abd22c1fbc9bec794f61e9ed7defedc0cbbf

Really stucked at this error. There is no explanation about fail so i really don't know what is wrong in this transaction.","",""
"418625795880386570","0xiceman","21/07/2022 11:11 pm","I've also got this question - seems like we lost some functionality on v3 with the ability to repay the pool in tokenB instead of tokenA (assuming we flash borrowed tokenA). 

Only thought I've been trying is flashing tokenA ... do some intermediary stuff, end up with tokenB, then swap tokenB back for tokenA + fees - and deliver tokenA+fees back to the pool, and hope that I end up with some remainder in tokenB","",""
"418625795880386570","0xiceman","21/07/2022 11:12 pm","but.... this is super inefficient, have been trying to figure out how to replicate the v2 swap using v3, but i'm not sure exactly how to calculate the sqrtPriceLimitX96 param in the swap function","",""
"418625795880386570","0xiceman","21/07/2022 11:18 pm","but i think you can just set that sqrtPriceLimitX96 to 0 and it'll actually just ignore it.... and process a swap with the callback function similarly to v2.... (gotta play around with it)","",""
"740632817293328394","cool.nft","22/07/2022 7:10 am","Hey, how I can get aave/eth price from v3?","",""
"740632817293328394","cool.nft","22/07/2022 7:29 am","I found that Aave doesn't exist in the uniswap v1 exchange.","",""
"740632817293328394","cool.nft","22/07/2022 7:30 am","I am not sure how I can get aave/eth price.","",""
"471357824299958273","crypto_rachel","22/07/2022 7:33 am","https://info.uniswap.org/#/pools/0x5ab53ee1d50eef2c1dd3d5402789cd27bb52c1bb","",""
"471357824299958273","crypto_rachel","22/07/2022 7:34 am","If you want to programmatically get price I have examples in #üíª‚îÇdev-chat  Pins","",""
"740632817293328394","cool.nft","22/07/2022 7:34 am","Can you please share the pin message link?","",""
"471357824299958273","crypto_rachel","22/07/2022 7:35 am","Well there are multiple but here is one
https://discord.com/channels/597638925346930701/607978109089611786/979542357877862440","",""
"843155325619535912","Etherscan Bot#5753","22/07/2022 7:35 am","","",""
"740632817293328394","cool.nft","22/07/2022 7:37 am","is there any way to get price in solidity?","",""
"740632817293328394","cool.nft","22/07/2022 7:37 am","without additional oracle integration.","",""
"471357824299958273","crypto_rachel","22/07/2022 7:38 am","So A Flash loan is token0 to token0
that's a basic swap, which can be done multiple ways, if you do a swap in V3 direct to pool you do need a sqrtPriceLimit which can be max or min based on direction, but using the Routers you can use 0 as the router sets max or min","",""
"471357824299958273","crypto_rachel","22/07/2022 7:40 am","doing price in contract is very dangerous as if not done correctly can cause a HUGE front run
but there is a contract that was made for this ‚ö†Ô∏è  USE AT OWN RISK
https://github.com/sandrones/V3-Quoter/blob/master/contracts/UniswapV3Quoter.sol","",""
"740632817293328394","cool.nft","22/07/2022 7:40 am","got it, thank you","","np (1)"
"740632817293328394","cool.nft","22/07/2022 7:41 am","one more question, uniswap v2 router is providing a function called `getAmountOut`.","",""
"740632817293328394","cool.nft","22/07/2022 7:42 am","and this is exactly what I wanted but I have no idea on how to get token paths.","",""
"471357824299958273","crypto_rachel","22/07/2022 7:44 am","thats the easiest way, although it's v2 price not v3, but they are usually very close
path is
[tokenInputAddress, tokenOutputAddress]","",""
"471357824299958273","crypto_rachel","22/07/2022 7:44 am","using WETH for ETH","",""
"740632817293328394","cool.nft","22/07/2022 7:45 am","so if I get out amount for aave, it should be [WETH, aave]?","",""
"471357824299958273","crypto_rachel","22/07/2022 7:48 am","yes, you would use the addresses, and for getAmountOut the amount would be the amount of Weth like 1 eth == 1000000000000000000","",""
"740632817293328394","cool.nft","22/07/2022 7:48 am","very nice!","",""
"740632817293328394","cool.nft","22/07/2022 7:48 am","if I use v2 router, I must use v2 router for swapping as well, no?","",""
"471357824299958273","crypto_rachel","22/07/2022 7:49 am","yeah as the price wouldn't be accurate for V3","",""
"740632817293328394","cool.nft","22/07/2022 7:49 am","Great @Crypto_Rachel , thank you!!!","","np (1)"
"693141526410297447","Mohsin Ishtiaq#0899","22/07/2022 10:34 am","I want to know how uniswap takes the signature for the approval of ERC20 and then performs the approval and swap in a single transaction?","",""
"721834621167468576","armutbey","22/07/2022 4:11 pm","Hi guys, I would like to use the uniswap multicall function . But I could not find an example of this . I am using web3py .","",""
"1000017456334635140","L90#8538","22/07/2022 6:22 pm","Hi,
I have a similar problem, tell me, did you manage to solve your problem?","",""
"418625795880386570","0xiceman","23/07/2022 2:26 am","right but if i target the router I can't flash loan","",""
"418625795880386570","0xiceman","23/07/2022 2:27 am","so I was thinking that with the v3 direct swap call, I can get token0 optimistically - process my callback function which does some stuff and then I end up with token1 and repay the pool","",""
"418625795880386570","0xiceman","23/07/2022 2:27 am","but... how do i know what that sqrtPriceLimitX96 should be, need to figure that out","",""
"418625795880386570","0xiceman","23/07/2022 2:28 am","https://github.com/Uniswap/v3-core/blob/412d9b236a1e75a98568d49b1aeb21e3a1430544/contracts/UniswapV3Pool.sol#L776","",""
"418625795880386570","0xiceman","23/07/2022 2:28 am","ideally I can just go direct to here haha","",""
"418625795880386570","0xiceman","23/07/2022 2:29 am","but there's so much math in the tick counting and ensuring liquidity at each incremental level that it does make using v3 for integrations far more complicated than v2","",""
"471357824299958273","crypto_rachel","23/07/2022 7:55 am","you don't have to have a sqrtPriceLimit, you are able to use Max / Min based on direction of swap
```
bool zeroForOne = tokenIn < tokenOut;
(zeroForOne ? TickMath.MIN_SQRT_RATIO + 1 : TickMath.MAX_SQRT_RATIO - 1)```","",""
"994207457230454976","uvuv osas#3113","23/07/2022 1:31 pm","Hello. I'm using V3 SDK to calculate my positions. i have a problem is how can i confirm my position is in a active range. i dont know how to describe it . just wanna more fees","",""
"994207457230454976","uvuv osas#3113","23/07/2022 1:32 pm","const positionDetails = await positionManagerContract.positions(tokenIdOfPos);","",""
"994207457230454976","uvuv osas#3113","23/07/2022 1:32 pm","I got my  position's tickLower,tickUpper.","",""
"750749592303304725","srikaryaganti","25/07/2022 11:58 am","you can get the current tick of the pool and compare it with the upper and lower bound of your position","",""
"750749592303304725","srikaryaganti","25/07/2022 12:01 pm","```
const getPoolState = async ({ poolContract }) => {
  const [liquidity, slot] = await Promise.all([ poolContract.methods.liquidity().call(), poolContract.methods.slot0().call() ]);

  return {
    liquidity,
    sqrtPriceX96: slot[0],
    tick: slot[1],
    observationIndex: slot[2],
    observationCardinality: slot[3],
    observationCardinalityNext: slot[4],
    feeProtocol: slot[5],
    unlocked: slot[6],
  };
}
```

```
const getPoolStateFromAddress = async ({ poolAddress, web3 }) => {
  const poolContract = new web3.eth.Contract(IUniswapV3PoolABI, poolAddress);
  return getPoolState({ poolContract });
}
```

the tick shown in response is what you are looking for","",""
"994207457230454976","uvuv osas#3113","25/07/2022 3:18 pm","Nice, i finally understood, thanks","",""
"994207457230454976","uvuv osas#3113","25/07/2022 3:19 pm","const poolAddress = computePoolAddress({ factoryAddress: Global.FACTORY_ADDRESS, tokenA, tokenB, fee: feeAmount })
  const poolContract = new ethers.Contract(poolAddress, POOL_STATE_INTERFACE, Global.provider)
  const slot0Res = await poolContract.slot0()
  const liquidityRes = await poolContract.liquidity()

  // await getPoolStateFromAddress(poolAddress)

  const pool = new Pool(tokenA, tokenB, feeAmount, slot0Res.sqrtPriceX96, liquidityRes, slot0Res.tick)","","üëçüèª (1)"
"228684973010452480","anmol345#5623","26/07/2022 6:14 am","hi everyone. does anyone have experience using the tickBitmap with python? I'm having some trouble understanding the values","",""
"891653791894601738","web3ramble","26/07/2022 3:04 pm","Hi team, I want to interacted with uniswapV3 router contract through etherscan on goerli network(https://goerli.etherscan.io/address/0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45#writeContract);","",""
"891653791894601738","web3ramble","26/07/2022 3:05 pm","When I directly use the exactInputSingle method, but get wrong response, what‚Äôs wrong with my input format?","",""
"891653791894601738","web3ramble","26/07/2022 3:06 pm","","https://cdn.discordapp.com/attachments/823968973753810945/1001422733235732531/2022-07-26_5.33.57.png",""
"891653791894601738","web3ramble","26/07/2022 3:11 pm","https://goerli.etherscan.io/address/0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45#code#F15#L10","",""
"750749592303304725","srikaryaganti","26/07/2022 9:23 pm","can you share code snippets? I can try and help you understand what happened","",""
"891653791894601738","web3ramble","27/07/2022 3:25 pm","thanks much. the above problem is solved. but have a new error: ""execution reverted: SPL"",  when i debug  with test contract TestUniswapV3Callee.sol","",""
"891653791894601738","web3ramble","27/07/2022 3:25 pm","https://github.com/Uniswap/v3-core/blob/main/contracts/test/TestUniswapV3Callee.sol","",""
"891653791894601738","web3ramble","27/07/2022 3:28 pm","I depoloy TestUniswapV3Callee.sol on the goerli test network, and want to interacte with pool(weth-uni-0.03-0x4d1892f15B03db24b55E73F9801826a56d6f0755) to swap weth for some uni","",""
"843155325619535912","Etherscan Bot#5753","27/07/2022 3:28 pm","<https://etherscan.io/address/0x4d1892f15B03db24b55E73F9801826a56d6f0755>","",""
"891653791894601738","web3ramble","27/07/2022 3:29 pm","this is my input, I check no error here, but execution reverted: SPL","https://cdn.discordapp.com/attachments/823968973753810945/1001790927318286396/2022-07-27_5.58.35.png",""
"891653791894601738","web3ramble","27/07/2022 3:32 pm","SPL: Square root price limit, I dont know what is meaning, when I call pool.swap() method,  seems like  parameter sqrtPriceLimitX96 is wrong","",""
"891653791894601738","web3ramble","27/07/2022 3:35 pm","","https://cdn.discordapp.com/attachments/823968973753810945/1001792542448295986/2022-07-27_6.05.46.png",""
"891653791894601738","web3ramble","27/07/2022 3:46 pm","ok, i find the point","",""
"750749592303304725","srikaryaganti","27/07/2022 4:34 pm","is your issue resolved?","",""
"750749592303304725","srikaryaganti","27/07/2022 4:35 pm","Also I usually find it easier to debug if you can add the  transaction hash","",""
"471357824299958273","crypto_rachel","27/07/2022 11:01 pm","For V3 operating directly on the pool you Do need the SqrtPrice Set, you are able to set max price of you can use max or min (- or + 1) sqrtPrice","",""
"968464426841829407","wise_rails","28/07/2022 3:23 am","Can we choose certain pool for token swap instead of encountered first in Factory list using Router?","",""
"884647525380939836","chinyasuhail","28/07/2022 3:26 am","@Srikar Yaganti building 0xPlutus - can we choose the path (including pool feeTier) of the token swap?","",""
"810459362371567616","iposignal","30/07/2022 10:00 am","Around the active price ($1710 = tick 148.892) for USDC/ETH, why are the ticks not spaced with 60.  Like are there not gaps in liquidity if not every 60 ticks has liqiuidity, or does it only measure the change in liquidity with respect to the next tick?
Not sure what I dont understand here
 {
  ticks(
    first: 1000
    orderBy: id
    where: {liquidityNet_not: ""0"", poolAddress: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}
    block: {number: 15233793 }
  ) {
    # liquidityNet
    # liquidityGross
    # id
    # price0
    # price1
    tickIdx
  }
}","https://cdn.discordapp.com/attachments/823968973753810945/1002795416242364446/unknown.png",""
"843155325619535912","Etherscan Bot#5753","30/07/2022 10:00 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"884647525380939836","chinyasuhail","30/07/2022 1:53 pm","@Srikar Yaganti building 0xPlutus","",""
"425626711502094366","sandvige","30/07/2022 6:05 pm","@IPOsignal I suggest you're ordering by id, which is maybe unpredictable, you should try ordering by tickIdx","",""
"425626711502094366","sandvige","30/07/2022 9:52 pm","How many LP NFT I can have? Each time I remove liquidity, mint a new position, add liquidity, I have a closed position. I can add liquidity to that position later, that means the NFT is still something I own. How many NFT I can hold like that? is there a limit? Should I cleanup?","",""
"884647525380939836","chinyasuhail","30/07/2022 11:14 pm","1/ each position mints a new NFT

2/ you hold the NFT until you remove 100% liquidity 

3/ each NFT is unique- you can have upto N NFTs","",""
"425626711502094366","sandvige","31/07/2022 12:45 am","How do I delete (burn?) an NFT?","",""
"471357824299958273","crypto_rachel","31/07/2022 12:49 am","Once done **__Can NOT__** be undone but you can call the burn on the NFT position contract
https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#writeProxyContract
`Burns a token ID, which deletes it from the NFT contract. The token must have 0 liquidity and all tokens must be collected first.`","","üëç (1),ALPHAFUNDAVA (1)"
"341723998322819072",".tricil","31/07/2022 5:13 am","I now have the urge to burn all my old out of range positions","",""
"471357824299958273","crypto_rachel","31/07/2022 5:15 am","use caution , as good positions will save money in re minting NFT","",""
"341723998322819072",".tricil","31/07/2022 5:17 am","Can you elaborate on that? What‚Äôs a good position and how does it effect minting another nft‚Äôs price?","",""
"471357824299958273","crypto_rachel","31/07/2022 5:19 am","if a position has a good price range, that may come back into play.
Gas is lower adding to a position then minting a new one","",""
"341723998322819072",".tricil","31/07/2022 5:21 am","I get it now thank you!","","np (1)"
"456226577798135808","Deleted User","31/07/2022 8:03 am","hwo do you remint positions?","",""
"456226577798135808","Deleted User","31/07/2022 8:03 am","just add liquidity back to it?","",""
"471357824299958273","crypto_rachel","31/07/2022 8:15 am","I only meant cheaper than minting the same position again","",""
"456226577798135808","Deleted User","31/07/2022 8:32 am","fees are low now","",""
"832028071208419380","hstation274147","31/07/2022 1:52 pm","may I talk to the team regarding v3 NFT?","",""
"739851161930039356","Rey#5193","31/07/2022 1:53 pm","Hi there. Let us just wait for the other helpers to assist you with your concern.","",""
"832028071208419380","hstation274147","31/07/2022 1:54 pm","hi, thxüëç","",""
"989275482488983663","AnthonyNicholas#4331","31/07/2022 5:54 pm","Hey @OC_APcas, what do you need help with regarding the v3 nft?","",""
"864115041761230848","Jevoncg#5112","31/07/2022 7:55 pm","Hey, Doing a integration using ether js. Once I've provided liquidity to a pool (E.g. ETH-USDC), how am I am determine my ETH and BTC positions of the current liquidity?
I'm guessing I can work it out using the current price and knowing my range. E.g. Is the ETH/USDC price is 1600 USDC and my range is 1500-2000, then my liquidity must be 1/5 USDC and 4/5 ETH.
Is this the method to us or is there a better way? I haven't found a parameter I can read from Uniswap to give me this. TIA üôèüèª","",""
"471357824299958273","crypto_rachel","01/08/2022 1:44 am","There are some liquidity repos that make it real easy, check the pins in #üíª‚îÇdev-chat","",""
"864115041761230848","Jevoncg#5112","01/08/2022 11:52 am","Thanks!","",""
"501844668598714369","tcabalak","02/08/2022 11:03 am","hi @everyone. I am inexperienced in blockchain but I have a project which allows users to create a pool. Contracts for the creation of pool is ERC-20 and used UUPS for providing upgradability. 
After creation of pool, investors invest in the pool with the token that pool owner choosed. For example; I created STH token in the pool, and some users bought STH token by paying ETH. Now pool has ETH.
What I want to do is make sure the pool owner can swap this ETH with other tokens via uniswap. So that the pool owner increases the value of the pool.
1- Is it possible to do this whit UUPS contracts (upgradeable)
2- Is there any example code for this action. (or source)","",""
"912736067654922270","sksh.","02/08/2022 12:25 pm","hello @everyone,
`Error: Could not find a USD/WETH pool for computing gas costs.`
I faced this issue while integrating uni swap SDK  on the polygon network.","",""
"947797975227314208","mhamzza#3892","03/08/2022 3:04 pm","Hi i want to fetch value of tokens from uniswap pool  but getting this error","https://cdn.discordapp.com/attachments/823968973753810945/1004321348937596968/unknown.png",""
"947797975227314208","mhamzza#3892","03/08/2022 3:05 pm","here's my code using uniswap sdk
```
const TZIT = new Token(137, '0x1C9f4165b8b6B19525305E1ff2532EAa69D3122E', 18,'TZIT','TestZIT')
    const USDC = new Token(137, '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174', 6,'USDC','USD Coin (PoS)')
    console.log('USDC :',USDC)
    console.log('TZIT :',TZIT)
    // note that you may want/need to handle this async code differently,
    // for example if top-level await is not an option
    const pair = await Fetcher.fetchPairData(TZIT, USDC) //error
    const route = new Route([pair], USDC)


    console.log(route.midPrice.toSignificant(6)) 
    console.log(route.midPrice.invert().toSignificant(6)) 
```","",""
"413900251204812812","tashtosh","03/08/2022 7:01 pm","Hi new here, is there a way to find out the amount of each token in V3 liquidity pool for my specific wallet address? and does joining a pool with a set upper and lower limit possible through code?","",""
"952334988194488360","orion4105","03/08/2022 11:59 pm","in the uniswapv3 input exact parameters requires path as bytes
which was described in the documentation : https://docs.uniswap.org/protocol/guides/swaps/multihop-swaps#exact-input-multi-hop-swaps
path: The path is a sequence of tokenAddress Fee tokenAddress, encoded in reverse order, which are the variables needed to compute each pool contract address in our sequence of swaps. The multihop swap router code will automatically find the correct pool with these variables, and execute the swap needed within each pool in our sequence.
However when I used this :
return abi.encodePacked(Token1,50,Token2,50,Token3);
the returned bytes didn't work out


is there anyone who's familiar with that problem and worked out for them ?","",""
"471357824299958273","crypto_rachel","04/08/2022 9:48 am","no need to post in multiple rooms","",""
"471357824299958273","crypto_rachel","04/08/2022 9:50 am","yes, I have some Liquidity repos in #üíª‚îÇdev-chat  that can help get the amount of tokens in a position, also mint code showing how to mint to a pool in Web3","",""
"471357824299958273","crypto_rachel","04/08/2022 9:52 am","@mhamzza
check the pins in #üíª‚îÇdev-chat I have an auto router example and other code for quotes","",""
"894924562150604870","dumi2000","04/08/2022 5:28 pm","quick question, are there plans for UniSwap to be deployed on StarkNet?","",""
"968464426841829407","wise_rails","05/08/2022 1:01 pm","Hey, would you kindly?","",""
"884647525380939836","chinyasuhail","05/08/2022 10:29 pm","yes you can choose the pool you want to `swap` on - you need to pass the `poolid`","","üëç (1)"
"884647525380939836","chinyasuhail","05/08/2022 10:30 pm","will share the code example in few days - pretty much everyone incl myself are down with fever","",""
"968464426841829407","wise_rails","08/08/2022 10:58 am","Would be really useful and great! Get well!","",""
"947797975227314208","mhamzza#3892","10/08/2022 11:37 am","i couldn't find any pinned message 
can you send again? i want token price of my own created pool in v3","","‚úÖ (1)"
"471357824299958273","crypto_rachel","10/08/2022 11:38 am","#üíª‚îÇdev-chat  <---- not in here","","‚úÖ (1)"
"947797975227314208","mhamzza#3892","10/08/2022 11:39 am","sorry but i checked in dev-chat ... can you send again there?","",""
"1001098158073462804","nikki91btc","10/08/2022 12:28 pm","Hey, guys! What do you know about automatization of v3 pools farming? I'd like to learn how to automatically collect fees and rebalance positions. It it safe to use other 3rd parties apps?","",""
"884647525380939836","chinyasuhail","11/08/2022 12:25 pm","you can write your own code to do this - have not used 3rd party apps","",""
"970346837640884234","EmpireWurld#2399","11/08/2022 1:08 pm","Hello I can't find my token on my trust wallet, what the matter????","",""
"970346837640884234","EmpireWurld#2399","11/08/2022 1:10 pm","I sent my UNI to UNi swap erc20","",""
"747794613334704250","sherieam","11/08/2022 1:10 pm","You can add the token address manually.","",""
"970346837640884234","EmpireWurld#2399","11/08/2022 1:10 pm","How ????","",""
"970346837640884234","EmpireWurld#2399","11/08/2022 1:10 pm","Zero balance","",""
"747794613334704250","sherieam","11/08/2022 1:10 pm","Please create a ticket. Click the üì© icon #üôã‚îÇhelp","",""
"968464426841829407","wise_rails","12/08/2022 9:10 pm","Hello, would you please provide that code?","",""
"401842633464610837","_kfx","13/08/2022 11:08 pm","I have my own code for that","",""
"760279702019244090",".sirgarfield","16/08/2022 10:12 am","what is a good way to iterate through all V3 pool address onchain (without subgraph).

For v2, I'd look at Factory.getAllPairsLength and call Factory.getPair in a loop.   What is the equivalent thing  for v3 ?","","‚úÖ (1)"
"832625360620224623","real_andza#6226","17/08/2022 3:59 pm","hi guys! what is the best way to get NFT's open price?","",""
"989275482488983663","AnthonyNicholas#4331","17/08/2022 11:22 pm","Hey, are you referring to V3 NFTs?","",""
"787866230848749591","jd_2020","18/08/2022 2:46 am","üëã was told to share our cool projects here so I wanted to pass along a nascent approach to a big problem my team is working on ‚Äî it detects rug pulls before they even add liq list. While it‚Äôll never be 100%, it‚Äôs staggeringly good even in MVP form. I‚Äôll be a never ending game of cat an mouse truthfully with the scammers but it‚Äôll be an ever reducing cost benefit for the scammers as they‚Äôll need to concoct more complex schemes each day to evade our watchful gaze.","https://cdn.discordapp.com/attachments/823968973753810945/1009571445728346233/77E32F4C-5184-4AC2-9790-AA108A933EB0.jpg","‚úÖ (1)"
"501844668598714369","tcabalak","18/08/2022 5:11 pm","https://soliditydeveloper.com/uniswap3

Hi @Everyone. I want to use uniswap in my contract just like the usage in the link above. What I want to do:
1 - Give some token and swap it to another
2 - Do it with a function on your contract
3 - Make this contract UUPS upgradeable

If you consider that I am new in blockchain environment,  I have some questions;
Q1 - Is it possible to make such a contract UUPS (a contract including uniswap and its swap function)
Q2 - If you check the function ""convertEthToExactDai"" inside the project above, you will see some parameters ""tokenIn"" , ""tokenOut"" etc. Imagine I give any token address to ""tokenIn"" for example address of ""TRG"" token which is my own token in ethereum network, and another address to ""tokenOut"" for example ""EXMPL"" token. Is the function going to swap TRG to EXMPL?","",""
"989275482488983663","AnthonyNicholas#4331","18/08/2022 7:21 pm","Hey, thanks for sharing this. We're hosting Developer Office Hours tomorrow if you're available. These are questions our team will be able to answer. https://discord.gg/aMwuvuxD?event=1007381258994724894","",""
"501844668598714369","tcabalak","18/08/2022 7:25 pm","It sounds great. Thanks ..","","üëç (1)"
"989275482488983663","AnthonyNicholas#4331","18/08/2022 7:26 pm","I'll write your question down for tomorrow. Let me know if you have other questions. @ack129, @Austin ü¶Ñ, and @ian lapham will be on the call","",""
"1001123980146643025","Steven | SuperClub#7816","19/08/2022 7:51 pm","Hi all, new user here üëãüèº","",""
"1001123980146643025","Steven | SuperClub#7816","19/08/2022 7:51 pm","Does anyone know the best way to speak to the Uniswap team regarding partnership and integration?","",""
"1001123980146643025","Steven | SuperClub#7816","19/08/2022 7:51 pm","Any support would be amazing - thanks!","",""
"465797021161488389","jakekvm01#3731","19/08/2022 7:52 pm","Hi there. Uniswap has historically never done any marketing nor engaged in any partnerships that we know of. But you can try sending an email to contact@uniswap.org","",""
"1003349339906789516","zaksta11#0491","20/08/2022 11:26 am","Hi","",""
"368923992632983562","ghostingthedao","21/08/2022 4:12 pm","Hi, I am trying to integrate uniswap v3 in one of the smart contracts of my projects and I can't get it to work properly, it reverts the transaction with an error and doesn't tell me anything else, can anyone help me ? thanks a lot.","",""
"368923992632983562","ghostingthedao","21/08/2022 4:14 pm","I can send code and transaction for you to see.","",""
"368923992632983562","ghostingthedao","21/08/2022 4:15 pm","just let me know , thank you in advance","",""
"471357824299958273","crypto_rachel","23/08/2022 12:04 am","https://discord.com/channels/597638925346930701/607978109089611786/1011325171455492126","",""
"843155325619535912","Etherscan Bot#5753","23/08/2022 12:04 am","","",""
"501844668598714369","tcabalak","26/08/2022 3:30 pm","```
Contract MyContract

function callApprove(address denomAsset, address spenderForApprove, uint256 amount) external onlyOwner {
        IERC20 denomAssetContract = IERC20(denomAsset);//for example: WETH_ADDR
      
        uint256 tokenAmountOfPool = denomAssetContract.balanceOf(address(this));
        require(amount <= tokenAmountOfPool, ""Not enough token in the Pool!"");

        bool approveSuccess = denomAssetContract.approve(spenderForApprove, amount);
        require(approveSuccess, ""Approvement failed!"");
    }

    function callSwap(address denomAsset, address spenderForApprove, uint256 amountIn) public onlyOwner {
        /////// Bu m√ºmk√ºn m√º //////////////////////////
        this.callApprove(denomAsset, spenderForApprove, amountIn);
        ///////////////////////////////////////////////

        IMyUni myUniContract = IMyUni(myUniContractAddress);
        myUniContract.swapExactInputSingle(amountIn);
    }
```

Hi. There is a token belonging to MyContract (example WETH token). This token is requested to be swapped by the owner of MyContract. (example WETH -> UNI). First, we approve with ""callApprove"", then the ""callSwap"" function is called and the swap is done successfully.

But in the ""callSwap"" function, I want to call the ""callApprove"" function and do the approve process in it. In order not to call them separately. Is it possible?

Thank you in advance.","",""
"501844668598714369","tcabalak","26/08/2022 5:19 pm","Ok I made the ""callApprove"" internal not public and without onlyOwner. Then I am able to call approve function inside ""callSwap"".","",""
"1017616412497432638","E2#1158","09/09/2022 8:18 am","Pools","",""
"1005120892399001640","Johnsonairo#2905","11/09/2022 1:34 pm","Anyone tell me teh steps to swap  ETH to MET  COIN  using uniswap V3","",""
"1005120892399001640","Johnsonairo#2905","11/09/2022 1:35 pm","I tried and it always fails the transaction , I am using node.js","",""
"1005120892399001640","Johnsonairo#2905","11/09/2022 1:36 pm","Any help appriciated","",""
"739851161930039356","Rey#5193","11/09/2022 1:38 pm","Hi there. Let us just wait for the other helpers to assist you with your concern.","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 11:39 am","ok","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:36 pm","{""type"":""BigNumber"",""hex"":""0x5e05""},""logsBloom"":""0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"",""blockHash"":""0xf1244b4d20fd9f5ed26bfd26df4e65450d905a90745118209b23968eecf0f2f5"",""transactionHash"":""0x3cfe20692ee28414872e580c448d781c3dbee502d599b69fc3aee88c5f2db6a1"",""logs"":[],""blockNumber"":15520533,""confirmations"":2,""cumulativeGasUsed"":{""type"":""BigNumber"",""hex"":""0x019c3d29""},""effectiveGasPrice"":{""type"":""BigNumber"",""hex"":""0x01579351d7""},""status"":0,""type"":2,""byzantium"":true}, code=CALL_EXCEPTION, version=providers/5.6.5)    at Logger.makeError (C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\logger\lib\index.js:233:21)
    at Logger.throwError (C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\logger\lib\index.js:242:20)
    at JsonRpcProvider.<anonymous> (C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\providers\lib\base-provider.js:1676:36)
    at step (C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\providers\lib\base-provider.js:48:23)
    at Object.next (C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\providers\lib\base-provider.js:29:53)
    at fulfilled","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:36 pm","(C:\xampp\htdocs\MET_UNISWAP\node_modules\@ethersproject\providers\lib\base-provider.js:20:58)
(Use `node --trace-warnings ...` to show where the warning was created)
(node:13580) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)
(node:13580) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:36 pm","I am getting this error when i try to SWAP  ETH to MET","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:37 pm","metronome","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:38 pm","Also when i select WETH still it select ETH address as  base address","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:39 pm","const mweth = new ethers.Contract(
        addresses.WETH,
        [
            'function approve(address spender, uint256 amount) external returns (bool)',
        ],
        account
    );
    const tx = await mweth.approve(addresses.WETH, WETHAmountToPay.toString(), gas);
    const receipt = await tx.wait();","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:40 pm","--------","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:40 pm","const router = new ethers.Contract(
    addresses.MET,
    [
        'function getAmountsOut(uint amountIn, address[] memory path) public view returns (uint[] memory amounts)',
        'function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)',
        'function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable returns (uint[] memory amounts)',
        'function swapExactETHForTokensSupportingFeeOnTransferTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable'
    ],
    account
);
const tx2 = await router.swapExactTokensForTokens(
        amountIn,
        amountOutMinHex,
        [addresses.MET, addresses.WETH],
        addresses.recipient,
        Date.now() + 1000 * 60 * 10,
        gas
    );
    const receipt2 = await tx2.wait();","",""
"1005120892399001640","Johnsonairo#2905","12/09/2022 4:40 pm","This is my code  in node.js please help","",""
"858934767679701002","stwong11#6005","13/09/2022 4:44 pm","Could anyone tell me whether Auto-Router is valid when we fork the Mainnet and run it locally?
Any answer is  appriciated","",""
"471357824299958273","crypto_rachel","14/09/2022 8:44 am","no, it's really only valid on main net, it may work for a very short period, but you would constantly need to reload the fork with new data","",""
"471357824299958273","crypto_rachel","14/09/2022 8:47 am","really no error to see, you would be better dropping code for the community to see. Also beforehand check your pool and price, make sure that the pool can be traded, if possible try via the UI to verify","",""
"879454386512883743","morteza_khedri","15/09/2022 1:53 pm","Hi, I want to swap tokens in my smart contract using uniswap v3, How I can see output amount before swap in my smart contract?
(something like getAmountsOut() in uniswapv2) .","",""
"859126061701922846","Danilo Falco#0952","15/09/2022 9:38 pm","Hi Guys good afternoon,

I launched a liquidity pool on the uniswap of a polygon token, what's the best way via Rest API to get the token value to put it on the platform we created?

Does anyone have an example of how I can do it by putting the token contract number through the graph-api and getting the answer.

Does anyone have a good way to help.","",""
"743089391764897792","medizos","16/09/2022 9:29 am","Hi theres a quoter2 sol in univ3 periphery and there's a function to query the output","",""
"832625360620224623","real_andza#6226","19/09/2022 4:24 pm","hi! is there a golang version for the swap and add liquidity atomically function?
https://docs.uniswap.org/sdk/guides/liquidity/swap-and-add","",""
"596828857819201540","amanraj1608","19/09/2022 8:04 pm","Hi when I do yarn and yarn start here it gives error
```js
Module not found: Error: Can't resolve '@uniswap/v3-periphery/artifacts/contracts/interfaces/IMulticall.sol/IMulticall.json' in '/Users/aman/Desktop/work/bico/Uniswap/node_modules/@uniswap/v3-sdk/dist'
```
https://github.com/Aman9000/Uniswap","",""
"260105653656223745","kingpeppe#3704","20/09/2022 5:16 am","Same problem here brother. I'm trying to get the Quoter.json but the artifacts directory doesn't come bundled with the module.","",""
"260105653656223745","kingpeppe#3704","20/09/2022 5:17 am","Did you manage to find a solution?","",""
"690969784652791819","lana_oll","20/09/2022 5:19 pm","Hey! Do you have uniswapV3 core deployed on Optimism Goerli?","",""
"690969784652791819","lana_oll","20/09/2022 9:10 pm","As I understand it, you don't. I want to deploy uniswap v3 core on Optimism Goerli. I found https://github.com/Uniswap/deploy-v3 repository, cloned it, and tried to run the` npx @uniswap/deploy-v3 --help` command, but it doesn't work for some reason. 
What could be the problem?","",""
"690969784652791819","lana_oll","21/09/2022 3:36 am","After I cloned the repo, I ran `yarn install` and then `npx @uniswap/deploy-v3 --help`
And that's what I got
Can someone help me with this problem, please?","https://cdn.discordapp.com/attachments/823968973753810945/1021905164992512131/Screenshot_2022-09-20_at_18.10.03.png",""
"231405885837017088","0xhoof","21/09/2022 10:41 am","cd into the node_modules/@uniswap/v3-periphery and `npm i && npx hardhat compile`. That should generate the artifacts folder and get it running.","",""
"260105653656223745","kingpeppe#3704","21/09/2022 11:29 am","Thanks","",""
"231405885837017088","0xhoof","21/09/2022 11:29 am","Happy to help","",""
"740632817293328394","cool.nft","26/09/2022 6:47 pm","Hey team, we're trying to swap tokens through uniswap v3 router. and currently we're having an issue to estimate the input amount of tokens. any idea on this?","","‚úÖ (1)"
"740632817293328394","cool.nft","26/09/2022 7:14 pm","in other words, we do have `getAmountOut` in v2 but how can we get amount out in v3?","","‚úÖ (1)"
"422578749175758868","neehan.","27/09/2022 3:23 am","Hi, I am a developer and I am trying to integrate my code with uniswap pools, but having some issues understanding the fees and price. I have two questions:

1. How to calculate token price from `sqrtPriceX96`?
Consider the WETH-USDC 0.05% contract on Polygon for instance: https://polygonscan.com/address/0x45dDa9cb7c25131DF268515131f647d726f50608#readContract
Currently, calling the slot0(), I see `sqrtPriceX96` to be 2180083095489704908692169147904535. my understanding is
`price = (sqrtPriceX96 / 2**96)**2.` However, for this specific number, doing this computation gives 757158718, which makes no sense. Currently eth price is ~1321.

2. How to calculate global fees from `feeGrowthGlobal0X128`? And what is the relationship between `feeGrowthGlobal0X128` and `feeGrowthGlobal1X128`? Do they represent the same value in different tokens? In that case, their ratios should approximate the token price right? For instance, for the same WETH-USDC pool, currently `feeGrowthGlobal0X128` and `feeGrowthGlobal0X128` are 862854618359476714312965750064124  and 467349857764463092853844703470804552602621. Their ratio is 541632214, which makes no sense. Also how do we calculate global fees from these variables? I am trying to reproduce the numbers here on page 16, section 8.2.3: https://uniswap.org/SuperiorReturnsForLiquidityProviders.pdf

Do I just need to divide `feeGrowthGlobal0X128` by `2**128` to get the fees? 

I have searched online but didn't find answers.","",""
"471357824299958273","crypto_rachel","27/09/2022 3:27 am","Check the pins in #üíª‚îÇdev-chat , all that is in there","https://cdn.discordapp.com/attachments/823968973753810945/1024077318349660180/unknown.png",""
"422578749175758868","neehan.","27/09/2022 3:51 am","@Crypto_Rachel thanks for the response! I went over the pinned messages and found answer to the sqrt math question. However, the global fees question is still unanswered. Can you please provide a link to a message that discusses it?","",""
"471357824299958273","crypto_rachel","27/09/2022 3:52 am","https://discord.com/channels/597638925346930701/607978109089611786/1004831132644298947","",""
"843155325619535912","Etherscan Bot#5753","27/09/2022 3:52 am","","",""
"471357824299958273","crypto_rachel","27/09/2022 3:52 am","@neehan üëÜ","",""
"471357824299958273","crypto_rachel","27/09/2022 3:52 am","I think this gives it in the token value, from there you would take the token value $ and multiply by tokens amount to get USD value
But start with that, if you have specific questions about it, ask and either someone will answer or I'll try to find out","",""
"422578749175758868","neehan.","27/09/2022 4:02 am","@Crypto_Rachel thanks again for the response! My question however was not directly related to this post. I would like to know the following things:

1. Do `feeGrowthGlobal0X128` and `feeGrowthGlobal1X128` represent the same amount in token0 and token1? If that is the case, then shouldn't their ratios be equivalent to the price of the token1? In the numeric example I posted above, it seems like that's not the case.

2. How to calculate the **global** fee growth? The github code computes fees for a specific range, and does not divide the numbers by 2**128. Should I do the same to reproduce the numbers in this paper? https://uniswap.org/SuperiorReturnsForLiquidityProviders.pdf","",""
"471357824299958273","crypto_rachel","27/09/2022 4:08 am","I haven't worked with the fees, I don't think there is a relation between ratio of fees and price
I know this is how the UI calculates fees  https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts","",""
"422578749175758868","neehan.","27/09/2022 7:58 am","Thanks again for your help @Crypto_Rachel ! My problem is slightly different from showing the fees in the UI. I need to show the APY to the user assuming the liquidity was invested in the whole range (i.e. like V2). According to https://uniswap.org/SuperiorReturnsForLiquidityProviders.pdf, the fees for full range between time t1 and t2 is `L(feeGrowthGlobalX128(t2) - feeGrowthGlobalX128(t1))`. But I am not sure if I need to do this for both `feeGrowthGlobal0X128` and `feeGrowthGlobal1X128`. Also, I don't know if I need to adjust for the decimals. I have tried both with or without adjustment, but the APYs I am getting seem very absurd. Can you please point me to someone who might be able to help? @Crypto_Rachel","",""
"471357824299958273","crypto_rachel","27/09/2022 8:06 am","I'm not sure on that one. I would suggest checking out the analytics simulators on https://uniswap.org/ecosystem","",""
"471357824299958273","crypto_rachel","27/09/2022 8:06 am","or give it time and hopefully someone who knows will answer","","üëç (1)"
"907578433268219944","lanadelpepe","27/09/2022 4:04 pm","Has anyone created a token that adds to liquidity in UNIV3 ?","",""
"149735676278079488","austino256","27/09/2022 5:14 pm","hey there, i wrote that paper lol. you have to adjust for the decimal and do it for both feeGrowthGlobals. the numbers can theoretically be larger than expected, because they don't include capital gains losses.","","üôè (2)"
"422578749175758868","neehan.","28/09/2022 2:49 am","Thanks @Austin ü¶Ñ ! I need a bit more clarification. Let's say the USDC-WETH pool above, I am trying to compute the APY above. Here's my code:

```
# feeglobal diff in 24h
import numpy as np

fg_eth = (467375668906099360600181498987227654580440 - 465051501685986750528016732920346938270424) / 2**128
fg_usdc = (862899151001080243738351595085087 - 859896560436208510370379426367323) / 2**128

# corrected for decimals
fg_eth, fg_usdc = fg_eth/10**18, fg_usdc/10**6
eth_price = 1300

# total liquidity = 2L * sqrt(eth price)
# fees collected = L * (fg_eth * eth_price + fg_usdc)
# return = fees collected / total liquidity 
ret = (fg_eth * eth_price + fg_usdc)/ (2* np.sqrt(eth_price))
annual_ret = ret * 365

print(annual_ret)
```
I am getting `8.960603985270489e-14` as the output, which doesn't seem right. Can you please tell me which step I am getting wrong?","",""
"149735676278079488","austino256","28/09/2022 2:54 am","ah wait, i dont think you can do 2L * sqrt(eth_price) - i think you have to take into account the prices of the underlying using the underlying formula. you can also do what i did in the paper and have L divide out to get returns.","",""
"149735676278079488","austino256","28/09/2022 3:11 am","you can calculate how much L costs by using this paper - https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","",""
"422578749175758868","neehan.","28/09/2022 3:21 am","Thanks @Austin ü¶Ñ ! I am following your paper and the equation on page 17.
The fees were `l * (f_g(t_1) - f_g(t))`
Since the liquidity was deposited for the whole range, the product formula becomes `x * y = l^2`

From here we get the value of the position, `vt` to be `l * 1/sqrt(eth_price) * eth_price + l * sqrt(eth_price)`. This simplifies to `2 * l * sqrt(eth_price)`. Hence, in the return formula, `l` gets cancelled as you suggested. 

I'm still not sure why the return is in the order of `1e-14`. 

I also didn't get this part:
> i think you have to take into account the prices of the underlying using the underlying formula
> 
Can you please explain a bit?","https://cdn.discordapp.com/attachments/823968973753810945/1024438180772057139/unknown.png",""
"149735676278079488","austino256","28/09/2022 3:28 am","ah yeah you are correct - sorry been a minute since i looked at this","",""
"149735676278079488","austino256","28/09/2022 3:32 am","im actually not sure at all. i think you are doing this correct. i think the annualization step is incorrect, but it doesn't really change much","",""
"149735676278079488","austino256","28/09/2022 3:34 am","what is your t_1 and t?","",""
"149735676278079488","austino256","28/09/2022 3:36 am","in the paper, we would have done this the opposite way for what it's worth. the pool is denominated in eth price per 1 usdc, but i don't think that should impact this","",""
"422578749175758868","neehan.","28/09/2022 3:36 am","my `t1` is today about an hour ago (5:something pm EST). `t` is 24 * 60 * 60 / 2 blocks before that (approx. 24 hours).","",""
"422578749175758868","neehan.","28/09/2022 3:38 am","Also, what is the correct way to annualize the returns? I thought fees in v3 don't compound, or am i wrong?","",""
"149735676278079488","austino256","28/09/2022 3:38 am","yeah i think you might be right there too","",""
"149735676278079488","austino256","28/09/2022 3:38 am","tbh i will need to think about this more - this is a difficult one.","","üëç (1)"
"422578749175758868","neehan.","28/09/2022 3:39 am","Thanks really appreciate your help @Austin ü¶Ñ üôè","",""
"149735676278079488","austino256","28/09/2022 3:39 am","try a few different times if you could - i feel like something is wrong with the feeGrowth values potentially. I didn't check if they were correct.","","üëç (1)"
"149735676278079488","austino256","28/09/2022 3:55 am","can you also pull the sqrtPrice from the pool at the same time? i really feel like the denominator is incorrect. it's way too large.","",""
"422578749175758868","neehan.","28/09/2022 4:15 am","@Austin ü¶Ñ I fetched sqrtPriceX96 in the same block. I also tried computing the APY for the wbtc-usdc pool, and had the same issues. Here is my code: https://pastebin.com/L2dBvFg3

You will need an alchemy key and a polygonscan key to run it","",""
"149735676278079488","austino256","28/09/2022 4:17 am","instead of using the eth price as a value, try using the usdc/weth sqrtPriceX96 / 2 ** 96.","","üëç (1)"
"149735676278079488","austino256","28/09/2022 4:17 am","also use this https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","",""
"149735676278079488","austino256","28/09/2022 4:18 am","i think the denominator is the issue","",""
"149735676278079488","austino256","28/09/2022 4:19 am","x = L* 1/ sqrt(P) and y = L* sqrt(P) in this case since p_a = 0 and p_b = inf.","",""
"149735676278079488","austino256","28/09/2022 4:20 am","just make up a value of L and keep it in there and make sure theres not another issue","",""
"422578749175758868","neehan.","28/09/2022 4:51 am","@Austin ü¶Ñ 
> x = L* 1/ sqrt(P) and y = L* sqrt(P) in this case since p_a = 0 and p_b = inf.
I think I am already following this equation. Plus since L gets cancelled in the return equation, the choice of L should not matter. However, it's helpful to know that my denominator is incorrect. 

In the code I sent above, the denominator is already `2 * sqrt(P)`. Should I take another square root over `P`? That seems a bit odd! 
```
# total liquidity = 2L * sqrt(eth price)
# fees collected = L * (fg_eth * eth_price + fg_usdc)
# return = fees collected / total liquidity 
ret = (fg_eth * eth_price + fg_usdc)/ (2* np.sqrt(eth_price))
```
Please let me know if I misunderstood your suggestion.","",""
"422578749175758868","neehan.","28/09/2022 7:42 am","I think I might have figured out the issue. I did the same calculation as before, but with no decimal correction. It gives 1-2 digit apys for all the pools that I have tried. Is there any way to confirm that this is correct? @Austin ü¶Ñ . Thanks again for your help, really appreciate it!

```
import numpy as np

# feeglobal diff in 24h
fg_eth = (467375668906099360600181498987227654580440 - 465051501685986750528016732920346938270424) / 2**128
fg_usdc = (862899151001080243738351595085087 - 859896560436208510370379426367323) / 2**128

sqrt_price = 2187333497581652090199573619827465 / 2**96
# since usdc is token1, eth price is 1/sqrt_price^2
eth_price = 1 / sqrt_price ** 2

# total liquidity = 2L * sqrt(eth price)
# fees collected = L * (fg_eth * eth_price + fg_usdc)
# return = fees collected / total liquidity 
ret = (fg_eth * eth_price + fg_usdc)/ (2* np.sqrt(eth_price))
annual_ret_pct = ret * 365 * 100

print(annual_ret_pct)
```","",""
"149735676278079488","austino256","28/09/2022 7:49 am","I think it‚Äôs possible. Either way I‚Äôm happy it works! Try to check the swap volume if you can! I think those are similar APYs to what I got when I did this.","","üëç (1)"
"471357824299958273","crypto_rachel","28/09/2022 7:51 am","https://www.metacrypt.org/tools/uniswap-v3-calculator-simulator/?network=ethereum&token0=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2&token1=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&feeTier=3000

I found this it has an apy","","üôè (1)"
"476984159940771852","tausifkhan","28/09/2022 9:14 pm","any idea how can i parse uniswap v3 input data to readable format","",""
"989275482488983663","AnthonyNicholas#4331","02/10/2022 9:45 pm","Hey Tausif, what input data are you parsing?","",""
"989275482488983663","AnthonyNicholas#4331","02/10/2022 9:45 pm","Hey Evan, I'm not sure the Labs team has one but try checking Dune @Evan","",""
"916160983716741150","athena.net","03/10/2022 6:12 pm","did you find that solution?","",""
"916160983716741150","athena.net","03/10/2022 6:13 pm","I have same problem, but can't find the solution anywhere","",""
"989275482488983663","AnthonyNicholas#4331","03/10/2022 6:57 pm","Hey @athena.net and @coolnft, I'm not a developer but I came across this answer on StackOverflow - https://stackoverflow.com/questions/70577599/is-posible-get-price-token-using-uniswap-v3-way-contract-read.","",""
"149735676278079488","austino256","03/10/2022 7:49 pm","from the dev-chat: https://discord.com/channels/597638925346930701/607978109089611786/948847107744333844","",""
"843155325619535912","Etherscan Bot#5753","03/10/2022 7:49 pm","","",""
"640543652300587009","lizgeorge","03/10/2022 9:20 pm","Hi, the following was mentioned as Token integration issue

> **Fee-on-transfer tokens will not function with our router contracts. As a workaround, the token creators may create a token wrapper or a customized router.**

Can anyone elaborate on the workaround? How to set up a customized router, Did you mean to set up the path for the router ? Also on the Token wrapper concept? Any references will be helpful.","",""
"471357824299958273","crypto_rachel","03/10/2022 9:45 pm","üëã 
You would have to create a wrapped token that has no fees or anything, and allow users to wrap that token with the fee on it, then give them fixed amount of wrapped token which would be usable in V3","",""
"640543652300587009","lizgeorge","03/10/2022 10:02 pm","Thanks for the response @Crypto_Rachel 
Please let me know if i understood you correctly.  So i will create a wrapped token contract WToken which will follow normal token standard with no FOTs. And i will be using this wrapped token for all the transactions related to uniswap v3. Outside Uniswap, they should be able to unwrap the token and do other transactions such as Transfer where in my case does the burning. Is this what you mean ?","",""
"471357824299958273","crypto_rachel","03/10/2022 10:03 pm","yes that's the basics üòä","",""
"640543652300587009","lizgeorge","03/10/2022 10:03 pm","Thanks for confirming.","",""
"471357824299958273","crypto_rachel","03/10/2022 10:03 pm","yeah np","",""
"190574037846458369","tygoo.","04/10/2022 6:34 pm","Can someone help me figure out why I'm getting error on the goerli testnet:
 `cannot estimate gas; transaction may fail or may require manual gas limit` 

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8;
pragma abicoder v2;

import '@uniswap/v3-periphery/contracts/libraries/TransferHelper.sol';
import '@uniswap/v3-periphery/contracts/interfaces/ISwapRouter.sol';

contract Swap {

    ISwapRouter public immutable swapRouter;

    uint24 public constant poolFee = 3000;

    constructor(ISwapRouter _swapRouter) {
        swapRouter = _swapRouter;
    }

    function swapExactInputSingle(uint256 amountIn, address tokenIn, address tokenOut) external returns (uint256 amountOut) {
        TransferHelper.safeTransferFrom(tokenIn, msg.sender, address(this), amountIn);

        TransferHelper.safeApprove(tokenIn, address(swapRouter), amountIn);

        ISwapRouter.ExactInputSingleParams memory params =
            ISwapRouter.ExactInputSingleParams({
                tokenIn: tokenIn,
                tokenOut: tokenOut,
                fee: poolFee,
                recipient: msg.sender,
                deadline: block.timestamp,
                amountIn: amountIn,
                amountOutMinimum: 0,
                sqrtPriceLimitX96: 0
            });

        amountOut = swapRouter.exactInputSingle(params);
    }

}
```","",""
"190574037846458369","tygoo.","04/10/2022 6:35 pm","Js code:
```
const hre = require(""hardhat"");
const {getConfig} = require(""./misc"");

const config = getConfig(hre.network.name);

const WETH = config.uniswap_tokens.WETH;
const DAI = config.uniswap_tokens.DAI;

describe(""Execute a Swap"", function () {

  const SWAP_AMOUNT = hre.ethers.utils.parseUnits(""0.0000001"", ""ether"");

  let swap, weth, dai;
  beforeEach(async () => {

    const contractName = 'Swap';

    weth = await hre.ethers.getContractAt(""IWETH"", WETH);
    dai = await hre.ethers.getContractAt(""IERC20"", DAI);

    const contract = await hre.ethers.getContractFactory(contractName);
    swap = await contract.deploy(config.SwapRouter);

    await swap.deployed();

  })

  it(""Swap currencies"", async () => {

    const [owner] = await hre.ethers.getSigners();

    await weth.connect(owner).deposit({value: SWAP_AMOUNT});
    await weth.connect(owner).approve(swap.address, SWAP_AMOUNT);

    const tx = await swap.swapExactInputSingle(SWAP_AMOUNT, WETH, DAI);
    await tx.wait();

    console.log(""DAI Balance"", await dai.balanceOf(owner.address));

  }).timeout(100000);
});
```","",""
"190574037846458369","tygoo.","04/10/2022 6:35 pm","The addresses (goerli):
```
  ""SwapRouter"": ""0xE592427A0AEce92De3Edee1F18E0157C05861564"",
  ""uniswap_tokens"": {
    ""WETH"": ""0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6"",
    ""DAI"": ""0x73967c6a0904aa032c103b4104747e88c566b1a2""
  }
```","",""
"190574037846458369","tygoo.","04/10/2022 6:42 pm","The above code works perfectly fine when I fork the mainnet","",""
"190574037846458369","tygoo.","04/10/2022 7:03 pm","Seems like I used the wrong dai address lol","",""
"190574037846458369","tygoo.","04/10/2022 7:04 pm","After swapping through the site I found the right address","","üíØ (1),Uni (1),flyingunicorn (1)"
"189507439886991360","en_cualto","04/10/2022 10:26 pm","After reading the v3/core docs I wanted to confirm if I am correct. Flash Swaps and Flash Loans are two separate things:

Flash Swap allows for contract/eoa to arbitrage pools fees on the v3 platform but the final condition is that the loan on the initial pool must be paid in the same transaction.

Flash Loans allows to take a ""free"" loan, but the loan must be paid back in the same transaction.","",""
"471357824299958273","crypto_rachel","05/10/2022 10:12 am","Flash Swap and Flash Loan are essentially the same as a loan function, Both must be paid back same tx
Swap, is borrowing token A and paying in token B
Loan, is borrowing token A and paying in token A","",""
"189507439886991360","en_cualto","05/10/2022 8:26 pm","Cool, then its up to me to create the service to find these opportunities to execute tx of these type.","","üíØ (1),Uni (1),flyingunicorn (1)"
"189507439886991360","en_cualto","06/10/2022 10:03 am","How can I use the liquidity field on swap events to make it human readable?","",""
"471357824299958273","crypto_rachel","06/10/2022 10:04 am","the big number is not in decimals or wei, though you do have to adjust later. The Liquidity is the result of ‚àöxy
easiest way is to use a repo lot of math some info and repos
Liquidity Repos and information
https://uniswap.org/whitepaper-v3.pdf
https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#code#F34#L23
https://github.com/thanpolas/univ3prices
https://github.com/atiselsts/uniswap-v3-liquidity-math
http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf
https://github.com/Uniswap/v3-sdk/tree/main/src/utils","",""
"634123012634968074","pierfox","06/10/2022 6:11 pm","Hello everyone üôÇ

I am approaching the use of the Pax GOLD pool with great interest, and while V2 I see that it has some use, V3 is completely unused.

Could you explain why? It would be very useful and I don't understand why it is completely unused.

Thank you very much!!!","",""
"189507439886991360","en_cualto","06/10/2022 7:12 pm","Thank you, I will look into the repos to see what I can find","","np (1)"
"189507439886991360","en_cualto","07/10/2022 12:54 am","What is 0.0002, when we create a position instance?","",""
"189507439886991360","en_cualto","07/10/2022 12:54 am","https://docs.uniswap.org/sdk/guides/liquidity/minting#creating-a-position-instance","",""
"989275482488983663","AnthonyNicholas#4331","07/10/2022 6:54 am","0.0002 is just an example","",""
"989275482488983663","AnthonyNicholas#4331","07/10/2022 6:55 am","""The liquidity parameter specifies how much liquidity to add. This examples adds a fraction of the current liquidity in the pool: 0.0002 times the amount of current liquidity. **In production, this could be a parameter inputted into the function adjustable by the end-user.**""","",""
"189507439886991360","en_cualto","07/10/2022 9:27 am","I had to re-read the bold part a few times. Went coding to the late night üòÇ","",""
"989275482488983663","AnthonyNicholas#4331","07/10/2022 5:59 pm","üòÇ","",""
"989275482488983663","AnthonyNicholas#4331","07/10/2022 5:59 pm","Get some rest üôèüèª","","üíØ (1)"
"831931833016647720","sneaky.time","07/10/2022 10:06 pm","Hey folks, I am looking to get the following information via uniswap-sdk or any other methods: 
- Price Impact
- Network Fee 
- Slippage

I am able to get gas fee from Autorouter but that is not looking correct. I am getting gas fee of 7 USD if i exchange 0.04 ETH to Matic. Any idea why?","https://cdn.discordapp.com/attachments/823968973753810945/1027982721248661665/Screenshot_2022-10-07_at_18.29.38.png",""
"471357824299958273","crypto_rachel","07/10/2022 10:24 pm","so in v3 price impact is not straight forward. check this
good explanation 
https://ethereum.stackexchange.com/questions/132759/calculating-price-impact-on-uniswap-v3

as for the Network fee (the fee for LP providers), you are using the Autorouter so that will determine the fee pool that you are using, not sure if it's in the returns but you could try something like `route.methodParameters.fee` to see if it's returned in object, otherwise you would have to decode the `route.methodParameters.calldata` to get what it's using

Slippage is purely based off of the volume of a pool, the higher the volume of swaps the higher chance that you will need a larger slippage. However without tracking the pool that's hard to know. It's safe to have some set slippage at a fair percentage. Also remember it will matter the amount you are swapping as 1% of 10k is 100$ which isn't a bad risk of loss, but 1% of 100k is 1000$, which would hurt more 

as for gas fees, that is always changing, the UI auto adjusts as the fees go up and down, your script is likely only using a single call and the gas at the exact moment","",""
"831931833016647720","sneaky.time","07/10/2022 10:42 pm","Thanks for the detailed explanation. Appreciate it. I'll try and see how it goes. :Uni:","","np (1)"
"190574037846458369","tygoo.","08/10/2022 5:18 pm","I'm using the quoter to estimate swap, but how would I do the same thing with for example sushiswap so I can arbitrage?","",""
"190574037846458369","tygoo.","08/10/2022 5:18 pm","Can I use uniswap quoter like I could in v2?","",""
"471357824299958273","crypto_rachel","09/10/2022 10:45 am","you would have to use sushiswaps router getAmountsOut","",""
"190574037846458369","tygoo.","09/10/2022 2:47 pm","v2 yeah?","",""
"906506428834000907","KAYA BOYNER#8703","09/10/2022 4:16 pm","Hi everybody. ƒ∞ created eth contract and i sent eth's to address which created by remixetherumcompiler.net .  When i start deploy my eths transferred another internal adress. Now my balance is zero since 13 hours. Do you have any idea about that please. Thanks in advance","",""
"831931833016647720","sneaky.time","10/10/2022 4:08 pm","Hello folks, Any idea why am i getting different values for  `Gas Adjusted Quote In`  &  `Gas Used USD`  using `AlphaRouter` from `@uniswap/smart-order-router` package in `browser` and in `terminal`.:

If i run this command in `@uniswap/smart-order-router` repo: 

`./bin/cli quote --tokenIn 0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0 --tokenOut 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 --amount 1 --exactOut`

I get a Response. in which `Gas Adjusted Quote In: 1608.15`  and `Gas Used USD: 5.864274`

If i use same thing using `@uniswap/smart-order-router` package in browser i get `Gas Adjusted Quote In: 1610.69`  and `Gas Used USD: 7.848384`","",""
"189507439886991360","en_cualto","10/10/2022 6:01 pm","When submitting a txn to mint position using the v3 sdk, does it return back with the tokenId?","",""
"189507439886991360","en_cualto","10/10/2022 6:01 pm","I haven't tested it out yet since I seen that it runs. on production (mainnet)","",""
"471357824299958273","crypto_rachel","10/10/2022 8:33 pm","gas quotes will constantly change, gas adjusted is the difference after gas and gas Used USD is usd cost of gas","",""
"471357824299958273","crypto_rachel","10/10/2022 8:33 pm","yes","",""
"189507439886991360","en_cualto","10/10/2022 8:59 pm","Thank you! Final question, is there a way to test it locally? I normally connect to goerli when testing my wallet integration","",""
"471357824299958273","crypto_rachel","10/10/2022 9:01 pm","Goerli eth is a good testing ground, either that or a fork of main net","",""
"831931833016647720","sneaky.time","11/10/2022 1:00 am","I am able to get the price impact from this:
https://github.com/Uniswap/v3-sdk/blob/7c3aedd0cf9441d03607e258734eada44a73863d/src/entities/trade.ts#L164
 and supplied it to a hook from widget & it is giving me price impact same as website: 
usePriceImpact hook: https://github.com/Uniswap/widgets/blob/main/src/hooks/usePriceImpact.ts#L26

any thoughts about this approach?","",""
"471357824299958273","crypto_rachel","11/10/2022 9:38 pm","That sounds pretty good, would love if you wouldn't mind sharing that code, as it is a common question here and I hadn't done that coding yet","",""
"831931833016647720","sneaky.time","11/10/2022 10:16 pm","Sure. I will add a codesandbox link once everything works including slippage etc","","üôè (1),Uni (1),flyingunicorn (2),ü¶Ñ (1),üî• (1)"
"385108773682806785","Ggg#7393","12/10/2022 1:37 am","anyone knows how to encode_abi the v3 router path? im in python and I just cant get it to work
always get the error ""slice out of bounds""","",""
"628402635740807210","RDaleMD76#4130","12/10/2022 2:00 am","Which channel for help on a failed Uniswap V3 Transaction? Thanks","",""
"471357824299958273","crypto_rachel","12/10/2022 8:26 am","Not really familiar with Python, but I have examples of paths in the pins of #üíª‚îÇdev-chat 
Check this link has a manual setup
https://discord.com/channels/597638925346930701/607978109089611786/1011390374201266229","",""
"471357824299958273","crypto_rachel","12/10/2022 8:27 am","UI transaction or manually created?","",""
"877215994186203149","veljkomih","12/10/2022 5:26 pm","Can someone help me and tell me what is equivalent of getAmountsOut in uni v3? Those functions in Quoter are not view functions","",""
"385108773682806785","Ggg#7393","12/10/2022 5:39 pm","thanks for the help
I tried to encode with uint24 instead of uint256 but getting the same ""slice out of bounds"" error
it seems like the ABIencoder on web3py is different than js....","",""
"628402635740807210","RDaleMD76#4130","14/10/2022 5:48 pm","Hi, We already figured out the problem. Thanks.  The slippage was too low. But it was UI","",""
"836620728198758491","caesar5081","15/10/2022 11:53 pm","Why would a swap work one way, but not the other?","https://cdn.discordapp.com/attachments/823968973753810945/1030908882161258617/unknown.png,https://cdn.discordapp.com/attachments/823968973753810945/1030908882769416292/unknown.png",""
"836620728198758491","caesar5081","15/10/2022 11:56 pm","The pool: https://app.uniswap.org/#/pool/379297?chain=polygon
TANGA is a test token, which can only be transferred by whitelisted accounts (checked against tx.origin), but that shouldn't matter for the swap, right? As long as the swap is initiated by a whitelisted address, it should go through.","",""
"917970847354994709","Earthian#9475","16/10/2022 12:20 am","Hello admin","",""
"989275482488983663","AnthonyNicholas#4331","16/10/2022 2:37 am","Hey @Earthian","",""
"253978888965849089","smajser","16/10/2022 2:46 am","Well it depends how you block those Transfer","",""
"253978888965849089","smajser","16/10/2022 2:49 am","Probably because you (the owner) have the authorization to transfer TO the pair, but the pair isn't Authorized, you should try to WL it to","",""
"836620728198758491","caesar5081","16/10/2022 2:52 am","There's no restriction on the msg.sender though, only tx,origin","",""
"836620728198758491","caesar5081","16/10/2022 5:16 am","Hmm, interesting, works indeed when I turn the whitelist check off. Makes no sense to me, but at least tests can continue now.","",""
"917970847354994709","Earthian#9475","16/10/2022 11:07 pm","Hello pancake swap","",""
"917970847354994709","Earthian#9475","16/10/2022 11:08 pm","I wanted to talk to admin","",""
"989275482488983663","AnthonyNicholas#4331","16/10/2022 11:28 pm","Hey @Earthian, this is Uniswap not pancake swap :flyingunicorn:","","ü•û (2)"
"603592547113238536","olegdk666","17/10/2022 5:33 pm","@everyone Hi, Uniswap community! Glad to be here:) is there any Uniswap V3 core deployment on Optimistic Goerli Testnet? Really need this one but can not find addresses i.e. for UniswapV3Factory..?","",""
"989275482488983663","AnthonyNicholas#4331","17/10/2022 8:27 pm","Hey @olegDk, welcome to our server! The Uniswap Labs team is currently working on this üôÇ","",""
"603592547113238536","olegdk666","17/10/2022 8:28 pm","for everyone who needs Uniswap v3 in development use this repo https://github.com/Uniswap/deploy-v3 (worked for me) to deploy in development","",""
"603592547113238536","olegdk666","17/10/2022 8:29 pm","@Anthony ü¶Ñ // Community Manager Hey! Great, thank you for reply)","",""
"917970847354994709","Earthian#9475","18/10/2022 11:24 am","Can I set Token price 2 Times after launch , is it possible .. Admin","",""
"471357824299958273","crypto_rachel","18/10/2022 11:31 am","in Uniswap V2 it is not possible, in uniswap v3, there are four fee tiers, so it's possible to have 4 prices in v3 and 1 in v2, although best to have the price the same","",""
"886249907650981888","bchief","18/10/2022 12:39 pm","hey if we mention more fee in contract call to uniswap contract does it refund the extra fee ?","",""
"933144315557978163","natx223","18/10/2022 8:42 pm","Please how can I get the addresses of all tokens that I can swap in Mumbai testnest.
Or is it only matic, wmatic and weth that are swappable on V3?","",""
"989275482488983663","AnthonyNicholas#4331","19/10/2022 2:51 am","Hey bchief, can you provide an example?","",""
"989275482488983663","AnthonyNicholas#4331","19/10/2022 2:51 am","Hey Nat, let me check to see if we have a list","",""
"886249907650981888","bchief","19/10/2022 2:54 am","I want to make a genral function in contract where i can provide in and out token address and then it will swap it. what should be the fee in this common function","",""
"745916915200819261","starfleet.com","19/10/2022 5:30 am","@pierfox Hello friend... did you get an answer?","",""
"471357824299958273","crypto_rachel","19/10/2022 11:10 am","It doesn't work that way, you send the tokens it takes the fee and gives you the approved price (no less than minimum) and gives you tokens for the amount sent
You should get the pool fee in which you are trading before hand and calculate accordingly","",""
"471357824299958273","crypto_rachel","19/10/2022 11:12 am","Testnets are not maintained and rarely have any list of tokens, not to mention the pools are not always in good shape. Best bet (other than making your own) is to look through the router contract transactions `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45` and find a pool","",""
"471357824299958273","crypto_rachel","19/10/2022 11:13 am","@pierfox   @üí´StarfleetCommandüí´
It's likely that pax gold has some sort of mechanism that will break V3 , as it doesn't work with FOT, rebase or reflection tokens properly","",""
"745916915200819261","starfleet.com","19/10/2022 2:25 pm","Rachel,

Thank you so much for answering this.

Really appreciate all the hard work you do on here.  

Faithfully answering everyone's question and being an all around super kind person.","","np (2),üôè (2)"
"352879864837046273","slayerslolz","19/10/2022 8:19 pm","i successfully mint a position with python. How can i get a token id ? i have to query with axios  ? i m a beginner sorry thanks","",""
"471357824299958273","crypto_rachel","19/10/2022 11:25 pm","When minting a position one of the returned items is the ID. If you didn't print when received , then you would have to get it from the NFT manager by calling `balanceOf` taking that quantity, and looping a call to `tokenOfOwnerByIndex` this will return all the token ids you hold","",""
"352879864837046273","slayerslolz","20/10/2022 4:08 pm","thanks for you help, i try first on etherscan and that work üôÇ i m going to implement this","","np (1)"
"946642014986960906","peer_2_peer","21/10/2022 4:29 pm","hi
can i set the transfer fee of token when trade it using uniswap v3?","",""
"886249907650981888","bchief","21/10/2022 6:53 pm","cant we trade usdc directly with dai using contracts","",""
"471357824299958273","crypto_rachel","21/10/2022 11:54 pm","V3 doesn't work with FOT tokens","",""
"471357824299958273","crypto_rachel","21/10/2022 11:54 pm","Yes with the routers","",""
"886249907650981888","bchief","22/10/2022 12:04 am","@Crypto_Rachel but when i am trying usdc to dai it throwing error on swap dont know why on goerli network","",""
"886249907650981888","bchief","22/10/2022 12:05 am","Same works for weth to usdc or weth to dai etc","",""
"471357824299958273","crypto_rachel","22/10/2022 12:09 am","What error do you get? it's likely something you are missing in code","",""
"886249907650981888","bchief","22/10/2022 12:24 am","no error as such on explorer, its just reverts on .swap @Crypto_Rachel","",""
"886249907650981888","bchief","22/10/2022 12:26 am","```js
        uint256 deadline = _deadline;
        address tokenIn = DAI;
        address tokenOut = USDC;
        uint24 fee = 3000;
        address recipient = address(this);
        uint256 amountIn = _inAmount;
        uint256 amountOutMinimum = 0;
        uint160 sqrtPriceLimitX96 = 0;
        
        ISwapRouter.ExactInputSingleParams memory params = ISwapRouter.ExactInputSingleParams(
            tokenIn,
            tokenOut,
            fee,
            recipient,
            deadline,
            amountIn,
            amountOutMinimum,
            sqrtPriceLimitX96
        );
        
        uniswapRouter.exactInputSingle{value : 0}(params);

```","",""
"886249907650981888","bchief","22/10/2022 12:26 am","this is the code @Crypto_Rachel","",""
"471357824299958273","crypto_rachel","22/10/2022 12:30 am","Doesn't help if I can't see any variables or addresses....
make sure all variables are correct. 
what router are you calling","",""
"886249907650981888","bchief","22/10/2022 12:31 am","```js
    IUniswapRouter public constant uniswapRouter = IUniswapRouter(0xE592427A0AEce92De3Edee1F18E0157C05861564);
    IQuoter public constant quoter = IQuoter(0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6);

```","",""
"471357824299958273","crypto_rachel","22/10/2022 12:36 am","ü§∑‚Äç‚ôÄÔ∏è  likely something involving the variables, double check all","",""
"886249907650981888","bchief","22/10/2022 12:56 am","can you check this transaction and see what is wrong 0x181371a501cb3bc4295f72f38e5acb7b43f326bb1cbf5ee72266ec73247f207a","",""
"471357824299958273","crypto_rachel","22/10/2022 1:01 am","network?","",""
"886249907650981888","bchief","22/10/2022 1:01 am","goerli","",""
"886249907650981888","bchief","22/10/2022 1:02 am","USDC 0x07865c6E87B9F70255377e024ace6630C1Eaa37F
DAI 0x11fE4B6AE13d2a6055C8D9cF65c55bac32B5d844","",""
"886249907650981888","bchief","22/10/2022 1:06 am","seems it throws error on this  getPool(tokenIn, tokenOut, fee).swap( internally","",""
"886249907650981888","bchief","22/10/2022 1:06 am","does usdc dai pool exists on goerli ?","",""
"471357824299958273","crypto_rachel","22/10/2022 1:07 am","Test nets WILL NOT have the same addresses, you need to verify the tokens and the pools before the test","",""
"886249907650981888","bchief","22/10/2022 1:08 am","these address is there","",""
"886249907650981888","bchief","22/10/2022 1:09 am","but when i do it on uniswap internally usdc is converted to WETH and then weth to dai so is it USDC->DAI direct pair doesn't exists???","",""
"471357824299958273","crypto_rachel","22/10/2022 1:14 am","unless doing a routed path, then yes the pair must exist","",""
"867719150087831553","taoligou.eth","24/10/2022 2:49 pm","Hello, when I call uniswap v3 to get the trading pair interface to arbitrate the main network, the following error occurs, what is the reason?","https://cdn.discordapp.com/attachments/823968973753810945/1034033370373554196/unknown.png",""
"603118011272134656","luffy66996","24/10/2022 6:08 pm","Using @uniswap/smart-order-router AlphaRouter to fetch swap route from Ethereum and Polygon Mainnet  can take up to 20-30 seconds, why is it so slow??","",""
"471357824299958273","crypto_rachel","25/10/2022 12:50 am","SPL means Square root price error, meaning the sqrtPrice in tx is wrong. If calling the router it is safe to use 0","",""
"986020800173850675","tal#2890","26/10/2022 4:45 pm","Hi @everyone,
Error: Could not find a USD/WETH pool for computing gas costs.
I faced this issue while integrating uni swap SDK  on the Polygon network","",""
"422578749175758868","neehan.","27/10/2022 7:43 am","@Crypto_Rachel @Justin ü¶Ñ I am getting negative fees for a range. I am following https://uniswap.org/SuperiorReturnsForLiquidityProviders.pdf page 16 and https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts. Not sure what exactly is wrong.  I would really appreciate if someone could point out what I am doing wrong. 

For all subtractions, I am using this function:

```
def _sub_in_256(a, b):
    diff = a - b
    if diff < 0:
        diff += 2**256
    return diff
```

Pool address: `0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640`, (WETH-USDC pool on ethereum)
```
start_block = 14989361
end_block = 14989361

i_l = 205830
i_u = 209477
i_c_start = 207653 # start block tick 
i_c_end = 206699 # end block tick

# compute f_r0 at start block
# f_o0(i_u)=0, f_o0(i_l)=0
f_g0_start =1683198910136255859320794286470441
f_a0_start =0 # since i_c_start < i_u
f_b0_start =0 # since i_c_start > i_l
f_r0_start =1683198910136255859320794286470441

# compute f_r0 at end block
# f_o0(i_u)=0, f_o0(i_l)=1684692405707354744351432793202445
f_g0_end =1684819090140310960319252175297016
f_a0_end =0 # since i_c_start < i_u
f_b0_end =1684692405707354744351432793202445 # since i_c_start > i_l
f_r0_end =126684432956215967819382094571

f_r0_end - f_r0_start # -1.68e33
```
If I add `2**256` to `f_r0_end - f_r0_start`, then the APY during this period becomes `~10**49`, which is clearly absurd.

Edit: upon further reading of the whitepaper, it seems like this has something to do with tick initialization, that is feeGrowthOutside will not be initialized if the tick is not initialized. Is there any way to get the nearest initialized ticks?

**Just to clarify, all I would like to know is the historical APY in the range `tick_lower`, and `tick_upper`. This is just to make the decision if providing liquidity in this range has been historically profitable.**","","ü§î (1),ü§∑‚Äç‚ôÄÔ∏è (1)"
"149735676278079488","austino256","27/10/2022 8:05 pm","you can't get the historical range if the tick_lower or tick_upper hasn't been initialized. the paper is only using full-range v3 where the tick_upper and tick_lower don't matter","","üëÜ (1)"
"149735676278079488","austino256","27/10/2022 8:06 pm","also you need to code in integer overflow, so if you have a negative value, then you aren't taking that into account","",""
"471357824299958273","crypto_rachel","27/10/2022 11:07 pm","to get all initialized ticks you would need to use the tickBitmap","","üôè (1)"
"422578749175758868","neehan.","28/10/2022 2:09 am","@Crypto_Rachel thanks! How can I use the bitmap for tick `193409`? Is the word just `193409//256`? I am getting only 0 as bitmap","",""
"149735676278079488","austino256","28/10/2022 7:45 am","it‚Äôs probably easier to just check if liquidityGross is greater than 0 in the tick data","","üëÜ (1)"
"422578749175758868","neehan.","28/10/2022 9:19 am","@Austin ü¶Ñ the challenge I have to find a low tick and a high tick that are initialized at two different blocks. Only then I cound use fees_outside to compute the apy between the two blocks. I'm struggling with this. Knowing all initialized ticks at any block would be immensely helpful","",""
"615393650435948544",".0xvaibhav","29/10/2022 12:46 am","Hello, I am trying to implement uniswap swap feature in my smart contract","",""
"615393650435948544",".0xvaibhav","29/10/2022 12:46 am","and Idk why the swap exact input single function keeps on failing","",""
"615393650435948544",".0xvaibhav","29/10/2022 12:47 am","it shows code : ""-3200"", message: ""execution reverted""","",""
"615393650435948544",".0xvaibhav","29/10/2022 12:47 am","It's been 2 days and I can't seem to find the issue","",""
"615393650435948544",".0xvaibhav","29/10/2022 12:48 am","","https://cdn.discordapp.com/attachments/823968973753810945/1035633559085514802/Screenshot_201.png",""
"615393650435948544",".0xvaibhav","29/10/2022 12:48 am","I am implementing uniswap in a hackathon so any immediate help is appreciated thanks.","",""
"149735676278079488","austino256","29/10/2022 12:57 am","you could track mints and burns and if there is non zero liquidity at tick, then its going to be initialized","",""
"615393650435948544",".0xvaibhav","29/10/2022 11:03 am","Turns out there wasn't enough liquidity for this trade","",""
"422578749175758868","neehan.","30/10/2022 7:49 am","I am not exactly sure what you meant. Can you please clarify?","",""
"713108791016554518","SergioG12#4380","31/10/2022 4:26 pm","Hi Guys, i'm new to uniswap and i'm here because i'd like to know if the field liquidityNet in tick is a value fixed or not ? It seems that it is fixed..","",""
"471357824299958273","crypto_rachel","31/10/2022 9:16 pm","Well this will change when people add or remove Liquidity, but doesn't change with swaps","",""
"713108791016554518","SergioG12#4380","31/10/2022 11:22 pm","oh thanks a lot!!","","np (1)"
"854990845715283968","Rigg#1036","01/11/2022 10:27 pm","Hey guys, how can I calculate the exact output amount for a v3 swap?","",""
"989275482488983663","AnthonyNicholas#4331","01/11/2022 10:31 pm","Hey, welcome to our community! I think this answer on stack overflow can help you, https://ethereum.stackexchange.com/questions/121827/getting-output-amount-of-tokens-when-swapping-on-uni-v3-in-solidity","",""
"854990845715283968","Rigg#1036","01/11/2022 10:36 pm","Thanks! Yep, I've heard of some Quoter contracts but that's not really gas-efficient to call a write function each time, as I need to query dozens of requests per each swap
Ideally I would need to get that mathematically","",""
"471357824299958273","crypto_rachel","01/11/2022 10:43 pm","V3 quoter
https://discord.com/channels/597638925346930701/607978109089611786/948847107744333844","",""
"843155325619535912","Etherscan Bot#5753","01/11/2022 10:43 pm","","",""
"471357824299958273","crypto_rachel","01/11/2022 10:44 pm","This shouldn't be used in a contract, but via script is is a free static call","",""
"854990845715283968","Rigg#1036","01/11/2022 10:46 pm","I need to implement into a contract unfortunately","",""
"471357824299958273","crypto_rachel","01/11/2022 10:48 pm","using a quote within a transaction will likely lead to loss, as this would allow a Bot to frontrun your transaction","",""
"854990845715283968","Rigg#1036","01/11/2022 10:48 pm","Yep, this too. That's why ideally I would like to calculate it but not to query","",""
"854990845715283968","Rigg#1036","01/11/2022 10:50 pm","Do you calculate it as well when building routes on the platform itself, or just querying with Quoter?","",""
"471357824299958273","crypto_rachel","01/11/2022 10:51 pm","The UI queries the quoter","",""
"854990845715283968","Rigg#1036","01/11/2022 10:52 pm","Oh got it, but from the math standpoint, is it really possible to calculate such?","",""
"471357824299958273","crypto_rachel","01/11/2022 10:55 pm","well it's not easy as there is a ton that has to be done, but it is possible. Just not safe to use during a transaction, as you will lose movey

but although it's not suggested there was a grantee who wrote a readable ""amountsOut""
~~Repo for Quote without Quoter
https://github.com/sandrones/V3-Quoter/blob/master/contracts/UniswapV3Quoter.sol~~","",""
"854990845715283968","Rigg#1036","01/11/2022 10:55 pm","Thanks a lot, I will dig in!","","np (1)"
"854990845715283968","Rigg#1036","01/11/2022 10:59 pm","Will appreciate sharing the access, as it's not public","",""
"471357824299958273","crypto_rachel","01/11/2022 11:02 pm","Not mine, doh, that sucks.","",""
"854990845715283968","Rigg#1036","02/11/2022 4:38 pm","Hello, one more thing wanted to ask you
Where can I find tickLower & tickUpper for the current tick?","",""
"854990845715283968","Rigg#1036","02/11/2022 4:39 pm","Basically the boundaries of the current tick range","",""
"989275482488983663","AnthonyNicholas#4331","02/11/2022 11:23 pm","Hey Rigg üëã 

I think this is the function you're looking for https://docs.uniswap.org/protocol/reference/core/libraries/Tick#getfeegrowthinside","",""
"713108791016554518","SergioG12#4380","03/11/2022 12:22 am","Hi guys i'd like to know for calculating a swap v3 , the amountOut depends on the LiquidityGross of tick crossed ? or not ? it seems depends on liquidityNet ? Right?","",""
"471357824299958273","crypto_rachel","03/11/2022 1:08 am","```java
const V3poolContract = new ethers.Contract(V3poolabi, V3poolAddress);
var Slot0 = await V3poolContract.slot0() //  get Slot 0
var CurrentTick = parseInt(Slot0.tick); // Get current tick
var TickSpacing = parseInt(V3poolContract.tickSpacing());  // Get tick spacing
var FloorTick = (Math.floor(CurrentTick/TickSpacing))*TickSpacing;
var HighTick = ((Math.floor(CurrentTick/TickSpacing))*TickSpacing)+TickSpacing;
var TickLow = FloorTick.toString();   // Low end of current liquidity tick range Where the LQ is
var TickUpper = HighTick.toString();  // High end of current liquidity tick range
var ticks = await V3poolContract.ticks(TickLow)  // get tick data
var liquidityGross = ticks.liquidityGross; // liquidityGross is the gross amount of liquidity at a given tick. The pool keeps track of this because it needs to know if there are a non-zero amount of people in-range. 
var liquidityNet = ticks.liquidityNet; // liquidityNet is the amount of liquidity kicked in or out of the current in-range at the start of that tick.
```","https://cdn.discordapp.com/attachments/823968973753810945/1037450607323254824/unknown.png",""
"854990845715283968","Rigg#1036","03/11/2022 1:27 pm","@Crypto_Rachel Thanks! It works","","np (1)"
"471357824299958273","crypto_rachel","04/11/2022 2:53 am","We have changed the focus on this room to be primarily about the SDK","",""
"471357824299958273","crypto_rachel","04/11/2022 2:53 am","https://docs.uniswap.org/sdk/introduction","",""
"471357824299958273","crypto_rachel","04/11/2022 2:53 am","Pinned a message.","",""
"892645994884399114","anpro_","04/11/2022 11:05 am","Hi! I'm trying to swap and add liquidity into an existing pool. I'm able to assemble the hash payload but I want to understand which methods are called in the multicall data. Do someone know which operations are performed? By decoding the payload passing the API of the contract (0xC36442b4a4522E871399CD717aBDD847Ab11FE88) I got these bytes[]. I need to check which data is being passed because the transaction isn't submitted properly, failing to estimate fee for the call (provider side).

This is the history of updates

Update 1:
I was able to run 
```
const payloadHash = // array of hashes (all unknowns hashes)
new ethers.utils.Interface(abi).parseTransaction({ data: payloadHash })
```
and get this list of methods:
- exactInputSingle
- pull
- increaseLiquidity
- sweepToken
- sweepToken

There are the values that I'm passing to the contract:","",""
"892645994884399114","anpro_","04/11/2022 11:05 am","```
 const unknown_1 =
    ""0x04e45aaf000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000006ab44ec00000000000000000000000000000000000000000000000000000000069a409f0000000000000000000000000000000000000000000000000000000000000000""
  const unknown_2 =
    ""0xf2d5d56b000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000000000000000000000000000000000000005405aa8""
  const unknown_3 =
    ""0xf100b205000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec700000000000000000000000000000000000000000000000000000000000555e300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000""
  const unknown_4 =
    ""0xe90a182f000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000000000000000000000000000000000000000000000""
  const unknown_5 =
    ""0xe90a182f000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec70000000000000000000000000000000000000000000000000000000000000000""
```","",""
"892645994884399114","anpro_","04/11/2022 1:30 pm","```
exactInputSingle [
  params: [
    tokenIn: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
    tokenOut: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
    fee: 100,
    recipient: '0x0000000000000000000000000000000000000002',
    amountIn: BigNumber { _hex: '0x0153d66c', _isBigNumber: true },
    amountOutMinimum: BigNumber { _hex: '0x0143a0ac', _isBigNumber: true },
    sqrtPriceLimitX96: BigNumber { _hex: '0x00', _isBigNumber: true }
  ]
]
pull [
  token: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
  value: BigNumber { _hex: '0x010e7c7e', _isBigNumber: true }
]
increaseLiquidity [
  params: [
    token0: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
    token1: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
    tokenId: BigNumber { _hex: '0x0555e3', _isBigNumber: true },
    amount0Min: BigNumber { _hex: '0x00', _isBigNumber: true },
    amount1Min: BigNumber { _hex: '0x00', _isBigNumber: true }
  ]
]
sweepToken [
  token: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
  amountMinimum: BigNumber { _hex: '0x00', _isBigNumber: true }
]
sweepToken [
  token: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
  amountMinimum: BigNumber { _hex: '0x00', _isBigNumber: true }
]
```","",""
"892645994884399114","anpro_","04/11/2022 2:28 pm","I still get UnhandledPromiseRejectionWarning: Error: call revert exception (method=""multicall(uint256,bytes[])"", errorArgs=[""STF""], errorName=""Error"", errorSignature=""Error(string)"", reason=""STF"", code=CALL_EXCEPTION, version=abi/5.5.0) 

I approved unlimited spent for USDT but can't do it with USDC do someone know how to do so?

The adress is:
https://etherscan.io/tokenapprovalchecker?search=0x075c7412fc82c25adbc465ff50750674f1837b68","",""
"892645994884399114","anpro_","04/11/2022 2:45 pm","Can someone help please? Is it correct that the recipient is set to be    recipient: '0x0000000000000000000000000000000000000002', ?","",""
"471357824299958273","crypto_rachel","05/11/2022 7:18 am","it looks like this address is approved for one of the uniswap routers, and the NFT manager for usdc

I don't know where you get the pull function, need to make sure they are separate exact input to the router and increase to the nft manager","",""
"892645994884399114","anpro_","05/11/2022 3:39 pm","Thanks for the analysis, appreciated. In the end, I was able to solve the issue. Basically there was a mismatch between the action I thought I was executing on chain and what the code was actually doing. I went to the token smart contract page of the asset (USDC) and have to manually approve unlimited spend for the Uni Router V2. Uniswap Frontend didn't seem to allow for such approval, it only perform a raw call, maybe for the swap you willing to perform","",""
"471357824299958273","crypto_rachel","05/11/2022 9:08 pm","yeah the uniswap front end now uses the gasless approval for usdc","","Uni (2)"
"1024252373490729010","Akash01#1541","07/11/2022 4:29 pm","I created two erc20 dummy tokens and created a pool using uniswapV3factory createPool() method but while trying to fetch spot price i am getting LOK error. It would be great if anyone can provide me a solution for this?","https://cdn.discordapp.com/attachments/823968973753810945/1039131875005976577/LOK_error.png",""
"880782287313190964","_saads","10/11/2022 2:25 pm","Hi, I am using `AlphaRouter` in my code and wanted to write a unit test for it. I need help stubbing the call to `AlphaRouter.route`. I have copied what's returned from an actual and using it in promise response of stub call. But it's giving me lot of errors in dependencies of SwapRoute e.g. CurrencyAmount. Because it's not filling in all properties. 
I can't set the response to null because code evaluates response and returns in case of null value of swapRoute.","",""
"989275482488983663","AnthonyNicholas#4331","11/11/2022 1:58 am","Hey @bilal.007","",""
"989275482488983663","AnthonyNicholas#4331","11/11/2022 1:59 am",":wave_hello:","",""
"989275482488983663","AnthonyNicholas#4331","11/11/2022 1:59 am","So you need a video similar to https://github.com/Uniswap/routing-api?","",""
"590599840489275402","bilal.007","11/11/2022 2:01 am","Yes i do need a video on how to setup auto-router in AWS","",""
"989275482488983663","AnthonyNicholas#4331","11/11/2022 2:20 am","I think this could help - https://www.youtube.com/watch?v=_Y6kNQ9On_Q&ab_channel=BlockmanCodes","",""
"590599840489275402","bilal.007","11/11/2022 2:37 am","Sorry, its not at all related to my query.","",""
"446424499479511043",".aj77","11/11/2022 2:45 am","In aws? What‚Äôs aws?","",""
"446424499479511043",".aj77","11/11/2022 2:47 am","I‚Äôm what ur tb building but idk how. Havnt found rly good educational resources on it yet","",""
"471357824299958273","crypto_rachel","11/11/2022 5:35 am","I doubt you will find a video specifically on that combo, uni doesn't have one. I didn't see one anywhere for both together
here is a video that looks good for the aws setup
https://www.youtube.com/watch?v=AgHUWT4CQgo
and then follow the deployment guide on the github https://github.com/Uniswap/routing-api?","",""
"895940037789773824","shanzson","12/11/2022 11:58 pm","Hi, I am having the same problem. But the link to the repo does not exist","","‚ùî (1)"
"831931833016647720","sneaky.time","18/11/2022 8:52 am","I am getting this error `Fail with error 'SafeERC20: approve from non-zero to non-zero allowance'`.   Any idea about this? here is the transaction. Everything was working before and suddenly i am keep getting this error. 
https://goerli.etherscan.io/tx/0x89cddb931570b3cab10755f931575ff654bfa4d31e982b147334e123484d8adb","",""
"173416708277534720","barry7322","18/11/2022 11:36 pm","https://docs.uniswap.org/sdk/guides/creating-a-trade

In this example they create a trade, shown at the end as uncheckedTradeExample, however this Trade does not actually execute? How can it be executed?","",""
"691600366260715522","0xclement","19/11/2022 12:04 am","From the callData, you should be able to submit a tx using ethers:
```
const tx = {
        to: contractAddress,
        data: callData,
        value: value
    };
const wallet = new ethers.Wallet(process.env.PRIVATE_KEY, provider);
    const signer = wallet.connect(provider);
    const tx = await signer.sendTransaction(tx);
```","",""
"691600366260715522","0xclement","19/11/2022 12:51 am","And first, you should follow this: https://docs.uniswap.org/sdk/v3/guides/auto-router","",""
"173416708277534720","barry7322","19/11/2022 1:14 am","How does one get call data from the Trade object? I'm just trying to create a big swap in a mainnet fork for testing purposes.","",""
"691600366260715522","0xclement","19/11/2022 1:15 am","Yes, from the Trade object I think you can't have the callData
You should follow this guide: https://docs.uniswap.org/sdk/v3/guides/auto-router","",""
"173416708277534720","barry7322","19/11/2022 1:16 am","I don't want to use the auto router. I want to move the price on a specific pool","",""
"691600366260715522","0xclement","19/11/2022 1:19 am","I see, idk then, sorry!","",""
"173416708277534720","barry7322","19/11/2022 1:34 am","can auto-router be fixed to one pool?","",""
"471357824299958273","crypto_rachel","19/11/2022 7:13 am","@Barry You don't need to post in multiple rooms

for the data it's probably something like `uncheckedTradeExample.methodParameters.calldata`, though I don't use the sdk","","üëå (1)"
"892645994884399114","anpro_","21/11/2022 3:33 pm","Hi! Is its possibile to unwrap ETH directly within a trade made using the alpharouter? If not, where can a I get the estimated amountOut from the route object?","",""
"776452172640288828","vlad.balmos#9841","21/11/2022 4:07 pm","Hello everybody, does anyone know if the Docs for the RouterV2 have moved to another location? It seems that the original url throws 404: https://docs.uniswap.org/protocol/V2/reference/smart-contracts/router-02","",""
"776452172640288828","vlad.balmos#9841","21/11/2022 4:20 pm","Nevermind, found them: https://docs.uniswap.org/contracts/v2/reference/smart-contracts/router-02","",""
"756483228503638016","jaypersanchez","21/11/2022 5:45 pm","any good example code that I can use to start learning how to stake if I created my own ERC20 token?","",""
"247230107683389441","dcfpascal","24/11/2022 8:57 am","I'm getting this error while using the uni SDK `Error: Could not find a USD/WETH pool for computing gas costs.`","",""
"247230107683389441","dcfpascal","24/11/2022 9:12 am","anyone have any idea how to fix this?","",""
"471357824299958273","crypto_rachel","24/11/2022 10:04 am","this is likely something with your setup, describe your setup, chains, rpc, addresses

Also please note the autorouter doesn't work on testnets","",""
"247230107683389441","dcfpascal","24/11/2022 10:24 am","ohhh, the sdk docs say it's using chainId: 3, isn't that ropsten?","",""
"247230107683389441","dcfpascal","24/11/2022 10:26 am","i've reconfigured everything to be on mainnet, still getting this:
```    throw new Error(`Unsupported swap type ${swapConfig}`);
          ^

Error: Unsupported swap type [object Object]```","",""
"247230107683389441","dcfpascal","24/11/2022 10:27 am","chain: eth mainnet
rpc: `https://mainnet.infura.io/v3/` <my API>
addresses:
v3 swap router address: `0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45`
WETH address: `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2`
USDC address: `0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48`","","ü§î (1)"
"471357824299958273","crypto_rachel","24/11/2022 10:32 am","ropsten is ded","",""
"471357824299958273","crypto_rachel","24/11/2022 10:34 am","what type of device, this being done with PK or via wallet?","",""
"247230107683389441","dcfpascal","24/11/2022 10:34 am","metamask","",""
"247230107683389441","dcfpascal","24/11/2022 10:34 am","yea i was using goerli, didn't know it wasn't supported","",""
"247230107683389441","dcfpascal","24/11/2022 10:35 am","looks like in `smart-order-router` node module it's calling this function: `function buildSwapMethodParameters(trade, swapConfig, chainId) {` and my swapConfig.type isn't 0 or 1","",""
"247230107683389441","dcfpascal","24/11/2022 10:36 am","my `route` function is: 
```  const route = await router.route(
    inputAmount,
    USDC,
    TradeType.EXACT_INPUT,
    {
      recipient: WALLET_ADDRESS,
      slippageTolerance: new Percent(25, 100),
      deadline: Math.floor(Date.now()/1000 + 1800)
    }
  )```","",""
"247230107683389441","dcfpascal","24/11/2022 10:36 am","not sure if i'm missing something","",""
"247230107683389441","dcfpascal","24/11/2022 10:39 am","ok i guess i need to add somehting like `type: 0` , is there any doc that explains what the difference between `UNIVERSAL_ROUTER` and `SWAP_ROUTER_02` are?","",""
"247230107683389441","dcfpascal","24/11/2022 10:39 am","getting another error now tho, 
```    throw new Error(value);
          ^

Error: Invariant failed: DECIMALS```","",""
"471357824299958273","crypto_rachel","24/11/2022 10:54 am","so the object object error is connection.. usually related to hardware wallets, but check connection to mm, maybe reset MM (but do make sure your seed / PKs are backed up)

decimals iirc was something math wise","",""
"471357824299958273","crypto_rachel","24/11/2022 10:55 am","@dcfpascal
did you see in #üíª‚îÇdev-chat  I have a full working example of the auto router","",""
"471357824299958273","crypto_rachel","24/11/2022 10:55 am","in the pins","https://cdn.discordapp.com/attachments/823968973753810945/1045208536843554876/unknown.png",""
"247230107683389441","dcfpascal","24/11/2022 10:56 am","ahhhh let me check it out, appreciate it! sorry for the questions","",""
"471357824299958273","crypto_rachel","24/11/2022 11:09 am","no problem happy to help","",""
"590599840489275402","bilal.007","24/11/2022 3:32 pm","Thank you for the comments,

I knw how to make an instance in aws. I am asking help here is because the guide on the github is not working on me. If you cannot provide any free help on setting up the API, i am ready to pay who help me do it.","","üëå (1)"
"540274759750123541","mizanxali","27/11/2022 11:58 pm","hey, did you manage to solve this? running into the same error!","",""
"989275482488983663","AnthonyNicholas#4331","28/11/2022 6:32 am","https://discord.com/channels/597638925346930701/823968973753810945/1045208537137164380","",""
"843155325619535912","Etherscan Bot#5753","28/11/2022 6:32 am","","",""
"715515530311762022","karanp_","28/11/2022 7:20 pm","Hi devs
I was working on Sdk integration in React and facing this issue. Can anyone help?","https://cdn.discordapp.com/attachments/823968973753810945/1046785170264576040/Screenshot_20221128-190625__01.jpg,https://cdn.discordapp.com/attachments/823968973753810945/1046785170541391934/Screenshot_20221128-190620__01.jpg",""
"471357824299958273","crypto_rachel","28/11/2022 10:57 pm","the sdk is ts based and requires is equal to === not the equal to ==","",""
"715515530311762022","karanp_","28/11/2022 10:59 pm","It is a warning. The real issue is on the first image","",""
"471357824299958273","crypto_rachel","28/11/2022 11:01 pm","üòÑ  didn't notice first image lol... so it looks like your route is empty, check how you're calling it, perhaps check mine in #üíª‚îÇdev-chat pins","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:23 pm","If anyone has a simple repo with a v3 swap implemented in it it would be massively appreciated","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:23 pm","I have done the sdk docs tutorial","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:23 pm","but I haven't used typescript before so the environment doesn't set up, the example code has variables which arent referenced etc","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:44 pm","I will pay for this","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:50 pm","Will pay for some dev work, straight forward swap between 2 tokens on UniV3 (arb) based on a monitored contract event (I have done that part already)","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:51 pm","legend!","",""
"227421768741027840","_ram_ranch_","30/11/2022 4:54 pm","Damn, cant find it in there, the site sdk documentation doesnt have a complete example üò¶","",""
"471357824299958273","crypto_rachel","30/11/2022 10:25 pm","@Ram Ranch it's the auto router here
@Ram Ranch here are some web3 scripts, and the auto router
V3 quoter
https://discord.com/channels/597638925346930701/607978109089611786/948847107744333844

Exact Output V3 web3 example
https://discord.com/channels/597638925346930701/607978109089611786/950966931408711732

Exact Input V3 web3 example
https://discord.com/channels/597638925346930701/607978109089611786/950162482813620295

Exact In using ETH web3
https://discord.com/channels/597638925346930701/607978109089611786/1032413074818355210

Mint V3 full range Position 0.3% 60bp spacing
https://discord.com/channels/597638925346930701/607978109089611786/957190045243170826

Auto Router code example
https://discord.com/channels/597638925346930701/607978109089611786/966799896332107786","",""
"181233197579763713","m00nlyte","02/12/2022 11:03 am","``const name0 = 'DAI'
const symbol0 = 'DAI'
const decimals0 = 18
const address0 = '0x6B175474E89094C44Da98b954EedeAC495271d0F' 

const name1 = 'Ether'
const symbol1 = 'ETH'
const decimals1 = 18
const address1 = '0x00000000000000000000' 

const DAI = new Token(chainId, address0, decimals0, symbol0, name0)
const ETH = new Token(chainId, address1, decimals1, symbol1, name1)``","",""
"181233197579763713","m00nlyte","02/12/2022 11:03 am","any standardized names/symbols/addresses (esp for native ether) for initializing tokens?","",""
"471357824299958273","crypto_rachel","02/12/2022 11:09 am","So for eth in the sdk you would use `nativeOnChain(chainId)` . name/symbol doesn't matter afaik","",""
"181233197579763713","m00nlyte","02/12/2022 11:33 am","where is this function found? tried ``const address1 = router.nativeOnChain(chainId)``","",""
"471357824299958273","crypto_rachel","02/12/2022 11:52 am","@uniswap\smart-order-router\build\main\src\util\chain.js","",""
"181233197579763713","m00nlyte","02/12/2022 11:59 am","thanks, will this work as well? ``const ETH = new NativeCurrency(chainId, decimals1, symbol1, name1)``","",""
"471357824299958273","crypto_rachel","02/12/2022 12:05 pm","it looked like it, but tbh I don't use the sdk much üòä","",""
"181233197579763713","m00nlyte","02/12/2022 12:15 pm","thanks üôè  first solution worked","","np (1)"
"590599840489275402","bilal.007","03/12/2022 1:57 pm","@Crypto_Rachel can you help me on this?","",""
"471357824299958273","crypto_rachel","03/12/2022 1:59 pm","never done it","",""
"590599840489275402","bilal.007","03/12/2022 2:01 pm","Can you guide me anyone who can help me if you are a uniswap member. Maybe uniswap devs can help if you request.","",""
"471357824299958273","crypto_rachel","03/12/2022 2:12 pm","I'll point it out to them","","ü•∞ (1)"
"538276590434517006","br41nd4nc3","03/12/2022 10:09 pm","Hi All, I noticed the alpha router makes a call to the subgraph API for fetching all candidate pools. The Uniswap docs state that we shouldn't rely on the subgraph for production transactions (https://docs.uniswap.org/contracts/v2/reference/API/overview). So, does that mean we shouldn't use the AutoRouter (https://docs.uniswap.org/sdk/v3/guides/auto-router) in production? Any clarity about the tradeoffs / nuances here would be greatly appreciated. Thanks!!","",""
"471357824299958273","crypto_rachel","04/12/2022 12:57 am","Well the autorouter is very well tested and used in the UI, it may not be ""perfect"", but most issues really come from bad tokens/pools... In V3 subgraph there is a TVL bug, but not sure how much if at all it affects the auto router, as it's a known bug and I'm sure the Devs account for it","",""
"538276590434517006","br41nd4nc3","04/12/2022 1:18 am","I see. I didn't realize it was used in the UI until  I read some more docs. That's probably good enough for me then! Thanks!","",""
"471357824299958273","crypto_rachel","04/12/2022 1:20 am","yeah I like it üòä  happy to help","",""
"538276590434517006","br41nd4nc3","04/12/2022 1:27 am","If i'm just doing ERC20 swaps, is there any difference in the pricing between v3v2  and universal routers?","",""
"471357824299958273","crypto_rachel","04/12/2022 1:29 am","no","","ty (1),np (1)"
"538276590434517006","br41nd4nc3","04/12/2022 1:48 am","Sorry, another question -- what latency can I expect when calling ""route()"" on the AlphaRouter? I'm seeing 10+ seconds for all pairs that I've tried. Any way I can decrease this?","",""
"538276590434517006","br41nd4nc3","04/12/2022 1:50 am","I see there are some knobs I can turn in the config such as max number of hops and splits. Let me try...","",""
"471357824299958273","crypto_rachel","04/12/2022 1:53 am","so yeah i usually take about 6 secs, I don't know what would need to be changed","",""
"538276590434517006","br41nd4nc3","04/12/2022 2:50 am","i found the default config","",""
"538276590434517006","br41nd4nc3","04/12/2022 2:50 am","https://github.com/Uniswap/smart-order-router/blob/main/src/routers/alpha-router/config.ts","",""
"538276590434517006","br41nd4nc3","04/12/2022 2:51 am","changing those all to 1 still gives me ~7s latency üò¢","",""
"722942810831192107","O.M.A#4916","05/12/2022 8:26 pm","Hi everyone, 
I get an error everytime I do try to swap token using the alpha-router
```
Uncaught (in promise) Error: Unsupported swap type [object Object]
    at buildSwapMethodParameters (methodParameters.ts:257:1)
    at AlphaRouter.route (alpha-router.ts:1072:1)
    at async getPrice (AlphaRouterSevice.js:35:1)
```","",""
"722942810831192107","O.M.A#4916","05/12/2022 8:27 pm","This is the code giving the error
```
const route = await router.route(
    currencyAmount,
    USDC,
    TradeType.EXACT_INPUT,
    {
      recipient: walletAddress,
      slippageTolerance: percentSlippage,
      deadline: deadline,
    }
  );
```","",""
"471357824299958273","crypto_rachel","06/12/2022 12:45 am","Did you import TradeType? The sdk example forgot that, so that could be the issue. Although I worked around the import I do have a full working example here
Auto Router code example
https://discord.com/channels/597638925346930701/607978109089611786/966799896332107786","",""
"843155325619535912","Etherscan Bot#5753","06/12/2022 12:45 am","","",""
"722942810831192107","O.M.A#4916","06/12/2022 2:07 am","Yes I imported the TradeType","","ü§î (1)"
"841859076593287218","stratus1855","06/12/2022 2:38 am","Is there a way to request a ERC20 Token to ETH swap route from the smart-order-router?","",""
"471357824299958273","crypto_rachel","06/12/2022 12:24 pm","how is your wallet set up, is it via PK in script or connection via metamask or other? If via pk in script share more code","",""
"471357824299958273","crypto_rachel","06/12/2022 12:26 pm","check this out
https://discord.com/channels/597638925346930701/607978109089611786/1019961555279949855
also read through this convo
https://discord.com/channels/597638925346930701/823968973753810945/1048111101105156126","",""
"722942810831192107","O.M.A#4916","06/12/2022 12:55 pm","My wallet is connected via metamask
here is more of my code
```
export const getPrice = async (inputAmount, slippageAmount, deadline, walletAddress) => {
  const percentSlippage = new Percent(slippageAmount, 100);
  const wei = ethers.utils.parseUnits(inputAmount.toString(), decimals0);
  const currencyAmount = CurrencyAmount.fromRawAmount(WETH, JSBI.BigInt(wei));

  const route = await router.route(
    currencyAmount,
    USDC,
    TradeType.EXACT_INPUT,
    {
      recipient: walletAddress,
      slippageTolerance: percentSlippage,
      deadline: deadline,
    }
  );

  const transaction = {
    data: route.methodParameters.calldata,
    to: V3_SWAP_ROUTER_ADDRESS,
    value: BigNumber.from(route.methodParameters.value),
    from: walletAddress,
    gasPrice: BigNumber.from(route.gasPriceWei),
    gasLimit: ethers.utils.hexlify(1000000)
  };

  const quoteAmountOut = route.quote.toFixed(6);
  const ratio = (inputAmount / quoteAmountOut).toFixed(3);

  return (
    transaction,
    quoteAmountOut,
    ratio
  )
}
```","",""
"471357824299958273","crypto_rachel","06/12/2022 12:57 pm","possibly something with connection, as the object object error tends to be along those lines","",""
"722942810831192107","O.M.A#4916","06/12/2022 12:59 pm","How do I go about solving it?","",""
"471357824299958273","crypto_rachel","06/12/2022 1:02 pm","reset wallet, check how your connection is set","",""
"715515530311762022","karanp_","06/12/2022 4:42 pm","Hi I am trying to integrate UniSwap Sdk to my react and react native app. Can any one guide me on how to create a swap using the PK and not metamask. I have tried creating a pool and exactInputSingle, but not working","",""
"715515530311762022","karanp_","06/12/2022 7:07 pm","Any docs on implementing UniSwap for Ethers?","",""
"471357824299958273","crypto_rachel","07/12/2022 12:05 am","curious if you have seen the widget, since you have a react native app it would be easy to integrate https://github.com/Uniswap/widgets

but I also have a SDK auto router setup, in which I use PK. all my examples are in #üíª‚îÇdev-chat  pins
Auto Router code example
https://discord.com/channels/597638925346930701/607978109089611786/966799896332107786","",""
"843155325619535912","Etherscan Bot#5753","07/12/2022 12:05 am","","",""
"345033373430841365","elmutt","08/12/2022 3:38 am","Im using the router to get call data like this:

```
    const router = new AlphaRouter({ chainId: currentNetworkId, provider })
    const route = await router.route(
      sellTokenAmount,
      buyToken,
      TradeType.EXACT_INPUT,
      {
        type: SwapType.SWAP_ROUTER_02,
        recipient,
        slippageTolerance: new Percent(5, 100),
        deadline: Math.floor(Date.now()/1000 +1800)
      }
    )
```

It works great for mainnet (chainId 1) and polygon (chainId 137) but whenever I try goerli testnet (chainId 5) it fails with some cors errors:

```
Access to XMLHttpRequest at 'https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/goerli.json' from origin 'http://localhost:4000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
```","",""
"345033373430841365","elmutt","08/12/2022 3:39 am","Any ideas how to use the router on testnet?","",""
"345033373430841365","elmutt","08/12/2022 3:53 am","even when I try curling the url it seems to not exist 
```ipfs resolve -r /ipns/api.uniswap.org/v1/pools/v3/goerli.json: no link named ""goerli.json"" under Qmb9qptMz2hmtkS5fYmJJW3c8vaJt4DwrojSgG5Eba2n8D```","",""
"471357824299958273","crypto_rachel","08/12/2022 11:12 am","It is not üò¶ ... The alpha router is only on main nets","",""
"345033373430841365","elmutt","08/12/2022 10:57 pm","I also noticed this for optimism","",""
"345033373430841365","elmutt","08/12/2022 10:58 pm","Whats best solution in this case? write my own simple router that goes through eth only? seems like the quick and dirty way to go but kindof sucks","",""
"345033373430841365","elmutt","08/12/2022 11:25 pm","Or is there an existing router I can use that doesnt rely on an external api like this?","",""
"471357824299958273","crypto_rachel","09/12/2022 12:01 pm","Not really using the auto router. This is designed to search for best price on the chains 

You can make all standard swaps and TXs on testnets though.

I did do a work around for mine since I didn't want to use real funds for testing my script, I used a main net fork, and it would last for x time before main net was to different, then I would just reset the fork and test agian.","","üëç (1)"
"471357824299958273","crypto_rachel","10/12/2022 4:50 am","@bilal.007
So how are you doing your .env file. you want to make sure that you have all the RPCs for every network that uniswap is on
```
JSON_RPC_PROVIDER_5 = ""https://goerli.infura.io/v3/...""
JSON_RPC_PROVIDER_1 = ""https://mainnet.infura.io/v3/..""
JSON_RPC_PROVIDER_.. Each chain ID and RPC
```","",""
"471357824299958273","crypto_rachel","10/12/2022 4:51 am","it needs all of this
```
THROTTLE_PER_FIVE_MINS = '' # Optional
JSON_RPC_PROVIDER_{CHAIN ID} = { RPC Provider}
# RPC Providers must be set for the following CHAIN IDs:
# MAINNET = 1
# ROPSTEN = 3
# RINKEBY = 4
# G√ñRLI = 5
# KOVAN = 42
# OPTIMISM = 10
# OPTIMISTIC_KOVAN = 69
# ARBITRUM_ONE = 42161
# ARBITRUM_RINKEBY = 421611
# POLYGON = 137
# POLYGON_MUMBAI = 80001
TENDERLY_USER = '' # For enabling Tenderly simulations
TENDERLY_PROJECT = '' # For enabling Tenderly simulations
TENDERLY_ACCESS_KEY = '' # For enabling Tenderly simulations
```","",""
"490970391423221761","ridouane_mp","03/01/2023 3:29 pm","Hello everyone, 
I'm trying to use the sdk to provide liquidity, on polygon mainnet on a USDC/WETH pool

When executing the code below I am getting error  ""transaction underpriced"" : 
` reason: 'processing response error',
  code: 'SERVER_ERROR',
  body: '{""jsonrpc"":""2.0"",""id"":68,""error"":{""code"":-32000,""message"":""transaction underpriced""}}',` 

Even though I've put a high gasLimit. Does anyone know how to fix this ?","",""
"490970391423221761","ridouane_mp","03/01/2023 3:29 pm","`
    const approvalAmountToken0 = ethers.utils.parseUnits('2',6).toString();
    const tokenContract0 = new ethers.Contract(USDCToken.address, ERC20ABI, provider)
    await tokenContract0.connect(connectedWallet).approve(
      positionManagerAddress,
      approvalAmountToken0
    )
  
  
`
fixed : added the gasPrice as a parameter on the approve function and did the job","","üëç (1)"
"784341389697351680","Rina#9825","04/01/2023 4:02 pm","Hello,
I'm trying to find information on how the Uniswap v3 staking protocol calculates the reward, but I can't find anything. Does anyone know how it works?","",""
"471357824299958273","crypto_rachel","05/01/2023 1:11 am","here is the info for that
https://docs.uniswap.org/contracts/v3/reference/periphery/staker/Design#getrewardinfo","",""
"490970391423221761","ridouane_mp","11/01/2023 3:21 pm","Hello 
I'm new to web3 development. 
Could someone explain me how are the values liquidity, tickUpper, lower... encoded using the SDK
I can see that this are big numbers. That will help me understand also if for the parameters to provide to the SDK function like amount0, amount1 I should encode the same way.
Note that I am using javascript if someone have some example on how to decode, encode those values I would appreciate a lot üôÇ thank","",""
"362949040523968514","kkkaaarrrlll","12/01/2023 5:20 am","trying to use sdk to replicate uniswap app lp functionality on a backend. sdk uses ticks tho instead of price range which is used on the app. how does the app translate price range to ticks?","",""
"471357824299958273","crypto_rachel","12/01/2023 11:52 am","answered in #üíª‚îÇdev-chat","",""
"471357824299958273","crypto_rachel","12/01/2023 11:58 am","going price to tick is very difficult and only gives nearest tick, gotta get a sqrtPrice from the human price, and then convert that into tick. Not easy üòä  here is how tick are done in contract from sqrtPriceX96
https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#code#F32#L7
Lots of stuff in the #üíª‚îÇdev-chat pins","",""
"490970391423221761","ridouane_mp","12/01/2023 4:49 pm","Thanks I will look at it","",""
"362949040523968514","kkkaaarrrlll","13/01/2023 4:58 am","Im following the quote guide and Ive pretty much been able to replicate everything. It's just when I run it I get 701053951573 WETH for every 1000 USDC which doesnt sound right except it looks similar to the current price which is 0.704358 WETH per 1000 USDC just the decimal place is off. Honestly it sounds like the fromReadableAmount and toReadableAmount functions just might be doing something wrong (I copied and pasted these functions from the example repo)","https://cdn.discordapp.com/attachments/823968973753810945/1063237993713897482/index.ts",""
"362949040523968514","kkkaaarrrlll","13/01/2023 4:59 am","Also the guide just puts the output of fromReadableAmount into quoteExactInputSingle but when I did that I got an error. It fixed when I converted it to a string tho","",""
"471357824299958273","crypto_rachel","13/01/2023 5:01 am","so everything in crypto is done in lowest decimal format so that 1000 is actually 0.001 usdc","",""
"362949040523968514","kkkaaarrrlll","13/01/2023 9:28 pm","ok this might be a rly novice question but what is lowest decimal format","",""
"362949040523968514","kkkaaarrrlll","13/01/2023 9:35 pm","does that basically mean the integer 1000 is 0.001 usdc for example bc usdc has 6 decimals and the number 1000 represents the number of the lowest denomination of the token (in this case 0.000001) so 1000 * 0.000001 = 0.001? (this is how im intuitively understanding it but if there is a more formal definition or if im misinterpreting please lmk)","",""
"362949040523968514","kkkaaarrrlll","13/01/2023 9:50 pm","Ive ran my example code again now this time instead of 1000 its 1000000 bc I want to see the price of WETH per 1 USDC and I get 702179854907485 * (10 ^ -18) = 0.000702179854907 which is very similar to the 0.000710 I found at https://coincodex.com/convert/usd-coin/weth/","","üëç (1)"
"471357824299958273","crypto_rachel","14/01/2023 1:37 am","yes , another way to convert would be `1000 * (10 ** tokenDecimals)`","",""
"362949040523968514","kkkaaarrrlll","16/01/2023 12:20 am","wait wouldn't it be `amount * (10 ** -tokenDecimals)`","",""
"471357824299958273","crypto_rachel","16/01/2023 12:23 am","not the math to get what you used, but the math to turn the 1000 into the proper lowest decimal format","",""
"362949040523968514","kkkaaarrrlll","16/01/2023 12:25 am","oh i see your math converts to and my math converts from, makes sense","","üëç (1)"
"362949040523968514","kkkaaarrrlll","18/01/2023 12:14 am","how to convert regular js number decimal into Percent?","",""
"362949040523968514","kkkaaarrrlll","18/01/2023 12:15 am","ex: 0.03 to Percent that represents 0.03","",""
"362949040523968514","kkkaaarrrlll","18/01/2023 12:16 am","ik it's trivial but i was wondering if there was a more natural/easier way provided in sdk","",""
"471357824299958273","crypto_rachel","18/01/2023 11:40 am","depends on what you mean specifically, but the basics to get percent are
```
Divide the number that you want to turn into a percentage by the whole. In this example, you would divide 2 by 5. 2 divided by 5 = 0.4. You would then multiply 0.4 by 100 to get 40, or 40%
```

so 
```java
let x = 2;
let y = 5;
let Percentage = x/y;
```","",""
"362949040523968514","kkkaaarrrlll","18/01/2023 8:34 pm","sorry should've given more context, there are some options like `slippageTolerance` that require to be this `Percent` object which inherits from `Fraction`. for ex in the ""Executing a Trade"" guide:
```ts
const options: SwapOptions = {
  slippageTolerance: new Percent(500, 10000), // 50 bips, or 0.50%
  deadline: Math.floor(Date.now() / 1000) + 60 * 20, // 20 minutes from the current Unix time
  recipient: walletAddress,
}
```
Now I have passed in values from the client that are in the form of a regular js/ts number, for ex 0.03. I couldn't find any method that could construct `Percent` objects from decimals so I was just wondering if the sdk does provide something convenient or if I have to do it myself (like count number of decimals to get denominator, etc etc)","",""
"471357824299958273","crypto_rachel","19/01/2023 1:46 pm","so client is passing you data in form of percentage?

well you can base it in whatever level 100s 1000s or 10000s like you have above. Then you would multiple the number they are sending you by that

so lets say above your code `new Percent(amount, 100)`  amount would be `0.03 * 100` giving you 3/100 for the percent","",""
"362949040523968514","kkkaaarrrlll","19/01/2023 9:53 pm","ok that's what i thought too i was just wondering tho if the sdk specifically the `Percent` object had a way to auto do that","",""
"471357824299958273","crypto_rachel","19/01/2023 9:56 pm","not as far as I know","",""
"210447938227404810","lockwu","22/01/2023 9:26 pm","Anyone know why there is no 'types' in the abi's folder? Getting this message:","https://cdn.discordapp.com/attachments/823968973753810945/1066748190063345795/error.png",""
"210447938227404810","lockwu","22/01/2023 9:58 pm","I can stop the process and start it up again no problem, but any changes that lead to a compile always end up with this error","",""
"471357824299958273","crypto_rachel","22/01/2023 10:29 pm","not sure on this, are you using yarn or npm?","",""
"210447938227404810","lockwu","23/01/2023 5:16 am","yarn","",""
"210447938227404810","lockwu","23/01/2023 5:19 am","and windows 10. Node and typescript versions are compatible. 

I simply ""yarn install"" then ""yarn start""
If I make any changes that causes it to compile again, it throws this error.","",""
"210447938227404810","lockwu","23/01/2023 5:19 am","Such as change a theme color for example","",""
"210447938227404810","lockwu","23/01/2023 5:20 am","Then I'll cntrl-c to end the process and restart with yarn start to get it working again","","ü§î (1)"
"471357824299958273","crypto_rachel","23/01/2023 5:20 am","so i'm not sure, but I read the dependencies aren't called with yarn, try npm","",""
"210447938227404810","lockwu","23/01/2023 5:21 am","Ok, I'll try that next","",""
"471357824299958273","crypto_rachel","23/01/2023 5:22 am","üëç  ü§û  hope that is it","",""
"471357824299958273","crypto_rachel","23/01/2023 5:23 am","gotta run out for a bit.","",""
"210447938227404810","lockwu","23/01/2023 7:27 am","Unfortunately, that didn't do it. Going to try it on linux instead","",""
"210447938227404810","lockwu","23/01/2023 10:14 am","No issues on ubuntu using yarn so far","","PartyFrog (1)"
"471357824299958273","crypto_rachel","23/01/2023 10:52 am","windows does suck for all that","",""
"1003471507558781018","HHHHOOO#8789","30/01/2023 2:53 pm","What's the difference between `UNIVERSAL_ROUTER` and `SWAP_ROUTER_02`  in https://github.com/Uniswap/smart-order-router/blob/adf5b62fe5264f72903571537861de327c850751/src/routers/router.ts#L126 ? Which one should i use?","",""
"989275482488983663","AnthonyNicholas#4331","30/01/2023 7:58 pm","https://uniswap.org/blog/permit2-and-universal-router

Permit2 allows token approvals to be shared and managed across different applications creating a more unified, cost-efficient, and safer UX.

Universal Router unifies ERC20 and NFT swapping into a single swap router. Integrated with Permit2, users can swap multiple tokens and NFTs in one swap while saving on gas fees.","",""
"1003471507558781018","HHHHOOO#8789","31/01/2023 7:45 am","So `UNIVERSAL_ROUTER ` is the answer ?","",""
"471357824299958273","crypto_rachel","31/01/2023 11:38 am","the universal router is the new uniswap router that handles Both NFTs and tokens ( New with little documentation )
the router02 is the previous router for uniswap which handles v2 and v3 token swaps (older so lots more docs exist)

Both basically do the same job, just different, and the New UR is able to do much more","",""
"1003471507558781018","HHHHOOO#8789","31/01/2023 11:47 am","thanks!","","YW (1)"
"772883165593075794","peterkrulis","01/02/2023 8:36 pm","hello guys,, we are going to apply for the grant with you,however I am looking for the following info, can anyone answer it please :   for our stablecoin project  we are using your v3router to mint our stablecoin in exchange of usdt,usdc,dai ( on goerli ) , but we want to mint our stblesoin using users cash ( card ) and I just want to ask if we can also access your on ramp and if that can be done on testnet? ( goerli,other..? ) .thank you very much, best regards,Peter","",""
"537905106801393664","vaske555","08/02/2023 9:49 pm","Hello all, we are working on an aggregator whish is planed to use SDK extensively we found out that quote refetch time should be 15seconds, does it gonna black list our aggregator and if yes what is the trash hold not to be black listed? What is suggested time frame to refresh quote","",""
"1059775910934487090","singh_abhay_pratap","10/02/2023 5:36 pm","Hello Community I am new in uniswap sdk actually i want to know how to implement uniswap sdk with widget integration for my own network (Polygon-edge) for making DEX .  Please suggest me a step by step solution for making my DEX fully functional .","",""
"956261178038956143","Lazar#2909","02/03/2023 9:48 pm","Hello guys. I am trying to integrate uniswap-v3-staker into mine yielding project, i wasn't able to find any interface for uniswap-v3-staker. I have two questions is there any interface and how can i deploy uniswap-v3-staker locally. Big thanks in advance for people with some kind of help.","",""
"471357824299958273","crypto_rachel","04/03/2023 11:46 am","There is no UI for it..

V3 staker contract and docs
https://github.com/Uniswap/v3-staker#deployments
https://docs.uniswap.org/contracts/v3/reference/periphery/staker/Design#staketoken","",""
"1080777482812280833","xiaoqiu131418#9611","04/03/2023 5:27 pm","","https://cdn.discordapp.com/attachments/823968973753810945/1081545904013717605/Snip20230304_46.png",""
"1080777482812280833","xiaoqiu131418#9611","04/03/2023 5:27 pm","what is meaningÔºü","",""
"746376478010114168","normie_202","07/03/2023 4:58 pm","guys i am new here and i want to integrate uniswap sdk in my final year project but i find the documentation very hard i have developed the ui for selecting the tokens just want to integrate uniswap sdk and swap them in mainnet","",""
"805928829083975701","berteotti","07/03/2023 5:40 pm","Hey guys, is there a way to decrease 100% liquidity through the SDK?","",""
"827037742915256340","it02","11/03/2023 12:23 pm","does anyone know why this is happening, i just changed factory, init_code_hash and lp name and lp symbol

i hope i received a solution.","https://cdn.discordapp.com/attachments/823968973753810945/1084006235080245308/image.png",""
"827037742915256340","it02","11/03/2023 5:34 pm","thanks already fix","https://cdn.discordapp.com/attachments/823968973753810945/1084084488352567376/image.png",""
"673590372320149547","shivansh211299#3305","12/03/2023 10:02 am","hello all, i have been developing a script to fetch prices from DEX i just wanted to know if there is a socket function for uniswap v3 to fetch realtime change in price of pool.. like there was sync function in uniswap v2 for pair","","üëÄ (1)"
"471357824299958273","crypto_rachel","16/03/2023 1:00 am","Uniswap has no public api. But you can still call the contract for price through the sqrtPriceX96, just needs a little math which I have here
https://discord.com/channels/597638925346930701/1090100552039415938","",""
"602445209661472780","444721","16/03/2023 2:30 pm","As soon as I open the website, I will prompt for an error. Why","https://cdn.discordapp.com/attachments/823968973753810945/1085850112011542628/image.png","‚úÖ (1)"
"883821357933158410","StolenPizza#4743","20/03/2023 9:52 pm","Guys im trying to use the V3 sdk
Using the example shown on the docs, using Alpha router to find optimal price. i get this error = (node:4599) UnhandledPromiseRejectionWarning: Error: Could not find a USD/WETH pool for computing gas costs.
This is on arbitrum, i have adapter the addresses correctly. Any idea why this is happening","","‚úÖ (1)"
"244323404558237706","0xpato","22/03/2023 9:04 am","I had this problem when I mistake some of the configuration and the router couldn't find the pool for that values used","",""
"930441744695296020","vashisht67","11/04/2023 1:30 pm","hi guys i am new here!, I want to ask a question, I am a smart contract developer and try to understand Uniswap-v3 contracts, what uniswap sdk do? and is it used in contract or not?","",""
"471357824299958273","crypto_rachel","12/04/2023 12:26 am","So the SDK is a set of tools based in javascript and typescript. Can't really use them in contracts, but they can be used to send data to contracts","",""
"930441744695296020","vashisht67","12/04/2023 12:27 am","Okh Thanks @Crypto_Rachel","","YW (1)"
"930441744695296020","vashisht67","12/04/2023 12:29 am","@Crypto_Rachel  do you know about tick library in V3, it's use and how it works","",""
"471357824299958273","crypto_rachel","12/04/2023 12:29 am","kinda what are you wanting to know","",""
"956261178038956143","Lazar#2909","14/04/2023 5:27 pm","Hello guys, hope you are doing well.
Trying to build program on top of `UniswapV3Staker`. 
Is it possible to create multiple Incentives Programs for the same Uniswap V3 Pool Pair at the same time and if not why?
I found some article https://holdex.io/c/learn/how-to-create-a-uniswap-v3-staking-program where it says that if we created incentive for pair we have to wait for incentive to be ended in order to create new one for same pool, but i don't see why?","",""
"471357824299958273","crypto_rachel","14/04/2023 11:40 pm","afaik, you can only have one at a time due to conflicts with storage of the incentive (only setup for 1 per token per period)","",""
"956261178038956143","Lazar#2909","14/04/2023 11:55 pm","@Crypto_Rachel appreciate the help, big thanks üôè.
Also this brings up another question, UniswapV3Staker allows us to stake one tokenId into multiple incentives, what is the case where that happens, because we are not able to create multiple incentives for same pair at the same time.","",""
"471357824299958273","crypto_rachel","14/04/2023 11:57 pm","I don't know how or why it would do that, as token ID is only for one pair ( ü§î  unless it's like an incentive for each token, interesting, never saw that)","",""
"956261178038956143","Lazar#2909","21/04/2023 3:44 pm","@Crypto_Rachel One more question if possible. Rewards from UniswapV3Staker are given based on the seconds concentrated liquidity has been in the range?","",""
"956261178038956143","Lazar#2909","21/04/2023 4:04 pm","Started a thread.","",""
"843155325619535912","Etherscan Bot#5753","04/05/2023 7:03 pm","<https://etherscan.io/address/0x1F98431c8aD98523631AE4a59f267346ea31F984>","",""
"843155325619535912","Etherscan Bot#5753","04/05/2023 7:03 pm","<https://etherscan.io/address/0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6>","",""
"1103672756379324457","trejo#8909","04/05/2023 10:36 pm","Started a thread.","",""
"471357824299958273","crypto_rachel","05/05/2023 10:57 pm","please read this
https://discord.com/channels/597638925346930701/607978109089611786/1091751967677763624","",""
"843155325619535912","Etherscan Bot#5753","05/05/2023 10:57 pm","","",""
"329839691195219969","kbanta11","08/05/2023 12:29 am","is there a way with the smart-order-router to limit it to only v3 pools?","",""
"471357824299958273","crypto_rachel","08/05/2023 12:32 am","yes I think you can, although I haven't done it, so can't remember the exact settings","",""
"471357824299958273","crypto_rachel","08/05/2023 1:25 am","check the setup section here https://github.com/Uniswap/smart-order-router/blob/cb19830ee11584901288c50372784b4510fbcf9f/src/routers/alpha-router/alpha-router.ts#L257","",""
"329839691195219969","kbanta11","08/05/2023 2:58 am","found it: set `partialRoutingConfig` in `AlphaRouter.route` to have a `protocols: [Protocol.V3]` (or whatever protocol wanted, Protocol from `@uniswap/router-sdk`)","","PartyFrog (1)"
"471357824299958273","crypto_rachel","08/05/2023 3:04 am","nice","",""
"471357824299958273","crypto_rachel","08/05/2023 3:06 am","üôè  added to my FAQ https://discord.com/channels/597638925346930701/1087869256521236510/1104884432894181406","",""
"956261178038956143","Lazar#2909","10/05/2023 12:40 pm","@Crypto_Rachel do you have deployed UniswapV3 structure on Sepolia?","",""
"912787898389119046","mikeh21","11/05/2023 12:41 am","Quick question on the smart order router. I'm using the sdk and have everything wired up and am able to successfully execute trades on Goerli. But I'm seeing these requests in my console to non-existent urls. Doesn't appear to be causing any issues with the trade though. Just curious what's going on and if there's a way to prevent that? I assume this is just a goerli issue since it looks like the mainnet version of this url exists. 

https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/goerli.json","",""
"912787898389119046","mikeh21","11/05/2023 12:42 am","It's also making requests to this url which also returns a 404 (same as the above, but replace `v3` with `v2`)

https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v2/goerli.json","",""
"471357824299958273","crypto_rachel","11/05/2023 12:47 am","The team is planning on releasing one soon","",""
"471357824299958273","crypto_rachel","11/05/2023 12:49 am","ü§î hmm might be remnants of old api","",""
"819506394113376266","0xeminivince","11/05/2023 8:46 pm","Any progess with this?","",""
"129303966570774529","_lockesmith","12/05/2023 6:47 pm","What channel is this?","",""
"129303966570774529","_lockesmith","12/05/2023 6:48 pm","@Normie_202 there are some examples of different functionalities over in #üí°Ô∏±developer-faq","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 6:50 pm","#üí°Ô∏±developer-faq","","üëÜ (1),üôè (1)"
"129303966570774529","_lockesmith","12/05/2023 7:13 pm","So weird, in that message it's a `no access` channel for me.","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:04 pm","Yeah it points to an old channel we archived","","üî• (1)"
"471357824299958273","crypto_rachel","12/05/2023 11:00 pm","not sure if that was before or after the remod üòÑ  thanks I fixed","","üòÖ (2)"
"1007197273857474581","chibijuice","17/05/2023 7:49 pm","How does one fix this 'cors' issue?
I started over, made a React app to test, installed the widget, and I'm getting this:","https://cdn.discordapp.com/attachments/823968973753810945/1108398304934498414/image.png",""
"1007197273857474581","chibijuice","17/05/2023 7:49 pm","(This isn't only Widget related, as the same thing happened yesterday when I tried adding uniswap-sdk into my Vue app in a fully web3 way. I'm stopped at the same step in both cases)","",""
"1007197273857474581","chibijuice","17/05/2023 8:21 pm","Actually it isn't only a CORS error, the endpoint literally does not exist:
https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/polygon-mumbai.json
How do I fix this? Only thing I'm doing is giving `80001` as chainId for my tokens, which is Polygon Mumbai, and what I use for my development environment.

`failed to resolve /ipns/api.uniswap.org/v1/pools/v3/polygon-mumbai.json: no link named ""polygon-mumbai.json"" under QmTArNU72CLzhRbDGDhX1Vcef7eyNaYM6swKirPDRsbmC7`","",""
"756483117967081522","BigBandit#5062","17/05/2023 9:52 pm","I have a question","",""
"756483117967081522","BigBandit#5062","17/05/2023 9:53 pm","Will Uniswap V2 SDK work on ZkSync? I have already modified my contracts to work with ZkSync","",""
"1105430790680096778","ramblebytes","21/05/2023 3:29 pm","Hello i need some help.  What is the BSC quoter contract address?","",""
"471357824299958273","crypto_rachel","22/05/2023 12:30 am","You don't need to post in multiple channels, please have patience for someone to answer
https://discord.com/channels/597638925346930701/1090085020435230771","",""
"956261178038956143","Lazar#2909","23/05/2023 4:27 pm","Hello guys, i need confirmation that UniswapV3Staker is audited by someone official. Do you have some proof for that, or any links that i can explore and see audit reports for my self","",""
"905356410429247518","neptunehalo","29/05/2023 8:04 pm","Warning: The data on this site has only synced to Ethereum block 17308397 (out of 17365249). Please check back soon.

v2.info.

This is the message that I am consistently getting on the v2.info.uniswap.org. Since past 2 weeks in think. 

Does anyone know why this is happening consistently. 
Any feedback would be appreciated.","",""
"471357824299958273","crypto_rachel","30/05/2023 2:06 am","Sorry for the inconvenience. Yes unfortunately a memecoin crashed the uniswap graph and the teams are working to fix this","",""
"1103271169978814545","swapeth","30/05/2023 10:55 am","but this message has been there since long time....","",""
"471357824299958273","crypto_rachel","30/05/2023 10:56 am","We are aware. our apologies","",""
"1103271169978814545","swapeth","30/05/2023 11:02 am","V3 is going to implement feature that can buy NFTs from different coin or token you have in just one transaction?","",""
"1103271169978814545","swapeth","30/05/2023 11:03 am","And if yes then will those NFTs from only cryptochunks and x2y2, NFTX zap or something fix platforms? @Crypto_Rachel","",""
"471357824299958273","crypto_rachel","30/05/2023 11:09 am","Uniswap has already implemented the buy NFT with any token, it allows you to select the token or ETH in the bag after NFT is added to shopping list","",""
"471357824299958273","crypto_rachel","30/05/2023 11:09 am","There is a short list of protocols rn, more to come in the future","",""
"1103271169978814545","swapeth","30/05/2023 11:09 am","okay ... thanks rachel..","",""
"1103271169978814545","swapeth","30/05/2023 11:10 am","I like you","","üòä (1)"
"471357824299958273","crypto_rachel","30/05/2023 11:12 am","Are you popular in another server? I had a copycat of you in here today","",""
"1103271169978814545","swapeth","30/05/2023 11:15 am","Actually I have a copycat of yours with #9407","",""
"1103271169978814545","swapeth","30/05/2023 11:15 am","Or it's really you?","",""
"1103271169978814545","swapeth","30/05/2023 11:16 am","what # ? you got","",""
"471357824299958273","crypto_rachel","30/05/2023 11:18 am","no i'm #7002  (full user ID `471357824299958273`)","",""
"471357824299958273","crypto_rachel","30/05/2023 11:18 am","yeah I've been seeing copycats of me in other servers, trying to track down üòÑ","",""
"1103271169978814545","swapeth","30/05/2023 11:24 am","Great","","PartyFrog (1)"
"956261178038956143","Lazar#2909","30/05/2023 4:08 pm","Started a thread.","",""
"336516852995850241","melonges","10/06/2023 2:59 pm","Hello! How i can represente native token in @uniswap/sdk-core?","",""
"471357824299958273","crypto_rachel","10/06/2023 11:24 pm","you would need to use `nativeOnChain(ChainId.MAINNET),`
check my example here https://discord.com/channels/597638925346930701/1087869256521236510/1087870932082770053","",""
"1023438527838556233","labbittori#3994","13/06/2023 8:38 am","hi is there a function in the sdk that create a pool contract if it does not exist?  I modified the mint-position example for new tokens but it seems like the pool contract was not getting created","",""
"471357824299958273","crypto_rachel","14/06/2023 12:07 am","this is an option to select when minting the position.
I don't use the sdk really, so not sure how to add it, but here is the line in the code
https://github.com/Uniswap/v3-sdk/blob/08a7c050cba00377843497030f502c05982b1c43/src/nonfungiblePositionManager.ts#L215","",""
"1023438527838556233","labbittori#3994","14/06/2023 6:45 pm","thanks.  Seems like the  mint-position example's library position.ts already do that, but it's failing before minting the position when it tries to get the pool's info, and the pool contract is not there yet.","",""
"471357824299958273","crypto_rachel","15/06/2023 10:31 am","check this line it is a option in the mint call https://github.com/Uniswap/v3-sdk/blob/08a7c050cba00377843497030f502c05982b1c43/src/nonfungiblePositionManager.ts#L25","",""
"880782287313190964","_saads","15/06/2023 4:43 pm","Hey, I am trying to understand Permit2 and use the permit2-sdk with smart-order-router sdk for swapping in my application.

My understandings - *[please verify]*
1. I will have to approve permit2 address ONCE PER erc20 token
2. After that, for swaps we can just sign a permit message with uniswap router as spender & don't need to call approve explicitly
3. Permit2 supports two modes, signature transfers and allowance transfers 
4. Allowance uses PermitSingle and signature uses PermitTransferFrom format 
5. I can then call `getPermitData()` from either AllowanceTransfer / SignatureTransfer
6. Then sign the returned PermitData using provider‚Äôs `_signTypedData()`
7. At this step the signature is complete and I can use in `swapOptions` of router

I am passing these values to `AlphaRouter.route()` method like this
```js
const route = await router.route(
  inputAmount,
  destToken,
  TradeType.EXACT_INPUT,
  {
    recipient: walletAddress,
    slippageTolerance: new Percent(5, 1000),
    type: SwapType.SWAP_ROUTER_02,
    deadline: Math.floor(Date.now() / 1000 + 1800),
    inputTokenPermit: {
      v: signature.v,
      r: signature.r,
      s: signature.s,

      // for allowance transfer
      expiry: permit.sigDeadline,
      nonce: permit.details.nonce
      
      // for signature transfer
      // deadline: permit.deadline,
      // amount: permit.permitted.amount,
    }
  }
);
```
After this I am using the `route.methodParameters.calldata` to estimate the transaction fee. But I am getting contract execution reverted error, without any further information. 
I also sent this transaction and it failed with same error. https://goerli.etherscan.io/tx/0x4ab234f3b606e7ef4029eb11efdc8bbde2fad333346da907091aa48341ce21c6.","",""
"880782287313190964","_saads","16/06/2023 1:25 am","@Crypto_Rachel can you please help with this? üëÜ","",""
"471357824299958273","crypto_rachel","16/06/2023 1:36 am","sorry I don't use the SDK, nor have I worked with permit2. Check out all I have here https://discord.com/channels/597638925346930701/1095554461230956605","",""
"880782287313190964","_saads","18/06/2023 1:58 am","No prob, I fixed some issues in my code and now its working for me. I have put this sample here. Feel free to take a look 

https://github.com/saad-s/uniswap-uni-router-permit2.git","","PartyFrog (1),RockStar (1),‚ù§Ô∏è‚Äçüî• (2),Uni (1)"
"336516852995850241","melonges","19/06/2023 3:48 am","Why this method take a lot of time? Several seconds

https://github.com/Uniswap/examples/blob/38ff60aeb3ad8ff839db9e7952a726ca7d6b68fd/v3-sdk/routing/src/libs/routing.ts#L36-L47","",""
"471357824299958273","crypto_rachel","19/06/2023 10:05 am","looks really good, thanks for sharing. If you don't mind I'll add to my section of info","",""
"471357824299958273","crypto_rachel","19/06/2023 10:06 am","the auto-router does a lot of work to get the best quote. this takes a while when done on your own comp. Using a cloud-aws setup is only way to spead it up","",""
"880782287313190964","_saads","20/06/2023 12:13 pm","yeah sure, use it any way you want","","RockStar (1)"
"471357824299958273","crypto_rachel","21/06/2023 12:30 am","Thanks I'm sure this will help users","",""
"554625070039826450","moman#7181","22/06/2023 5:05 pm","Hi everyone","",""
"554625070039826450","moman#7181","22/06/2023 5:06 pm","I have a question regarding SDK and getting a multihop quote.","",""
"554625070039826450","moman#7181","22/06/2023 5:07 pm","It works for well established pools but does not seem to work for a new pool that was created yesterday. From a bit more research I saw the SDK is calling: https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/mainnet.json to get info on the pools, where the pool I want is not present","",""
"554625070039826450","moman#7181","22/06/2023 5:07 pm","what is the procedure of this getting updated or a new pool to be added here?","",""
"149735676278079488","austino256","23/06/2023 5:57 pm","What is your pool that is missing? Pools should get automatically added but sometimes bugs leave pools out.","",""
"554625070039826450","moman#7181","23/06/2023 6:38 pm","How often does it get updated?","",""
"554625070039826450","moman#7181","23/06/2023 6:38 pm","because multihop on sdk does not find a path","",""
"554625070039826450","moman#7181","23/06/2023 6:40 pm","Actually it looks like it is now in the json. Probably just needed to wait for it to get updated since it was a compleatly fresh pool","",""
"554625070039826450","moman#7181","23/06/2023 6:41 pm","Trying multi hop again now","",""
"194538735382167553","elcabrono#7465","03/07/2023 5:16 pm","Hello, I used the AlphaRouter from the smart-order-router sdk for a while, but since last week I get timeouts(522)
it is stated in the README 
> These parameters should work on Infura and Alchemy by default.
I tried it with my infura and alchemy rpc both give a 522 (blockgaslimit also at 150_000_000)
anyone has the same problem or can help me?","",""
"471357824299958273","crypto_rachel","05/07/2023 12:27 am","Double check your RPC setup and limits also that your on the correct chain","",""
"471357824299958273","crypto_rachel","05/07/2023 12:28 am","Also seen a bit of clodflare upgrades and maintenance","",""
"978880811623411712","mole.fi","07/07/2023 8:01 am","","https://cdn.discordapp.com/attachments/823968973753810945/1126701933789446254/image.png",""
"978880811623411712","mole.fi","07/07/2023 8:02 am","Dears , I know how to get a position id by solidity. But could I know how to compute a position id in TS or JS ? Thank you","",""
"471357824299958273","crypto_rachel","12/07/2023 3:29 am","did you create your position in the pool or via the NFT manager? getting the pool position info is difficult, but the normal way is most positions are created by the NFT manager","",""
"1117747072330903613","robertst#3579","14/07/2023 7:04 pm","Hey, I have a couple of questions:
After reading some docs, I found  that the best way to swap to exact amount of ERC20 (in my context USDC) is to use exactOutputSingle? Is there any example how to use it?
Is it possible to directly swap ETH to USDC (AFAIK router will automatically swap ETH to WETH?)
Is there more documentation or tutorials how to learn more about uniswap except official site?

Thanks!!!","",""
"471357824299958273","crypto_rachel","15/07/2023 2:33 am","Yeah the SDK has ways, heres the docs https://docs.uniswap.org/sdk/v3/overview
I also have basic web3 examples here https://discord.com/channels/597638925346930701/1090099751267074048","","üëç (1)"
"790622188926795797","crypto_margol","19/07/2023 3:35 pm","**__Help needed - Enjoying AlphaRouter but for best quotes__**

**__My goal__**
- Using AlphaRouter as a quote provider to get the best prices of a swap between two tokens.

**__Why?__**
Getting a quote from a pool (using the Quoter) is not good enough for me. I would like to get the ""market""'s price of the token and not the pool price.

**__The problems__**
- AlphaRouter **takes a LOT of time** to run on a single route. For example, trying to get a quote for 5 USDC to WETH on Polygon using Alchemy/QuickNode takes about **38 seconds**.
- AlphaRouter does **more expensive RPC calls** like getting gas details since it's preparing the calldata of the route (which in my case I don't care about it.

How can I achieve that?
Is there a way to make AlphaRouter execute much faster? With less RPC calls?

I'm only interested in its abilities to find the best route from multiple pools, nothing else.

I looked for it but couldn't find anything good.
I noticed it also makes SubGraph calls, maybe they're not cached and that's slow?

I really have no idea why it's so slow and how it can be improved. Would appreciate any help here.","",""
"336516852995850241","melonges","19/07/2023 4:09 pm","Hello again! I updated to the latest `@uniswap/sdk-core` 4.0.6 and it still takes about a second or more to find the route. Also, if you upgrade to the latest version of jsbi, then the error ""Convert JSBI instances to native numbers using toNumber"" occurs in the method `CurrencyAmount.fromRawAmount`","",""
"471357824299958273","crypto_rachel","20/07/2023 1:37 am","so the best speed method I know for routes involve the https://github.com/Uniswap/routing-api routing API, which requires a setup on something like Amazon AWS.. TBH I haven't set it up ever, but it cuts down on the time","",""
"471357824299958273","crypto_rachel","20/07/2023 1:38 am","is the fromRawAmount in a BN instance? I would try using the `.toNumber()` to pass the amount","",""
"790622188926795797","crypto_margol","20/07/2023 2:28 am","Thank you @Crypto_Rachel ! 

Is this what the Uniswap UI uses?
Also, I'm assuming there are rate limits to these APIs, right? Can you share what are they? Or it's a setup for me to run on my own infra and query?","",""
"790622188926795797","crypto_margol","20/07/2023 2:29 am","Ok I see I set up my own API","","üòä (1),RockStar (1)"
"471357824299958273","crypto_rachel","20/07/2023 2:29 am","this is what the UI uses... It's api is closed though... You would have to launch your own. There are some instructions on the page,","",""
"790622188926795797","crypto_margol","20/07/2023 2:30 am","But it also says it uses the same smart router I asked about that is very slow for us. Why would the API be any different then?","",""
"471357824299958273","crypto_rachel","20/07/2023 2:32 am","I'm not sure exactly why it's faster, code does look more condesed than the auto router code. But From other users, the quotes take about 1/6th the time or better","",""
"790622188926795797","crypto_margol","20/07/2023 2:33 am","That's good to know, is there anyone from the Uniswap team that can explain why is that?","",""
"471357824299958273","crypto_rachel","20/07/2023 2:36 am","Team is always very busy, and many are in paris","",""
"389442330719027212","kmanofficial","20/07/2023 9:10 pm","Hi, when using the SDK to determine the amount out for an exactInput swap on an illiquid pool it returns the wrong value compared to the Quoter contract, is there any workaround this? Thanks","",""
"471357824299958273","crypto_rachel","21/07/2023 12:21 am","what method are you working with in SDK that gives bad results, could you share relevant code","",""
"389442330719027212","kmanofficial","22/07/2023 12:23 am","Sorry for the late reply, if you construct a pool in the SDK for example based on the current values of this V3 pool on BNB chain (ID-USDT 0xD0A5e2818A23E2054449982fB9Ff9575867cf92B) and then do GetOutputAmount call for an input about $2k worth of tokens lets say 7634197200000000000000 ID (in wei) - the quoterV2 contract (0x78D78E420Da98ad378D7799bE8f4AF69033EB077 on BNB chain) will return about 385 USDT or so however the SDK returns over 1400 USDT but there isn't that much USDT in the pool contract (about $3.3k ID and $657 USDT)","",""
"389442330719027212","kmanofficial","22/07/2023 12:24 am","This seems to only take place on the illiquid pools, on a pool that has sufficient liquidity across ticks it is fine","",""
"471357824299958273","crypto_rachel","22/07/2023 12:26 am","I'm not sure what the SDK is using for the quoting, does it give you a path in the swap path? it could be using the Auto router which finds best route","",""
"389442330719027212","kmanofficial","22/07/2023 12:28 am","It's not connected to any source, I'm creating a pool entity with the SqrtPriceX96 set, liquidity and tick and then it's using those values to determine the output amount (it follows the swap functionality that is in the swap function in the uniswapv3pool.sol contract)","",""
"389442330719027212","kmanofficial","22/07/2023 12:29 am","https://github.com/Uniswap/v3-sdk/blob/main/src/entities/pool.ts#L70C15-L95","",""
"389442330719027212","kmanofficial","22/07/2023 12:29 am","https://github.com/Uniswap/v3-sdk/blob/main/src/entities/pool.ts#L159-L177","",""
"389442330719027212","kmanofficial","22/07/2023 12:29 am","https://github.com/Uniswap/v3-sdk/blob/main/src/entities/pool.ts#L215-L315","",""
"471357824299958273","crypto_rachel","22/07/2023 12:34 am","how are you getting the Liquidity?","",""
"389442330719027212","kmanofficial","22/07/2023 12:35 am","Call onchain to Liquidity() function","",""
"471357824299958273","crypto_rachel","22/07/2023 12:37 am","this LQ is only for the Current tick range... With the quoter v2 contract, unless you specify the SqrtPriceLimit, it can go outside the the tick range","",""
"389442330719027212","kmanofficial","22/07/2023 12:41 am","Yeah I know that, but the SDK is going beyond that - the quoterV2 contract is returning a lower value (which it should) compared to the SDK which returns a value which is more than what the contract holds, it seems like the nextInitializedTickWithinOneWord function in the SDK is only an estimate/approximation and not the full function like within the smart contract so it over predicts the amount to be returned from the swap in illiquid pools. I used tenderly to compare an onchain swap with the values within the swap function in the SDK and the SDK version starts off with a broader tick value and hence sqrtPriceLimit and therefore does less passes in the for loop but in return gives the wrong output for illiquid pools","","ü§î (1)"
"471357824299958273","crypto_rachel","22/07/2023 12:51 am","yeah ü§î  I don't know the SDK to well. Knowing that they are illiquid pools, makes me think something can't be accounted for... The chain quoter, actually does the swap catches the data like a real chain swap. I'll see if I can get more info about this","",""
"389442330719027212","kmanofficial","22/07/2023 1:05 am","Thanks, been trying to think of a solution for a while I seen some others have posted about this issue on GitHub and in this discord but I think it may just be overlooked as most pools have enough liquidity","","üëÄ (1)"
"978880811623411712","mole.fi","26/07/2023 12:38 pm","Does alpha-router::route() function have sync version?","",""
"978880811623411712","mole.fi","26/07/2023 12:38 pm","","https://cdn.discordapp.com/attachments/823968973753810945/1133657172971106374/image.png",""
"978880811623411712","mole.fi","26/07/2023 12:39 pm","Dears , could I know if this async function have a sync version ? Thank you","",""
"978880811623411712","mole.fi","26/07/2023 12:39 pm","üòò","",""
"978880811623411712","mole.fi","26/07/2023 12:39 pm","in the smart-order-router","",""
"471357824299958273","crypto_rachel","27/07/2023 12:04 am","Not possible, that call needs to have await functions for blockchain calls","",""
"978880811623411712","mole.fi","27/07/2023 6:41 am","We have integrate some Dex like Cetus, they provide a sync function call for route() function. Simulate tickets with local data.","",""
"471357824299958273","crypto_rachel","27/07/2023 6:43 am","you can reach out to contact@uniswap.org, but not sure it would be possible","",""
"1105419417581539338","Akhilesh#2509","03/08/2023 7:15 pm","Hi, I'm trying to get a quote for WETH to USDC on OP using v3 docs quoter function which is fetching and displaying the value but the amount seems to be a bit wrong. I've put in 1 weth and output im getting is 1831 while the uniswap page shows 1835. What am I doing wrong? -
This is my config -
```
  tokens: {
    in: WETH_TOKEN,
    amountIn: 1,
    out: USDC_TOKEN,
    poolFee: FeeAmount.MEDIUM,
  },
```
and the quote function copied from github docs and only diff is I'm passing the const provider = useProvider() from wagmi to the func```
export async function quote(
  provider: ethers.providers.Provider
): Promise<string> {
  const quoterContract = new ethers.Contract(
    QUOTER_CONTRACT_ADDRESS,
    Quoter.abi,
    provider
  );
  const poolConstants = await getPoolConstants(provider);

  console.log({ poolConstants });
  const quotedAmountOut = await quoterContract.callStatic.quoteExactInputSingle(
    poolConstants.token0,
    poolConstants.token1,
    poolConstants.fee,
    fromReadableAmount(
      CurrentConfig.tokens.amountIn,
      CurrentConfig.tokens.in.decimals
    ),
    0
  );
  console.log(
    toReadableAmount(quotedAmountOut, CurrentConfig.tokens.out.decimals)
  );

  return toReadableAmount(quotedAmountOut, CurrentConfig.tokens.out.decimals);
}

async function getPoolConstants(provider: ethers.providers.Provider): Promise<{
  token0: string;
  token1: string;
  fee: number;
}> {
  const currentPoolAddress = computePoolAddress({
    factoryAddress: POOL_FACTORY_CONTRACT_ADDRESS,
    tokenA: CurrentConfig.tokens.in,
    tokenB: CurrentConfig.tokens.out,
    fee: CurrentConfig.tokens.poolFee,
  });

  const poolContract = new ethers.Contract(
    currentPoolAddress,
    IUniswapV3PoolABI.abi,
    provider
  );

  console.log({ poolContract });

  const [token0, token1, fee] = await Promise.all([
    poolContract.token0(),
    poolContract.token1(),
    poolContract.fee(),
  ]);

  return {
    token0,
    token1,
    fee,
  };
}```","https://cdn.discordapp.com/attachments/823968973753810945/1136655965719117844/image.png",""
"471357824299958273","crypto_rachel","04/08/2023 4:31 am","Your quote here is for exact Input single, so this only gets a quote from that one pool.

The uniswap app uses an autorouter code to find and determine the best path.

I have links and examples here https://discord.com/channels/597638925346930701/1087869256521236510","","ty (1)"
"1105419417581539338","Akhilesh#2509","04/08/2023 5:36 pm","Hi, I'm running into cors error while calling the alpharouter for a swap quote only on OP, but when i switch to Arbitrum and call it it reuturns the correct quote. Any idea why? if I visit these links I can see the optimsim already failing to resolve while the arbitrum returns json -
https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/optimism-mainnet.json
https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/arbitrum-mainnet.json

update: I tried multiple times now and for some reason it showed the quote but earlier it kept throwing cors issue -","",""
"1105419417581539338","Akhilesh#2509","04/08/2023 5:53 pm","would love to know why that op url doesn't work though but still somehow magically is giving the quote, no idea where it's coming from if that api is failing.","https://cdn.discordapp.com/attachments/823968973753810945/1136997914850361344/op.PNG",""
"244284498534072322","dill.on","12/08/2023 1:41 pm","Using the universal router sdk and noticing all transactions are sent from and to WETH. Is there an easy way to call the router to automatically transfer to and from ETH such as in the V3 router? Or should I wrap and unwrap WETH separately to the universal router","",""
"471357824299958273","crypto_rachel","13/08/2023 3:17 am","using the UR, you can include commands in the UR call for wrapping and unwrapping ETH. It can do it.","",""
"951122363754369075","recowps","13/08/2023 2:22 pm","Hi all, super basic question, I am building a swap dApp using the SDK and am struggling to add a custom token list, is anyone able to point me in the right direction? Thanks in advance.","",""
"471357824299958273","crypto_rachel","16/08/2023 1:31 am","what is giving you issues the list itself or the SDK
make sure your list adheres to the schema
example : https://github.com/Uniswap/token-lists/blob/main/test/schema/bigexample.tokenlist.json
https://github.com/Uniswap/token-lists#authoring-token-lists","",""
"1105419417581539338","Akhilesh#2509","23/08/2023 4:21 pm","Hi, can someone share me some example of unwrapping weth with v3 auto router. I did a transaction of usdc -> weth by calling the 
 approve func & sending the actual transaction if the allowance > swap amount  -
setting state with actual swap transaction data - 
```
      setSwapTransaction({
        data: route.methodParameters?.calldata,
        to: V3_SWAP_ROUTER_ADDRESS,
        value: inputAmount, // bigNumber
        from: walletAddress,
      });

//and then in my react code 
  const { config } = usePrepareSendTransaction({
    request: {
      data: sendApproval ? approvalTransaction.data : swapTransaction.data,
      from: sendApproval ? approvalTransaction.from : swapTransaction.from,
      to: sendApproval ? approvalTransaction.to : swapTransaction.to,
      value: sendApproval ? """" : swapTransaction.value,
      gasLimit: 224330,
    },
  });


  const { isLoading, isSuccess, isError, sendTransaction } =
    useSendTransaction(config);

I call the sendTransaction?.() on click of a button
```
 which i send via wagmi usePrepareSendTransaction/ sendTransaction hook and it worked but now i have weth in my wallet, is there a way to convert it automatically via uniswap within the same swap transaction i send?
 cause I'm already setting 2 diff state  if the allowance is not met i.e. a) call approve if allowance not met  b) actual swap transaction.","",""
"471357824299958273","crypto_rachel","24/08/2023 6:20 am","Using the SDK you need a ""Native"" trigger for the token output

check here https://discord.com/channels/597638925346930701/1087869256521236510/1087870932082770053","","üëç (1)"
"601739064239980544","salman247","25/08/2023 6:30 pm","I am facing ss attached issue while implementing swap using universal router","",""
"601739064239980544","salman247","25/08/2023 6:31 pm","","https://cdn.discordapp.com/attachments/823968973753810945/1144617483119116419/image.png",""
"601739064239980544","salman247","25/08/2023 6:31 pm","MY CODE for fetching pool:","https://cdn.discordapp.com/attachments/823968973753810945/1144617574043242496/image.png",""
"601739064239980544","salman247","25/08/2023 6:32 pm","Pair for which I am trying to fetch pool:

tokenA:  0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
tokenB: 0xd03f5037df3dbf068e9f288351d4bfa4fcb157fc","",""
"471357824299958273","crypto_rachel","25/08/2023 10:50 pm","double check the abi (make sure you have the pool abi, I have them here #deleted-channel )  and pool address, tokens addresses","",""
"1064980649385132252","dchura#3611","27/08/2023 3:20 pm","Started a thread.","",""
"247000267432787969","marcopoloo33","27/08/2023 10:17 pm","Is it possible to use uniswap sdk elements for an historical blockNumber ? such as Route object and midprice","",""
"471357824299958273","crypto_rachel","29/08/2023 3:17 am","Not setup for that. You would have to rewrite all the calls to include how your RPC provider needs the block data","","üëç (1)"
"1105419417581539338","Akhilesh#2509","30/08/2023 1:11 pm","Hi, silly question but in order to use nativeOnChain does it always have to be on the output token i.e. token1? 
Cause in my case here i never swap positions.. - Token Position (WETH - token0, USDC - token1)
```
    const [buy, sell] = await Promise.all([
      this.router.route(
        CurrencyAmount.fromRawAmount(
          this.targetUniswapToken,
          fromReadableAmount(amount, this.targetData.decimals).toString() //buy weth spend usdc
        ),
        this.usdcUniswapToken,
        TradeType.EXACT_OUTPUT,
        this.routerOptions
      ),
      this.router.route(
        CurrencyAmount.fromRawAmount(
          this.targetUniswapToken,
          fromReadableAmount(amount, this.targetData.decimals).toString() //sell usdc get weth
        ),
        this.usdcUniswapToken,
        TradeType.EXACT_INPUT,
        this.routerOptions
      ),
    ]);
```
trying to get quote for a 2 way swap i.e. a) sell and buy ETH for USDC and the issue i have is my token position. Since my token0 is always weth and i want to see the output in USDC on my screen i can't use the nativeOnChain, I exectue them the way they are. I don't know the price buying of ETH so i have to use EXACT_OUTPUT to get that exact amount of usdc to send.. any suggestions? because this way im getting weth / wbtc in my wallet. I would like to recieve ETH/BTC.

Do i need to run another route with exact in and swap position like so once i get the quote from exact output just to get eth/btc..? :(-
  ```  const route = await router.route(
      CurrencyAmount.fromRawAmount(
        tokenIn,
        fromReadableAmount(tokenAmountIn, tokens.in.decimals).toString() // here goes usdc
      ),
      nativeOnChain(chainId), // this is weth
      TradeType.EXACT_INPUT,
      options
    );```

P.S i'm doing this on OP & ARB and would additionally like to know if i can call any methods on weth / wbtc contract abi manually to unwrap them","",""
"1081315495623532615","oliks.eth","30/08/2023 4:54 pm","Hey, what's the most effective way to wrap ETH during providing liquidity? I have a function that creates a transaction of adding WETH/Token liquidity, but I need to wrap the token before hand. Right now I'm sending just a transaction to `nonfungiblePositionManagerAddress` how to achieve I would be able to send ETH when providing liquidity and receive ETH when removing?","",""
"247000267432787969","marcopoloo33","31/08/2023 3:41 pm","thanks","","YW (1)"
"471357824299958273","crypto_rachel","01/09/2023 11:04 am","you can use Native In or Out I have a few examples of the auto-router in here https://discord.com/channels/597638925346930701/1087869256521236510","",""
"471357824299958273","crypto_rachel","01/09/2023 11:09 am","You can use the multi-call  on the NFT position manager. If you do the multi-call you can unwrap ETH

On Providing Liquidity you can send ETH with the transaction and it will auto wrap the ETH when it pays in callback 
https://etherscan.io/address/0xc36442b4a4522e871399cd717abdd847ab11fe88#code#F35#L52","",""
"1148468728896421898","himanshumhjn","05/09/2023 10:54 am","Hello guys i am trying to place swap order through uniswap sdk. The transaction is executed successfully ( also getting swap price )  but balance is not being updated. 
``` const web3Provider = new ethers.providers.Web3Provider(window.ethereum);

    const chainId = 421613;
    const router = new AlphaRouter({
      chainId: chainId,
      provider: web3Provider,
    });
   
    const WETH = new Token(chainId, address0, decimals0, symbol0, name0);
    const USDC = new Token(chainId, address1, decimals1); //, symbol1, name1);

    const wei = ethers.utils.parseUnits(""0.01"", 18);
    const inputAmount = CurrencyAmount.fromRawAmount(WETH, JSBI.BigInt(wei));
    console.log(router);
    const route = await router.route(inputAmount, USDC, TradeType.EXACT_INPUT, {
      type: SwapType.UNIVERSAL_ROUTER,
      recipient: WALLET_ADDRESS,
      slippageTolerance: new Percent(25, 100),
      deadline: Math.floor(Date.now() / 1000 + 1800),
    });
    console.log(`Quote Exact In:`, route.quote);

    console.log(`Quote Exact In: ${route.quote.toFixed(6)}`);

    const transaction = {
      data: route.methodParameters.calldata,
      to: V3_SWAP_ROUTER_ADDRESS,
      value: BigNumber.from(route.methodParameters.value),
      from: WALLET_ADDRESS,
      gasPrice: BigNumber.from(route.gasPriceWei),
      gasLimit: ethers.utils.hexlify(1000000),
    };

    try {
      const approvalAmount = ethers.utils.parseUnits(""0.001"", 18).toString();
      const ERC20ABI = require(""./abi.json"");
      const signer = web3Provider.getSigner();
      const contract0 = new ethers.Contract(address0, ERC20ABI, signer);
      const apTx = await contract0.approve(
        V3_SWAP_ROUTER_ADDRESS,
        approvalAmount
      );
      await apTx.wait();
      const tradeTransaction = await signer.sendTransaction(transaction);
      console.log(tradeTransaction);
    } catch {}```
https://goerli.arbiscan.io/tx/0x08e4e6aae233ca6f1fdfa449716fa2fb6cbe03b95406a7837782f1b54222fe72","",""
"471357824299958273","crypto_rachel","06/09/2023 7:50 am","Arb Goerli has different addresses check here https://discord.com/channels/597638925346930701/1090085020435230771/1090089215297060965","",""
"1148468728896421898","himanshumhjn","06/09/2023 10:54 am","@Crypto_Rachel i am using same aadress for V3_SWAP_ROUTER_ADDRESS
```const name0 = ""Wrapped Ether"";
const symbol0 = ""WETH"";
const decimals0 = 18;
const address0 = ""0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3""; 

const name1 = ""Uniswap Token"";
const symbol1 = ""USDC"";
const decimals1 = 6;
const address1 = ""0x8FB1E3fC51F3b789dED7557E680551d93Ea9d892""; 

const ArbiGoerli = () => {
  const V3_SWAP_ROUTER_ADDRESS = ""0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"";
  const WALLET_ADDRESS = ""0x....."";
  const swapToken = async () => {
    const web3Provider = new ethers.providers.Web3Provider(window.ethereum);

    const chainId = 421613;
    const router = new AlphaRouter({
      chainId: chainId,
      provider: web3Provider,
    });```","",""
"471357824299958273","crypto_rachel","06/09/2023 11:09 am","Which is not the correct router address. #deleted-channel  `0xab7664500b19a7a2362Ab26081e6DfB971B6F1B0`","",""
"1148468728896421898","himanshumhjn","06/09/2023 11:26 am","@Crypto_Rachel ,my transaction is now getting failed 
https://goerli.arbiscan.io/tx/0x5109cb1bbf58ece78bf3532797b79e2a97169fa500d66003afa6167943cfb080","",""
"471357824299958273","crypto_rachel","06/09/2023 11:37 am","your using SDK, with auto-router, what are you options?
it's building that swap for the Universal Router (UR) contract which is `0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD`
to use the router02 you would need to set it in the options

check examples here #deleted-channel","",""
"1148468728896421898","himanshumhjn","06/09/2023 11:42 am","```const options={
      type: SwapType.UNIVERSAL_ROUTER,
      recipient: WALLET_ADDRESS,
      slippageTolerance: new Percent(25, 100),
      deadline: Math.floor(Date.now() / 1000 + 1800),
    }```
this are my options","",""
"471357824299958273","crypto_rachel","06/09/2023 11:43 am","then use the UR address","","üëç (1)"
"1148468728896421898","himanshumhjn","06/09/2023 11:45 am","Thanks @Crypto_Rachel","","YW (1)"
"1054671333230915654","blacksdueyfoe","06/09/2023 7:58 pm","can someone pls answer this
We are having issues adding liquidity to the tick range of the mark price(102060 - 102180) in the BTC/XUSD pool; the transaction reverts with 'OLD' (from the Uniswap Oracle contract).
Adding liquidity works for other ranges outside that.https://dashboard.tenderly.co/shared/simulation/b8cba5b3-3feb-486e-b258-0961058d1d43This is the link to a simulation for a tick range outside that of the mark price(it works fine). I added a comment and set priority to 'high' on the step where the transaction gets reverted if the specified tick is that of the mark price.You can change the values of 'lowerTick' and 'upperTick' to 102060 and 102180 respectively and re-simulate to see the case where it fails.","",""
"471357824299958273","crypto_rachel","06/09/2023 11:41 pm","share the pools address","",""
"1105419417581539338","Akhilesh#2509","14/09/2023 2:30 pm","Hi, silly question but I have a promise and i was looking at implementing ```AbortController``` to stop the network request. does uniswap Alpha router or promises support aborting of network req & if so how do I pass signal to this? -
```    const [askRoute, bidRoute] = await Promise.all([
      this.router.route(
        CurrencyAmount.fromRawAmount(
          this.targetUniswapToken,
          fromReadableAmount(amount, this.targetData.decimals).toString()
        ),
        this.usdcUniswapToken,
        TradeType.EXACT_OUTPUT,
        this.routerOptions
      ),
      this.router.route(
        CurrencyAmount.fromRawAmount(
          this.targetUniswapToken,
          fromReadableAmount(amount, this.targetData.decimals).toString()
        ),
        this.usdcUniswapToken,
        TradeType.EXACT_INPUT,
        this.routerOptions
      ),
    ]);```","",""
"471357824299958273","crypto_rachel","15/09/2023 1:48 am","I'm pretty sure that it doesn't support that. I've never seen anything that would in the code","",""
"791452516449648701","Makoa#2477","17/09/2023 10:47 pm","I've tried running this using ts-node.
```ts
async function getToken() {
    const { ChainId, Token, Fetcher } = require('@uniswap/sdk');
    const DAI = await Fetcher.fetchTokenData(
      ChainId.MAINNET,
      '0x6B175474E89094C44Da98b954EedeAC495271d0F'
    );
    console.log('DAI token:', DAI);
}
  
getToken().catch((error) => {
    console.error(error);
});
```
I've installed and re-installed the uniswap sdk a few times now and I don't know why my code won't work.","",""
"791452516449648701","Makoa#2477","17/09/2023 10:50 pm","Nevermind. I forgot to install the core aswell.","","üëç (1),‚úÖ (1)"
"859668330498359327","chuckgao","19/09/2023 6:32 am","I use the Uniswap-V3 SDK build a route of WETH-USDC and then use Universal-Router build a trade, but I get this error: `Cannot read properties of undefined (reading 'wrapped')`.  Could anyone help me?","https://cdn.discordapp.com/attachments/823968973753810945/1153496263455674419/image.png",""
"471357824299958273","crypto_rachel","19/09/2023 6:43 am","basically something is undefined in the code. what line does it fail on (note I can't see line numbers in image)","",""
"859668330498359327","chuckgao","19/09/2023 6:50 am","At 94","https://cdn.discordapp.com/attachments/823968973753810945/1153500942361186435/image.png",""
"859668330498359327","chuckgao","19/09/2023 6:52 am","And I'm sure that `route`, `quotedAmountOute`, and `pool` aren't undefined.","",""
"471357824299958273","crypto_rachel","19/09/2023 7:07 am","so I see the same address of pool as recipient what are you doing exactly. What pool address","",""
"859668330498359327","chuckgao","19/09/2023 7:08 am","Pool address is ""0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640"", I just to test so I fill recipient the same address.","","üëç (1),üëÄ (1)"
"859668330498359327","chuckgao","19/09/2023 7:09 am","This error message is say that there is no outputCurrency?","https://cdn.discordapp.com/attachments/823968973753810945/1153505712266289262/image.png",""
"471357824299958273","crypto_rachel","19/09/2023 7:12 am","I don't use this routing setup so I don't know it.

looks like something related to wrapped native. 
Looks like you are trying to get route WETH/ETH to USDC. USDC wouldn't have a wrapped object","",""
"859668330498359327","chuckgao","19/09/2023 7:15 am","Thank you, but I see all `Token`  have  wrapped property, so I guess that whether I fill correct `outputCurrency`.","",""
"471357824299958273","crypto_rachel","19/09/2023 7:19 am","yeah probably part of a standard structure, but I doubt it would be filled if there is no wrapped version","",""
"859668330498359327","chuckgao","19/09/2023 7:21 am","Thank you, could you give me some advice? I find there is no detail document of universal-router-sdk","",""
"471357824299958273","crypto_rachel","19/09/2023 7:28 am","Like I said I don't really know that routing setup. I've only used the auto-router myself.
I have examples of that here #deleted-channel","",""
"859668330498359327","chuckgao","19/09/2023 7:29 am","Thank you.","","YW (1)"
"769344447158419487","CasualDegen#9166","19/09/2023 7:09 pm","Hello, uniswapX sdk parseOrder is returning on every order:
MissingConfiguration [Error]: Missing configuration for reactor: 0x0000000000000000000000000000000000000120

Any clue why that is? I am passing order.encodedOrder from the API as parseOrder argument.","",""
