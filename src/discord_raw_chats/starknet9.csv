AuthorID,Author,Date,Content,Attachments,Reactions
"838342655153799199","lucasstarkware","14/04/2022 4:25 pm","@Stan","",""
"409251854329839617","inv3st.eth","14/04/2022 4:44 pm","hey","",""
"409251854329839617","inv3st.eth","14/04/2022 4:44 pm","))","",""
"409251854329839617","inv3st.eth","14/04/2022 4:44 pm","https://tenor.com/view/yeah-excellent-extra-hello-hello-u-gif-21823546","",""
"639071462778470431","stan7717","14/04/2022 4:48 pm","Thank yoouuu!!","",""
"639071462778470431","stan7717","14/04/2022 4:48 pm","so","",""
"639071462778470431","stan7717","14/04/2022 4:49 pm","Here is my first question haha: is there somewhere an example of an external library usage? From what I understand, the namespaces as understood by the compiler are the reflect of the folder structure inside the `lib` folder","",""
"639071462778470431","stan7717","14/04/2022 4:51 pm","The thing is, I for example I want to use openzeppelin/cairo-contracts, I can add them as a dependency, even with an alias if I want, by the namespace will still be `ALIAS.src.openzeppelin.contracts.` right? This prevents the compiler from building my contracts since the namespace used inside openzeppelin contracts is `openzeppelin.contract.`","",""
"639071462778470431","stan7717","14/04/2022 4:52 pm","Does anyone know what I'm missing here?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/04/2022 6:05 pm","Hmm, you can pass a directory to the openzeppelin directory in the following way:
`protostar build --cairo-path ./lib/cairo_contracts/src`

In the future, we are planning to allow specifying cairo-paths in the `protostar.toml`.","",""
"639071462778470431","stan7717","14/04/2022 7:08 pm","Great thank you! VScode is still confused but the compilation passes","",""
"856834693177016340","rebr#5123","17/04/2022 4:06 pm","–ø—Ä–∞","",""
"949312410609672222","Fu#6986","28/04/2022 2:36 pm","hi there!","",""
"949312410609672222","Fu#6986","28/04/2022 2:37 pm","I have some questions regarding cheatcodes. I don't know if I'm doing something bad, but some of them just don't work for me.
I created a minimal repo to illustrate my issues: https://github.com/ofux/testing-protostar","",""
"949312410609672222","Fu#6986","28/04/2022 2:38 pm","in particular, `start_prank` doesn't work for me, and `expect_revert` makes a test pass while it shouldn't","",""
"949312410609672222","Fu#6986","28/04/2022 2:38 pm","Am I doing something wrong or is it a protostar issue?","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2022 5:27 pm","Hi @Fu, thank you for giving our tool a try, we appreciate it a lot!
Addressing your issues:

`start_prank` - currently works only for the local, currently executed, contract. In future versions, we plan to add `start_prank(address, address)` which will allow to update it for a different contract.

`expect_revert` - this one is a protostar issue. Generally we are deprecating stop_expecting_revert() in the next version, because it doesn‚Äôt have a usecase. We advise not to use it ;). 

If you have any further questions don't hesitate to ask!","",""
"949312410609672222","Fu#6986","28/04/2022 5:50 pm","Thanks for your reply!
Can't wait for `start_prank(address, address)`  to be added! This is a must have to test access control.
About `expect_revert` I'm not sure to get your point. How are we supposed to use it without a stop_expecting_revert() ? You mean the test should end right after that?","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2022 5:53 pm","Yes, probably test should end after that. `expect_revert` does not work like try except, so further code won't execute anyway.","","üëå (2)"
"843117425582538773","0xLaplace#2194","28/04/2022 10:18 pm","@MaksymilianDemitraszek | SWM hi, are there any features to manage deployments in protostar?","",""
"843117425582538773","0xLaplace#2194","28/04/2022 10:18 pm","we are exploring migrating from Nile","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2022 11:02 pm","@0xLaplace There are planned in the close future (problably few weeks), we are trying to prioritize things with most value to the users due to limited workforce.","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2022 11:04 pm","If you find some time to describe some of your usecases we will certainly take it into account while designing the feature üôÇ","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2022 11:07 pm","Generally we have planned (roughly) a release next week, inluding massive tests execution speed up, some new cheat codes and improved configuration. Deployment managment is queued up just after that üòÑ","",""
"843117425582538773","0xLaplace#2194","29/04/2022 1:46 pm","the use case would be to essentially replicate the major features you can find in hardhat-deploy (named accounts, per-chain deployments, deploy-by-steps)","","üëå (1)"
"843117425582538773","0xLaplace#2194","29/04/2022 1:47 pm","ah, well we like the pace of development with protostar atm, interesting to know and ty for sharing the roadmap","",""
"843117425582538773","0xLaplace#2194","01/05/2022 4:12 pm","@MaksymilianDemitraszek | SWM good Sunday to you, a couple Qs:

1. are there any APIs available to deploy whitelisted contracts with the --token param?

2. will you bump up min. Python requirements to 3.9.10 (the max. minor version supported by starknet-devnet)?","",""
"843754360163926056","JakubPtak#8889","02/05/2022 11:42 am","Hi, it is a holiday in Poland now, so protostar team is not available, but maybe I will be able to help you.  
1. What do you mean by `--token`? If you want to deploy some contracts for tests you can check https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#deploying-contracts-from-tests. Deploying regular contracts to devnet/testnet/mainnet is not supported yet, but will be added in next release.
2. I think that current python version was set due to problems with using cairo-lang package on higher versions. Those issues were resolved, so it shouldn't be a problem to do that, unless I don't know about something üôÇ","","üëå (1)"
"843117425582538773","0xLaplace#2194","02/05/2022 2:13 pm","Hi, I see, ty for supporting then

1. meant deploying whitelisted contracts necessitate Starkware-provided token auth, but you answered my doubts about deployments generally

2. Ik, agreed bumping to at least 3.9.10 shouldnt cause issues now, and hopefully as soon as Cairo merges this we can move all tools to 3.10.x: https://github.com/starkware-libs/cairo-lang/pull/43","","üëç (2)"
"814779427392192522","MaksymilianDemitraszek#7798","09/05/2022 8:44 pm","Hi! we‚Äôve just released the 0.2.0 version of protostar üåü !  it includes:
- around 10 fold performance boost of tests execution
- expect_events cheatcode
- configuration using config file
- many small improvements and bug fixes

Changelog: https://github.com/software-mansion/protostar/releases
Documentation: https://docs.swmansion.com/protostar/
Repository: https://github.com/software-mansion/protostar","",""
"267683589968101386","tdelabro#5415","10/05/2022 7:11 pm","Hey, how do you use `protostar test` to it execute all under a specific path.
I tried `protostar test ./<my_dir>/*/*.cairo` but I get `protostar: error: unrecognized arguments` with the list of the files I would like protostar to use","",""
"935164379693977600","kasperski95 | Software Mansion#6120","10/05/2022 8:33 pm","@tdelabro 
You can provide a directory that contains test files for example: `protostar test ./<my_dir>`. Protostar will find all test files in that directory and its subdirectories. Currently, glob patterns and test files list are not supported.
https://docs.swmansion.com/protostar/docs/cli-reference#test","",""
"267683589968101386","tdelabro#5415","11/05/2022 12:49 am","So the problem is that all my files names are not `test_` prefixed.
```shell
protostar test .my_dir/my_file.cairo
```
trigger the tests externals contained inside `my_file.cairo`
But
```shell
protostar test .my_dir/*
```
return the mentioned error.

The fix is to prefix all my files names by `test_`.
I find it pretty inconsistent. If `protostar test .my_dir/my_file.cairo` is a valid call `protostar test .my_dir/my_file1.cairo .my_dir/my_file2.cairo` should also be valid. But it's only valid if both files start with `test_`. I don't know if it's by design or if it's a side effect, but it probably deserve to be fixed.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/05/2022 2:06 pm","@tdelabro
1) `protostar test .my_dir/my_file.cairo`
You're right. Protostar shouldn't search for test cases if the file's name doesn't follow the test file naming convention (`^test_.*\.cairo`, `^.*_test.cairo`).

2) `protostar test .my_dir/*`
Protostar returned the error because of the `*` character. Glob patterns are not supported. We are going to add this functionality in the near future (https://github.com/software-mansion/protostar/issues/256).

3) `protostar test .my_dir/my_file1.cairo .my_dir/my_file2.cairo`
Currently, Protostar's test command accepts only one argument. This functionality should be added by this issue https://github.com/software-mansion/protostar/issues/256.

4) ""But it's only valid if both files start with `test_`. I don't know if it's by design or if it's a side effect, but it probably deserve to be fixed.""
It's by design. Protostar needs to detect test files somehow. Many popular test runners detect test files by the naming conventions used by Protostar. We may provide a way to configure the pattern used to detect test files.","",""
"330737541257101312","gaetbout","13/05/2022 11:06 pm","Hi,
Is there a reason behind the fact that it tells me 
`19:33:51 [ERROR] Protostar couldn't compile 'main' contract
contracts/ERC20.cairo:3:51: Redefinition of '__main__.HashBuiltin'.
from starkware.cairo.common.cairo_builtins import HashBuiltin`
? :/","",""
"814779427392192522","MaksymilianDemitraszek#7798","14/05/2022 3:39 pm","@gaetbout I can't probably  help you much without seeing the code, but are you sure you don't have two `HashBuiltin` imports in your cairo file, as the error says?","",""
"330737541257101312","gaetbout","14/05/2022 9:30 pm","I just understood that it is required to define 1 name per ""contract block""","","üëå (1)"
"330737541257101312","gaetbout","14/05/2022 9:30 pm","`[""protostar.contracts""]
foo = [
    ""./src/main.cairo"",
]
bar = [
    ""./src/main.cairo"",
]`","",""
"330737541257101312","gaetbout","14/05/2022 9:30 pm","My bad","",""
"330737541257101312","gaetbout","14/05/2022 9:31 pm","It works now, I should learn to spend more time on reading the doc üò¶","",""
"247230107683389441","dcfpascal","16/05/2022 12:39 pm","hi likely a dumb question, but i'm trying to deploy a contract on my test file: `    %{ ids.contract_address = deploy_contract(""./contracts/nft_marketplace/bibliotheca_marketplace.cairo"", [100, 0, 1]).contract_address %}`
the second arg i'm not quite sure what to make of it

my constructor params are: `(address_of_currency_token : felt, _treasury_address : felt, owner : felt)` 

i'm guessing it'll be: `[address_of_currency_token, _treasury_address, owner]`?","",""
"247230107683389441","dcfpascal","16/05/2022 12:49 pm","source of confusion is that in the docs there's only 2 constructor params but the test deploy_contract fxn has 3 `[100,0,1]`","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 12:51 pm","Yup you are probably right","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 12:52 pm","Could you tell which specific example üôè ?","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 12:52 pm","nvm i see","",""
"247230107683389441","dcfpascal","16/05/2022 12:54 pm","for sake of posterity: https://docs.swmansion.com/protostar/docs/tutorials/guides/testing","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 1:01 pm","The case is, in docs we are passing struct `Uint256`  not felt, which is defined as
```
struct Uint256:
    # The low 128 bits of the value.
    member low : felt
    # The high 128 bits of the value.
    member high : felt
end
```","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 1:01 pm","So first two ints are uint256","",""
"814779427392192522","MaksymilianDemitraszek#7798","16/05/2022 1:02 pm","We may use simpler example there to not make it confusing","",""
"247230107683389441","dcfpascal","16/05/2022 1:47 pm","ahhh okay gotcha makes sense","",""
"247230107683389441","dcfpascal","16/05/2022 4:11 pm","`let (local caller: felt) = get_caller_address()`
 ```%{ ids.lords = deploy_contract(""./contracts/settling_game/tokens/Lords_ERC20_Mintable.cairo"",
        [327748306003, 327748306003, 18, (1000000000000000000000000,0), caller, caller]).contract_address %}```
getting this error: `NameError: name 'caller' is not defined`
not quite sure why my caller var isn't getting recognized","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/05/2022 5:04 pm","@dcfpascal 
I think you should use `ids` to access `caller`.

```python
%{ ids.lords = deploy_contract(""./contracts/settling_game/tokens/Lords_ERC20_Mintable.cairo"",
        [327748306003, 327748306003, 18, (1000000000000000000000000,0), ids.caller, ids.caller]).contract_address %}
```","",""
"247230107683389441","dcfpascal","16/05/2022 8:56 pm","ah gotcha thanks","",""
"330737541257101312","gaetbout","16/05/2022 9:24 pm","Hi, 
I have a contract that uses openzeppelin but it crashes when compiling because it can't find OZ lib...
To solve it I changed the toml config file to point to the lib like:
`""/home/myName/cairo_venv/lib/python3.8/site-packages/""`
Is it how it is supposed to be done at the moment ? :3","",""
"247230107683389441","dcfpascal","16/05/2022 9:46 pm","sorry facing another issue:
```TypeError: '<' not supported between instances of 'VmConstsReference' and 'int'```","",""
"247230107683389441","dcfpascal","16/05/2022 9:47 pm","my deploy_contract is now: ```    %{ ids.lords = deploy_contract(""./contracts/settling_game/tokens/Lords_ERC20_Mintable.cairo"",
        [327748306003, 
        327748306003, 
        18, 
        ids.supply, 
        ids.caller, 
        ids.caller]).contract_address %}```
`local supply: Uint256 = Uint256(1000000000000000000000000,0)`
suspecting it's something to do with my uint256 for supply arg

also would like to know why we need to use `ids.` prefix to access var in testing env","",""
"330737541257101312","gaetbout","16/05/2022 9:54 pm","for anyone having the same question, it's all described here https://docs.swmansion.com/protostar/docs/tutorials/guides/dependencies-management","",""
"330737541257101312","gaetbout","17/05/2022 12:31 am","I'm wondering when testing a contract is there already a way to cache the contract instead of deploying it over and over?
Or should we use a lazy initialiser?","",""
"330737541257101312","gaetbout","17/05/2022 12:53 am","nvm I tried locally and it looks like it is less efficient üòÑ","",""
"330737541257101312","gaetbout","17/05/2022 1:34 am","Hi, 
I'm trying to change the caller of a contract: 
`
@external
func test_approve{syscall_ptr : felt*, range_check_ptr, pedersen_ptr : HashBuiltin*}():
    alloc_locals
    local contract_address : felt
    %{
        ids.contract_address = deploy_contract(""./src/ERC20.cairo"", [ids.NAME, ids.SYMBOL, ids.DECIMALS, ids.INIT_SUPPLY_LOW , ids.INIT_SUPPLY_HIGH, ids.OWNER]).contract_address
        stop_prank = start_prank(ids.OWNER, target_contract_address=ids.contract_address)
    %}
    %{ stop_prank_callable() %}
    return ()
end
`
 And for some reason I have:
`TypeError: start_prank() got an unexpected keyword argument 'target_contract_address'`

if I remove the named argument then it tells me: 
`TypeError: start_prank() takes 1 positional argument but 2 were given`

Anyone knows?","",""
"330737541257101312","gaetbout","17/05/2022 1:36 am","my version is 
Protostar version: 0.2.0","",""
"340080285993664512","loaf1337","17/05/2022 11:27 am","can I pass the state around after deploying?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","17/05/2022 1:33 pm","Currently, there's no such functionality. We'll consider adding it in the future.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","17/05/2022 1:38 pm","It looks like we deployed docs for 0.2.1 by accident. `start_prank`  in Protostar 0.2.0 takes one argument, and it should be used with `stop_prank` cheatcode. https://github.com/software-mansion/protostar/blob/28a3d599d564b0fe1a6f51db3a2defae14652eb9/src/commands/test/runner.py#L243.","","üî• (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","17/05/2022 1:43 pm","Not yet. We may add `beforeAll` hook in the future.","","üëå (2)"
"330737541257101312","gaetbout","17/05/2022 10:16 pm","Could be handy that when an event is expected and for some reason we input the wrong ""data"" you show a diff of expected <==> actual","",""
"330737541257101312","gaetbout","17/05/2022 10:55 pm","Anyone already tried to catch an event that is emitted with a struct?","",""
"340080285993664512","loaf1337","18/05/2022 8:54 am","this would be amazing","",""
"340080285993664512","loaf1337","18/05/2022 8:54 am","i have about a 14 contract deployement","",""
"340080285993664512","loaf1337","18/05/2022 8:54 am","so i have to result in doing one monster test","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/05/2022 3:16 pm","@loaf | Realms You can probably outsource deploying to a separate function for now. Cheatcodes work in the whole test file","",""
"330737541257101312","gaetbout","20/05/2022 7:47 pm","Is there a way to init a repo without having to depend on Git?
I'm trying to copy paste some files using another tool but then once I'm doing `protostar init` or `protostar install` it crashes.
Is it required to have a .git folder for it to work? üòï","",""
"935164379693977600","kasperski95 | Software Mansion#6120","20/05/2022 8:42 pm","Unfortunately yes. Package management part of Protostar uses git-submodules under the hood. Starkware wants to build a ""proper"" package manager similar to Rust Crate but I don't know the status of this project.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","20/05/2022 8:44 pm","https://github.com/software-mansion/protostar/issues/229","",""
"330737541257101312","gaetbout","20/05/2022 8:49 pm","erf üò¶","",""
"330737541257101312","gaetbout","20/05/2022 8:51 pm","because for some reason I have an event trigerred with a struct  in it and it says  that the  assertion fails...
How is it supposed to be caught?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","20/05/2022 9:07 pm","You need to represent the struct as an array of integers as demonstrated in the link below, or check the event just by name.
https://www.cairo-lang.org/docs/hello_starknet/more_features.html#passing-tuples-and-structs-in-calldata

`expect_events({""name"": ""foobar"", ""data"": [1,2]})`","",""
"330737541257101312","gaetbout","20/05/2022 9:12 pm","must be doing smthng wrong elsewhere because I tried that
I'll keep looking ^^'","",""
"330737541257101312","gaetbout","20/05/2022 9:55 pm","Also, I'm facing a weird case where I do:
`protostar init`
Then 
`protostar install OpenZeppelin/cairo-contracts@0.1.0 --name open_zeppelin`
and it crashes: 
`KeyError: ""Blob or Tree named 'nameOfTheFolder' not found""`","",""
"330737541257101312","gaetbout","20/05/2022 9:56 pm","the thing is that a couple of hours ago, it was working smoothlessly","",""
"330737541257101312","gaetbout","21/05/2022 1:54 pm","Looks like it is linked to a .git folder located in a folder above","",""
"330737541257101312","gaetbout","21/05/2022 2:38 pm","Is it normal that I do:
` %{ start_prank(42) %}`
then 
`let (caller) = get_caller_address()
  assert caller = 42`
And it fails?","",""
"814779427392192522","MaksymilianDemitraszek#7798","21/05/2022 11:41 pm","@gaetbout If you do this in the same contract, it's not, please report an issue because it may be a bug.

On the other hand, If `get_caller_address()` is called inside some remote contract, yes it's normal, currently you can't hijack caller addres of a remote contract. But it will be added in the upcoming release (probably this tuesday)","","‚ù§Ô∏è (1)"
"247230107683389441","dcfpascal","22/05/2022 12:36 pm","seeing this: ```Redefinition of builtins directive.
%builtins pedersen range_check bitwise```
when running `protostar test`","",""
"247230107683389441","dcfpascal","22/05/2022 12:41 pm","i'm importing a func to do my unit test and if i comment anything relevant to that `protostar test` works fine","",""
"330737541257101312","gaetbout","22/05/2022 2:07 pm","check your TOML file","",""
"330737541257101312","gaetbout","22/05/2022 2:07 pm","could be that in the declaration of some contracts there you should split them","",""
"330737541257101312","gaetbout","22/05/2022 2:08 pm","https://docs.swmansion.com/protostar/docs/tutorials/project-initialization#protostartoml","",""
"456226577798135808","Deleted User","23/05/2022 12:23 pm","Hey pal, it would be great if you could cap a testing bechmark comparision between protostart, devnet, pytest with dill + pytest-xdist cache","","üëç (2),üëå (2)"
"814779427392192522","MaksymilianDemitraszek#7798","23/05/2022 4:13 pm","We would like to, but can't promise the timeline üòÖ","",""
"895328389299318866","eni7912","24/05/2022 3:09 pm","If you deploy a contract `StorageContract` and store its address like this
```py
 local contract_address : felt
    %{ ids.contract_address = deploy_contract(""./src/storage_contract.cairo"", [100, 0, 1]).contract_address %}
```

This means that you can't mock a call to `StorageContract` using a prank caller address yet, right?
Who is the `caller_address` then when calling `get_caller_address` inside `StorageContract`?

for example here ```py
let (res) = StorageContract.get_balance(contract_address=contract_address)```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/05/2022 4:33 pm","Yep, `start_prank` won't work in the contract deployed by `deploy_contract`. The next release (which should be released today or tomorrow) should support this use case.

The `caller_address` returned by `get_caller_address` inside deployed contract should be equal to the result of calling `get_contract_address` in the test case.","","üëç (2)"
"456226577798135808","Deleted User","24/05/2022 8:03 pm","Just announce here once the benchmark has been tested, thanks in advance ser","","üëå (1)"
"814779427392192522","MaksymilianDemitraszek#7798","25/05/2022 5:10 pm","Hi! we‚Äôve just released the 0.2.1 version of protostarüåü  with an enormous number of new features!
It includes:
- `deploy` command
- configuration profiles
- `start_prank` for remote contracts
- updated cairo-lang to version 0.8.2.1
- updated test collector to load tests to the memory before running tests, what allows working on the project and running tests at the same time
- fixed exit codes
- other minor improvements and fixes

Changelog: https://github.com/software-mansion/protostar/releases
Documentation: https://docs.swmansion.com/protostar/
Repository: https://github.com/software-mansion/protostar","","StarkNet (4),üíØ (3),üß† (1)"
"895328389299318866","eni7912","26/05/2022 1:53 am","Awesome updates üëè 
Quick questions is there a way to deploy only once in a function, and reuse the contract address in other function ? I tried storing it in a storage_var w/o success, it resets between each test
My best way for now is to have only 1 test case in which I deploy and pass the contract address as argument to 'test functions' in which the logic operates

Also, `expect_reverts` doesn't work on remote yet right?","",""
"456226577798135808","Deleted User","26/05/2022 2:30 am","Hey there,
Is it possible to install protostar as a python package? I usually use nix for my development environments and it would make things a lot easier for me.","",""
"247230107683389441","dcfpascal","26/05/2022 10:24 am","i'm seeing this error when running `protostar test`:
```Redefinition of builtins directive.
%builtins pedersen range_check bitwise```
but if i remove my %builtins declaration i get:
```[BROKEN] tests/nft_marketplace/bibliotheca_marketplace.cairo                                                                               
|                                                                                                                                     [2/?]12:53:43 [INFO] Test suits: 1 broken, 1 total
12:53:43 [INFO] Tests:      1 skipped, 1 total```","",""
"247230107683389441","dcfpascal","26/05/2022 10:37 am","am i supposed to declare %builtins at all?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 1:36 pm","`setup_state` hook will be the main feature of the next release. `expect_revert`  should work ""on remote"". Can you provide an example where `expect_revert` doesn't work as expected?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 1:38 pm","Currently, it's not possible. You can use git submodules instead.","",""
"895328389299318866","eni7912","26/05/2022 1:46 pm","```py
@external
func test_withdraw_fail{syscall_ptr : felt*, range_check_ptr}():
    alloc_locals

    local contract_address : felt
    %{ ids.contract_address = deploy_contract(""./src/Pool.cairo"").contract_address %}

    %{ stop_prank_remote = start_prank(123, target_contract_address=ids.contract_address) %}
    %{ stop_prank_contract = start_prank(123) %}
    let (withdraw_caller) = get_caller_address()

    %{ expect_revert(""Amount higher than available balance"") %}
    PoolContract.withdraw(
        contract_address=contract_address, asset=1, amount=Uint256(100, 0), to=withdraw_caller
    )

    %{ stop_prank_remote() %}
     %{ stop_prank_contract() %}
    return ()
end
```

Here, the `PoolContract.withdraw` transaction fails, but the revert doesn't catch it and the test fails","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 1:51 pm","Error message is the second argument of `expect_revert`. Try using the keyword argument `error_message`.
`%{ expect_revert(error_message=""Amount higher than available balance"") %}`","",""
"895328389299318866","eni7912","26/05/2022 1:54 pm","awesome, works well now thanks!","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 2:06 pm","It looks like you don't have to use `%builtins` directive at all. (We need to update docs.) There can be many reasons why the test suite fails. The error should be printed above the `[BROKEN]` message.","",""
"247230107683389441","dcfpascal","26/05/2022 4:34 pm","```13:44:26 [INFO] Collected 1 suit, and 1 test case
[BROKEN] tests/nft_marketplace/bibliotheca_marketplace.cairo       ```
i don't see any error msg on mine","",""
"456226577798135808","Deleted User","26/05/2022 4:37 pm","Hey guys, I just tried to deploy using protostar and got this error:","",""
"456226577798135808","Deleted User","26/05/2022 4:37 pm","```
The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 8, in <module>
  File ""protostar/start.py"", line 33, in main
  File ""protostar/start.py"", line 26, in main
  File ""asyncio/runners.py"", line 43, in run
  File ""asyncio/base_events.py"", line 587, in run_until_complete
  File ""protostar/protostar_cli.py"", line 131, in run
  File ""protostar/cli/cli_app.py"", line 28, in run
  File ""protostar/commands/deploy/deploy_command.py"", line 110, in run
  File ""protostar/commands/deploy/deploy_command.py"", line 144, in deploy
  File ""protostar/commands/deploy/starkware/starknet_cli.py"", line 73, in deploy
  File ""starkware/starknet/services/api/gateway/gateway_client.py"", line 19, in add_transaction
  File ""services/external_api/base_client.py"", line 116, in _send_request
  File ""aiohttp/client.py"", line 1138, in __aenter__
  File ""aiohttp/client.py"", line 536, in _request
  File ""aiohttp/connector.py"", line 542, in connect
  File ""aiohttp/connector.py"", line 907, in _create_connection
  File ""aiohttp/connector.py"", line 1206, in _create_direct_connection
  File ""aiohttp/connector.py"", line 1187, in _create_direct_connection
  File ""aiohttp/connector.py"", line 988, in _wrap_create_connection
aiohttp.client_exceptions.ClientConnectorCertificateError: Cannot connect to host alpha4.starknet.io:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1091)')]
[15985] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```","",""
"456226577798135808","Deleted User","26/05/2022 4:37 pm","I installed protostar with the given script and added ``~/.protostar/dist/protostar/`` to my path.","",""
"456226577798135808","Deleted User","26/05/2022 4:48 pm","I am also wondering: how can I import methods from other contracts/files in the same folder?","",""
"456226577798135808","Deleted User","26/05/2022 4:48 pm","","https://cdn.discordapp.com/attachments/964116575387021413/979342855820673064/unknown.png",""
"456226577798135808","Deleted User","26/05/2022 4:49 pm","","https://cdn.discordapp.com/attachments/964116575387021413/979342894345384016/unknown.png",""
"456226577798135808","Deleted User","26/05/2022 4:49 pm","```toml
[""protostar.contracts""]
convoys = [""./src/convoys/library.cairo""]
colonies = [""./src/colonies.cairo""]
coordinates = [""./src/coordinates.cairo""]
eykar = [""./src/eykar.cairo""]
```","",""
"456226577798135808","Deleted User","26/05/2022 4:49 pm","I'm not sure this is what I am supposed to do","",""
"895328389299318866","eni7912","26/05/2022 5:32 pm","try something like this : 
```yaml
[""protostar.config""]
protostar_version = ""0.2.1""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
main = [
    ""./src/Pool.cairo"",
]

[""protostar.shared_command_configs""]
cairo_path = [""./lib/cairo_contracts/src""]
```
and inside cairo path you can point to the `./src` in your case and change your import inside you files from `contract.coordinates` to `coordinates`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 5:58 pm","Hmm, Protostar doesn't print the error message for [BROKEN] test suites. It's probably a syntax error that prevents the test file from compiling. The next version of Protostar should print that error.","",""
"456226577798135808","Deleted User","26/05/2022 6:04 pm","That works perfectly, thank you saug. Unfortunately this doesn't seem to be compatible with the cairo language extension:","",""
"456226577798135808","Deleted User","26/05/2022 6:04 pm","","https://cdn.discordapp.com/attachments/964116575387021413/979362003766345738/unknown.png",""
"456226577798135808","Deleted User","26/05/2022 6:05 pm","","https://cdn.discordapp.com/attachments/964116575387021413/979362040613322782/unknown.png",""
"456226577798135808","Deleted User","26/05/2022 6:10 pm","Hmm I guess I can do somehting like that:","",""
"456226577798135808","Deleted User","26/05/2022 6:10 pm","```toml
[""protostar.config""]
protostar_version = ""0.2.1""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
eykar = [""./contracts/eykar.cairo""]

[""protostar.shared_command_configs""]
cairo_path = [""./""]
```","",""
"456226577798135808","Deleted User","26/05/2022 6:10 pm","","https://cdn.discordapp.com/attachments/964116575387021413/979363506396737606/unknown.png",""
"895328389299318866","eni7912","26/05/2022 7:06 pm","Is there a way to recursively mock a caller ? 
Let's say I mock a caller with address 123, I call `contract A`, `caller_address` is 123, but then `contract A` calls `contract B` and in `contract B`, caller address is no longer mocked","",""
"456226577798135808","Deleted User","26/05/2022 7:16 pm","Isn't a mock just a hint?","",""
"456226577798135808","Deleted User","26/05/2022 7:16 pm","you should be able to add this hint inside contract B, shouldn't you?","",""
"895328389299318866","eni7912","26/05/2022 7:33 pm","I'd rather not have hints and test materials inside the contracts I want to test","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 7:42 pm","I am afraid it's not possible in the current version of Protostar. We may add it in Protostar v0.2.3.","","ü§© (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","26/05/2022 7:46 pm","https://github.com/software-mansion/protostar/issues/313","",""
"456226577798135808","Deleted User","26/05/2022 7:53 pm","Thank you @kasperski95 | Software Mansion","",""
"247230107683389441","dcfpascal","27/05/2022 8:27 am","commenting out this line: `from contracts.nft_marketplace.interfaces.imodules import NFT_Marketplace, Trade` test runs fine, my `protostar.toml` file:
```[""protostar.config""]
protostar_version = ""0.2.0""

[""protostar.project""]
libs_path = ""realms marketplace""

[""protostar.contracts""]
marketplace = [
    ""./contracts/nft_marketplace/bibliotheca_marketplace.cairo"",
]

[""protostar.shared_command_configs""]
cairo_path = [""./""]```
is there something wrong in the way i set this up?","",""
"247230107683389441","dcfpascal","27/05/2022 8:27 am","i see that's how you're supposed to invoke functions from contract in the test file","",""
"935164379693977600","kasperski95 | Software Mansion#6120","27/05/2022 1:55 pm","Started a thread.","",""
"392529839745269760","_sam___","28/05/2022 6:56 pm","@dcfpascal ~~hey! when ya get a chance, mind sharing what exactly you did to solve the above?(complaints of missing `pedersen_ptr`) ~~

~~i'm running into the same thing locally, using the default config from `protostar init`~~

edit: ahhh i see it now ü§¶‚Äç‚ôÄÔ∏è forgot to add `pedersen_ptr : HashBuiltin*,` onto my test function","","üéâ (2)"
"456226577798135808","Deleted User","30/05/2022 3:01 am","Hey guys,
I'm a bit confused: my tests pass without problems but when I deploy my contract the function has an error.","",""
"456226577798135808","Deleted User","30/05/2022 3:01 am","Here my test_mint method:","",""
"456226577798135808","Deleted User","30/05/2022 3:01 am","```
@view
func test_mint{syscall_ptr : felt*, range_check_ptr, pedersen_ptr : HashBuiltin*}():
    alloc_locals
    %{ stop_prank_callable = start_prank(123) %}
    let (caller) = get_caller_address()

    let (size : felt, colonies : felt*) = get_player_colonies(caller)
    assert size = 0

    mint(448378203247)
    mint(512970878052)

    let (colonies_len : felt, colonies : felt*) = get_player_colonies(caller)
    assert colonies_len = 2
    assert [colonies] = 1
    assert [colonies + 1] = 2
    %{ stop_prank_callable() %}
    return ()
end
```","",""
"456226577798135808","Deleted User","30/05/2022 3:02 am","But this is what I get when trying to call mint(448378203247) from voyager:","",""
"456226577798135808","Deleted User","30/05/2022 3:02 am","```
{""status"": ""REJECTED"", ""transaction_failure_reason"": {""code"": ""TRANSACTION_FAILED"", ""error_message"": ""Error at pc=0:12:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:140)\nUnknown location (pc=0:126)\n\nError in the called contract (0xaba7692d214dc110ef334b5e15961a5ae6c240c838e497a5c0d172e0b2d390):\nError message: nonce invalid\nError at pc=0:1624:\nAn ASSERT_EQ instruction failed: 64 != 69.\nCairo traceback (most recent call last):\nUnknown location (pc=0:844)\nUnknown location (pc=0:697)""}, ""transaction_hash"": ""0x7bc69be6828f0f33df320708a9d998736f11a2135fef45893a8a1a3fababa73"", ""l2_to_l1_messages"": [], ""events"": []}
```","",""
"810700810190848012","calabashsquash","30/05/2022 9:17 am","Anybody had much luck running `protostar` with https://marketplace.visualstudio.com/items?itemName=ericglau.cairo-ls ? Can't get it to correctly search for imports unless I'm using Nile.","",""
"814779427392192522","MaksymilianDemitraszek#7798","30/05/2022 1:09 pm","@Deleted User Unfortunately I can't help you much without seeing `mint`'s code üò¶","",""
"814779427392192522","MaksymilianDemitraszek#7798","30/05/2022 1:10 pm","@CalabashSquash Seems important, we will prioritize making it work üëç","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/05/2022 1:29 pm","https://github.com/ericglau/cairo-ls/issues/29","",""
"456226577798135808","Deleted User","30/05/2022 1:35 pm","Ahah I'm sorry, here it is: https://github.com/age-of-eykar/contract/blob/master/contracts/eykar.cairo#L194","",""
"456226577798135808","Deleted User","30/05/2022 2:23 pm","...it is working now and I didn't even change a line of code. I guess I was too tired to compile properly ü•∫","","üëç (1)"
"917526138853670983","just-fred#9182","30/05/2022 7:03 pm","Say I have contract A that I'm unit-testing, do I have to deploy it to get a contract address so I can do this?

```
IERC20.approve(
        contract_address=erc20_token_address,
        spender=<contract_address_here>,
        amount=deposit_amount
    )
```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/05/2022 8:52 pm","You can call `get_contract_address()` to get the address.
https://www.cairo-lang.org/docs/hello_starknet/calling_contracts.html?highlight=get_contract_address#getting-the-current-contract-s-address","",""
"917526138853670983","just-fred#9182","30/05/2022 8:53 pm","This requires me to deploy contract A right? Is there a way for me to do the approval without deploying contract A first?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/05/2022 8:57 pm","Contract A is automatically deployed by Protostar (if the source file is imported). If you want to run some code before deploying a contract, you have to use `deploy_contract` cheatcode.
https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#deploy_contract","",""
"917526138853670983","just-fred#9182","30/05/2022 8:59 pm","how do I get the contract address of contract A this way in my test_contract A file? (the source file for contract A is imported)","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/05/2022 9:05 pm","``` 
    tempvar contract_address : felt
    %{
        ids.contract_address = deploy_contract(""./src/contract_a.cairo"").contract_address
    %}
```","","üëç (1)"
"917526138853670983","just-fred#9182","30/05/2022 9:08 pm","alright, thanks seems like I do have to deploy it","",""
"917526138853670983","just-fred#9182","30/05/2022 9:18 pm","can we mock storage variable returns i.e. ERC20_allowances.read(owner, spender)?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/05/2022 9:51 pm","Mocking storage values is not supported yet.
https://github.com/software-mansion/protostar/issues/175","",""
"917526138853670983","just-fred#9182","30/05/2022 10:02 pm","Noted, thanks so much!","",""
"304633957595742210","[BE]Nolan#8529","31/05/2022 11:02 am","Hey üôÇ
Is it possible to estimate the """"gas"""" cost (idk how we call them on StarkNet) with Protostar ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","31/05/2022 1:22 pm","Not yet.
https://github.com/software-mansion/protostar/issues/181","","üßê (1)"
"940510380332040193","zorozor1","31/05/2022 3:22 pm","Would love to get any Protostar evangelist opinions on this. Trying to compile a comparison between frameworks
https://github.com/immutable/imx-starknet/issues/7","","‚ù§Ô∏è (1)"
"843754360163926056","JakubPtak#8889","31/05/2022 3:33 pm","The thing that I like the most (apart from writing tests in cairo) is the speed. One of our projects took more than 1h to run the whole suite, with protostar it takes a couple of minutes.","","üöÄ (1)"
"450433935307177984","salsasteve","02/06/2022 10:41 pm","Hey gang
```‚ùØ protostar deploy ./build/Metacanny.json --gateway-url alpha-goerli

AssertionError: Expected at least 1 inputs, got 0.
[86211] Failed to execute script 'binary_entrypoint' due to unhandled exception!``` Where do i put my inputs for my contract?","",""
"450433935307177984","salsasteve","02/06/2022 11:03 pm","Started a thread.","",""
"450433935307177984","salsasteve","02/06/2022 11:11 pm","I keep getting ```Got ClientConnectorCertificateError while trying to access https://alpha4.starknet.io/gateway/add_transaction``` when trying to deploy","",""
"814779427392192522","MaksymilianDemitraszek#7798","02/06/2022 11:44 pm","@Salsa Steve about certificate issue, it's a protostar bug we are aware of. We probably fixed it today (not fully tested though). You can try downloading 0.2.2-pre-release from our github or try building protostar locally. It will be officaily released next week.","","‚ù§Ô∏è (1)"
"450433935307177984","salsasteve","02/06/2022 11:45 pm","ill test it out","",""
"814779427392192522","MaksymilianDemitraszek#7798","02/06/2022 11:46 pm","Great, if it won't help definietely let me know. üòÖ","","üòÜ (1)"
"450433935307177984","salsasteve","03/06/2022 1:16 am","Deployment works with version 0.2.2-pre-release","","üòç (2)"
"450433935307177984","salsasteve","03/06/2022 3:06 am","```(500, {'code': 500, 'message': {'code': 500, 'message': {'code': <StarknetErrorCode.TRANSACTION_FAILED: 39>, 'message': '/Users/salsasteve/Projects/cairo-projects/tool-test/src/Metacanny.cairo:50:6: While handling calldata of\nfunc constructor{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(\n     ^*********^\nautogen/starknet/arg_processor/1b562308a65653425ce06491fa4b4539466f3251a07e73e099d0afe86a48900e.cairo:1:1: Error at pc=0:1261:\nAn ASSERT_EQ instruction failed: 10:7 != 10:0.\nassert [cast(fp + (-4), felt*)] = __calldata_actual_size\n^******************************************************^'}}})``` Keep getting this error message when im trying to run my test","",""
"450433935307177984","salsasteve","03/06/2022 3:06 am","Not sure what it means","",""
"814779427392192522","MaksymilianDemitraszek#7798","03/06/2022 2:02 pm","@Salsa Steve If you have constructor in the same file form you import something to test file cairo imports the constructor too üò¶","",""
"814779427392192522","MaksymilianDemitraszek#7798","03/06/2022 2:02 pm","You probably need to keep the constructor in the separate file and import from it other utils functions","",""
"814779427392192522","MaksymilianDemitraszek#7798","03/06/2022 2:08 pm","When protostar deploys a test contract, we do not pass constructor arguments, that's a root issue :(.","",""
"940510380332040193","zorozor1","03/06/2022 2:15 pm","Does protostar have anything like `console.log` I could run in tests? Only just starting off trying it out","",""
"895328389299318866","eni7912","03/06/2022 2:15 pm","You can use python hints with the print statement","","‚ù§Ô∏è (1),üëç (1)"
"940510380332040193","zorozor1","03/06/2022 2:16 pm","cheers, I'll sus it out","",""
"472419717970133002","cheechyuan.eth","04/06/2022 10:08 am","Hi there im using venv and `pip install <module>` and tried to used said module in hints. and it says `ModuleNotFoundError: No module named ` . attempted to use the module in a normal py file(in the same venv) and it works. anything that im doing wrongly?","",""
"450433935307177984","salsasteve","04/06/2022 12:30 pm","thank you do you have a git repo i can reference","",""
"843754360163926056","JakubPtak#8889","04/06/2022 6:13 pm","protostar doesn't load python modules from your venv. It is a standalone binary.","",""
"472419717970133002","cheechyuan.eth","04/06/2022 6:37 pm","gotcha. any plans to support it?","",""
"247230107683389441","dcfpascal","06/06/2022 12:09 pm","hi, i'm running `let (local caller: felt) = get_caller_address()` but when i do
`    %{ print(""caller:"" + str(ids.caller)) %}`
it returns 0, do i need to initialize something so get_caller_address() doesn't return 0?","",""
"247230107683389441","dcfpascal","06/06/2022 12:09 pm","don't think i see anything in the docs","",""
"247230107683389441","dcfpascal","06/06/2022 12:46 pm","if i use something like `start_prank(X)` my `assert owner_of = caller` fails since i've manually set my `get_caller_address()`","",""
"814779427392192522","MaksymilianDemitraszek#7798","06/06/2022 1:46 pm","@cheechyuan.eth maybe, but not in a near future üò¶","","üëç (1)"
"814779427392192522","MaksymilianDemitraszek#7798","06/06/2022 1:47 pm","@dcfpascal `get_caller_address()` returns 0 if caller is the user not a contract, so if you calling it inside a test that's how starknet works.","",""
"247230107683389441","dcfpascal","06/06/2022 1:51 pm","hm okay","",""
"247230107683389441","dcfpascal","06/06/2022 1:56 pm","one more question from me: is there a way to deploy contracts using hints so i don't have to redeploy in the subsequent unit test? like is something like:

```func test_A():
    %{ids.Account = deploy_contract(""./openzeppelin/account/Account.cairo"", [123456]).contract_address %}
end

func test_B():
  # is there a way to use Account that is initialized in test_A
```","",""
"247230107683389441","dcfpascal","06/06/2022 2:03 pm","im still a bit confused, if i'm calling inside a test get_caller_address() returns 0, but if i'm calling a function and within it there's get_caller_address(), it's getting a non-zero felt? is there any way to get that non-zero felt within the testing function?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","06/06/2022 2:03 pm","It will be possible in the next Protostar version, which should be released on Wednesday.","","üëç (1)"
"247230107683389441","dcfpascal","06/06/2022 2:03 pm","apologies if these are simple questions, still learning!","",""
"247230107683389441","dcfpascal","06/06/2022 2:04 pm","ah gotcha, so for now i'd have to redeploy within every func in my testfile; will wait for wednesday then","",""
"935164379693977600","kasperski95 | Software Mansion#6120","06/06/2022 2:13 pm","You can call `get_contract_address()`  within the testing function to get that non-zero felt.
https://www.cairo-lang.org/docs/hello_starknet/calling_contracts.html?highlight=get_contract_address#getting-the-current-contract-s-address","",""
"247230107683389441","dcfpascal","06/06/2022 2:30 pm","ah cool","",""
"247230107683389441","dcfpascal","06/06/2022 2:30 pm","appreciate it ser","",""
"895328389299318866","eni7912","06/06/2022 3:32 pm","Hey, I was wondering if there was a way to work with the future `__setup__` hook  so that sequentially called tests act on the same Starknet State and don't use the cached one after deployment ?","",""
"895328389299318866","eni7912","06/06/2022 3:59 pm","If not would there be a way to somehow save states and revert to said states on will in the future?","",""
"814779427392192522","MaksymilianDemitraszek#7798","06/06/2022 5:22 pm","@eni  tests should be isolated so each one should start on a fresh state. 

If i understand, you would like to use different setups for different test cases? We are considering adding this in the future but for now we suggests using different files.","",""
"895328389299318866","eni7912","06/06/2022 7:13 pm","Yes,  what I would like to do is something :
- Deploy contract with initial state 0
- Run an action state 0 => state 1 
- Run an action  state 0 => state 2

And then run my tests loading a certain state
For example if I'm working with a bank contract, I want to deploy the contract, and then
- Deposit funds in the bank state0 => state 1
-  Test Withdraw funds from state 1 (which should work)
- Test Withdraw funds from state0 (which should fail since nothing's in the bank

So maybe having access to like `context1, context2...` and not only `context` ? idk if it's clear","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/06/2022 6:44 pm","I don't think we can do it in the near future. Apart from `context`, we would have to manage various StarkNet states and that could be complex. We might add a support for fixtures in the future and then think about fixtures optimization.","","üëç (2)"
"392529839745269760","_sam___","08/06/2022 2:59 am","sorry if this has been addressed already, but are we able to prank the account deploying a given contract?

IIUC, right now it looks unsupported because:
a) doing `start_prank(caller_address=123, target_contract_address=None)` will only make the prank in the context of the test runner contract, not the contract actually being tested
b) doing `start_prank(caller_address=123, target_contract_address=ids.deployed_contract)` wouldn't really work as we would need the contract address in advance

at least, i haven't been able to get it to work lol any tips would be greatly appreciated üôÇ","",""
"392529839745269760","_sam___","08/06/2022 2:59 am","i guess with the new `deploy` stuff added in most recent cairo update, the deploy cheatcode will be deprecated anyways and we'll be able to prank deployer easier?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 2:31 pm","I think this use case is unsupported. We will fix that in the following issue:
https://github.com/software-mansion/protostar/issues/342","","üôå (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 2:36 pm","We may leave  `deploy_contract` because it's simpler to use.","","üëç (2)"
"392529839745269760","_sam___","08/06/2022 3:46 pm","right on, appreciate the confirmation here!","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 5:56 pm","We‚Äôve just released the 0.2.2 and 0.2.3 versions of Protostar.

0.2.3 ‚Äî https://github.com/software-mansion/protostar/releases/tag/v0.2.3
- updated `cairo-lang` to version 0.9.0

0.2.2 ‚Äî https://github.com/software-mansion/protostar/releases/tag/v0.2.2
- added  `__setup__` testing hook ‚Äî https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#__setup__
- added support for glob patterns to select test files and test cases
    - added `--ignore` flag
    - changed `--target` flag to accept a list of globs 
    - removed `--omit` flag 
- improved error feedback of `expect_events` cheatcode
- fixed the bug that froze Protostar
- fixed the SSL issue that could occur during deploying
- other minor fixes and improvements

To upgrade Protostar, run `protostar upgrade`.
In case of issues, run the following script: `curl -L https://raw.githubusercontent.com/software-mansion/protostar/master/install.sh | bash`","","üëå (3)"
"247230107683389441","dcfpascal","08/06/2022 6:44 pm","hm i just upgraded using hte script, changed the .toml file to 0.2.3 and now when i run protostar test it shows `no cases found`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 6:54 pm","Did you configure `target` in `protostar.toml`? (We need to change the warning to `no test cases found`.)","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 6:55 pm","```
[""protostar.test""]
target = [""tests""]
```
In the version 0.2.2, target expects an array instead of a string.","",""
"247230107683389441","dcfpascal","08/06/2022 6:56 pm","oh, i added this, still no cases found","",""
"247230107683389441","dcfpascal","08/06/2022 6:56 pm","how about 0.2.3?","",""
"247230107683389441","dcfpascal","08/06/2022 6:56 pm","here's my .toml file ```[""protostar.config""]
protostar_version = ""0.2.3""

[""protostar.project""]
libs_path = ""realms marketplace""

[""protostar.contracts""]
marketplace = [
    ""./contracts/nft_marketplace/bibliotheca_marketplace.cairo"",
]

[""protostar.shared_command_configs""]
cairo_path = [""./contracts""]

[""protostar.test""]
target = [""tests""]```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 7:02 pm","I can't replicate this issue. How do you name test files and test cases?","",""
"247230107683389441","dcfpascal","08/06/2022 7:04 pm","hm, i ran the tests perfectly fine right before upgrading","",""
"247230107683389441","dcfpascal","08/06/2022 7:05 pm","```@external
func test_fetch_trade_data{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr}():```

`protostar test tests/nft_marketplace/bibliotheca_marketplace.cairo`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 7:08 pm","Test files must follow naming convention `test_*.cairo` or `*_test.cairo`.","",""
"247230107683389441","dcfpascal","08/06/2022 7:11 pm","ahhh gotcha thanks","",""
"247230107683389441","dcfpascal","08/06/2022 7:19 pm","so in this version the correct way is to __setup__ all the contract deployments there, and individual tests can call the deployed contract with ids.*contract*, is there anything that should be in __setup__ function?","",""
"814779427392192522","MaksymilianDemitraszek#7798","08/06/2022 7:19 pm","setup is optional","",""
"814779427392192522","MaksymilianDemitraszek#7798","08/06/2022 7:20 pm","It will just run once at the beginnig then starknet state will be forked for each test case from that","",""
"814779427392192522","MaksymilianDemitraszek#7798","08/06/2022 7:20 pm","you can still deploy contracts in test cases","",""
"247230107683389441","dcfpascal","08/06/2022 7:21 pm","okay makes sense appreciate it!","","üëå (1)"
"247230107683389441","dcfpascal","08/06/2022 7:32 pm","can't get my proxy contract deployed, getting error: `Cannot import 'delegate_call' from 'starkware.starknet.common.syscalls'.`

```    %{ context.Account = deploy_contract(""./openzeppelin/account/Account.cairo"", [123456]).contract_address %}
    %{ context.lords = deploy_contract(""./contracts/settling_game/tokens/Lords_ERC20_Mintable.cairo"", []).contract_address %}
    %{ context.proxy_lords = deploy_contract(""./contracts/settling_game/proxy/PROXY_Logic.cairo"", [context.lords]).contract_address %}```

i've only changed ids. to context., and moved these deployments into __setup__, not sure what the issue is","",""
"392529839745269760","_sam___","08/06/2022 7:41 pm","yoo this is sick","",""
"392529839745269760","_sam___","08/06/2022 7:43 pm","iirc delegate call was changed to library call in latest Cairo release, so it's no longer in that import path (dunno where that import is happening for you tho, maybe internal to protostar/openzeppelin if not in your contract code)","",""
"392529839745269760","_sam___","08/06/2022 7:46 pm","https://www.cairo-lang.org/docs/hello_starknet/calling_contracts.html#library-calls","",""
"472419717970133002","cheechyuan.eth","08/06/2022 8:09 pm","can i say that it is like beforeEach in javascript land?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 8:20 pm","It's more like a combination of `beforeAll` and `beforeEach`. This hook is called only once per test file, but the Starknet and context are forked before each test case.","","‚ù§Ô∏è (2)"
"472419717970133002","cheechyuan.eth","08/06/2022 8:21 pm","sounds like a fixture then?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/06/2022 8:26 pm","@pytest.fixture(scope=""module"", autouse=True) + Starknet forking magic","","‚ù§Ô∏è (5),üëç (1)"
"895328389299318866","eni7912","09/06/2022 4:23 am","awesome, dope feature. thanks","",""
"814779427392192522","MaksymilianDemitraszek#7798","09/06/2022 7:03 pm","@sam We are currently discussing the deploy contract prank, could you explain us your exact usecase? It would be extremaly useful for us to desing the feature ü•∫","",""
"392529839745269760","_sam___","09/06/2022 7:15 pm","@MaksymilianDemitraszek | SWM 

right now i've got this:
```
@constructor
func constructor{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(
    controller : felt
):
    # NOTE: protostar can't prank deployment caller b/c doesn't have deployed address yet,
    #       switched to passing in controller instead.
    _controller.write(value=controller)
    return ()
end
```

but the original interface i was porting just took the msg.sender as the initialized controller:
```
@constructor
func constructor{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}():
    let (msg_sender) = get_caller_address()
    _controller.write(value=msg_sender)
    return ()
end
```

then in the test, I was looking to do something like:
```
func setup{syscall_ptr : felt*, range_check_ptr}() -> (conduit: felt, controller: felt):
    alloc_locals

    local conduit: felt
    local controller: felt
    controller = 123
    %{
        stop_prank_callable = start_prank(caller_address=ids.controller)
        ids.conduit = deploy_contract( ""./src/conduit/conduit.cairo"", [ids.controller]).contract_address
        stop_prank_callable()
    %}
    return (conduit=conduit, controller=controller)
end
```
such that the deployment of the contract would end up with my `_controller.write(...`  saving the caller as 123","",""
"392529839745269760","_sam___","09/06/2022 7:16 pm","lmk if any of that is unclear (: 

(also, idk if that usage of `setup` is accurate compared to latest protostar version, that was just how i had it structured before the new version released so just ignore that part i guess lol)","",""
"814779427392192522","MaksymilianDemitraszek#7798","09/06/2022 7:21 pm","Thank you!","",""
"814779427392192522","MaksymilianDemitraszek#7798","09/06/2022 7:21 pm","Everything is clear","",""
"814779427392192522","MaksymilianDemitraszek#7798","09/06/2022 7:53 pm","@sidius I am not sure if you meant protostar or starknet.py üòÑ . Protostar atm doesn't. We are currently working on `declare_contract` cheatcode though, declare command is also planned in the near future.","",""
"951518572272812074","purplebishop","09/06/2022 7:54 pm","ah sorry, I forgot starknet.py has its own channel here üòÖ","",""
"951518572272812074","purplebishop","09/06/2022 7:54 pm","but no I meant starknet.py","","üëç (1)"
"814779427392192522","MaksymilianDemitraszek#7798","09/06/2022 9:05 pm","We have a proposal for new `deploy_contract` interface, which would allow to prank constructors, If somebody would like to participate in the discussion feel welcome https://github.com/software-mansion/protostar/issues/352","","üëç (1)"
"247230107683389441","dcfpascal","10/06/2022 12:06 pm","hi so i repurposed the OZ contracts to adhere to v0.9.0, i'm still getting an error in my __ setup __:
```@view
func __setup__{syscall_ptr: felt*, range_check_ptr}():
    alloc_locals
    local proxy_lords: felt
    local supply: Uint256 = Uint256(1000000000000000000000000,0)
    local Account: felt
    %{ context.Account = deploy_contract(""./openzeppelin/account/Account.cairo"", [123456]).contract_address %}
    %{ print(""Account: "" + str(context.Account)) %}
    %{ context.lords = deploy_contract(""./contracts/settling_game/tokens/Lords_ERC20_Mintable.cairo"", []).contract_address %}
    %{ print(""lords contract: "" + str(context.lords)) %}
    %{ context.proxy_lords = deploy_contract(""./contracts/settling_game/proxy/PROXY_Logic.cairo"", [context.lords]).contract_address %}
    %{ print(""proxy_lords contract: "" + str(context.proxy_lords)) %}
    LordsInterface.initializer(proxy_lords, 1234, 1234, 18, supply, Account, Account)
    %{ print(""lords interface initialized"") %}
    return ()
end```","",""
"247230107683389441","dcfpascal","10/06/2022 12:07 pm","it's error msg: 
```Unknown value for memory cell at address 1:10.
    local proxy_lords: felt```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","10/06/2022 1:30 pm","I think you forgot to assign the contract address to `ids.proxy_lords`.","",""
"247230107683389441","dcfpascal","10/06/2022 2:59 pm","figured it out thanks","",""
"247230107683389441","dcfpascal","10/06/2022 3:22 pm","is there a way to just run one test case in terminal?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","10/06/2022 3:31 pm","`protostar test ::test_case_name`

or if you want to speed up the collecting phase
`protostar test glob_to_test_file::test_case_name`","",""
"895328389299318866","eni7912","14/06/2022 6:24 pm","is there a way to test a contract that has a non-whitelisted hint ?","",""
"472419717970133002","cheechyuan.eth","14/06/2022 6:32 pm","i think we can use devnet","",""
"887999107715715083","trejowsk","14/06/2022 8:56 pm","If you're writing the tests in the recommended way (in our docs) i think it should all be fine since we're disabling the hint validation for tests anyway. Correct me if i'm wrong @kasperski95 | Software Mansion","","üëç (1)"
"895328389299318866","eni7912","14/06/2022 9:52 pm","right but I meant, it won't let me deploy a contract with hints inside. just wondering if there was a way to bypass that","",""
"887999107715715083","trejowsk","15/06/2022 2:20 am","It's a limitation of starknet, only hints which are whitelisted can be executed, or else we'd have a possibility of executing arbitrary python code which is a security hole i believe, because it could lead to DOS's","","üëç (1)"
"810700810190848012","calabashsquash","15/06/2022 11:56 am","Is there somewhere with a full list of protostar cheatcodes? It seems like `declare_contract` is not in the docs herehttps://docs.swmansion.com/protostar/docs/tutorials/guides/testing#deploy_contract","",""
"983660874055176193","pilou_sekai","15/06/2022 12:51 pm","Hi,
I am using Protostar to test my Cairo contract and more specifically, `warp/roll` functions to set the block timestamp/number. I have a function `isOpen` in my contract that calls `starkware.starknet.common.syscalls.get_block_number()` and I am trying to test this `isOpen` function while setting the block number.
Here is the code :
```
    let starting_block = STARTING_BLOCK 
    assert starting_block = 10

    %{ roll(ids.starting_block + 1) %}  # 1 block later
    let (current_block) = get_block_number()
    assert current_block = 11
    %{ print(ids.current_block) %}
    %{ roll(12) %}  
    let (is_open_during) = IList.isOpen(temp_access_list_address, list_id)
    let (current_block_after) = get_block_number()
    %{ print(ids.current_block_after) %}
    assert is_open_during = TRUE
```
The two `print()` are outputting the correct values, **11** for the first one and **12** for the second one. Though, I added an assert in `isOpen` that fails : 
```
    let (current_block) = get_block_number()
    assert current_block = 12
```
with the following message : 
`An ASSERT_EQ instruction failed: 3618502788666131213697322783095070105623107215331596699973092056135872020480 != 12.`
Anyone would have any idea about the root cause ? Is it possible at all in Protostar to inject the block number into a function that is making the syscall ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/06/2022 2:11 pm","`declare_contract` will be available in the next Protostar version
@MaksymilianDemitraszek | SWM Can we publish a pre-release version?","","PES_SadGePray (1),üëç (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","15/06/2022 2:20 pm","`roll` and `warp` don't affect contracts deployed by `deploy_contract` cheatcode. It only works in the ""unit testing"" approach (https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#unit-testing).
https://github.com/software-mansion/protostar/issues/367","",""
"929678418335924326","eddie88#9316","15/06/2022 3:53 pm","anyone experienced this during `__setup__` upgradable contract?
```
starkware.cairo.lang.compiler.preprocessor.preprocessor_error.PreprocessorError: lib_cairo/open_zeppelin/src/openzeppelin/upgrades/Proxy.cairo:7:48: Cannot import 'delegate_l1_handler' from 'starkware.starknet.common.syscalls'.
from starkware.starknet.common.syscalls import delegate_l1_handler, delegate_call
```","",""
"810700810190848012","calabashsquash","15/06/2022 3:55 pm","Found this: https://github.com/OpenZeppelin/cairo-contracts/issues/357 No answers though, but perhaps you can contribute to the conversation there too to help resolve the issue","",""
"929678418335924326","eddie88#9316","15/06/2022 3:55 pm","Great! good to know i'm not the only one","",""
"929678418335924326","eddie88#9316","15/06/2022 4:14 pm","How to properly use `uint` inside Python hint?","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/06/2022 4:14 pm","If you mean Uint256 its a struct with two fields","",""
"929678418335924326","eddie88#9316","15/06/2022 4:15 pm","yeah","",""
"929678418335924326","eddie88#9316","15/06/2022 4:15 pm","just wanna know if we can import it via hint like OZ did in their tests","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/06/2022 4:16 pm","i think yes you can, we bundle whole cairo-lang library","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/06/2022 4:17 pm","If it doesn't work let me know","",""
"929678418335924326","eddie88#9316","15/06/2022 4:17 pm","ok will try sers","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/06/2022 5:20 pm","https://github.com/software-mansion/protostar/releases/tag/v0.2.4-pre-release","","aPES3_PrayHalo (2)"
"929678418335924326","eddie88#9316","15/06/2022 5:26 pm","just wanna know what `ids` in hint in shorted for?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/06/2022 5:48 pm","Identifiers.
`ids` is a Starknet's hint local (not Protostar's).
```
def get_hint_identifiers(
    hint: CairoHint, identifier_manager: IdentifierManager, location: Optional[InstructionLocation]
) -> List[IdentifierInfo]:
    """"""
    Returns identifiers that are referenced in the given hint.
    """"""
    referenced_identifiers = re.findall(r""\bids.([a-zA-Z_0-9.]+)"", hint.code)
    # ...
```","",""
"929678418335924326","eddie88#9316","15/06/2022 5:52 pm","Thanks","",""
"929678418335924326","eddie88#9316","15/06/2022 5:54 pm","How to deploy_contract with someone else?
This pattern does not work for me
```
    %{ stop_prank_callable = start_prank(context.deployer_address) %}
    %{ context.price_oracle_address = deploy_contract(""contracts/starknet/xxx.cairo"", []).contract_address %}
    %{ stop_prank_callable() %}
```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/06/2022 6:10 pm","This is the limitation of the Protostar. The next version of Protostar should support this use case.
https://github.com/software-mansion/protostar/issues/352","",""
"929678418335924326","eddie88#9316","15/06/2022 6:11 pm","Ok i see thanks!","",""
"810700810190848012","calabashsquash","15/06/2022 6:34 pm","TY <3","",""
"247230107683389441","dcfpascal","16/06/2022 10:27 am","i'm seeing the following:
```    let success: felt = Lords.approve(lords, realms, approval_amount)
    assert_eq(success, 1)```
not sure why i'm not only not getting success = 1 but it looks like it's not a felt getting returned? 
```    assert_eq(success, 1)
    ^*******************^

Traceback (most recent call last):
  File ""/Users/pascalso/.protostar/dist/protostar/cairo/protostar/asserts.cairo"", line 5, in <module>
    %{ assert ids.a == ids.to, f""a = {ids.a} is not equal to {ids.to}"" %}
AssertionError: a = 3:0 is not equal to 1```

Lords.approve() is the func below:
```@external
func approve{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(
    spender : felt, amount : Uint256
) -> (success : felt):
    ERC20_approve(spender, amount)
    return (TRUE)
end```","",""
"929678418335924326","eddie88#9316","16/06/2022 12:54 pm","try with parenthesis
`let (success) = Lords.approve...`","",""
"929678418335924326","eddie88#9316","16/06/2022 1:21 pm","is there a way we can bypass something like this at the beginning of all test cases","https://cdn.discordapp.com/attachments/964116575387021413/986900819112771665/unknown.png",""
"929678418335924326","eddie88#9316","16/06/2022 1:22 pm","^ I need to collect all needed assertions for each test case and I think it's quite redundant snippet happening all over","",""
"929678418335924326","eddie88#9316","16/06/2022 2:02 pm","Is there a way to run `protostar test` with multiple thread like we did in `pytest` ?","",""
"843754360163926056","JakubPtak#8889","16/06/2022 3:10 pm","protostar test does that by default. It is faster than pytest","",""
"929678418335924326","eddie88#9316","16/06/2022 3:14 pm","Cool!","",""
"929678418335924326","eddie88#9316","16/06/2022 3:15 pm","I saw a short benchmark that it's faster than pytest around 3x","",""
"929678418335924326","eddie88#9316","16/06/2022 3:15 pm","but I'm piloting my own tests (with quite a lot of test cases). Do you have any bencmark refs with huge & complex tests?","",""
"247230107683389441","dcfpascal","16/06/2022 8:19 pm","Nope doesn‚Äôt work","",""
"929678418335924326","eddie88#9316","17/06/2022 9:39 am","any example on injecting `Uint256` from hint part to cairo?

I have this in `__setup__()`
```
%{ context.a = (300000000000000000, 0) }%
```
in test case I want to
```
tempvar a: Uint256
%{ ids.a = context.a }%
```
but haven't succeeded, the error is
```
(context.a) Tried to store an unsupported type: 'tuple'
Supported types: ['int', 'str', 'bool']
```

any workaround on this?","","üëÄ (2)"
"929678418335924326","eddie88#9316","17/06/2022 9:41 am","or the only way is I need to store low , high separately ?","",""
"929678418335924326","eddie88#9316","17/06/2022 12:57 pm","also, are those `ids.xxx` only accept felt variable? I tried with `Uint256` and it does not seems to be retrievable","",""
"929678418335924326","eddie88#9316","17/06/2022 12:58 pm","found a way yet?","",""
"929678418335924326","eddie88#9316","17/06/2022 1:01 pm","figured it out, must access it with `.low` and `.high`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","17/06/2022 1:32 pm","https://github.com/software-mansion/protostar/issues/371","","üëè (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","17/06/2022 1:40 pm","Started a thread.","",""
"929678418335924326","eddie88#9316","17/06/2022 1:46 pm","@MaksymilianDemitraszek | SWM do we have any update on this?","",""
"929678418335924326","eddie88#9316","17/06/2022 1:59 pm","Btw just noticed OZ is following to 0.9.0 https://github.com/OpenZeppelin/cairo-contracts/pull/364","",""
"929678418335924326","eddie88#9316","17/06/2022 2:17 pm","I tried to repurposed OZ contracts but still stuck with this err
```
    %{ syscall_handler.library_call(segments=segments, syscall_ptr=ids.syscall_ptr) %}
  File ""starkware/starknet/core/os/syscall_utils.py"", line 391, in library_call
  File ""starkware/starknet/core/os/syscall_utils.py"", line 506, in _call_contract_and_write_response
  File ""protostar/commands/test/starkware/cheatable_syscall_handler.py"", line 127, in _call_contract
AttributeError: 'LibraryCallRequest' object has no attribute 'contract_address'
```
any idea sers?","",""
"929678418335924326","eddie88#9316","17/06/2022 2:45 pm","regarding this I found that any code after `expect_revert` is not executed, is this what it should be?
I sometimes want to `assert` something more after `expect_revert` e.g. making setters are cancelled and none affected from recent tx","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/06/2022 3:40 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/06/2022 3:45 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/06/2022 3:50 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/06/2022 3:51 pm","Started a thread.","",""
"691769046881796156","Nick Ulven#5084","21/06/2022 12:30 am","I copied the hint from the tutorial and I still get an error for a non-whitelisted hint","",""
"887999107715715083","trejowsk","21/06/2022 1:00 am","But are you trying it out on testnet? Or just when running ‚Äöprotostar test‚Äô","",""
"814779427392192522","MaksymilianDemitraszek#7798","21/06/2022 2:27 pm","Started a thread.","",""
"247230107683389441","dcfpascal","22/06/2022 7:11 am","so just to make sure, setting block number/timestamp doesn't currently work for contracts that i've deployed in my test file right?","",""
"247230107683389441","dcfpascal","22/06/2022 7:12 am","like i could `roll(200)` and for unit tests it'll function as if it's on the 200th block but my deployed contract will function as if it's on the genesis block?","",""
"247230107683389441","dcfpascal","22/06/2022 7:25 am","is there a timeline on when this will be implemented","",""
"983660874055176193","pilou_sekai","22/06/2022 12:17 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","22/06/2022 1:55 pm","https://github.com/software-mansion/protostar/milestones
It should be implemented in the version 0.2.5. We try to release Protostar every 2 weeks. I can try to do it in the 0.2.4 but this task is blocked therefore I can't guarantee this will be in the next release.","","üëç (1)"
"456226577798135808","Deleted User","22/06/2022 9:18 pm","Hey guys, how can I check that a pointer value was set?","",""
"456226577798135808","Deleted User","22/06/2022 9:18 pm","my tests pass but to make sure I was not affecting the values when testing I had to use %{ print }%, is there a better way to do it?","https://cdn.discordapp.com/attachments/964116575387021413/989195224997834782/unknown.png",""
"798276348635906058","filiplaurentiu","23/06/2022 1:02 pm","`No cases found `  why ?","https://cdn.discordapp.com/attachments/964116575387021413/989432795887730708/unknown.png",""
"814779427392192522","MaksymilianDemitraszek#7798","24/06/2022 2:54 pm","Hi! we've just released the 0.2.4 version of protostar with new shiny features ‚≠ê ‚≠ê ‚≠ê !
It includes:
- added `declare`, `prepare` and `deploy` cheatcodes
- integrated data transformer into protostar, you can provide data as nice python structs instead Cairo lists of ints
- `mock_call`, `warp` and `roll` can target contracts deployed with `deploy_contract`
- other various fixes and improvements you can find in the changelog below

Changelog: https://github.com/software-mansion/protostar/releases/tag/v0.2.4","","üéâ (3)"
"983660874055176193","pilou_sekai","24/06/2022 4:19 pm","Started a thread.","",""
"968029094287654944","Thomas | BrilliantBlocks#4130","27/06/2022 12:48 am","Does anybody use this Cairo language server https://github.com/ericglau/cairo-ls ?
How do you disable hint validation for test files? Specifying `cairols.disableHintValidation` in the top-level of `coc-settings.json` doesn't work for me.","",""
"456226577798135808","Deleted User","28/06/2022 9:07 pm","Hey, I do not understand how to add files to build to my project","",""
"456226577798135808","Deleted User","28/06/2022 9:07 pm","I used to compile my contract with a configuration like this:","",""
"456226577798135808","Deleted User","28/06/2022 9:07 pm","...
```toml
[""protostar.contracts""]
eykar = [""./contracts/eykar.cairo""]
```
...","",""
"456226577798135808","Deleted User","28/06/2022 9:08 pm","But I added a new file for combat, which is not imported from eykar.cairo, so its ``view`` and ``external`` functions are not added to the final build","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","In the docs it is written ``Each Cairo file that contains a function that define a contract interface should be included in a contract configuration.``","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","So I tried to add it:","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","```toml
[""protostar.contracts""]
eykar = [""./contracts/eykar.cairo"", ""./contracts/combat.cairo""]
```","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","But when I try to build the project, I get this kind of error:","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","```
‚ùØ protostar build
17:39:23 [ERROR] Protostar couldn't compile 'eykar' contract
contracts/combat.cairo:3:51: Redefinition of '__main__.HashBuiltin'.
from starkware.cairo.common.cairo_builtins import HashBuiltin
                                                  ^*********^
```","",""
"456226577798135808","Deleted User","28/06/2022 9:09 pm","I am not sure to understand why since the tests seem to pass","",""
"895328389299318866","eni7912","29/06/2022 4:24 am","What happens behind the hood when I'm calling an external function without deploying the contract beforehand ? 

Is protostar auto-deploying it ?","",""
"895328389299318866","eni7912","29/06/2022 4:25 am","`**/*.cairo` works for me, but for all files

I'd guess `tests/**/*.cairo` would work ?","",""
"245749764606525450",".piggeon","29/06/2022 12:37 pm","hey all üëã has anyone had success pegging a Protostar dependency to a specific tag or branch? More specifically, I'm trying to test contracts that import OpenZeppelin's v0.1.0 contracts","",""
"968029094287654944","Thomas | BrilliantBlocks#4130","29/06/2022 1:19 pm","Doesn't work for me. This is my `coc-settings.json`. Is there an obvious mistake?üôà
```
{
  ""languageserver"": {
    ""cairo"": {
      ""module"": ""/my/path/to/cairo-ls/node_modules/cairo-ls/out/server.js"",
      ""args"": [""--node-ipc""],
      ""filetypes"": [""cairo""],
      ""rootPatterns"": ["".git/""]
    }
  },
  ""cairols.disableHintValidation"": ""**/*.cairo""
}
```","",""
"895328389299318866","eni7912","29/06/2022 1:46 pm","ah sorry i'm not using vim but vscode","",""
"935164379693977600","kasperski95 | Software Mansion#6120","29/06/2022 1:48 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","29/06/2022 1:56 pm","Started a thread.","",""
"940510380332040193","zorozor1","30/06/2022 12:19 pm","Hey team, is there a way to print/log in tests? I'm trying to log to stdout some output during my test cases for debugging but my simple `%{ print(""Hello world"") %}` doesn't log in test cases","","üíØ (1)"
"951518572272812074","purplebishop","30/06/2022 12:41 pm","would like to know too","",""
"951518572272812074","purplebishop","30/06/2022 12:42 pm","@MaksymilianDemitraszek | SWM can we re-map /src?","",""
"951518572272812074","purplebishop","30/06/2022 12:53 pm","@Rez | Immutable X that you know of, is it possible to remap /src folder ?","",""
"951518572272812074","purplebishop","30/06/2022 1:42 pm","yes 
```
[""protostar.contracts""]
main = [
  ""contracts/cairo/main.cairo"",
]
```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/06/2022 2:39 pm","`print` should work (although the output is above the test case). We might add `log` cheatcode in the future (https://github.com/software-mansion/protostar/issues/286).","https://cdn.discordapp.com/attachments/964116575387021413/991993886392189028/Screenshot_2022-06-30_at_11.06.44.png,https://cdn.discordapp.com/attachments/964116575387021413/991993886794854410/Screenshot_2022-06-30_at_11.07.21.png",""
"876072467599347712","0xca11ab1e","30/06/2022 3:18 pm","But you still can't use hints inside the tested contract.","",""
"876072467599347712","0xca11ab1e","30/06/2022 3:18 pm","We can use `--disable-hint-validation` at the ""build"" step, but it is not automatically set at ""test"" step. Right?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/06/2022 3:41 pm","You should be able to use `print` in a tested contract in the ""unit testing approach"" (a tested contract is imported to a test file). However, you can't currently use `print` in a tested contract in ""integration testing approach"" (a contract is deployed by `deploy_contract` or `deploy` cheatcode). We plan to support disabling hint validation in the latter case (https://github.com/software-mansion/protostar/issues/382).","","üëç (1)"
"876072467599347712","0xca11ab1e","30/06/2022 4:09 pm","About test performances, is there a way to use `deploy_contract` or `declare` on an already compiled contract? That would prevent having to do fresh compilations every time when nothing changes at the contract-level code. Or maybe use a flag when using those functions to force recompilation, or something like that.","",""
"895328389299318866","eni7912","30/06/2022 4:25 pm","Is there a way to do e2e testing with protostar ? I'd like to not start each test case from a fresh state","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/06/2022 4:27 pm","We need to add caching to Protostar. Currently, you can use `declare` and `deploy_contract` cheatcodes in the `__setup__` function. In that way, you `declare` `deploy` only once per test suite.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/06/2022 4:40 pm","A test case should always start from a fresh state to make test cases independent from each other. We might add a feature that would allow creating ""starknet snapshots"" and using `__setup__` in `conftest.cairo` but we have more important tasks to do.

Idea:
```cairo
func __setup()__:
%{
  context.a = deploy_contract(""./src/a.cairo"")
  save_starknet_snapshot(""A"")
  context.b = deploy_contract(""./src/b.cairo"")
  save_starknet_snapshot(""B"")
%}
return ()
end

func test_a():
 %{
  load_starknet_snapshot(""A"")
  print(context.a) # -> str(DeployedContract)
  print(context.b) # -> None | Error
%}
return ()
end
```

or just support `__setup__` in  `conftest.cairo` and `namespaces`
I'm not sure what would be the difference between e2e and integration tests from the Protostar perspective. You can always use pytest + Starknet.py.","","üëç (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","01/07/2022 5:41 pm","https://github.com/software-mansion/protostar/releases/tag/v0.2.5
- added resource usage information next to test case testing result 
- added `--disable-hint-validation` flag to the test command
- added `--account-contract` to enable compilation of contracts containing `__execute__` function
- improved `expect_events` cheatcode by supporting data transformation
- fixed list assignment index out of range error
- fixed freezing issue in larger projects","","‚ù§Ô∏è (3)"
"895328389299318866","eni7912","01/07/2022 6:07 pm","is there a way to disable these green bars ?","https://cdn.discordapp.com/attachments/964116575387021413/992408654944931900/unknown.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","01/07/2022 7:21 pm","No. We'll add the flag in the next version.
https://github.com/software-mansion/protostar/issues/411","",""
"935164379693977600","kasperski95 | Software Mansion#6120","01/07/2022 7:25 pm","Do you use `print(...)` all the time or just to debug issues?","",""
"895328389299318866","eni7912","01/07/2022 7:53 pm","I use it at the beginning of each test because I need a detailed test report. Not sure I'll keep it but it's good to track precisely which action fails quickly","",""
"158341932408504320","0xcrema","01/07/2022 7:54 pm","Hello, how to tell protostar to use the --account-contract flag when compiling contract account?","",""
"158341932408504320","0xcrema","01/07/2022 7:55 pm","using `protostar build --account-contract` works but it wants to apply it to all my contracts","",""
"935164379693977600","kasperski95 | Software Mansion#6120","01/07/2022 8:46 pm","It's not possible in this version - CLI limitation. I'll add an option to specify what contracts should be build, or I'll try to make Protostar handle account contracts automatically (I don't know why `starknet-compile` doesn't do that). 
https://github.com/software-mansion/protostar/issues/412","",""
"935164379693977600","kasperski95 | Software Mansion#6120","01/07/2022 8:53 pm","When we add `log` cheatcode, we may also add a flag to the `test` command to print the logs only if a test fails.","","üëç (1)"
"247230107683389441","dcfpascal","04/07/2022 11:15 am","is there a way to .read() a storage variable within protostar? or do i need to make a `get` function and .read() wihtin that function","",""
"814779427392192522","MaksymilianDemitraszek#7798","04/07/2022 1:27 pm","Started a thread.","",""
"247230107683389441","dcfpascal","05/07/2022 12:01 pm","i'm getting an error msg when running this line:
`IERC20.transferFrom(currency, caller, trade.poster, Uint256(base_seller_receives, 0))`

i've checked currency and caller and they're both what i expect

`starkware.starkware_utils.error_handling.StarkException: (500, {'code': <StarknetErrorCode.UNDECLARED_CLASS: 42>, 'message': 'Class with hash 0x5ff321204c770d66edc25e82e162d7dec25cf61ee1d56f258ad9295e805f3b5 is not declared.'})`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","05/07/2022 1:25 pm","Please create a bug report here https://github.com/software-mansion/protostar/issues.","",""
"826802154818895892","ametel","05/07/2022 10:43 pm","@kasperski95 | Software Mansion i am testing an implementation of ERC20 but i am having issues with transfer() receiving the test contract address as caller even though i am using a prank. I believe something must be wrong with my implementation. Here the gist: https://gist.github.com/ametel01/089fa2b693d165a8b4ca3e4e08daf436","",""
"826802154818895892","ametel","05/07/2022 10:45 pm","This is of course causing the transaction to fail for insufficient balance @MaksymilianDemitraszek | SWM","",""
"935164379693977600","kasperski95 | Software Mansion#6120","06/07/2022 1:28 am","You need to provide the second argument `target_contract_address` to the `start_prank`.
https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#start_prank","",""
"826802154818895892","ametel","06/07/2022 2:14 am","great thanks a lot!","",""
"260514830006485002","milan3774","06/07/2022 7:50 pm","is there some support for for-loops in protostar? python style looping or something similar?","",""
"814779427392192522","MaksymilianDemitraszek#7798","06/07/2022 8:20 pm","@milan you can use all of python features inside hints but that's all what is supported","","üëç (1)"
"260514830006485002","milan3774","07/07/2022 1:52 am","I have a feature request

I'd like to be able to import my own python functions inside hints; it works, but I have to manipulate `sys.path` first, to get the imports working

hence, can we have a way to define extra python path in protostar.toml? alternatively, what would work for me as well, is if the path of the current test file (the one containing the hint) is in `sys.path`

wdyt?

should I open an issue for this?","","üíØ (1),üëç (1)"
"260514830006485002","milan3774","07/07/2022 2:15 am","I've tried to alter `sys.path` in `__setup__` so I can then use the imports in test functions, but that doesn't seem to work üò¢","",""
"260514830006485002","milan3774","07/07/2022 2:24 am","correction - altering the sys.path works, but what I `import` in a hint in `__setup__` is not preserved in the hint in a `test_` function, so I have to import what I need everywhere","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/07/2022 2:31 pm","Yes, please create an issue for this.","","‚úÖ (1)"
"260514830006485002","milan3774","08/07/2022 12:28 am","is there a way how to assign a struct inside a hint? something like
```
local s : MyStruct # struct with 3 members, a, b, c
%{
    ids.s = [1, 2, 3]
%}
assert s.a = 1
assert s.b = 2
assert s.c = 3
```","",""
"260514830006485002","milan3774","08/07/2022 12:38 am","figured it out, one can do
```
%{
    ids.s = segments.add()
    ids.s.a, ids.s.b, ids.s.c = [1, 2, 3]
%}
```
but `s` has to be declared as a pointer, `local s : MyStruct*`","",""
"895328389299318866","eni7912","08/07/2022 1:05 pm","Is there a way to use `mock_call` directly on the tested contract rather than on remote contracts ? 
e.g. I'm testing this
```
func get_proxy_implementation{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(
    identifier : felt
) -> (implementation : felt):
    let (proxy_address) = get_address(identifier)
    let (implementation) = IProxy.get_implementation(proxy_address)
    return (implementation)
end
```

I have a test `test_proxy_implementation` that imports and calls `get_proxy_implementation`. What I want to do is have `get_address`, which is another function inside the tested contract, to return a specific value

I tried with 

```
%{
        stop_mock_address = mock_call(context.address,""get_address"",[ids.MOCKED_PROXY_ADDRESS])
    %}
    PoolAddressesProvider.get_proxy_implementation(123456789)
```

But it's not working","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/07/2022 2:04 pm","`mock_call` affects only functions decorated with `@view` / `@external` and mocking internal calls is not yet supported.
https://github.com/software-mansion/protostar/issues/428","","üíØ (1)"
"777919295362826250","martinkrug","09/07/2022 6:57 pm","Hi there! I'm having some issue related with the bitwise_ptr. The compiler isn't recognizing it while testing with protostar (cairo 0.9 / python 3.9.13)... any ideas welcomed!","",""
"247230107683389441","dcfpascal","10/07/2022 8:44 am","hi sers, how do i check this error:
```[type] OUT_OF_RESOURCES
[code] 37```

I'm doing a decent amount of recursion and increasing it causes this, is there a way to know what the upper limit of my resources is?

```Error: End of program was not reached
        let (res) = normalize_address(addr=res)```","",""
"247230107683389441","dcfpascal","10/07/2022 12:07 pm","and does this necessarily mean deploying my contract will fail or it's just protostar's resource limitation?","",""
"459963806450450432","leeederek","11/07/2022 1:48 am","Hey, was this ever fixed and officially released?","",""
"247230107683389441","dcfpascal","11/07/2022 12:57 pm","i'm getting this error where i have OZ protostar dependencies within my repo but my import functions are giving errors:
```Could not find module 'openzeppelin.account.library'. Searched in the following paths:
/home/vscode/.protostar/dist/protostar/cairo/openzeppelin/account/library.cairo
/workspaces/realms-contracts/openzeppelin/account/library.cairo
/workspaces/realms-contracts/lib/openzeppelin/account/library.cairo
/workspaces/realms-contracts/lib/cairo_contracts/openzeppelin/account/library.cairo
/workspaces/realms-contracts/lib/cairo_math_64x61/openzeppelin/account/library.cairo
/workspaces/realms-contracts/openzeppelin/account/library.cairo
/home/vscode/.protostar/dist/protostar/openzeppelin/account/library.cairo
from openzeppelin.account.library import Account, AccountCallArray```
but the correct path should be:
`./lib/cairo_contracts/**src**/openzeppelin/account/library.cairo`

basically missing the /src/ folder. My protostar.toml files are as such:
```[""protostar.build""]
cairo-path = [""./lib/cairo_contracts/src""]```
so not sure why it's missing /src file","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 2:10 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 2:27 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 2:33 pm","Started a thread.","",""
"895328389299318866","eni7912","11/07/2022 3:33 pm","Getting this error with `expect_events`
````
Traceback (most recent call last):
  File ""protostar/commands/test/test_runner.py"", line 86, in run_test_suite
  File ""protostar/commands/test/test_runner.py"", line 159, in _run_test_suite
  File ""protostar/commands/test/test_execution_environment.py"", line 113, in invoke_test_case
  File ""protostar/commands/test/cheatcodes/expect_events_cheatcode.py"", line 67, in compare_expected_and_emitted_events
  File ""protostar/commands/test/cheatcodes/expect_events_cheatcode.py"", line 116, in _convert_raw_expected_event_to_expected_event
AssertionError: Couldn't map event name to the contract path with that event

```
What's that supposed to mean ? Is it just failing because the event data don't match the expected ones ?

ps: it disappears when not using data transformers. Although, there was no problem with the expected values naming","",""
"895328389299318866","eni7912","11/07/2022 5:47 pm","Another weird behavior : 
I have a test suite, I want to transfer ownership of a deployed contract at the beginning of each test case. I defined a `before_each`function that I run at the beginning of each testcase.
```

# Before each test_case, pool_addresses_owner is USER_1.
func before_each{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}() -> (
    pool_addresses_provider : felt, implementation_hash : felt
):
    alloc_locals
    local implementation_hash
    local pool_addresses_provider
    %{
        ids.implementation_hash = context.implementation_hash
        ids.pool_addresses_provider = context.pool_addresses_provider
    %}
    IPoolAddressesProvider.transfer_ownership(pool_addresses_provider, USER_1)
    return (pool_addresses_provider, implementation_hash)
end
```

However this will succeed only for the first executed testcase, and will fail saying that I'm not the owner of `pool_addresses_provider` for every other test case (the owner stays is USER_1, although i did not transfer ownership in the testcase yet).  

But if I  call `IPoolAddressesProvider.transfer_ownership(pool_addresses_provider, USER_1)` directly in my test case and not through a function, it will work fine, like if it successfully resets between test cases. Any idea ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 5:47 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 6:04 pm","It's indeed a weird behavior. It will be solved by the following issue:
https://github.com/software-mansion/protostar/issues/436","","üôè (1)"
"895328389299318866","eni7912","11/07/2022 6:16 pm","let me know if you need more code chunks","","üëç (1)"
"619615586279882813","aurelou","11/07/2022 9:49 pm","Despite running the command like in the documentation for adding OZ.
When I am trying to execute my test, I got the following error:","https://cdn.discordapp.com/attachments/964116575387021413/996088355773218928/unknown.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/07/2022 9:51 pm","Please share `protostar.toml` configuration.","",""
"619615586279882813","aurelou","11/07/2022 9:53 pm","```ocaml
[""protostar.config""]
protostar_version = ""0.2.5""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
main = [
    ""contracts/VaultFactory.cairo"",
]
```
And the path where I can find all OZ function is ``lib/open_zeppelin/src/openzeppelin``.","",""
"895328389299318866","eni7912","12/07/2022 1:13 am","you need a ```
[""protostar.shared_command_configs""]
cairo_path = [""./lib/cairo_contracts/src""]```","","üöÄ (1)"
"247230107683389441","dcfpascal","12/07/2022 9:55 am","i'm getting this: ```Unknown identifier 'Ownable_initializer'.
    Ownable_initializer(owner)
    ^*****************```
is this something to do with config? have the OZ contracts changed so `ownable_initializer` function no longer exists?","",""
"247230107683389441","dcfpascal","12/07/2022 10:20 am","also, is there a way to check how many steps a certain function/test took?","",""
"247230107683389441","dcfpascal","12/07/2022 10:20 am","i'm getting an OUT_OF_RESOURCES error","",""
"247230107683389441","dcfpascal","12/07/2022 10:20 am","sorry for all the quesitons...","",""
"983660874055176193","pilou_sekai","12/07/2022 12:27 pm","Started a thread.","",""
"895328389299318866","eni7912","12/07/2022 1:28 pm","last protostar version already displays this","",""
"247230107683389441","dcfpascal","12/07/2022 1:54 pm","sorry do you mean 0.2.5?","",""
"247230107683389441","dcfpascal","12/07/2022 1:54 pm","is there any documentation? where can i view this?","",""
"895328389299318866","eni7912","12/07/2022 1:54 pm","yes","",""
"895328389299318866","eni7912","12/07/2022 1:55 pm","you should have something like this","https://cdn.discordapp.com/attachments/964116575387021413/996331552374018078/unknown.png",""
"247230107683389441","dcfpascal","12/07/2022 1:58 pm","neat!","",""
"619615586279882813","aurelou","12/07/2022 2:34 pm","Hello guys I am a Porotstar noob for the moment,
I wanted to try to deploy my contract, so I just follow the documentation and I don't understand the problem, if a nice person can help me it would be nice üôè","https://cdn.discordapp.com/attachments/964116575387021413/996341362196750396/unknown.png,https://cdn.discordapp.com/attachments/964116575387021413/996341362599415818/unknown.png,https://cdn.discordapp.com/attachments/964116575387021413/996341362859446313/unknown.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/07/2022 2:39 pm","`test_value_factory.cairo` imports a file with a defined constructor that accepts some arguments. Move the constructor to a different file or don't import that file.","",""
"691600366260715522","0xclement","12/07/2022 2:40 pm","Hi, I have a broken test too, but the error isn't really explicit üòï 
```
@constructor
func constructor{
        syscall_ptr : felt*,
        pedersen_ptr : HashBuiltin*,
        range_check_ptr
    }(
        name: felt,
        symbol: felt,
        owner: felt,
    ):
    ERC721.initializer(name, symbol)
    Ownable.initializer(owner)
    return ()
end
```","https://cdn.discordapp.com/attachments/964116575387021413/996342842907705395/Capture_decran_2022-07-12_a_11.09.19.png,https://cdn.discordapp.com/attachments/964116575387021413/996342843142590555/Capture_decran_2022-07-12_a_11.10.27.png",""
"691600366260715522","0xclement","12/07/2022 2:40 pm","And it used to work with the same constructor, so it probably doesn't come from there","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/07/2022 2:46 pm","It looks like wrong data is provided to the constructor in `test_integration.deploy_contracts()`","",""
"983660874055176193","pilou_sekai","12/07/2022 2:47 pm","Usually this error indicates that the number of arguments provided to the constructor is not the right one (more or less arguments than expected)","",""
"619615586279882813","aurelou","12/07/2022 2:48 pm","I am going to try thanks üöÄ","",""
"691600366260715522","0xclement","12/07/2022 2:49 pm","Not really..
I hardcoded my values to be sure:
```
%{
     ids.artifact_address = deploy_contract(
     ""./contracts/Artifacts.cairo"",
     # name, symbol, owner
     [0x12, 0X12, 0x12]).contract_address
%}
```","",""
"691600366260715522","0xclement","12/07/2022 2:50 pm","I have my 3 felts here
What is weird is that I didn't change the deployment function and the constructor neither. I've just updated the tests and the some contract functions and nothing is working anymore üòÖ","",""
"983660874055176193","pilou_sekai","12/07/2022 3:00 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/07/2022 4:15 pm","I couldn't replicate this issue. Please provide Minimal Reproducible Example preferably here: https://github.com/software-mansion/protostar/issues.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/07/2022 8:59 pm","https://issuehint.com/issue/OpenZeppelin/cairo-contracts/106","",""
"833371044118134845","jacknal","12/07/2022 9:21 pm","Verify","",""
"260514830006485002","milan3774","13/07/2022 1:16 am","I have a function that returns a struct, and when I `print` it in a hint inside a test suite, it comes out as `<starkware.cairo.lang.vm.vm_consts.VmConstsReference object at 0x126362510>` - any idea why? is there a way to print (or convert, since it's in python) to an array of numbers?","",""
"814779427392192522","MaksymilianDemitraszek#7798","13/07/2022 12:35 pm","Started a thread.","",""
"339830854370983946","lucid_luckylee","13/07/2022 5:38 pm","Hey,
I have code in pure Cairo and am making use of the output builtin.
Is there an easy way to use protostar with it that I am missing?
Right now I just remove the output builtin when testing and add it back afterwards","",""
"895328389299318866","eni7912","13/07/2022 6:19 pm","I tried to reproduce this with a basic Ownable implementation but it worked correctly. There must've been a conflict somewhere else in my tests, sorry","",""
"814779427392192522","MaksymilianDemitraszek#7798","14/07/2022 1:00 pm","Started a thread.","",""
"951518572272812074","purplebishop","14/07/2022 2:12 pm","is there a way to estimate steps for only selected portion of code, or test cases?","",""
"875698957513289789","catalytic__converter","14/07/2022 2:44 pm","I'm trying to log the output from `protostar test` command programmatically, but it does not include any of the print statements from hints. Running from shell myself has no such issues, anyone has any idea how to force it to display it or what config to change?","",""
"875698957513289789","catalytic__converter","14/07/2022 2:47 pm","Just run it with pyuthon insteasd of javascript and it worked...","","üëç (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","15/07/2022 3:00 pm","**Protostar 0.2.6** ships with ‚Äúload‚Äù and ‚Äústore‚Äù cheatcodes, fixes, quality of life and performance improvements:
- added `store` and `load` cheatcodes, which modify any contract storage
- added `exit-first` flag to the test command, which interrupts testing when any test fails
- added `stdout-on-success` flag to the `test` command and improved handling of the standard output, which should improve debugging experience
- added  `fast-collecting` flag to the `test` command, which enables faster but unsafe test collecting algorithm
- added `no-progress-bar` flag to the `test` command
- added upgrade checker, which displays an information when a new version of the Protostar is available
- added logging execution time 
- improved performance of cheatcodes with data transformer
- improved `context` hint local used by `__setup__` by allowing assigning any object
- fixed data transformer issues for contracts deployed in the `__setup__` function
- removed `account-contract` flags from test and build commands ‚Äî Protostar detects account contracts from now on

*github.com/software-mansion/protostar/releases/tag/v0.2.6*
To update Protostar, run `protostar upgrade`.","","üî• (3)"
"247230107683389441","dcfpascal","15/07/2022 3:09 pm","hey just upgraded to 0.2.6, do i need to append `stdout-on-success` to my `protostar test` in order to see the outputs from my `print` statements in the testfile?","",""
"407028305280106519","mortem#8651","15/07/2022 3:55 pm","hey, I've set up the cairo path in the protostar.toml according to the website, but I get this error after doing ```protostar build```,  why is that?
```
 [ERROR] Protostar couldn't compile 'main' contract
/Desktop/code/identicon/lib/immutablex/starknet/token/erc721/library.cairo:15:47: Cannot import 'ERC165_register_interface' from 'openzeppelin.introspection.ERC165'.
from openzeppelin.introspection.ERC165 import ERC165_register_interface
                                              ^***********************^
```","",""
"407028305280106519","mortem#8651","15/07/2022 3:56 pm","doesn't seem like it's a problem coming from my contract itself, but openzeppelin is installed inside lib as well","",""
"875698957513289789","catalytic__converter","15/07/2022 6:45 pm","Is there a right way to generate random accounts for testing?","",""
"260514830006485002","milan3774","15/07/2022 7:03 pm","what does ""faster but unsafe test collecting algorithm""  mean? should we use it? what are the dangers?","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/07/2022 7:34 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/07/2022 7:34 pm","Protostar may crash during testing. This algorithm treats every identifier (i.e. function, namespace, constant, etc.) starting with `test_`   in the global scope of a test file as a test case.","",""
"260514830006485002","milan3774","15/07/2022 8:00 pm","alright, should be safe for me then üôÇ cheers and congrats on shipping üöÄ","","üëå (1)"
"875698957513289789","catalytic__converter","15/07/2022 9:24 pm","In a test file, how do I keep contract between test cases so don't need to redeployu it?

`local contract_address : felt` is local to a test case, and not sure how to set global one that can be retrieved after deployment.


In this repo

https://github.com/onlydustxyz/starkonquest/blob/42f6e7a16eefcdd0c7d7b24cd7f27b407f1c39b6/contracts/tournament/test_tournament.cairo#L407


They retrieve deployed contracs, but haven't seen it used elsewhere and not sure how to recreate it.","",""
"875698957513289789","catalytic__converter","15/07/2022 9:42 pm","In general, what is a good repo to look at how unit tests are run on contracts for inspiration?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/07/2022 9:47 pm","You can read this article: https://blog.swmansion.com/testing-starknet-contracts-made-easy-with-protostar-2ecdad3c9133. It includes a link to a sample repository.","","üëç (1)"
"875698957513289789","catalytic__converter","15/07/2022 9:48 pm","Nice. Looks like an article I wish I've seen two days ago.","",""
"875698957513289789","catalytic__converter","15/07/2022 9:50 pm","lol it came out today haha","","üëç (1)"
"814779427392192522","MaksymilianDemitraszek#7798","15/07/2022 9:50 pm","We released it today so probably was not possible","",""
"875698957513289789","catalytic__converter","15/07/2022 10:05 pm","Yeah, for a second I thought my googling skills weren't as good as I thought they were.

So I see for testing the voting contract you have two tests

`func test_vote_yes_success{` and `func test_vote_no_success{`

I'm guessing that the state does not persist across these invocations?

You mention that deployment is not necessary most of the time, but can be ` implemented by importing the interface method and using it directly in your tests. `. 

In the deployment-less/unit test example, I can't see anything marked as interface. Where is it exactly? Or is it not needed without actual contract to interface to?

In testing with deployment, you have only a single test case, is there a way to propagate the state to the next test_case or should all the logic be accomplished within single test case?

Great article. Thanks!","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/07/2022 10:07 pm",">In the deployment-less/unit test example, I can't see anything marked as interface. Where is it exactly? Or is it not needed without actual contract to interface to?

You just call cairo functions from cairo and test this way no interface is needed.","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/07/2022 10:08 pm","> In testing with deployment, you have only a single test case, is there a way to propagate the state to the next test_case or should all the logic be accomplished within single test case?
> 

You can use setup to prepare some stuff but all logic should be accomplished within single test case.","",""
"875698957513289789","catalytic__converter","15/07/2022 10:16 pm","I'm getting `Protostar doesn't support the unit testing approach forfiles with a constructor expecting arguments.Restructure your code or use `deploy_contract` cheatcode.`

Does this mean the unit test approach only works for constructor-less contracts?","",""
"875698957513289789","catalytic__converter","15/07/2022 10:48 pm","Apaprently so

`The tested file cannot have a constructor that expects arguments because, Protostar won't be able to deploy the contract automatically. As a workaround, keep your constructor in a different file. You can test the constructor using the deploy_contract cheatcode as described below.`","",""
"247230107683389441","dcfpascal","16/07/2022 3:12 pm","are there any docs on how to get the implementation hash when getting the arg for deploying the proxy contract?","",""
"247230107683389441","dcfpascal","16/07/2022 3:31 pm","iguess i have to declare the implementation first? but there is no `protostar declare` i can call to get the implementation hash","",""
"895328389299318866","eni7912","16/07/2022 3:33 pm","Like this ?
```py
 #declare class implementation of basic_proxy_impl
        context.implementation_hash = declare(""./tests/contracts/basic_proxy_impl.cairo"").class_hash
        # declare proxy_class_hash so that starknet knows about it. It's required to deploy proxies from contracts
        declared_proxy = declare(""./lib/cairo_contracts/src/openzeppelin/upgrades/Proxy.cairo"")
        context.proxy_class_hash = declared_proxy.class_hash
        # deploy OZ proxy contract, admin is deployer. Implementation hash is basic_proxy_impl upon deployment.
        prepared_proxy = prepare(declared_proxy,{""implementation_hash"":context.implementation_hash})
        context.proxy = deploy(prepared_proxy).contract_address
```","",""
"247230107683389441","dcfpascal","16/07/2022 3:34 pm","i mean in the CLI","",""
"247230107683389441","dcfpascal","16/07/2022 3:34 pm","my test file i'm doing that yea","",""
"895328389299318866","eni7912","16/07/2022 3:35 pm","well you can use starknet declare ü§î","",""
"247230107683389441","dcfpascal","16/07/2022 3:35 pm","ah so like starknet declare -> protostar deploy?","",""
"247230107683389441","dcfpascal","16/07/2022 3:35 pm","is there a reason why protostar doesn't have its own declare in cli?","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/07/2022 12:46 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/07/2022 12:47 pm","Started a thread.","",""
"456226577798135808","Deleted User","18/07/2022 6:42 pm","Hello guys, I am able to test my contract with protostar but not to build it","",""
"456226577798135808","Deleted User","18/07/2022 6:42 pm","I have those imports:","",""
"456226577798135808","Deleted User","18/07/2022 6:42 pm","```
from src.openzeppelin.token.erc20.interfaces.IERC20 import IERC20
from contracts.oracle_controller.IEmpiricOracle import IEmpiricOracle
```","",""
"456226577798135808","Deleted User","18/07/2022 6:43 pm","And they seem to work because ``protostar test`` works fine","",""
"456226577798135808","Deleted User","18/07/2022 6:43 pm","and if I write something wrong, like :","",""
"456226577798135808","Deleted User","18/07/2022 6:43 pm","```
from this.does.not.exist import foo
```","",""
"456226577798135808","Deleted User","18/07/2022 6:43 pm","I get an error:","",""
"456226577798135808","Deleted User","18/07/2022 6:44 pm","```
/Users/thomas/workspace/starkbet/src/starkbet.cairo:13:6: Could not find module 'this.does.not.exist'. Searched in the following paths:
...
```","",""
"456226577798135808","Deleted User","18/07/2022 6:44 pm","But when I try to build using ``protostar build``","",""
"456226577798135808","Deleted User","18/07/2022 6:44 pm","```
starkware.cairo.lang.compiler.import_loader.ImportLoaderError: src/starkbet.cairo:13:6: Could not find module 'src.openzeppelin.token.erc20.interfaces.IERC20'. Searched in the following paths:
/Users/thomas/workspace/starkbet/lib/src/openzeppelin/token/erc20/interfaces/IERC20.cairo
/Users/thomas/workspace/starkbet/src/openzeppelin/token/erc20/interfaces/IERC20.cairo
/Users/thomas/.protostar/dist/protostar/src/openzeppelin/token/erc20/interfaces/IERC20.cairo
from src.openzeppelin.token.erc20.interfaces.IERC20 import IERC20
     ^********************************************^
[21605] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```","",""
"456226577798135808","Deleted User","18/07/2022 6:45 pm","it looks like less paths are used when using build","",""
"456226577798135808","Deleted User","18/07/2022 6:46 pm","So this works with both test and build but issue is still strange","",""
"456226577798135808","Deleted User","18/07/2022 6:46 pm","```
from cairo_contracts.src.openzeppelin.token.erc20.interfaces.IERC20 import IERC20
from Empiric.contracts.oracle_controller.IEmpiricOracle import IEmpiricOracle
```","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/07/2022 7:02 pm","Do you have the same cairo_path set for both commands? Or have it set in shared command? Please share your `protostar.toml` if you can","",""
"456226577798135808","Deleted User","18/07/2022 8:57 pm","Hmm it seems to be the same command","",""
"456226577798135808","Deleted User","18/07/2022 8:57 pm","```toml
[""protostar.config""]
protostar_version = ""0.2.6""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
starkbet = [""src/starkbet.cairo""]
```","",""
"456226577798135808","Deleted User","18/07/2022 8:57 pm","here you go","",""
"247230107683389441","dcfpascal","19/07/2022 1:17 pm","is there any existing example that tests ETH transfers with all the approvals and deployments? struggling to write these tests myself, would love a reference","",""
"456226577798135808","Deleted User","19/07/2022 1:28 pm","I mocked them because I needed to use them, if that can help you:","",""
"456226577798135808","Deleted User","19/07/2022 1:29 pm","https://github.com/Th0rgal/starkbet/blob/master/tests/test_starkbet.cairo#L54","",""
"456226577798135808","Deleted User","19/07/2022 1:29 pm","do you know how to activate the debugs in protostar so that I can see the results of my prints?","",""
"247230107683389441","dcfpascal","19/07/2022 2:04 pm","oh u gotta add --stdout-on-success in ur protostar test","",""
"247230107683389441","dcfpascal","19/07/2022 2:04 pm","or add that to ur protostar.toml file","",""
"247230107683389441","dcfpascal","19/07/2022 2:04 pm","[""protostar.test""]
stdout-on-success = true","",""
"456226577798135808","Deleted User","19/07/2022 2:47 pm","thanks","",""
"247230107683389441","dcfpascal","19/07/2022 3:23 pm","still stuck on this, i'm doing something like:
```    let (pre_allowance: Uint256) = IERC20.allowance(ETH, caller, caller)
    let (success: felt) = IERC20.approve(ETH, caller, Uint256(500, 0))
    %{ print(""succeeded? "" + str(ids.success)) %}
    let (post_allowance: Uint256) = IERC20.allowance(ETH, caller, caller)```
my eth is deployed as: 
`%{ context.ETH = deploy_contract(""./openzeppelin/token/erc20/ERC20.cairo"", [4543560, 4543560, 18, 1000000, 0, ids.caller]).contract_address %}`
but my post_allowance still shows as 0, am i calling the approve function incorrectly?","",""
"936111918379323443","Victor-#8350","20/07/2022 7:07 am","Hi everyone! I have a contract that allows users to trade ERC721<>ERC721 and want to test that functionality. Ultimately I need 2 wallet accounts and 2 ERC721 contracts. Wallet A has NFT A, and Wallet B has NFT B. Wallet A sets up a trade with Wallet B to swap NFT tokens. This would require approvals as a pre-req from both accounts. 

I was reading the docs and didn't find info on how to mock out user accounts. Is this doable in protostar? ü§î 

https://github.com/Wave-95/zkBarter-contracts/blob/main/contracts/zk_barter_v1.cairo","",""
"247230107683389441","dcfpascal","20/07/2022 10:09 am","adding to the confusion, in the approval function an event is emitted after ERC20_allowance.write() is passed. When i do an `expect_events` it shows that the event has indeed been emitted, but the approval amount hasn't been updated... no idea what the issue is","",""
"951518572272812074","purplebishop","20/07/2022 6:19 pm","Hi @Arcticae | SWM, i opened this feat. request: https://github.com/software-mansion/protostar/issues/503

@0xCa11ab1e would be happy to contribute towards it, if you think its a useful feature for Protostar","","üëç (1)"
"887999107715715083","trejowsk","20/07/2022 6:23 pm","IMHO this is more of starknet.py kind of feature than protostar, i think we have those features available there","",""
"814779427392192522","MaksymilianDemitraszek#7798","20/07/2022 7:17 pm","@sidius We currently working on testable migration scripts in protostar. https://github.com/software-mansion/protostar/issues/404. This probably addresses your request.","",""
"814779427392192522","MaksymilianDemitraszek#7798","20/07/2022 7:20 pm","Hopefully will be included in the next release","",""
"340080285993664512","loaf1337","21/07/2022 2:50 pm","has something changed in the printing within hints?","",""
"340080285993664512","loaf1337","21/07/2022 2:50 pm","i don't seem to be getting any prints now","",""
"456226577798135808","Deleted User","21/07/2022 3:09 pm","@loaf | Realms I got the same issue ahah","",""
"876072467599347712","0xca11ab1e","21/07/2022 3:23 pm","```
[""protostar.shared_command_configs""]
stdout-on-success = true
```
0.2.6 introduced that option. It should help.","","üëç (1)"
"814779427392192522","MaksymilianDemitraszek#7798","21/07/2022 3:35 pm","We will remove this flag at all, it was a bad decision to introduce it :p.","","üòÖ (2)"
"407028305280106519","mortem#8651","21/07/2022 11:44 pm","can protostar have multiple paths in protostar.toml for multiple libs?","",""
"407028305280106519","mortem#8651","21/07/2022 11:50 pm","getting this error after I changed moved cairopen's path in lib so that it could be identified
```
Traceback (most recent call last):
  File ""starkware/cairo/lang/compiler/identifier_manager.py"", line 130, in get
  File ""starkware/cairo/lang/compiler/identifier_manager.py"", line 308, in get
  File ""starkware/cairo/lang/compiler/identifier_manager.py"", line 308, in get
  File ""starkware/cairo/lang/compiler/identifier_manager.py"", line 308, in get
  [Previous line repeated 1 more time]
  File ""starkware/cairo/lang/compiler/identifier_manager.py"", line 321, in get
starkware.cairo.lang.compiler.identifier_manager.MissingIdentifierError: Unknown identifier 'cairopen.binary.bits.Bits.shiftleft'.
```","",""
"407028305280106519","mortem#8651","21/07/2022 11:50 pm","somehow running protostar build does not output errors, only protostar test","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/07/2022 2:33 pm","You can add everything you want to cairo path","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/07/2022 2:34 pm","Started a thread.","",""
"340080285993664512","loaf1337","23/07/2022 8:32 am","i should have read the version notes....","",""
"895328389299318866","eni7912","23/07/2022 8:32 pm","maybe we could have a flag for the opposite ?","","üëç (1)"
"456226577798135808","Deleted User","24/07/2022 9:36 pm","Hey guys, did I do something wrong?","",""
"456226577798135808","Deleted User","24/07/2022 9:36 pm","```
‚ùØ protostar test
[BROKEN] tests/test_StarknetID.cairo                                                                                                                                                                               
/Users/thomas/workspace/starknetid/contract/lib/cairo_contracts/src/openzeppelin/token/erc721/library.cairo:13:6: Could not find module 'openzeppelin.security.safemath'. Searched in the following paths:
/Users/thomas/.protostar/dist/protostar/cairo/openzeppelin/security/safemath.cairo
/Users/thomas/workspace/starknetid/contract/openzeppelin/security/safemath.cairo
/Users/thomas/workspace/starknetid/contract/lib/openzeppelin/security/safemath.cairo
/Users/thomas/workspace/starknetid/contract/lib/cairo_contracts/openzeppelin/security/safemath.cairo
/Users/thomas/workspace/starknetid/contract/openzeppelin/security/safemath.cairo
/Users/thomas/.protostar/dist/protostar/openzeppelin/security/safemath.cairo
from openzeppelin.security.safemath import SafeUint256
     ^****************************^
18:06:03 [WARNING] No test cases found
18:06:03 [INFO] Execution time: 0.42 s
```","",""
"456226577798135808","Deleted User","24/07/2022 9:37 pm","I installed cairo_contracts via ``protostar install url``","",""
"456226577798135808","Deleted User","24/07/2022 9:37 pm","I import my dependencies that way:","",""
"456226577798135808","Deleted User","24/07/2022 9:37 pm","```cairo
from cairo_contracts.src.openzeppelin.token.erc721.library import ERC721
```","",""
"456226577798135808","Deleted User","24/07/2022 9:38 pm","it looks like it is imported correctly, but not its own dependencies","",""
"456226577798135808","Deleted User","24/07/2022 9:38 pm","I swear it used to work a week ago","",""
"340080285993664512","loaf1337","25/07/2022 10:03 am","having same issue","",""
"340080285993664512","loaf1337","25/07/2022 10:03 am","the compilation in the test does not seem to find the correct cairo-path","",""
"340080285993664512","loaf1337","25/07/2022 10:05 am","this issue only arises when using deps from the lib","",""
"935164379693977600","kasperski95 | Software Mansion#6120","25/07/2022 2:20 pm","You need to explicitly set up cairo-path:
```
[""protostar.shared_command_configs""]
cairo_path = [""./lib/cairo_contracts/src""]
```

Can you share the `protostar.toml`?","",""
"456226577798135808","Deleted User","25/07/2022 2:55 pm","Sure here is my config:","",""
"456226577798135808","Deleted User","25/07/2022 2:56 pm","```toml
[""protostar.config""]
protostar_version = ""0.2.5""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
starknet_id = [
    ""src/StarknetID.cairo"",
]
```","",""
"814779427392192522","MaksymilianDemitraszek#7798","25/07/2022 8:00 pm","I think you didn't include cairo-path in your config.","",""
"456226577798135808","Deleted User","25/07/2022 8:09 pm","yeah, I added the suggestion from kasperski95 and it fixed my issue, but that was the auto generated config","",""
"936111918379323443","Victor-#8350","25/07/2022 9:17 pm","How to set cairo-lang version to 0.9.1 in protostar?","",""
"936111918379323443","Victor-#8350","25/07/2022 9:21 pm","I had a similar issue and just worked around it by manually setting the cairo-path since my dependency path was missing the `src` folder

`protostar test ./tests --cairo-path ""/Users/<USERNAME>/cairo/zkBarter/lib/cairo_contracts/src""`","","üëç (1)"
"936111918379323443","Victor-#8350","25/07/2022 9:22 pm","ser @Deleted User have you figured out how to upgrade protostar to use 0.9.1? Saw your tweet about the `if and` functionality lol","",""
"936111918379323443","Victor-#8350","25/07/2022 9:22 pm","Wanted to update my contracts ü§£","",""
"456226577798135808","Deleted User","25/07/2022 9:23 pm","Ahah no I didn't update for now, but sorry to ruin the party, this and is probably not lazy","",""
"456226577798135808","Deleted User","25/07/2022 9:23 pm","so you will probably prefer to keep using two ifs","",""
"936111918379323443","Victor-#8350","25/07/2022 9:23 pm","wdym by not lazy?","",""
"936111918379323443","Victor-#8350","25/07/2022 9:24 pm","*reverts the commit in tears*","",""
"456226577798135808","Deleted User","25/07/2022 9:24 pm","so if you have two expressions, a and b you usually want to do:","",""
"456226577798135808","Deleted User","25/07/2022 9:24 pm","1) compute a 
if not a, cancel

2) compute b
if not b cancel

3) do your stuff","",""
"456226577798135808","Deleted User","25/07/2022 9:24 pm","so if a is false, you don't need to compute b","",""
"456226577798135808","Deleted User","25/07/2022 9:25 pm","but using ``and``, I think you need to give the computed values","",""
"936111918379323443","Victor-#8350","25/07/2022 9:25 pm","ah i see","",""
"936111918379323443","Victor-#8350","25/07/2022 9:25 pm","prob uses more steps","",""
"887999107715715083","trejowsk","25/07/2022 9:25 pm","there's a pre-release available which supports 0.9.1:
https://github.com/software-mansion/protostar/releases/tag/v0.3.0-pre-release","","üëç (2)"
"936111918379323443","Victor-#8350","25/07/2022 9:27 pm","thx for the explanation, that makes sense @Deleted User. just curious, was this realization based on a discussion with the core team?","",""
"456226577798135808","Deleted User","25/07/2022 9:28 pm","no, this was just a thought, but let's ask @Lior Goldberg about that
https://discord.com/channels/793094838509764618/964116575387021413/1001155669665271888","","‚ù§Ô∏è (1)"
"936111918379323443","Victor-#8350","25/07/2022 9:32 pm","hm yea i would hope that `and` just computes the first expression first, and then decides only if that expression is true, does it move onto the second expression. guess we'll find out soon üôÇ","",""
"456226577798135808","Deleted User","25/07/2022 9:36 pm","that's probably not possible if your expression is a function, because you need to extract your returned values to use them","",""
"936111918379323443","Victor-#8350","25/07/2022 10:04 pm","Yes agree on the function bit","",""
"936111918379323443","Victor-#8350","25/07/2022 10:07 pm","Well it could just not compute the function if that‚Äôs the second expression, right? Also wasn‚Äôt aware we can just call functions to represent their returned values in if statements, I‚Äôll check that out","",""
"456226577798135808","Deleted User","25/07/2022 10:08 pm","I actually meant is that you cannot call a function to represent their return values in a if statement because your function returns a tuple that you need to ""extract"" into values","",""
"456226577798135808","Deleted User","25/07/2022 10:08 pm","that's why you need to add parenthesis in your let when calling a function","",""
"936111918379323443","Victor-#8350","25/07/2022 10:09 pm","Oh that‚Äôs what you meant. Yea for my use case it‚Äôs a simple assert equal expression lol, for functions it‚Äôs probably less applicable. Gotcha!","",""
"776799534411808799","Lior Goldberg#6041","25/07/2022 11:12 pm","This is not documented properly, but currently `and` is just a syntactic sugar to two (or more) nested ifs","",""
"776799534411808799","Lior Goldberg#6041","25/07/2022 11:12 pm","So you'll get lazy evaluation automatically","",""
"456226577798135808","Deleted User","25/07/2022 11:22 pm","amazing","",""
"814779427392192522","MaksymilianDemitraszek#7798","26/07/2022 12:23 pm","Started a thread.","",""
"810700810190848012","calabashsquash","28/07/2022 8:42 am","Hey all, what are some hectic codebases using Protostar for testing? I want to see how complex projects are structuring and organising their tests.

Cheers","",""
"935164379693977600","kasperski95 | Software Mansion#6120","28/07/2022 1:00 pm","- https://github.com/onlydustxyz/starkonquest (https://mirror.xyz/onlydust.eth/uhKk_3p34mE0oFUxkIYlCsjkE7ZvUfSFWU83UM9_w-w)
- https://github.com/software-mansion-labs/protostar-tutorial (https://blog.swmansion.com/testing-starknet-contracts-made-easy-with-protostar-2ecdad3c9133)","",""
"875698957513289789","catalytic__converter","28/07/2022 11:03 pm","Can you use `start_prank` without deploying the contract?","",""
"875698957513289789","catalytic__converter","28/07/2022 11:42 pm","Also any idea what this means?

```dev/test_battleship.cairo:119:13: While auto generating local variable for 'contract_address'.
    tempvar contract_address```

I'm following the same pattern I used before to test a contract, but getting it.","",""
"875698957513289789","catalytic__converter","28/07/2022 11:51 pm","For some reason my `tempvar contract_address` gets ""used"" up during a function invocation, and to use another function I need to set it up like such again:

```    tempvar contract_address
    %{ ids.contract_address = context.contract_a_address %}   ```

Not quite sure why as prior I was able to do it just one per test case.","",""
"983660874055176193","pilou_sekai","29/07/2022 1:16 am","Hi, has anyone tried to automate Protostar tests/build with GitHub actions ? I am not really familiar with GitHUb CI tools yet so any example is welcome üôÇ","",""
"810700810190848012","calabashsquash","29/07/2022 4:27 am","Thank you!","",""
"814779427392192522","MaksymilianDemitraszek#7798","29/07/2022 12:08 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","29/07/2022 2:05 pm","https://github.com/immutable/imx-starknet/blob/main/.github/workflows/lint-build-test.yml","",""
"814779427392192522","MaksymilianDemitraszek#7798","29/07/2022 2:41 pm","You guys may be interested in participating in the discussion","",""
"814779427392192522","MaksymilianDemitraszek#7798","29/07/2022 2:41 pm","https://discord.com/channels/793094838509764618/894580545311359026/1002500243176304641","",""
"875698957513289789","catalytic__converter","29/07/2022 6:47 pm","For testing prupsoes is there a way to invoke functions meant to be internal without marking them as external?","",""
"887999107715715083","trejowsk","29/07/2022 7:17 pm","not at the moment - and i doubt it will be supported. what is your use case?","",""
"456226577798135808","Deleted User","29/07/2022 7:28 pm","You can just import them in your test file and play with them","",""
"619615586279882813","aurelou","30/07/2022 3:18 am","The only concern with this solution, is that it's not possible if you use the contract_deploy tricks","","üëç (1)"
"707131341141049344","danilowhk","30/07/2022 4:33 am","Hi, I have just followed the protostar step by step, but I was wondering, when I deploy, where do I specify the deployer contract?","",""
"707131341141049344","danilowhk","30/07/2022 4:33 am","I had one contract deployed but could figure where is was being defined","",""
"619615586279882813","aurelou","30/07/2022 8:02 am","ids.contract if you follow the example","",""
"707131341141049344","danilowhk","30/07/2022 3:55 pm","I have followed the protostar docs example","",""
"707131341141049344","danilowhk","30/07/2022 3:56 pm","Couldnt find the ids.contract, in which files are they? And when none is defined is there a ‚Äúdefault‚Äù one for the goerli testnet?","",""
"707131341141049344","danilowhk","30/07/2022 4:57 pm","So from what I understood the deploying account is set automatically in the enviroment, is there anywhere I could check that? And if I wanted to change the deploying ""Contract/Address"" how would I be able to do that?","",""
"395901194951983106","bal7hazar","30/07/2022 8:39 pm","Hi, I'm working on tests on a devnet using protostar (big job on the framework btw), after many researches on starknet-devnet and protostar documentations I didn't find the $ETH address used in the devnet. My purpose is to realize $ETH transfers during my tests. I hope my question makes sense, any help is very welcome üôè","",""
"895328389299318866","eni7912","31/07/2022 3:05 pm","You need to use the ' declare - prepare - mock - deploy' way, mocking the deployer's address targeting the precomputed contract address that you have as a result of the prepare operation","",""
"707131341141049344","danilowhk","31/07/2022 5:33 pm","Is there anywhere where I can read about this process?","",""
"895328389299318866","eni7912","31/07/2022 5:57 pm","https://docs.swmansion.com/protostar/docs/tutorials/guides/testing#prepare
```
@external
func test_prank_constructor{syscall_ptr : felt*, range_check_ptr}():
    %{
        declared = declare(""path/to/contract.cairo"")
        prepared = prepare(declared, [1,2,3])
        start_prank(111, target_contract_address=prepared.contract_address)

        # constructor will be affected by prank
        deploy(prepared)
    %}
    return ()
end
```","",""
"707131341141049344","danilowhk","01/08/2022 2:31 am","Thank You!üôè","",""
"814779427392192522","MaksymilianDemitraszek#7798","01/08/2022 11:49 am","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","01/08/2022 9:09 pm","**Protostar v0.3.0** ships with support for fuzz testing, migration scripts and many more features and improvements.

- added fuzz testing! https://docs.swmansion.com/protostar/docs/tutorials/testing/fuzzing
- added migration scripts and `migrate` command
https://docs.swmansion.com/protostar/docs/tutorials/deploying/migrations
- added `declare` command
- added `--report-slowest-tests` flag to the `test` command
- added support for configuring required arguments in the `protostar.toml`
- improved test collecting algorithm¬†performance
- improved documentation structure
- improved testing output by adding test case execution time info
- updated `cairo-lang` version to 0.9.1
- removed `--stdout-on-success` flag
- removed limitation: test file can't import a file with a constructor expecting arguments
- removed `fast-collecting` flag from `test` command
- fixed data transformer for `expect_events` cheatcode when unit testing¬†

https://github.com/software-mansion/protostar/releases/tag/v0.3.0","","üî• (7),üëÄ (1)"
"896463897534562364","tomaszcrypto7","01/08/2022 9:57 pm","üöÄ","",""
"395901194951983106","bal7hazar","02/08/2022 12:59 am","Looks awesome, thank for the work!

Not sure to understand the purpose of migrate feature vs. deploy one, what kind of use cases it cover please?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","02/08/2022 3:21 am","Deploy command allows you to deploy only one contract at the time. It's good enough for simple projects.

Migration scripts can declare/deploy multiple contracts. They can be used for example to deploy a project that implements the proxy pattern.
(We need to yet to add an `invoke` migration cheatcode to the migration scripts so that changing an implementation contract from the migration script is possible.)","","üëç (1)"
"940651631006081064","spaceman#0169","02/08/2022 11:44 pm","I came across this (outdated) reference comparing protostar to nile: https://github.com/onlydustxyz/protostar-vs-nile. It mentions protostar does not support local dev nodes. Is this still the case? Or is it simply that it doesn't have a built-in equivalent to `nile node` (or Foundry's `anvil`) but it can be hooked up to a separate node deployment, e.g., a local starknet-devnet container? (There's no mention of protostar integration on that repo, though: https://github.com/Shard-Labs/starknet-devnet)","",""
"843754360163926056","JakubPtak#8889","03/08/2022 11:24 am","I think they mean there is no bundled node","","üëç (1)"
"456226577798135808","Deleted User","03/08/2022 3:40 pm","Hey, I am trying to mock a call from my contract but I think I did something wrong","",""
"456226577798135808","Deleted User","03/08/2022 3:40 pm","```
@external
func test_write_confirmation{
    syscall_ptr : felt*, range_check_ptr, pedersen_ptr : HashBuiltin*, ecdsa_ptr : SignatureBuiltin*
}():
    %{ stop_mock = mock_call(ids.STARKNETID_CONTRACT, ""confirm_validity"", []) %}
    write_confirmation(
        1,
        32782392107492722,
        707979046952239197,
        (3080839013257917388912427272007960968983330462333836515539201615307211653072, 89679567102290128469246051304611027815698436897600596965054556492202657962),
    )
    %{ stop_mock() %}
    return ()
end
```","",""
"456226577798135808","Deleted User","03/08/2022 3:40 pm","```
@contract_interface
namespace StarknetID:
    func confirm_validity(token_id : felt, field : felt, value : felt):
    end
end

@external
func write_confirmation{
    syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr, ecdsa_ptr : SignatureBuiltin*
}(token_id : felt, field : felt, value : felt, sig : (felt, felt)):
    # message_hash = hash2(hash2(token_id, field), value)
    let (message_hash) = hash2{hash_ptr=pedersen_ptr}(token_id, field)
    let (message_hash) = hash2{hash_ptr=pedersen_ptr}(message_hash, value)
    verify_ecdsa_signature(message_hash, PUBLIC_KEY, sig[0], sig[1])
    StarknetID.confirm_validity(STARKNETID_CONTRACT, token_id, field, value)
    return ()
end
```","",""
"456226577798135808","Deleted User","03/08/2022 3:42 pm","Error in the called contract (0x4564121a7ad7757c425e4dac1a855998bf186303107d1c28edbf0de420e7023):
Contract with address 0x4564121a7ad7757c425e4dac1a855998bf186303107d1c28edbf0de420e7023 is not deployed.","",""
"270980684053610507","feltroidprime","03/08/2022 10:53 pm","hey guys, If i want to modify cairo-lang source code to add python hints to it for debugging, with a virtual env, and using protostar for testing, do you know where I should modify it locally ?
Because i've modified the files I needed in env/lib/python3.7/sites-packages/starkware/cairo/common/xxx.cairo but the hints are not showing up when testing with protostar","",""
"983660874055176193","pilou_sekai","04/08/2022 2:35 pm","Started a thread.","",""
"983660874055176193","pilou_sekai","04/08/2022 2:40 pm","Hi, is there a way to run parametrised tests in Protostar ? Or someone has a kinda hack to do so ? 
I know you guys added the `Fuzzing` mode in the last release but afaik it's giving random inputs not parametrised ones.","",""
"814779427392192522","MaksymilianDemitraszek#7798","04/08/2022 4:02 pm","Started a thread.","",""
"561109638020333580","machard#7162","04/08/2022 7:50 pm","Hi, what should be cairo.cairoFormatPath when using protostar ?","",""
"561109638020333580","machard#7162","04/08/2022 7:50 pm","(in vscode)","",""
"561109638020333580","machard#7162","04/08/2022 7:51 pm","it works without doing anything when launching vscode from the virtual env but https://docs.swmansion.com/protostar/docs/tutorials/compiling#cairo-lang-version says i should not have to use the virtual env, but then cairo-format is not found","",""
"561109638020333580","machard#7162","04/08/2022 8:03 pm","looks related to https://github.com/software-mansion/protostar/issues/569 i don't find cairo-format in /Users/.../.protostar so i guess it's not being installed by protostar","",""
"895328389299318866","eni7912","06/08/2022 3:22 pm","Is there a way to have the Cairo LSP work with protostar modules ?","",""
"619138323776012307","guthl_starkware","08/08/2022 8:45 pm","Can you accept me  as  friend? thanks","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/08/2022 9:17 pm","It should be fixed by the following issue.
https://github.com/ericglau/cairo-ls/issues/29
(or https://github.com/software-mansion/protostar/issues/208)","","üëç (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","08/08/2022 9:37 pm","Currently, `cairo-format` isn't bundled with Protostar. We will try to add the `protostar format` in the 0.3.2.","","üëç (2)"
"895328389299318866","eni7912","09/08/2022 4:04 pm","It would be really cool if we had the opportunity to use `expect_revert` only on the next instruction (eg. it checks if the next instruction reverts, if so, the test continues and the next instructions are tested aswell, otherwise the test fails directly). There's often cases where I want to test multiple inputs and I need only one of them to revert, it's some times painful duplicate code to make on testcase end with `expect_revert`","",""
"814779427392192522","MaksymilianDemitraszek#7798","11/08/2022 3:30 pm","Started a thread.","",""
"456226577798135808","Deleted User","12/08/2022 2:30 pm","Hey folks, I just tried to install Protostar on my m2 mac but I got an issue","",""
"456226577798135808","Deleted User","12/08/2022 2:30 pm","```
zsh: bad CPU type in executable: ./protostar
```","",""
"895328389299318866","eni7912","13/08/2022 10:40 pm","Would it be possible to share a `__setup__` between testfiles?
My goal is to have a global setup, use the resulting state im my testfiles, so that I can write them depending on the functionnality they test. Sharing the same setup allows me to avoid re-deploying everything.

e.g.
```
test_setup.cairo
test_erc20.cairo
test_pool.cairo
test_router.cairo
```
instead of having to have all the testcases for `erc20, router,pool` in the same file.
And I would `import` the state from the `test_setup` file. or something along these lines","",""
"895328389299318866","eni7912","13/08/2022 10:48 pm","For now I'm doing this using namespaces and importing my functions to create entrypoints in a single file but it's not very handy...","",""
"968095242475692032","keivinonline#4165","13/08/2022 11:13 pm","hi all. is there a way to pass multiple inputs via protostar cli ? 

i'm just trying to deploy a generic ERC20 contract","",""
"968095242475692032","keivinonline#4165","13/08/2022 11:14 pm","to satisfy 
```
@constructor
func constructor{
        syscall_ptr: felt*,
        pedersen_ptr: HashBuiltin*,
        range_check_ptr
    }(
        name: felt,
        symbol: felt,
        decimals: felt,
        initial_supply: Uint256,
        recipient: felt,
        owner: felt
    ):
    ERC20.initializer(name, symbol, decimals)
    ERC20._mint(recipient, initial_supply)
    Ownable.initializer(owner)
    return ()
end
```","",""
"619138323776012307","guthl_starkware","14/08/2022 2:26 pm","Can you add me as a friend? I sent you a DM","",""
"456226577798135808","Deleted User","14/08/2022 7:59 pm","Hey, I've been able to get it to work by building it on my computer. Thank you @MaksymilianDemitraszek | SWM 
When I tried to build my project it told me to read the changelog to adapt the config, but I couldn't understand what I needed to change. Here is my config (I just changed the version number):
```toml
[""protostar.config""]
protostar_version = ""0.3.0""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
eykar = [""./contracts/eykar.cairo""]

[""protostar.shared_command_configs""]
cairo_path = [""./""]
```

``protostar build`` seems to work fine but I have a bug with  ``protostar test``.","",""
"456226577798135808","Deleted User","14/08/2022 7:59 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1008381935069958214/unknown.png",""
"456226577798135808","Deleted User","15/08/2022 2:51 am","Okay I found a fix (replacing multiprocessing from stdlib by multiprocess, a fork which uses the dill serializer instead of pickle. I'll explain it in the issue and provide a compiled binary for future users. https://github.com/software-mansion/protostar/issues/605","",""
"326484027882209280","bleaknight","15/08/2022 8:22 am","hello sers, I have something weird going on with my protostar test 

`local contract_address: felt
    %{ 
        ids.contract_address = deploy_contract(""./contracts/Cycle.cairo"", [123, 20000, 0]).contract_address 
        stop_prank_callable = start_prank(123, target_contract_address = ids.contract_address)
    %}

    let (refresh_period) = CycleContract.refresh_period(contract_address=contract_address)

    assert refresh_period.low = 20000

    %{ expect_revert(error_message=""address hasn't been initiated"") %}
    CycleContract.init_cycle(contract_address=contract_address, start_time=Uint256(1,0))

    # init device
    %{ expect_events({""name"": ""init_device_called"", ""data"": [111]}) %}
    CycleContract.init_device(contract_address=contract_address, user_device=123, watcher_address=456)`

for the expect_events, it doesn't matter what data I specify, my test would succeed. The expected data in the should be 123 since that's what the code should put in the event. 

github: https://github.com/hypekn1ght/descat-protostar/tree/master/blockend

Thanks in advance!","",""
"247230107683389441","dcfpascal","15/08/2022 11:53 am","in my constructor i have a `get_block_number` and that's always getting block number = -1, is there anyway to deploy the contract with a block number !=-1?","",""
"983660874055176193","pilou_sekai","15/08/2022 5:50 pm","I think that's the default behavior but you can mock the `get_block_number` call : https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/roll","",""
"247230107683389441","dcfpascal","15/08/2022 8:06 pm","yea i've been using `roll` in my testing contracts, i guess i can disable hint validation and `roll` in my actual contract's constructor to avoid the -1 block","",""
"247230107683389441","dcfpascal","15/08/2022 8:06 pm","thanks","",""
"270980684053610507","feltroidprime","15/08/2022 9:18 pm","Hey guys, stupid question but  https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli

> Declaring a contract
> StarkNet provides a distinction between contract class and instance. To create a new contract, you need to:
> 
> 1-Declare a contract
> 2-Use the deploy syscall with the class_hash from the declare transaction as an argument
> from starkware.starknet.common.syscalls import deploy

I've done 1 and i have the contract class address. How should I do 2 exactly ? ü§î","",""
"416298073069715456","t.aksoy","15/08/2022 11:23 pm","hi, did you solve this problem? I  also have same problem. In the constructor timestamp value is 0 and blok number is very high(probably -1 as you)","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/08/2022 2:10 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/08/2022 2:16 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/08/2022 2:23 pm","@dcfpascal @t.aksoy You can use `roll`/`warp`  with `declare/prepare/deploy` cheatcodes.
`prepare` cheatcode precomputes the contract address that can be passed as an `target_contract_address` argument of `roll`/`warp` cheatcodes. 

https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/prepare","",""
"875698957513289789","catalytic__converter","16/08/2022 8:49 pm","Is there a way to use `start_prank()` with multiple contracts?

Either it affects this contract which is the test or next one down when specified, but how to include also contracts which will be invoked further?","",""
"270980684053610507","feltroidprime","17/08/2022 1:04 am","I love protostar guys it's such a smart tool. Keep going!!","","üò≥ (1),üëâ (1),üëà (1)"
"935164379693977600","kasperski95 | Software Mansion#6120","17/08/2022 2:15 pm","It's not possible at this moment. I'll try to convince the team to introduce this change (https://github.com/software-mansion/protostar/issues/622).","",""
"689044265405644829","yab2467","17/08/2022 2:39 pm","hello 
I m using protostar to build a cairo file but I have this error 

['output'] is not a subsequence of ['pedersen', 'range_check', 'ecdsa', 'bitwise'].
%builtins output
^**************^
when I use cairo-compile it is working but not with protostar build 

from what I understood protostar can compile a cairo program","",""
"875698957513289789","catalytic__converter","17/08/2022 4:19 pm","Is there a reason why a test doesn't continue after a successful trigger of `expect_revert()`?","",""
"875698957513289789","catalytic__converter","17/08/2022 4:20 pm","Had same issue, tests only work up to expect revert. Any message logs after don't trigger at all. It seems to end at `expect_revert()`.","",""
"895328389299318866","eni7912","17/08/2022 11:09 pm","giving a small bump to have your opinion on this","",""
"935164379693977600","kasperski95 | Software Mansion#6120","18/08/2022 1:55 pm","Protostar doesn't support Cairo programs ‚Äî `%lang starknet` must be present.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","18/08/2022 1:58 pm","Language limitation. As far as I know, there's no try/catch in Cairo.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","18/08/2022 2:10 pm","It would be possible, but the benefits/effort ratio of this feature is low. You can keep the common configuration in a separate file, import it to a test suite and execute functions from the that file in the `__setup__`. We might add this feature in the future.","",""
"895328389299318866","eni7912","18/08/2022 2:11 pm","Wouldn't this cause as many setups as there are test files? Re-deploying contracts takes a lot of time so that probably wouldn't be optimal","",""
"935164379693977600","kasperski95 | Software Mansion#6120","18/08/2022 2:16 pm","Yes, it's not optimal when running ""commit suite"". It doesn't have impact on the ""compile suite"".

> When you run unit tests so frequently, you may not run all the unit tests. Usually you only need to run those tests that are operating over the part of the code you're currently working on. As usual, you trade off the depth of testing with how long it takes to run the test suite. I'll call this suite the compile suite, since it's what I run whenever I think of compiling - even in an interpreted language like Ruby.
> 
> If you are using Continuous Integration you should run a test suite as part of it. It's common for this suite, which I call the commit suite, to include all the unit tests.
https://martinfowler.com/bliki/UnitTest.html","",""
"895328389299318866","eni7912","18/08/2022 2:17 pm","alright, thanks üòÑ","",""
"883735429122232370","lucky1990#6897","19/08/2022 12:50 pm","hi im having issues declaring contracts during tests","",""
"883735429122232370","lucky1990#6897","19/08/2022 12:50 pm","`starkware.starkware_utils.error_handling.StarkException: (500, {'code': <StarknetErrorCode.UNDECLARED_CLASS: 42>, 'message': 'Class with hash 0x651b30a67844e9e3083e9e36ae5f5291d2c026db9be07981ce1a3551091c3b8 is not declared.'})`","",""
"883735429122232370","lucky1990#6897","19/08/2022 12:51 pm","but i declared it already here:","https://cdn.discordapp.com/attachments/964116575387021413/1010086047000043531/unknown.png",""
"883735429122232370","lucky1990#6897","19/08/2022 12:51 pm","on the starknet-devnet","",""
"883735429122232370","lucky1990#6897","19/08/2022 12:51 pm","then i run the test with:
protostar test test/contract.cairo localhost","",""
"883735429122232370","lucky1990#6897","19/08/2022 12:51 pm","is this not possible ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","19/08/2022 1:22 pm","You have to declare the class with the `declare` cheatcode. Protostar uses its StarkNet to run tests, so there's no need for running devnet.

https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/declare","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:25 pm","i tried to include the declare cheatcode in the function but i was getting another error too","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:25 pm","ill try again","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:53 pm","i keep getting this error when i declare with the cheatcode","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:55 pm","so actually the way i am trying to deploy it is not with the deploy cheatcode but building it myself","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:57 pm","im doing something like this:

```
func test_deployer():
...
...
    let constructor_calldata : felt* = alloc()

    assert [constructor_calldata] = 'hello'

    let (contract : felt) = deploy(
        class_hash=c_hash,
        contract_address_salt=salt,
        constructor_calldata_size=1,
        constructor_calldata=constructor_calldata,
        deploy_from_zero=0,
    )


    return()
end                                                                                     #
```","",""
"883735429122232370","lucky1990#6897","19/08/2022 1:57 pm","using the deploy syscall","",""
"420477687409278986","tarrence#4186","19/08/2022 7:32 pm","is there a cheat code to provide a signature value to a call?","",""
"420477687409278986","tarrence#4186","19/08/2022 7:32 pm","interested in testing signature verification logic","",""
"456226577798135808","Deleted User","20/08/2022 10:47 pm","Hey there, I am trying to deploy an ERC20 contract to test my contract.","",""
"456226577798135808","Deleted User","20/08/2022 10:47 pm","```py
@external
func __setup__():
    %{
        context.eth_contract = deploy_contract(""./lib/cairo_contracts/src/openzeppelin/token/erc20/presets/ERC20.cairo"", [298305742194, 4543560, 18, 0, 0]).contract_address
        #context.pricing_contract = deploy_contract(""./src/pricing/main.cairo"", [context.eth_contract]).contract_address
    %}
    return ()
end
```","",""
"456226577798135808","Deleted User","20/08/2022 10:47 pm","But I get this error:","",""
"456226577798135808","Deleted User","20/08/2022 10:47 pm","```
starkware.cairo.lang.compiler.import_loader.ImportLoaderError: lib/cairo_contracts/src/openzeppelin/token/erc20/presets/ERC20.cairo:10:6: Could not find module 'openzeppelin.token.erc20.library'. Searched in the following paths:
/Users/thomas/workspace/protostar/cairo/openzeppelin/token/erc20/library.cairo
/Users/thomas/workspace/starknetid/naming_contract/openzeppelin/token/erc20/library.cairo
/Users/thomas/workspace/starknetid/naming_contract/lib/openzeppelin/token/erc20/library.cairo
/Users/thomas/workspace/starknetid/naming_contract/lib/cairo_contracts/openzeppelin/token/erc20/library.cairo
/Users/thomas/workspace/starknetid/naming_contract/openzeppelin/token/erc20/library.cairo
/Users/thomas/workspace/protostar/.venv/lib/python3.9/site-packages/openzeppelin/token/erc20/library.cairo
from openzeppelin.token.erc20.library import ERC20
     ^******************************^
```","",""
"456226577798135808","Deleted User","20/08/2022 10:48 pm","I tried to deploy the ERC20 from openzeppelin installed lib","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/08/2022 1:36 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","22/08/2022 7:47 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","22/08/2022 7:51 pm","You can create a feature request here:
https://github.com/software-mansion/protostar/issues/new/choose","",""
"935164379693977600","kasperski95 | Software Mansion#6120","22/08/2022 7:57 pm","https://github.com/software-mansion/protostar/releases/tag/v0.3.2 (hotfix)
- added handling of hexadecimal values in --inputs and --sign arguments in the deploy command, see #637
- added initial activity indicator when Protostar boots

https://github.com/software-mansion/protostar/releases/tag/v0.3.1
- added config keyword argument to declare and deploy_contract migration cheatcodes
- added call migration cheatcode
- added protostar_version verification
- improved feedback messages
- changed testing default target to current working directory rather than test directory
- removed fuzz_simplification_runs","",""
"208302193311219713","Drew_#0452","22/08/2022 7:58 pm","is there any way to step through the program counter in a debugger for protostar?","",""
"561109638020333580","machard#7162","23/08/2022 7:29 pm","Started a thread.","",""
"208302193311219713","Drew_#0452","23/08/2022 8:55 pm","is there a way to check the result of `send_message_to_l1` calls?","",""
"814779427392192522","MaksymilianDemitraszek#7798","24/08/2022 12:37 pm","Started a thread.","",""
"951518572272812074","purplebishop","24/08/2022 1:44 pm","@MaksymilianDemitraszek | SWM morning, is there a way to run tests in Proto with the --no-end flag? it's really important for us

```bash
$ --no_end
If you specify an exact number of steps, and the program does not end within that number of steps, cairo-run will throw an error (End of program was not reached). You can instruct cairo-run to ignore this using the --no_end flag. Specifying the number of steps, combined with the --no_end flag can be used to debug a program, as it allows you to examine the values of the memory and registers after the program has run the specified amount of steps.
```","",""
"951518572272812074","purplebishop","24/08/2022 1:57 pm","@cptartur | Software Mansion hello artur, can we run Proto tests with the --no-end flag?","",""
"951518572272812074","purplebishop","24/08/2022 1:58 pm","currently we are facing the issue of ""end of program not reached"" bc we think the Cairo steps estimate is off due to the presence of very large and complex loops","",""
"945304676268658689","cptartur","24/08/2022 2:13 pm","Hey, I'm not really involved in protostar project so I'm not the best person to give advice on that. Someone from the protostar should have answer to this soon.","",""
"814779427392192522","MaksymilianDemitraszek#7798","24/08/2022 3:53 pm","Started a thread.","",""
"267300878736818176","_dsi","25/08/2022 3:43 am","Hey guys, I'm trying to install protostar for another project as a dependency in a docker container, to install other contracts but when running `protostar install https://github.com/OpenZeppelin/cairo-contracts` I'm getting `bash: protostar: command not found`","",""
"267300878736818176","_dsi","25/08/2022 3:43 am","Is there other things to do than `curl -L https://raw.githubusercontent.com/software-mansion/protostar/master/install.sh | bash` to install protostar ? I don't want to start installing too much things and mess it up","",""
"814779427392192522","MaksymilianDemitraszek#7798","25/08/2022 12:59 pm","Started a thread.","",""
"561109638020333580","machard#7162","25/08/2022 8:11 pm","@MaksymilianDemitraszek | SWM , sending you a friend request now","","üëå (1)"
"903203088045838346","rarub","26/08/2022 3:06 am","Hey everybody,
I'm trying to run a test that expects an error. I'm currently using `expect_revert`, but it doesn't catch the error as expected. 
The error I get is
```
EXPECTED:
[error_type] div=0x0 is out of the valid range
INSTEAD GOT:
[type] TRANSACTION_FAILED
[code] 39
[details] ... Got an exception while executing a hint ...
```
What should I use?","",""
"903203088045838346","rarub","26/08/2022 3:57 am","And I have another question haha:
I'm testing a function `x` of contract `A` that calls function `y` of contract `B` twice in a row. 
I'm currently wrapping x in a `mock_call` hint, which mocks `y`. This means `y` returns the same value twice in a row. Is it possible to change what the mock returns the second time?","",""
"814779427392192522","MaksymilianDemitraszek#7798","26/08/2022 11:07 am","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","26/08/2022 11:09 am","Started a thread.","",""
"894836381896019979","tomorrowforsure.eth","26/08/2022 6:51 pm","is there a way when fuzz testing to actually persist the storage state ? 
So let's say first run updates the contract storage from State 0 -> State 1, can I have a way so that the second test run uses State 1 and causes State 2? From what I am currently getting it looks like the contract state goes back to State 0 (i.e. state right after \__setup__) before each fuzzer?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/08/2022 8:48 pm","Protostar doesn't support sharing a state between test cases and fuzz runs. Test cases should be independent of each other.

You can request and describe the feature here: https://github.com/software-mansion/protostar/issues/new/choose.","","StarkNet (1)"
"456226577798135808","Deleted User","28/08/2022 1:09 pm","hey it seems that warp doesn't work when calling a deployed contract","",""
"456226577798135808","Deleted User","28/08/2022 1:10 pm","``get_block_timestamp()`` returns me 0","",""
"456226577798135808","Deleted User","28/08/2022 1:20 pm","it works if I add the warp directly in the contract code though, but this is not something I want to do since it is not whitelisted and I would not be able to print it","",""
"917373997283438622","lhadri","30/08/2022 2:01 am","Hey guys! I want to deploy a contract on goerli testnet using deploy_contract cheatcode. I think it is possible via protostar.toml file but I don't know how. Can you please give me a hand?","https://cdn.discordapp.com/attachments/964116575387021413/1013908699376533574/unknown.png",""
"260514830006485002","milan3774","30/08/2022 2:57 am","is there a way to disable the fancy loading ASCII animation when protostar is collecting tests? when running on GitHub actions, it pollutes the output:
```
Collecting tests ‚£æ
Collecting tests ‚£∑
Collecting tests ‚£Ø
Collecting tests ‚£ü
Collecting tests ‚°ø
Collecting tests ‚¢ø
Collecting tests ‚£ª
Collecting tests ‚£Ω
```","",""
"814779427392192522","MaksymilianDemitraszek#7798","30/08/2022 12:11 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","30/08/2022 1:51 pm","Started a thread.","",""
"940510380332040193","zorozor1","01/09/2022 2:24 pm","If there a way I can call `get_storage_at` in a hint in my Protostar tests? I know it's part of the feeder gateway but wondering if there's a way I can call it when I `deploy_contract` beforehand","",""
"646705218796650507","dic0de","01/09/2022 5:03 pm","I am encountering this error in my vs-code by protostar is able to build and run tests properly. Any pointers to eliminate this error!!","https://cdn.discordapp.com/attachments/964116575387021413/1014860667070726144/Screenshot_from_2022-09-01_13-22-28.png",""
"1009420542392152094","igorurbanik","01/09/2022 7:01 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","01/09/2022 7:01 pm","Started a thread.","",""
"635736206403043338","david_mitesh#4616","05/09/2022 11:41 am","why output builtin not supported in the protostar build. I am getting an compilation error.","",""
"635736206403043338","david_mitesh#4616","05/09/2022 11:42 am","","https://cdn.discordapp.com/attachments/964116575387021413/1016229203420643328/unknown.png",""
"635736206403043338","david_mitesh#4616","05/09/2022 11:42 am","","https://cdn.discordapp.com/attachments/964116575387021413/1016229307724599447/unknown.png",""
"635736206403043338","david_mitesh#4616","05/09/2022 12:19 pm","I just wanted to use serialize_word() in the contract","",""
"843754360163926056","JakubPtak#8889","05/09/2022 12:45 pm","I think Starknet doesn't support output_ptr at all.","","üëç (2)"
"814779427392192522","MaksymilianDemitraszek#7798","05/09/2022 1:53 pm","You can still use `print` in hints to print stuff","","üëç (1)"
"843754360163926056","JakubPtak#8889","05/09/2022 3:25 pm","But only in tests, you can't deploy custom hints to starknet","",""
"619615586279882813","aurelou","05/09/2022 5:14 pm","Question,
Do you know where I Can find some documentation about the fuzzer and which VM impl√©mentation Protostar use (python or Rust)","",""
"689466865415880710","jajakobyly","05/09/2022 6:10 pm","Started a thread.","",""
"894836381896019979","tomorrowforsure.eth","05/09/2022 8:19 pm","Anyway to force the contract address to a preset value during deployment? I want to test my contract which interacts with a ERC20 token on mainnet but don't want to change the address of the erc20 contract","",""
"456226577798135808","Deleted User","06/09/2022 12:50 pm","up","",""
"894836381896019979","tomorrowforsure.eth","06/09/2022 1:28 pm","did you add `target_contract_address` as an argument to warp? Otherwise the affected contract will be the current one
https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/warp","","üëç (1)"
"456226577798135808","Deleted User","06/09/2022 1:34 pm","Oh thank you I didn‚Äôt know about that, I‚Äôll try it!","",""
"270980684053610507","feltroidprime","07/09/2022 2:29 pm","""""","",""
"622383155613138944","m4d_m4n","07/09/2022 7:03 pm","Hi! Any ETA on protostar migrating to new Cairo version?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/09/2022 7:35 pm","@[M]adman 
Best case: Next week
Nominal case: End of the next week
Worst case: 2 weeks from now

cc @Marek | Software Mansion","https://cdn.discordapp.com/attachments/964116575387021413/1017073236011397140/Screen_Shot_2022-09-07_at_16.02.33.png",""
"826802154818895892","ametel","07/09/2022 8:04 pm","i am trying to implement deploy() syscall in which one of the constructor arguments is a pointer:","",""
"826802154818895892","ametel","07/09/2022 8:04 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1017080457323622402/Screenshot_2022-09-07_14-04-50.png,https://cdn.discordapp.com/attachments/964116575387021413/1017080457571090552/Screenshot_2022-09-07_14-03-45.png",""
"826802154818895892","ametel","07/09/2022 8:04 pm","allowed_reward_tokens is the pointer","",""
"826802154818895892","ametel","07/09/2022 8:05 pm","it seems that _deploy can only accept int?","",""
"689466865415880710","jajakobyly","07/09/2022 8:06 pm","Yeah, I wouldn't even give any ETAs at this moment. Cairo 0.10 release hit us hard with many breaking changes (it has also hit starknet-devnet which we depend on) and we are still working on porting Protostar ü§û (This is our primary focus currently).","",""
"689466865415880710","jajakobyly","07/09/2022 8:08 pm","Following up to @kasperski95 | Software Mansion reply, as for now I suggest monitoring the v0.4.0 milestone in our repository (https://github.com/software-mansion/protostar/milestone/19) where we track all the issues. The list is not set in stone, but it should be at least 90% complete I guess.","",""
"826802154818895892","ametel","07/09/2022 8:25 pm","ok appears that you copy the logic from starknet std lib, i'll ask in the other channel.","","üëç (1)"
"689466865415880710","jajakobyly","07/09/2022 8:27 pm","I don't think `codeoffset` and `felt*` can travel through contract boundaries","",""
"826802154818895892","ametel","07/09/2022 8:31 pm","i though the same","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/09/2022 8:32 pm","https://github.com/software-mansion/protostar/releases/tag/v0.3.3","",""
"247230107683389441","dcfpascal","08/09/2022 8:01 am","hi just saw the 0.10.0 upgrades, is there anything i need to do other than 1) updating my contract syntax thru `cairo-migrate` and 2) wait for protostar's v0.4? currently running `protostar build` or `protostar test` gives me a bunch of `BROKEN`","",""
"247230107683389441","dcfpascal","08/09/2022 8:03 am","on 0.3.3 fwiw","",""
"843754360163926056","JakubPtak#8889","08/09/2022 12:01 pm","@dcfpascal if you stay with the old syntax everything should work properly.","",""
"247230107683389441","dcfpascal","08/09/2022 12:43 pm","oh okay, the vscode extension not supporting old syntax anymore... thought everyone was upposed to migrate. thanks","",""
"843754360163926056","JakubPtak#8889","08/09/2022 12:53 pm","You should migrate eventually, but you can still use old syntax with protostar, build & deploy with no problems. 
0.10.0 changed a lot of things that protostar uses and team is working on updating it (https://github.com/software-mansion/protostar/milestone/19).","",""
"247230107683389441","dcfpascal","08/09/2022 3:38 pm","if i'm rewritting my contract because of the increased step limitation (i think from 1mio to 2mio afaik) will protostar allow for the new step limit before 0.4? or is the limitation still 1mio steps","",""
"247230107683389441","dcfpascal","08/09/2022 3:39 pm","i'm leaning towards waiting until protostar supports 0.10.0 to rewrite my contract since it's a trivial fix but if the tests don't pass there's no point for me to do that now","",""
"938703797239287879","0xdarlington","10/09/2022 5:13 am","i get thrown this error when deploying with v0.3.3
```[WARNING] alpha-goerli is a legacy network name parameter and it won't be supported in future versions```

Will alpha-goerli not be supported in future updates?","",""
"887999107715715083","trejowsk","10/09/2022 3:03 pm","@Darlington | Argent testnet is new name for alpha-goerli","",""
"938703797239287879","0xdarlington","10/09/2022 3:40 pm","Oh...i get. Thanks","",""
"456226577798135808","Deleted User","10/09/2022 8:30 pm","Hey there, do you know how to tell Cairo LS to search for libs in their folder? üôÇ","",""
"456226577798135808","Deleted User","10/09/2022 8:30 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1018174086477779065/unknown.png",""
"415232973768622086","mandarkest","12/09/2022 6:30 pm","Hi team. How can I use start_prank with deploy_contract? Since get_caller_address() works in constructor now, I need a way in protostar to set caller address without having contract address. May be a 'caller' argument in deploy_contract cheatcode works best.","",""
"887999107715715083","trejowsk","12/09/2022 7:17 pm","I think what you might want is this:
https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/deploy-contract
But you need to ""decompose"" the deploy-contract into `declare` , `prepare` and `deploy` - then you will have the contract address before deployment after `prepare` call. Having it, you can call `prank` with the obtained address and you should be good to go.","",""
"415232973768622086","mandarkest","12/09/2022 7:18 pm","Thanks, this sounds promising, let me try.","",""
"415232973768622086","mandarkest","12/09/2022 7:26 pm","You are the best, works like a charm. Thanks a lot. 
Do you think it will be worth it to provide this syntax directly in deploy_contract cheatcode?","",""
"689466865415880710","jajakobyly","12/09/2022 9:04 pm","Hey all! We have reached a working compatibility with Cairo 0.10. Expect Protostar v0.4.0 to be released in coming days üéâ","","üéâ (6)"
"843754360163926056","JakubPtak#8889","13/09/2022 1:52 pm","Check out https://discord.com/channels/793094838509764618/1014860667972489296/1014890186255106098","",""
"456226577798135808","Deleted User","13/09/2022 2:19 pm","Hey thank you but it is working fine for standard lib so my env should be working fine, I only have this issue with libs installed through protostar","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/09/2022 2:50 pm","I think you need to set up cairo-paths in the CairoLS settings.
```json
""cairols.cairoPath"": {
    ""scope"": ""resource"",
    ""type"": ""array"",
    ""default"": [],
    ""description"": ""Additional locations to search for cairo files.""
}
``` 
https://github.com/ericglau/cairo-ls/commit/781d3bf06d6045c293c6d782e5741b93531de04b","",""
"689466865415880710","jajakobyly","13/09/2022 3:10 pm","Protostar v0.4.0 with support for Cairo v0.10 has been released! üöÄ https://github.com/software-mansion/protostar/releases/tag/v0.4.0","","üî• (3)"
"270980684053610507","feltroidprime","13/09/2022 3:28 pm","didn't v 0.4.0 break the setup deploy for tests ? 
some of my tests that involved reading  a storage value that was initialized in the constructor function are not passing anymore (value is not existant in storage)","",""
"415232973768622086","mandarkest","13/09/2022 6:05 pm","Hi. I am seeing this error in my tests after upgrade.

```
(starknet-py) JediSwap % protostar test tests/test_deployment.cairo 
17:59:05 [INFO] Collected 1 suite, and 3 test cases (0.062 s)                                                                                                    
[UNEXPECTED_EXCEPTION] tests/test_deployment.cairo                                                                                                               
Traceback (most recent call last):
  File ""protostar/commands/test/test_runner.py"", line 98, in run_test_suite
  File ""protostar/commands/test/test_runner.py"", line 155, in _build_execution_state
  File ""protostar/commands/test/environments/setup_execution_environment.py"", line 38, in execute
  File ""protostar/starknet/execution_environment.py"", line 32, in perform_execute
  File ""starkware/starknet/testing/contract.py"", line 293, in execute
  File ""starkware/starknet/testing/contract.py"", line 303, in _execute_on_given_state
  File ""protostar/starknet/cheatable_state.py"", line 97, in execute_entry_point_raw
  File ""starkware/starknet/testing/state.py"", line 241, in add_messages_and_events
  File ""starkware/starknet/business_logic/execution/objects.py"", line 337, in get_sorted_events
IndexError: list assignment index out of range
```","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/09/2022 6:22 pm","Started a thread.","",""
"247230107683389441","dcfpascal","14/09/2022 1:25 pm","something weird happens when i try to `protostar install https://github.com/OpenZeppelin/cairo-contracts`
i'm getting: 
```Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 88, in <module>
  File ""binary_entrypoint.py"", line 22, in init
  File ""protostar/start.py"", line 23, in main
  File ""protostar/start.py"", line 56, in run_protostar
  File ""protostar/start.py"", line 51, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 61, in run
  File ""protostar/protostar_cli.py"", line 97, in _run_command_from_args
  File ""protostar/cli/cli_app.py"", line 28, in run
  File ""protostar/commands/install/install_command.py"", line 74, in run
  File ""protostar/commands/install/install_command.py"", line 68, in run
  File ""protostar/commands/install/install_command.py"", line 88, in install
  File ""protostar/commands/install/install_package_from_repo.py"", line 43, in install_package_from_repo
  File ""git/objects/submodule/base.py"", line 399, in add
AttributeError: 'Tree' object has no attribute '_name'
[32541] Failed to execute script 'binary_entrypoint' due to unhandled exception!```","",""
"247230107683389441","dcfpascal","14/09/2022 1:25 pm","but installing another dependency works ok","",""
"395901194951983106","bal7hazar","14/09/2022 1:28 pm","Hey everyone, I'm using protostar for a month now, it works pretty well, thank you for this amazing tool.

I recently worked on a contract that will check under the hood that the account has been deployed correctly (using `supportInterface`).
When I wanted to make some tests about it, playing with undeployed account contracts, it fails with undeployed contract error (which is logic so far).

Doing my E2E tests I would like to avoid to mock/prank the tested contract, finally my question : is it possible the get access to deployed accounts using protostar (such as starknet devnet for instance) ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/09/2022 1:36 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/09/2022 1:47 pm","Started a thread.","",""
"589926291969671173","machilassab","14/09/2022 1:59 pm","Hello team, is there a way to store variables to `context` object in a function (say `deploy_protocol()`) in a given file, and call this function `deploy_protocol` (to use the same object `context`) in a function `__setup__` of another file?","",""
"395901194951983106","bal7hazar","14/09/2022 2:10 pm","Started a thread.","",""
"951518572272812074","purplebishop","14/09/2022 4:58 pm","Hey @MaksymilianDemitraszek | SWM @Arcticae | SWM can you please tell me how to force Protostar to show step counts for each test case, the behavior (in 0.3.3) seems to be that they are hidden by default?","",""
"814779427392192522","MaksymilianDemitraszek#7798","14/09/2022 5:35 pm","Started a thread.","",""
"894836381896019979","tomorrowforsure.eth","14/09/2022 11:11 pm","Hey, how would I go around to test the internal functions of a contract that needs to be deployed with arguments? In the previous version of protostar I would make a test contract which would import all the functions from the main contract.
I was then able to deploy this test contract from my protostar code and it would inherit the constructor of the main contract. This doesn't seem to work in protostar 0.4.2 as I keep getting 
```
Incorrect usage of `deploy` cheatcode
Tried to deploy a contract with constructor calldata, but no constructor was found.
```
Any solution ?","",""
"894836381896019979","tomorrowforsure.eth","14/09/2022 11:54 pm","Started a thread.","",""
"395901194951983106","bal7hazar","15/09/2022 7:43 pm","Hello, has someone ever got this error message during tests and/or able to translate it please?

```
Error in the called contract (0xf915e12071a23c3bb516ed093aa3a28027dd812fe0ab396becec4f9532426):
Entry point 0x29e211664c0b63c79638fbea474206ca74016b3e9a3dc4f9ac300ffd8bdf2cd not found in contract with class hash 0x64c16367b660c255e4c7593e90c604eaef5058a92ae858109cca2c7a3d0a764.
```

WIth `0xf915e12071a23c3bb516ed093aa3a28027dd812fe0ab396becec4f9532426` a deployed contract (deployed thanks to `deployed_contract` cheatcode and OZ account contract).

The error appears when I send a token to this account contract (it appears since I migrated to cairo 0.10.0, OZ 0.4.0 and protostar 0.4.2, but I also had to manage some modification in my own code).

Thanks for help üôè","","üëç (1)"
"894836381896019979","tomorrowforsure.eth","15/09/2022 7:53 pm","Can you show your code? The deployed contract is missing the entrypoint you are calling, could be an error in the interface you defined or in the contract you are deploying","",""
"395901194951983106","bal7hazar","15/09/2022 8:04 pm","Started a thread.","",""
"456226577798135808","Deleted User","15/09/2022 10:52 pm","Hey guys, you did a great job with recent updates. I tried running tests from an old project which used to take a few minutes to complete and it only took a few seconds.","","üòç (4),üëç (1)"
"456226577798135808","Deleted User","15/09/2022 10:53 pm","Thank you!","",""
"619138323776012307","guthl_starkware","18/09/2022 4:01 pm","Can you DM me? I cannot add you for some reason","",""
"235148962103951360","Carl-bot#1536","18/09/2022 4:01 pm","Oi frens, really nice you want to connect privately.. but juuuuust maaaake sure this is safe! don't click any links, don't send any keys, don't invite to birthday parties.","",""
"415232973768622086","mandarkest","19/09/2022 2:27 pm","Does anyone know if theres a good way to unit test l1_handlers using protostar?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","19/09/2022 4:25 pm","Started a thread.","",""
"619138323776012307","guthl_starkware","20/09/2022 12:24 am","Can you DM me? Trying to reach out","",""
"235148962103951360","Carl-bot#1536","20/09/2022 12:24 am","Oi frens, really nice you want to connect privately.. but juuuuust maaaake sure this is safe! don't click any links, don't send any keys, don't invite to birthday parties.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","20/09/2022 3:40 pm","Started a thread.","",""
"705769314858565753","alex.sumner","21/09/2022 12:03 pm","Hey, just started using protostar and loving it thanks. Can anyone tell me what I'm doing wrong here? Following https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli I have this in protostar.toml:

[profile.devnet.protostar.deploy]
gateway-url=""http://127.0.0.1:5050/""

but `protostar -p devnet deploy ./build/main.json`
gives me `[ERROR] Argument `chain-id` is required when `gateway-url` is provided`

Do I need to add `chain-id=xxx` after gateway-url in protostar.toml? What is the devnet chain-id?

Thanks!","",""
"705769314858565753","alex.sumner","21/09/2022 12:43 pm","Update: adding `chain-id=""1""` to protostar.toml seems to work. At least it avoids the error, not sure if it's correct.","","üëå (2)"
"589926291969671173","machilassab","21/09/2022 2:15 pm","Hello friends, is there a way to cache context + StarkNet state? Or save and load on a fresh network. I'm looking at ways to avoid deploying the same contracts every time before running tests.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","21/09/2022 3:39 pm","Currently, using `setup` function in a test suite is the only way to minimize the number of deploys. We may add such functionality in the future.
https://github.com/software-mansion/protostar/issues/488","","ü¶æ (1)"
"340080285993664512","loaf1337","22/09/2022 10:39 am","anybody figured out how to print struct arrays within a hint","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/09/2022 2:58 pm","Started a thread.","",""
"705215116114788382","espejelomar#0100","23/09/2022 12:36 am","Hey Omar Espejel from Starkware here. üëã","",""
"705215116114788382","espejelomar#0100","23/09/2022 12:36 am","I am making a tutorial on how to use protostar with the devnet.

Some questions that could be answered separately.

1. The only way to invoke a contract is using migrations (this applies for both devnet and testnet?)
2. When doing a migration file I receive the ‚ÄúHint is not whitelisted. This may indicate that this library function cannot be used in StarkNet contracts.‚Äù error. For example for this code:","",""
"705215116114788382","espejelomar#0100","23/09/2022 12:37 am","`%lang starknet

@external
func up() {
    %{
        contract_address = deploy_contract(
             ""./build/main.json"",
             config={""wait_for_acceptance"": True}
        ).contract_address

        invoke(
            contract_address,
            ""initialize"",
            {""new_authority"": 123},
            config={
                ""auto_estimate_fee"": True,
                ""wait_for_acceptance"": True,
            }
        )
    %}

    return ();
}`","",""
"935164379693977600","kasperski95 | Software Mansion#6120","23/09/2022 1:42 pm","Started a thread.","",""
"705215116114788382","espejelomar#0100","24/09/2022 6:14 am","Started a thread.","",""
"456226577798135808","Deleted User","24/09/2022 2:42 pm","Thank you! I tried this but it didn't work, can you tell me if you notice anything wrong? üôÇ","",""
"456226577798135808","Deleted User","24/09/2022 2:42 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1023159914408972300/unknown.png",""
"456226577798135808","Deleted User","24/09/2022 2:42 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1023159997355524138/unknown.png",""
"895328389299318866","eni7912","25/09/2022 2:45 pm","is there an example of migration scripts somewhere ?","",""
"866309158144180244","edaatweets#8597","25/09/2022 10:24 pm","protostar is great ‚ù§Ô∏è thanks! I'm confused about the deploy command. from which account does it deploy from? also are there no gas fees on goreli when you deploy?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/09/2022 3:06 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/09/2022 3:10 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/09/2022 3:38 pm","Started a thread.","",""
"705215116114788382","espejelomar#0100","26/09/2022 5:37 pm","Started a thread.","",""
"430806303212961803","martriay","26/09/2022 5:47 pm","hey there protostar team! Marto from OpenZeppelin here. I was about to send a PR updating this section (https://docs.swmansion.com/protostar/docs/tutorials/dependencies-management#external-dependency-reference-formats) so it uses the latest OZ since it's showcasing a very old version of the contracts.","",""
"430806303212961803","martriay","26/09/2022 5:48 pm","but in doing so I noticed you use it as an example for github installations","",""
"430806303212961803","martriay","26/09/2022 5:48 pm","we strongly discourage installing the package from github, since we release through pypi and the `main` branch may not be ready for installation. we urge our users to NEVER install directly from Github","",""
"430806303212961803","martriay","26/09/2022 5:50 pm","is there a way to install a python package so I can update or is that incompatible with protostar?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/09/2022 6:06 pm","Started a thread.","",""
"589926291969671173","machilassab","28/09/2022 8:26 pm","hey protostar pharaohs, do you know an elegant way to skip a test in a file using protostar?","",""
"872889368342319104",".prashantb","29/09/2022 12:48 am","Hey protostar pharaohs, I need help regarding version 0.4.2.
Cairo contract code which was working with previous version, gives me following error:

Unexpected token Token('COLON', ':'). Expected one of: ""->"", ""{"".

What is correct syntax for func? Do I need to use curly brackets, instead of : and end?

I have this in my code: 
func set_up_game{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(player1 : felt, player2 : felt):

I think protostar version 0.4.2 is expecting something like this:
func set_up_game{syscall_ptr : felt*, pedersen_ptr : HashBuiltin*, range_check_ptr}(player1 : felt, player2 : felt) {

I will appreciate  any help to resolve this issue? üôè","",""
"895328389299318866","eni7912","29/09/2022 12:59 am","yes, you need to update your cairo files to cairo 0.10, you can use `cairo-migrate filename -i` for this","",""
"872889368342319104",".prashantb","29/09/2022 2:09 am","Thanks @eni for quick reply!!! I have now used cairo-migrate to modify files üôè üî•","",""
"935164379693977600","kasperski95 | Software Mansion#6120","29/09/2022 2:35 pm","(Official Cairo migrator is known to fail without trailing new line in input files.  `protostar cairo-migrate` fixes that.)","","üëç (1)"
"872889368342319104",".prashantb","29/09/2022 10:32 pm","Hey @eni and other protostar pharaohs, what could be the reason that _abi.json won't be generated by ""protostar build"" ? 
In one  of my project, _abi.json file did not get generated. 

Thanks in advance for your help. üôè","",""
"895328389299318866","eni7912","29/09/2022 11:00 pm","you contract is probably missing under `[""protostar.contracts""]` in `protostar.toml`","",""
"872889368342319104",".prashantb","29/09/2022 11:30 pm","this is my protostar.toml:

[""protostar.config""]
protostar_version = ""0.4.2""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
main = [
    ""src/battleship.cairo""
]","",""
"872889368342319104",".prashantb","29/09/2022 11:33 pm","I actually have more than one .cairo file  in src directory, which are used in  the contract, and they are being used in the through ""from src.... import ..."" directive","",""
"872889368342319104",".prashantb","29/09/2022 11:46 pm","I noticed this:
When I removed  ""@External"" decorator  from function, _abi.json file  was not  generated.

Does anyone know anything about this  behavior?","",""
"872889368342319104",".prashantb","29/09/2022 11:47 pm","Please read External as external, for some reason I can't type lowercase there","",""
"872889368342319104",".prashantb","30/09/2022 10:02 pm","Hey protostar pharaohs, I have been trying to find reason of the issue of _abi.json file not getting generated by ""protostar build"" command.
What I found is that use of namespace.  Please see below example codes.

Does someone know solution of how to generate _abi.json file when namespace is used? I really need help üôè 

This code generates starknet_abi.json

%lang starknet
from starkware.cairo.common.cairo_builtins import HashBuiltin
from starkware.starknet.common.syscalls import get_caller_address

@External
   func store_name{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr}(_count: felt) -> (even : felt) {
      alloc_locals;
      local even;

      let (caller) = get_caller_address();
      if (_count == 2) {
         even = 1;
      }
      return (even=even);
   }

=============================================================
This code does not generates starknet_abi.json (please see use of  namespace)

%lang starknet
from starkware.cairo.common.cairo_builtins import HashBuiltin
from starkware.starknet.common.syscalls import get_caller_address

namespace ToMoon {
@External
   func store_name{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr}(_count: felt) -> (even : felt) {
      alloc_locals;
      local even;

      let (caller) = get_caller_address();
      if (_count == 2) {
         even = 1;
      }
      return (even=even);
   }
}","","üëÄ (1)"
"872889368342319104",".prashantb","30/09/2022 10:02 pm","My protostar.toml file:

[""protostar.config""]
protostar_version = ""0.4.2""

[""protostar.project""]
libs_path = ""lib""

[""protostar.contracts""]
main = [
    ""src/main.cairo"",
]
starknet = [
    ""src/starknet.cairo"",
]","",""
"935164379693977600","kasperski95 | Software Mansion#6120","03/10/2022 5:27 pm","Started a thread.","",""
"291865508180131841","svetylko.","04/10/2022 2:25 pm","I need to deploy a contract in tests that consists of three .cairo files. This is an excerpt from our `protostar.toml`:","",""
"291865508180131841","svetylko.","04/10/2022 2:25 pm","```amm = [
    ""./contracts/amm.cairo"",
    ""./contracts/liquidity_pool.cairo"",
    ""./contracts/proxy_utils.cairo""
]```","",""
"291865508180131841","svetylko.","04/10/2022 2:26 pm","Docs only mention deployment of a contract that consists of only one file: https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/deploy-contract","",""
"935164379693977600","kasperski95 | Software Mansion#6120","04/10/2022 6:25 pm","Currently, it's not possible. We may add this feature in the 0.6 or 0.7 release.
https://github.com/software-mansion/protostar/issues/925","",""
"291865508180131841","svetylko.","04/10/2022 7:14 pm","I see, Ok. Worked around it for now with this, just in case it helps someone:

```cat contracts/amm.cairo contracts/liquidity_pool.cairo contracts/proxy_utils.cairo > build/ammcontract.cairo 
sed -i '/%lang starknet/d' build/ammcontract.cairo
sed -i '1i %lang starknet' build/ammcontract.cairo
protostar test```","",""
"378567320253235200","0xno12","05/10/2022 9:18 pm","Hi all! Trying to use the `invoke` cheatcode in a migration. I think I have two, separate issues:
1. I'm trying to use an Argent wallet to sign messages but the signature fails. I guess it's because I need to create a custom signer as described here : https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli#2-using-a-custom-signer-class but do you have an example maybe for Argent wallets as they are used a lot?
2. I'm trying to call a method through a Proxy contract but it seems that protostar is checking the available methods on the contract I'm calling (as a proxy it has a __default__ method but no method with the name I'm calling since I want it to be delegated to a class hash). I get the following error:** [ERROR] Incorrect usage of `invoke` cheatcode - Tried to call unknown function**
Thanks a lot for your help","",""
"378567320253235200","0xno12","05/10/2022 9:51 pm","For 1/ I'm a bit confused, been looking at the code from Argent & OpenZeppelin wallets and they seem to be exactly the same which would mean the default Signer should work","",""
"456226577798135808","Deleted User","05/10/2022 9:54 pm","Hey there, I think I did something wrong with ``mock_call``.

I've got a test looking like this:
```rust
    %{
        stop_prank_callable = start_prank(123)
        print(""toto1:"", ids.STARKNETID_CONTRACT)
        stop_mock1 = mock_call(ids.STARKNETID_CONTRACT, ""owner_of"", [123])
        stop_mock2 = mock_call(ids.STARKNETID_CONTRACT, ""set_verifier_data"", [])
    %}
    write_confirmation(
        1,
        2 ** 128,
        32782392107492722,
        707979046952239197,
        (242178274510413660320776612725275530442992398463760124282759555533509261346, 3369339735225989044856582139053547932849348534803432731455132141425388526099),
    );
```

write_confirmation starts like this:
```rs
    let (caller) = get_caller_address();
    %{ print(""toto2:"", ids.STARKNETID_CONTRACT) %}
    let (owner) = StarknetID.owner_of(STARKNETID_CONTRACT, token_id);
```
but I have an error on the last line. It seems it doesn't mock the call:
```
/Users/thomas/workspace/starknetid/verifier_contract/src/main.cairo:31:19: (pc=0:247)
    let (owner) = StarknetID.owner_of(STARKNETID_CONTRACT, token_id);
                  ^************************************************^
autogen/starknet/contract_interface/StarknetID/owner_of/5be8cffaab1a5c2aae56f7eb1ad683490bdfc6a110212d5a0b4cd00d45263076.cairo:2:31: (pc=0:209)
let (retdata_size, retdata) = call_contract(
                              ^************^

Error in the called contract (0x798e884450c19e072d6620fefdbeb7387d0453d3fd51d95f5ace1f17633d88b):
Requested contract address 0x798e884450c19e072d6620fefdbeb7387d0453d3fd51d95f5ace1f17633d88b is not deployed.
```","",""
"378567320253235200","0xno12","05/10/2022 10:56 pm","Never mind, I was using a wrong chain_id, hence the wrong signature! I'm good for the signature part, still wondering if I can make the invoke cheatcode work with a proxy pattern?","",""
"887999107715715083","trejowsk","06/10/2022 12:12 am","Hey guys! We've just released 0.5.0 - check out the release notes here:
https://github.com/software-mansion/protostar/releases/tag/v0.5.0","","üî• (4)"
"935164379693977600","kasperski95 | Software Mansion#6120","06/10/2022 1:42 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","06/10/2022 1:55 pm","Started a thread.","",""
"137852968459436032","ismael_eth","07/10/2022 10:26 pm","Hi everyone! is there any documentation on how to handle signers in tests?","",""
"184767433821782018","xutyr_","08/10/2022 5:56 pm","Hey guys ! I made a lib with protostar and would like to publish it in order to be used by other project. Does someone has a tuto / doc to handle it ? I checked on protostar doc already but didn't find anything","",""
"689466865415880710","jajakobyly","10/10/2022 2:42 pm","Started a thread.","",""
"689466865415880710","jajakobyly","10/10/2022 2:42 pm","Started a thread.","",""
"420477687409278986","tarrence#4186","10/10/2022 7:04 pm","gm. is there any way to set transaction info? e.g. signature data?","",""
"856831087224291338","0xevolve#5922","10/10/2022 8:12 pm","Hey guys! Anyone know how to install a specific branch of a repo ? @kasperski95 | Software Mansion","",""
"689466865415880710","jajakobyly","10/10/2022 11:48 pm","Started a thread.","",""
"420477687409278986","tarrence#4186","11/10/2022 6:25 pm","Hi. Is it possible to user Cairo 0.10.1? Interested in compiling contracts for integration testing","",""
"689466865415880710","jajakobyly","11/10/2022 7:28 pm","Started a thread.","",""
"689466865415880710","jajakobyly","12/10/2022 5:55 pm","Hello folks!

We are currently thinking how to improve the system of migrations and we want to reevaluate the design of this feature. Therefore we'd like to gather community feedback about this. We would very much love general responses, but, as a help, here are the questions we are focused on:
1. Do you use Protostar migrations at all? Or do you use something else as a replacement?
2. How many migrations do you have?
3. Do you write any Cairo code inside migrations, or do they consist of functions with one big hint block entirely?
4. What do you think about the _rollbacks_ feature that we have currently? Do you find it useful at all?
5. Do you find the CLI of `protostar migrate` useful to you? Does it lack any essential functionality for your project or is inconvenient to use?
6. Do you run migrations in CI or only manually?
7. Would you accept us making a total rewrite of this feature, requiring you to rewrite/start new migrations from scratch?

Please reply in thread to this post üòÄ And many, many thanks for your responses in advance!","","üëç (1)"
"983660874055176193","pilou_sekai","12/10/2022 6:15 pm","Started a thread.","",""
"395901194951983106","bal7hazar","12/10/2022 9:50 pm","Hello, is there a way to mock a storage value where the key is an Uint256 ? (it seems `store` cheatcode supports only felts)
I tried to mock the function reading the storage value but since it is an internal function, it seems `mock_call` is not adapted.
Thanks for help","",""
"395901194951983106","bal7hazar","12/10/2022 10:06 pm","Started a thread.","",""
"689466865415880710","jajakobyly","13/10/2022 6:00 pm","Pinned a message.","",""
"814779427392192522","MaksymilianDemitraszek#7798","14/10/2022 7:00 pm","We finally merged contract profiler! It is going to be included in the next protostar release https://twitter.com/MaksDemitraszek/status/1580912623302111232?s=20&t=ddhvtr0iMlw9XVDeQdj7-g","","üöÄ (6),üî• (4)"
"824319185303633960","0xbu11","17/10/2022 8:39 am","Is there anyone can help me on how to import `OpenZeppelin` and use it with ``protostar``?","",""
"843754360163926056","JakubPtak#8889","17/10/2022 12:40 pm","You can check https://github.com/software-mansion-labs/GoL2. You can see it in https://github.com/software-mansion-labs/GoL2/blob/main/tests/test_gol_proxy.cairo used in tests.","",""
"541712773181210625","clemlaflemme","18/10/2022 7:58 pm","hey, why does protostar expect a list of liss in the `protostar.contracts` section? Ie. `main = [src/main.cairo]` and not `main = src/main.cairo`? what is this list used for?","",""
"541712773181210625","clemlaflemme","18/10/2022 8:36 pm","I'm wondering wha't the proper way to create account to deploy contracts. Previsouly, I've used the file created by starknet and located at `from starkware.starknet.wallets.account import DEFAULT_ACCOUNT_DIR` but protostar can't understand the inlined private key","",""
"541712773181210625","clemlaflemme","18/10/2022 8:48 pm","I'm trying to use the `ACCOUNT_PRIVATE_KEY` to `declare` a contract as `ACCOUNT_PRIVATE_KEY=... protostar declare ... --account-address ...`. but it returns as it was not used

> 17:17:40 [WARNING] Signing credentials not found. Signing transactions will be mandatory in future versions, please refer to the docs for more details:
> https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli#signing-a-declaration
> 17:17:40 [WARNING] Unsigned declare transactions are depreciated and will be removed in future versions.","",""
"541712773181210625","clemlaflemme","18/10/2022 8:50 pm","does protostar stores somewhere the declare tx? how can I retrieve the class hash afterwards?","",""
"887999107715715083","trejowsk","18/10/2022 8:50 pm","It seems like there is a mistake in the docs. Please use `PROTOSTAR_ACCOUNT_PRIVATE_KEY` instead. I will make sure to fix that","",""
"887999107715715083","trejowsk","18/10/2022 8:52 pm","This is mainly because contracts can be composed of many source files in `cairo-lang`. We wanted to preserve that functionality, so this config is a list right now. We might consider changing it in the future, when we remodel the `protostar.toml` file a bit. cc @kasperski95 | Software Mansion","",""
"541712773181210625","clemlaflemme","18/10/2022 8:52 pm","indeed, see [here](https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli#signing-a-declaration:~:text=we%20check%20for%20ACCOUNT_PRIVATE_KEY%20environment)","",""
"541712773181210625","clemlaflemme","18/10/2022 8:53 pm","I do have contracts that imports other files but it doesn't seem necessary to add all their deps in this list, only the final target contract","",""
"887999107715715083","trejowsk","18/10/2022 9:16 pm","You should see `Class hash: 0x...` in the output if declaration was successful","",""
"541712773181210625","clemlaflemme","18/10/2022 9:29 pm","yes, but it's not ""stored"", so if I want to deploy afterwards, either I need to copy/paste it somewhere, or I have to wrap my `protostar declare` into a script and capture output. (note also that output is in stderr and not stdin in my case, don't know if it's the same for everyone)","",""
"636965380656594974","Florian_#6785","19/10/2022 1:17 am","Is it possible to mock a namespace? My namespace ""A"" has a function init() which calls function ""pop"" from namespace ""B"". I would like to mock the ""pop"" function to do a real unit test.","",""
"636965380656594974","Florian_#6785","19/10/2022 1:19 am","I don't think it supported. But, do you think that a mock like this could be implemented ? Is it doable ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","19/10/2022 2:31 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","19/10/2022 2:42 pm","Started a thread.","",""
"267300878736818176","_dsi","19/10/2022 6:58 pm","Hey guys, first time using protostar here, I'm trying to see a variable through hint but it's displaying `<starkware.cairo.lang.vm.vm_consts.VmConstsReference object at 0x115275c40>`

```
@external
func test_fmul{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr: felt}() {
    alloc_locals;
    let x = Uint256(low=10, high=0);
    let y = Uint256(low=150, high=0);

    let (WAD) = FixedPointMathLib.WAD();
    let (res) = FixedPointMathLib.fmul(x, y, WAD);

    %{ print(""fmul res: "", ids.res) %}

    return ();
}```

How can I get the human readable returned value ?","",""
"983660874055176193","pilou_sekai","19/10/2022 7:31 pm","Started a thread.","",""
"267300878736818176","_dsi","19/10/2022 9:05 pm","I'm sorry, being a python noob as well, I'll ask a bunch of newbie questions ..

I'm trying to access a declared struct Uint256s (x or y)

First way get me `AssertionError: Expected expression of type 'starkware.cairo.common.uint256.Uint256' to have an address.`
```
@external
func test_fmul{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr: felt}() {
    alloc_locals;
    let x = Uint256(low=10000000000000000000, high=0);
    let y = Uint256(low=150000000000000000000, high=0);

    %{ 
        print(f""x: {ids.x}"")
        print(f""y: {ids.y}"")
    %}

    return ();
}```
So I'm thinking, ok if x doesn't have a memory address, maybe i should asign it inside a hint.
But this path lead me t o `visit_ExprCaststarkware.cairo.lang.compiler.type_casts.CairoTypeError: Cannot cast 'felt' to 'starkware.cairo.common.uint256.Uint256'.`

```
@external
func test_fmul{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr: felt}() {
    alloc_locals;

    let x: Uint256 = alloc();
    let y: Uint256 = alloc();
    %{
        ids.x = { ""low"": 10000000000000000000, ""high"": 0 }
        ids.y = { ""low"": 150000000000000000000, ""high"": 0 }
    %}

    return ();
}```","",""
"814779427392192522","MaksymilianDemitraszek#7798","19/10/2022 9:26 pm","You can use `reflect` cheatcode https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/reflect

Keep in mind that it is not going to work for `let`","",""
"267300878736818176","_dsi","19/10/2022 9:32 pm","Oh okay yeah it worked, thank you","",""
"267300878736818176","_dsi","19/10/2022 9:32 pm","Out of curiosity, why does the ""let"" keywork doesn't work ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","20/10/2022 7:48 pm","Protostar v0.6 ships with many updates that we hope you‚Äôll like, some of key highlights include:
- test case profiling ‚Äî diagnose which functions are the most expensive in terms of used resources
- performance improvements ~25%
- commenting below the Protostar documentation ‚Äî documentation, questions and answers in one place
- `send_message_to_l2` cheatcode ‚Äî simulate L1 message to L2
- invoke command ‚Äî send invoke transactions from the CLI

You can find the full changelog in the link below
https://github.com/software-mansion/protostar/releases/tag/v0.6.0","","StarkNet (1),üöÄ (1)"
"705215116114788382","espejelomar#0100","21/10/2022 4:23 am","Started a thread.","",""
"915616986824867873","soos3d","21/10/2022 8:02 pm","Hi everyone, I'm a Dev advocate at Chainstack and I'm digging into StarkNet and Cairo and I found about ProtoStar! I'm working to create some content/tutorials on how to use protostar and I'm wondering if there is a way to configure it with a custom endpoint, Chainstack provides StarkNet nodes and I would like to try developing something using Protostar and deploying to the testnet using one of our nodes. Thank you for your help!","",""
"1017984135563849768","0xChicken#7060","22/10/2022 1:50 am","Hey all, I'm using the latest 0.6.0 `send_message_to_l2` cheatcode, but running into this error `list assignment index out of range`. My tests run fine if I don't use the cheatcode

```Traceback (most recent call last):
  File ""protostar/testing/test_runner.py"", line 141, in run_test_suite
  File ""protostar/testing/test_runner.py"", line 213, in _invoke_test_cases
  File ""protostar/testing/test_runner.py"", line 232, in _invoke_test_case
  File ""protostar/testing/test_case_runners/test_case_runner.py"", line 40, in run
  File ""protostar/testing/test_case_runners/standard_test_case_runner.py"", line 17, in _run_test_case
  File ""protostar/testing/environments/test_execution_environment.py"", line 52, in execute
  File ""protostar/testing/environments/test_execution_environment.py"", line 62, in execute_test_case
  File ""protostar/testing/environments/execution_environment.py"", line 30, in perform_execute
  File ""starkware/starknet/testing/contract.py"", line 293, in execute
  File ""starkware/starknet/testing/contract.py"", line 303, in _execute_on_given_state
  File ""protostar/starknet/cheatable_state.py"", line 97, in execute_entry_point_raw
  File ""starkware/starknet/testing/state.py"", line 241, in add_messages_and_events
  File ""starkware/starknet/business_logic/execution/objects.py"", line 337, in get_sorted_events
IndexError: list assignment index out of range

Unexpected Protostar error. Report it here:
https://github.com/software-mansion/protostar/issues

list assignment index out of range```","",""
"248154498118189066","codyx42","22/10/2022 2:04 pm","Got the same here. Do you mind sharing the cheatcode call code?","",""
"1017984135563849768","0xChicken#7060","23/10/2022 12:17 am","yup, this is my code, where `shares_received` is converted to a uint256 for the payload
```
    // Distributing shares received from L1 for deposit id 0
    let shares_received = 80 * 10**18;
    %{
        # ID: 0, uint256(shares_received, 0)
        send_message_to_l2(fn_name=""handle_distribute_share"", from_address=context.l1_contract, to_address=context.contract_address, payload=[0, ids.shares_received, 0])
    %}
```

`handle_distribute_share` interface
```
@l1_handler
func handle_distribute_share(from_address : felt, id : felt, shares : Uint256)
```","",""
"248154498118189066","codyx42","23/10/2022 3:12 pm","LGTM. If you comment out the calls happening after `send_message_to_l2` in your test, does the test pass?
On my side I have the exact same error when invoking any ERC20 transfer functions after this cheatcode has been invoked (but works fine before).","",""
"267300878736818176","_dsi","23/10/2022 8:55 pm","Hey guys, I'm trying to make sense of `(time=2.67s, steps=10295, memory_holes=578)` on my protostar test recap. I think memory holes are better when avoided because they increase the cost of generating the proof. Can someone enlighten me on this data ? Is 578 memory hole a lot ? How does it affect the efficiency of my code exactly ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/10/2022 2:09 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/10/2022 2:10 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/10/2022 2:20 pm","Started a thread.","",""
"983660874055176193","pilou_sekai","24/10/2022 7:00 pm","Hi, testing the new `--profiling` feature with this command : 
```
$ protostar test --profiling tests/contracts/booster_tokens/test_BoosterTokens.cairo::test_burn
```
The `profile.pb.gz` file doesn't seem to be produced. I have the following error when running the next command :
 ```
$ go tool pprof -http="":8000"" profile.pb.gz
profile.pb.gz: open profile.pb.gz: no such file or directory
```
Is there smthg I am missing ?","",""
"267300878736818176","_dsi","25/10/2022 4:34 am","I recently tried protostar, it's an amazing testing tools guys, I love it","","‚ù§Ô∏è (1)"
"244940825572802560","gabinmarignier","25/10/2022 3:27 pm","Hello frens, been trying protostar, seems to work great!","",""
"244940825572802560","gabinmarignier","25/10/2022 3:28 pm","is there a way to exclude a directory when running `protostar format`. Because right now it's trying to format my openzeppelin deps...","",""
"935164379693977600","kasperski95 | Software Mansion#6120","25/10/2022 3:36 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","25/10/2022 3:43 pm","Started a thread.","",""
"244940825572802560","gabinmarignier","25/10/2022 5:49 pm","Another question: is it possible to pass variables to migrations? For example i'd like to pass a different address to migrations on devnet and mainnet whithout having to duplicate the migration file. What i'd like is to set the env vars for a specific profile and then being able to access them from the migration scripts.","","‚ù§Ô∏è (1)"
"267300878736818176","_dsi","25/10/2022 6:04 pm","I'm trying to reflect an array of Uint256, but it's giving me `Incorrect usage of reflect cheatcode. Unknown identifier ""allIds"".`
I don't get what I'm doing wrong
```
@external
func test_getAllHeldIds{syscall_ptr: felt*, pedersen_ptr: HashBuiltin*, range_check_ptr: felt}() {
    alloc_locals;

    let (allIds_len, _allIds) = NFTPairMissingEnumerable.getAllHeldIds();
    local allIds: Uint256* = _allIds;

    %{
        print(f""allIds_len: {ids.allIds_len}"")
        
        _ids = reflect.allIds.get()
        print(f""ids: {_ids}"")
        for i in range(0, ids.allIds_len):
            print(f""idHeld: {_ids[i].low + _ids[i].high}"")
    %}
    return ();
}
```","",""
"244940825572802560","gabinmarignier","25/10/2022 6:12 pm","Another suggestion: it'd be amazing to add the git commit commit hash in the migration output name. This way it'd be possible to easily checkout to the right code version in case we want to know a specific implementation details","https://cdn.discordapp.com/attachments/964116575387021413/1034446765774086195/unknown.png",""
"244940825572802560","gabinmarignier","25/10/2022 6:12 pm","(i'm using the `proxy` pattern, that's why it's useful to keep track of class hashes, but I understand it is hardly generalizable)","",""
"689466865415880710","jajakobyly","26/10/2022 11:52 am","Hey guys! We haven't very openly communicated that, but better late than never. As you may remember, some time ago I have asked a public question about Protostar migrations. Based on the feedback we decided to:

1. We will soon deprecate Protostar migrations and do expect them to be removed entirely in future releases of Protostar.
2. We (I to be specific üòâ) are currently working on a new solution for deploying smart contracts from Protostar directly, which we will to call Deployment Scripts.
3. Deployment scripts will slightly look like Nile scripts, these will be almost regular Python files, that will be executed by Protostar, with Protostar-specific Python environment (this *won't* be a virtual environment but something much more specific and lightweight, you won't have access to full Python stdlib except some very most common modules for example; we want Protostar to still be virtualenv-indepentent).
4. Inside deployment scripts you will have an access to an API that will allow you to perform some common migrating actions: building, declaring, deployments, invokes and calls will be there. The exact APIs are currently iterated by us and you can sneak peak these PRs if you are interested: https://github.com/software-mansion/protostar/pull/1034 contains initial discussions, but it got dead because of human mistake & https://github.com/software-mansion/protostar/pull/1059 is continuation. Feel free to publicly comment if you have any opinions!
5. And eventually you will get access to normal Starknet.py objects, so anything possible with SDKs will be possible inside deployment scripts (actually scripting API will be just a sugar on top of Starknet.py).","",""
"689466865415880710","jajakobyly","26/10/2022 11:52 am","6. Rollbacks, autogenerated migration-like scripts will be gone -- they don't make as much sense as we imagined they will have!

I you have any questions, feel free to ask. I'll be happy to answer to all of you! üôÇ","","üëå (2)"
"689466865415880710","jajakobyly","26/10/2022 11:58 am","Started a thread.","",""
"689466865415880710","jajakobyly","26/10/2022 12:02 pm","Started a thread.","",""
"622383155613138944","m4d_m4n","26/10/2022 4:46 pm","Hi! I struggling with a warp cheat in protostar(v0.6). When I warp inside test function, it sets the block timestamp correctly, but when i call some other function(inside the test) that also checks the timestamp, it returns the timestamp of 0, meaning that warp only works for the test, but not for other function called inside the test. Did anyone struggle with the same problem? Is there solution for that? Thanks!","",""
"935164379693977600","kasperski95 | Software Mansion#6120","26/10/2022 9:31 pm","Started a thread.","",""
"1001038560650076190","venkat.hashstack","28/10/2022 1:11 pm","Anyway to check code coverage with protostar","",""
"1001038560650076190","venkat.hashstack","28/10/2022 1:11 pm","?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","28/10/2022 2:06 pm","Started a thread.","",""
"905854378873856022","0xnoncents","31/10/2022 10:21 pm","Hi @kasperski95 | Software Mansion . How can I increase the max steps of a protostar test?","",""
"689466865415880710","jajakobyly","02/11/2022 2:06 pm","Started a thread.","",""
"979880679032619139","teddynotbear","02/11/2022 4:30 pm","Hello ! Does anyone know how to test a function that includes the address of an already deployed contract? Because they told me that the requested contract address is not deployed.

const EXTERNAL_CONTRACT = 0x7382G2387

func test(params: felt) -> () {
     IExternalContract.foo(EXTERNAL_CONTRACT , params)
}","",""
"689466865415880710","jajakobyly","02/11/2022 4:43 pm","Started a thread.","",""
"622383155613138944","m4d_m4n","02/11/2022 7:43 pm","Have anyone of you encountered an error when mocking where some addresses just can't be mocked? Ie i want to use new oracle address, but when i try to mock it, the protostar test  just says that the requested contract is not deployed. But for anything other, even some random nonsense, it works lol","",""
"979880679032619139","teddynotbear","02/11/2022 7:59 pm","You're using Empiric Network too bro ?","",""
"622383155613138944","m4d_m4n","02/11/2022 8:02 pm","yes","",""
"622383155613138944","m4d_m4n","02/11/2022 8:02 pm","üòÑ","",""
"979880679032619139","teddynotbear","02/11/2022 8:03 pm","What are you building ? üëÄ","",""
"622383155613138944","m4d_m4n","02/11/2022 8:14 pm","Option Amm, also, the bug can be solved by putting `tempvar mock_address = ADDRESS` before the hint","",""
"979880679032619139","teddynotbear","02/11/2022 8:17 pm","Do you call the Oracle function from the Empiric contract itself or from a function in your own SC that calls the Oracle function?","",""
"622383155613138944","m4d_m4n","02/11/2022 8:20 pm","i just use the mock_call function like that: ```
    tempvar tmp_address = EMPIRIC_ORACLE_ADDRESS;
    %{
        # Not all returned values are used atm, hence the 0s
        stop_mock = mock_call(
            ids.tmp_address, ""get_spot_median"", [1480230000000000000000, 18, 0, 0]
        )
    %}```","",""
"979880679032619139","teddynotbear","02/11/2022 8:21 pm","Okay you're calling the function from EMPIRIC_ORACLE itself","",""
"622383155613138944","m4d_m4n","02/11/2022 8:26 pm","well, im just mocking the return value of the function","",""
"979880679032619139","teddynotbear","02/11/2022 8:28 pm","I'm just saying that because I'm trying to test this feature but I don't think it's possible with Protostar because the EMPIRIC contract must already be deployed. Even with a mock it doesn't change anything","https://cdn.discordapp.com/attachments/964116575387021413/1037380270963298464/unknown.png",""
"622383155613138944","m4d_m4n","02/11/2022 8:32 pm","and you would like to have random number each time you are testing?","",""
"622383155613138944","m4d_m4n","02/11/2022 8:33 pm","because I dont need to have anything deployed, I just mock single function return value in test","",""
"979880679032619139","teddynotbear","02/11/2022 8:33 pm","Automatically there will be a new one because the seed is always different","",""
"622383155613138944","m4d_m4n","02/11/2022 8:34 pm","well yeah, but if you are mocking, you specify the value that will be returned","",""
"622383155613138944","m4d_m4n","02/11/2022 8:34 pm","https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/mock-call","",""
"979880679032619139","teddynotbear","02/11/2022 8:35 pm","i will try again thanks mate","",""
"983660874055176193","pilou_sekai","03/11/2022 3:05 pm","Hi, just wanted to make sure I understand the `profiling` feature in the right way. In the above example, all the memory holes are coming from the common cairo lib from Starkware and there's not much that can be do about it, right ?","https://cdn.discordapp.com/attachments/964116575387021413/1037661315101102180/Screenshot_2022-11-03_at_10.33.44.png",""
"456226577798135808","Deleted User","03/11/2022 9:04 pm","Hey! I am trying upgradable contracts for the first time and I have a few question.","",""
"456226577798135808","Deleted User","03/11/2022 9:04 pm","The first thing is I saw this in the docs:","https://cdn.discordapp.com/attachments/964116575387021413/1037751687751934042/unknown.png",""
"456226577798135808","Deleted User","03/11/2022 9:05 pm","but there doesn't seem to be a --output-dir parameter in the protostar migrate command","",""
"456226577798135808","Deleted User","03/11/2022 9:07 pm","Also, is there a way to pass a parameter to the migrate command that you can reuse in the migration script, so that you don't need to hardcode admin address?","",""
"689466865415880710","jajakobyly","03/11/2022 9:51 pm","Started a thread.","",""
"689466865415880710","jajakobyly","03/11/2022 9:51 pm","Started a thread.","",""
"456226577798135808","Deleted User","03/11/2022 10:33 pm","Hmm it looks like the deployment didn't get accepted:","",""
"456226577798135808","Deleted User","03/11/2022 10:33 pm","https://goerli.voyager.online/tx/0x581611285F5B5E7AEA8F80BE97E7557E48FDA84B8E0DD69F4AFE47331ADA68","",""
"456226577798135808","Deleted User","03/11/2022 10:33 pm","```rs
%lang starknet

@external
func up() {
    %{
        from starkware.starknet.compiler.compile import get_selector_from_name
        admin = 0x048F24D0D0618fa31813DB91a45d8be6c50749e5E19ec699092CE29aBe809294
        logic_contract_address = deploy_contract(""./build/logic.json"").contract_address
        storage_contract_address = deploy_contract(""./build/proxy.json"", [logic_contract_address,
            get_selector_from_name(""initializer""), 1, admin]).contract_address
    %}
    return ();
}

@external
func down() {
    %{ assert False, ""Not implemented"" %}
    return ();
}
```","",""
"887999107715715083","trejowsk","03/11/2022 11:39 pm","Started a thread.","",""
"456226577798135808","Deleted User","04/11/2022 4:19 pm","Hmm it seems some tests I wrote with the previous protostar version broke in the new one:
```
(env) air:naming_contract thomas$ protostar test tests/test_situations.cairo 
11:44:30 [INFO] Collected 1 suite, and 14 test cases (0.192 s)                                                                             
[BROKEN] tests/test_situations.cairo                                                                                                       
Incorrect usage of `deploy` cheatcode
There was an error while parsing constructor arguments:
Input l1_contract expected 1 values, 0 values are available.
                                                                                                                                           
11:44:51 [INFO] Test suites: 1 broken, 1 total                                                                                             
11:44:51 [INFO] Tests:       14 skipped, 14 total
11:44:51 [INFO] Seed:        1661498038
11:44:51 [INFO] Execution time: 21.69 s
```

I don't understand the error. Here is the test file: https://github.com/starknet-id/naming_contract/blob/ff5a80d9ec6612efed93f9dd7b6086a33f321b6c/tests/test_situations.cairo","",""
"456226577798135808","Deleted User","05/11/2022 8:27 pm","Hey there, I am trying to deploy on testnet2 and I am not sure what to put in ``--chain-id``","",""
"429096494713274369","0xcoburn","05/11/2022 8:30 pm","does SN_GOERLI as an integer work?

1536727068981429685321 

If not maybe SN_GOERLI2 as an integer","",""
"456226577798135808","Deleted User","05/11/2022 8:41 pm","it looks like it worked, I have no idea why, it should have been SN_GOERLI2","","ü§î (1)"
"456226577798135808","Deleted User","05/11/2022 9:28 pm","Hmm I'm not sure what I did wrong when trying with another contract","",""
"456226577798135808","Deleted User","05/11/2022 9:28 pm","Here is my command:","",""
"456226577798135808","Deleted User","05/11/2022 9:28 pm","```
protostar migrate migrations/migration_01_init.cairo --network testnet --account-address 0x048F24D0D0618fa31813DB91a45d8be6c50749e5E19ec699092CE29aBe809294 --chain-id 1536727068981429685321 --gateway-url https://alpha4-2.starknet.io/
```","",""
"456226577798135808","Deleted User","05/11/2022 9:29 pm","it gives me this warning:","",""
"456226577798135808","Deleted User","05/11/2022 9:29 pm","```
16:57:21 [WARNING] Signing credentials not found. Signing transactions will be mandatory in future versions, please refer to the docs for more details:                 
https://docs.swmansion.com/protostar/docs/tutorials/deploying/cli#signing-a-declaration
```","",""
"456226577798135808","Deleted User","05/11/2022 9:30 pm","and the contract doesn't seem to be deployed","",""
"456226577798135808","Deleted User","05/11/2022 9:32 pm","okay got it, it sent it on goerli1 because I didn't remove --network testnet","",""
"456226577798135808","Deleted User","05/11/2022 9:58 pm","Well now I have a really strange error. I have this error with only this contract, and it doesn't happen if I try with another network (testnet) but same contract:","","‚òùÔ∏è (1)"
"456226577798135808","Deleted User","05/11/2022 10:03 pm","https://gist.github.com/Th0rgal/d946635f9654f5c6e0de8710881754ed","",""
"456226577798135808","Deleted User","05/11/2022 10:06 pm","``protostar migrate migrations/migration_01_init.cairo --gateway-url https://alpha4-2.starknet.io/ --chain-id 1536727068981429685321`` works on all other contracts but breaks here","",""
"456226577798135808","Deleted User","05/11/2022 10:07 pm","``protostar migrate migrations/migration_01_init.cairo --network testnet`` works for this contract","",""
"267300878736818176","_dsi","05/11/2022 10:42 pm","Would it be possible to add hints inside contracts during testing ?","",""
"456226577798135808","Deleted User","05/11/2022 10:51 pm","yes, you just need to add --disable-hint-validation when running ``protostar test``","",""
"267300878736818176","_dsi","05/11/2022 11:10 pm","Ah thank you ser","",""
"814779427392192522","MaksymilianDemitraszek#7798","08/11/2022 3:40 pm","Started a thread.","",""
"456226577798135808","Deleted User","10/11/2022 2:37 am","Hey, I just updated to 0.7.0 and I have a few questions","",""
"456226577798135808","Deleted User","10/11/2022 2:37 am","","https://cdn.discordapp.com/attachments/964116575387021413/1040009784436457563/image.png",""
"456226577798135808","Deleted User","10/11/2022 2:37 am","I get these warnings when testing, I saw it is related to fuzzing, but I am not using it, how can I disable them?","",""
"456226577798135808","Deleted User","10/11/2022 2:38 am","My tests do not take parameters so I should not use example or given hints","",""
"456226577798135808","Deleted User","10/11/2022 2:41 am","And I saw that protostar migrate was deprecated, what should we use and how should we upgrade?","",""
"689466865415880710","jajakobyly","10/11/2022 2:05 pm","Started a thread.","",""
"689466865415880710","jajakobyly","10/11/2022 2:08 pm","Started a thread.","",""
"326484027882209280","bleaknight","11/11/2022 5:24 am","hello sers, just a headsup `protostar migrate-configuration-file` doesn't migrate `cairo_path` to `cairo-path`","",""
"456226577798135808","Deleted User","11/11/2022 3:04 pm","oooh thanks @bleaknight , that's why it couldn't find my libs","","üëå (2)"
"456226577798135808","Deleted User","13/11/2022 2:47 pm","Hey it seems protostar doesn't want to compile because of duplicated storage variable, but it is in cairo_contracts from openzeppelin and nothing seems duplicated (it gives the same line):","","ü§î (1)"
"456226577798135808","Deleted User","13/11/2022 2:47 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1041280605490528256/image.png",""
"456226577798135808","Deleted User","13/11/2022 8:50 pm","Hey it's me again, do you know if it is possible to pass a token to deploy a contract on mainnet from protostar?","",""
"267300878736818176","_dsi","14/11/2022 3:37 am","Need to report that, this fuzzing test took me 80min ... I've no idea why though, I can share the code if that's useful","https://cdn.discordapp.com/attachments/964116575387021413/1041474452946440282/image.png",""
"267300878736818176","_dsi","14/11/2022 7:12 am","Wait, probably because I have a `__setup__` function I guess ..","",""
"326484027882209280","bleaknight","14/11/2022 11:26 am","https://docs.swmansion.com/protostar/docs/tutorials/interacting-with-starknet/deploy-account

hmm according to this tut, I can only deploy pre-funded accounts, is this currently the only way to deploy accounts on 0.10.1?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/11/2022 2:56 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/11/2022 3:18 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/11/2022 3:23 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","14/11/2022 3:33 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/11/2022 6:29 pm","https://twitter.com/MaksDemitraszek/status/1593225074416680960","","üî• (4),happy (3)"
"286210715604221963","alexhalo3115","17/11/2022 10:44 pm","Hello, i am trying to startup a project with protostar but it keeps giving me this error.

i have already tried to update git but the max it allows me to go is 2.25

has anyone encountered this before?","https://cdn.discordapp.com/attachments/964116575387021413/1042850255999340616/image.png",""
"184767433821782018","xutyr_","21/11/2022 2:01 pm","Hello, I'm trying to import a python lib in my test file into a hint but look like protostar doesn't find my lib which is installed in the hint.
I tried with this solution : https://docs.swmansion.com/protostar/docs/tutorials/testing#importing-python-modules-in-hints
same issue.
here my `pymodule.py` file 
```from py_vollib.black_scholes import black_scholes

def blackScholes(flag, S, K, t, r, sigma):
    return black_scholes(flag, S, K, t, r, sigma)```
and here the error I got : 
```    from py_vollib.black_scholes import black_scholes
ModuleNotFoundError: No module named 'py_vollib'```
if I cmd+click on the py_vollib my idea open the correct lib file","",""
"689466865415880710","jajakobyly","21/11/2022 2:18 pm","Started a thread.","",""
"240220132087955456","flexouille_","21/11/2022 3:56 pm","Hey, I'm not sure with what happens there. I'm trying to use `protostar --profile testnet2 declare ./build/`. My profile ""testnet2"" is configured that way:
```
[""profile.testnet2.project""]
gateway-url=""http://alpha4-2.starknet.io/gateway""
chain-id=1536727068981429685321
``` 
and yet, it returns me the following error  `[ERROR] Argument `gateway-url` or `network` is required `.
Do you know why ?","",""
"689466865415880710","jajakobyly","21/11/2022 4:07 pm","Started a thread.","",""
"240220132087955456","flexouille_","21/11/2022 7:32 pm","Hey again, I just can't get `protostar declare` work properly. 
I just want to declare a basic ERC20 before deploying it.
`protostar --profile testnet declare ./build/token.json `

I receive the following error: 
```
starknet_py.net.client_errors.ClientError: Client failed with code 404: {""code"": ""404"", ""message"": ""404: Not Found"", ""problems"": ""Not Found""}
[88394] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```

In my protostar.toml, I have `gateway-url`, `chainId`, `account-address`,`private-key-path` and `max-fee` configured.

I don't know what to do","",""
"240220132087955456","flexouille_","21/11/2022 7:33 pm","My config is:
```
[profile.testnet.project]
gateway-url=""https://alpha4-2.starknet.io/""
chain-id=1536727068981429685321
private-key-path=""./.env""
account-address=""0x1...........""
max-fee=""auto""
```","",""
"240220132087955456","flexouille_","21/11/2022 7:34 pm","When I prompt the endpoint url in my browser, I have the same error 404 not found: `response 404 (backend NotFound), service rules for the path non-existent `","",""
"240220132087955456","flexouille_","21/11/2022 7:35 pm","But I believe it's the correct gateway url","",""
"240220132087955456","flexouille_","21/11/2022 8:11 pm","I have the same issue when I try to call this `protostar --profile testnet call --contract-address 0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7 --function ""totalSupply""`. (it is the ETH contract on Goerli 2)","",""
"240220132087955456","flexouille_","21/11/2022 8:13 pm","Can the problem come from my config ? The chainId ? It is ""SN_GOERLI"" written in felt","",""
"395901194951983106","bal7hazar","22/11/2022 1:40 am","Started a thread.","",""
"395901194951983106","bal7hazar","22/11/2022 1:43 am","Hey, is it possible to deploy a proxy contract with a selector input using the function name (string typed) instead of keccak hash?","",""
"662387807901188096","fricoben","23/11/2022 11:48 pm","Hey","",""
"662387807901188096","fricoben","23/11/2022 11:49 pm","When Lucas from starkware clone my repo he can not install the dependencies.","",""
"662387807901188096","fricoben","23/11/2022 11:50 pm","I tried to clone the repo myself and I also can't do it","",""
"662387807901188096","fricoben","23/11/2022 11:50 pm","Here is my git modules","",""
"662387807901188096","fricoben","23/11/2022 11:51 pm","``` [submodule ""cairo_contracts""]
    path = lib/cairo_contracts
    url = https://github.com/OpenZeppelin/cairo-contracts/```","",""
"662387807901188096","fricoben","23/11/2022 11:51 pm","Here is my ``protostar.toml``","",""
"662387807901188096","fricoben","23/11/2022 11:51 pm","```[project]
protostar-version = ""0.7.0""
lib-path = ""lib""
cairo-path = [""./lib/cairo_contracts/src""]

[""contracts""]
main = [""src/main.cairo""]
proxy = [""lib/cairo_contracts/src/openzeppelin/upgrades/presets/Proxy.cairo""]


[""profile.testnet2.protostar.deploy""]
gateway-url=""http://127.0.0.1:5050/""```","",""
"662387807901188096","fricoben","23/11/2022 11:51 pm","Idk what it is","",""
"326484027882209280","bleaknight","24/11/2022 8:06 am","hey guys, just wondering if having a 7minute test time for a test case is normal?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/11/2022 4:30 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/11/2022 4:37 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","24/11/2022 5:19 pm","https://twitter.com/MaksDemitraszek/status/1595743981371289607
There is a new version of protostar","",""
"270980684053610507","feltroidprime","24/11/2022 6:42 pm","hello
i have installed a python package in my venv, and I'd like protostar to find it when using hints when I'm unit testing

i'm getting ""module not found error "" when importing the python module in the hint , is it possible for protostar to find it ?
Maybe I should inside the pip package inside protostar's venv , but how can I find it (the protostar venv) ?

Seems that `~/.protostar/dist/protostar` is the directory where python packages that protostar has access to are installed, do you know how can I `pip install XXX` inside it ? 

EDIT : I just copied XXX and XXX-dist-info from my `venv/lib/python3.9/site-packages` to `~/.protostar/dist/protostar` and it's okay
Thank you","",""
"395901194951983106","bal7hazar","24/11/2022 9:13 pm","Started a thread.","",""
"689466865415880710","jajakobyly","25/11/2022 5:41 pm","https://twitter.com/jajakobyly/status/1596114223800664064","",""
"887999107715715083","trejowsk","25/11/2022 7:03 pm","This section is related, on how to include custom modules in hints (related to pythonpath):
https://docs.swmansion.com/protostar/docs/tutorials/interacting-with-starknet/signing#2-using-a-custom-signer-class","",""
"755099473260183564","gun.eth","28/11/2022 9:16 am","how to fix this ?","https://cdn.discordapp.com/attachments/964116575387021413/1046633171191611392/image.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","28/11/2022 2:58 pm","Started a thread.","",""
"688668936459649080","piedev","29/11/2022 8:58 pm","Hi, I just upgrade my protostar version to 0.8.1, I put this in my protostar.toml:
[project]
protostar-version = ""0.8.1""
lib-path = ""lib""

But when I use libs, I get the same error than gun, and in the list of searched path, root/lib/... is not there","",""
"814779427392192522","MaksymilianDemitraszek#7798","30/11/2022 2:27 pm","Started a thread.","",""
"415232973768622086","mandarkest","30/11/2022 4:37 pm","Hey team. Is there a way to increase max steps limit while testing? I can see it in the docs ‚Äîmax-steps INT, but it doesn‚Äôt work with latest version.","",""
"415232973768622086","mandarkest","30/11/2022 5:25 pm","Wasn't on the correct version. It is working.","",""
"419927625604268035","bestyzhniza","03/12/2022 2:42 am","# protostar build
Building projects' contracts OK                                                                                                                                                                               
23:08:09 [INFO] Execution time: 1.82 s
Fatal Python error: _enter_buffered_busy: could not acquire lock for <_io.BufferedWriter name='<stdout>'> at interpreter shutdown, possibly due to daemon threads
Python runtime state: finalizing (tstate=0x4a2f00)

Current thread 0x00007ff3dd0a6180 (most recent call first):
<no Python frame>
Aborted (core dumped)

any advice how to fix it, guys?","",""
"416298073069715456","t.aksoy","03/12/2022 2:12 pm","hello, I am getting this error when I added a hint to contract. 
` Hint is not whitelisted.
This may indicate that this library function cannot be used in StarkNet contracts.
    %{ print(""before mint"") %}`
This command works and I can  compile. 
`protostar build --disable-hint-validation`
But when I try to test I get error.  Is there a way to disable hint validation in the tests too","",""
"935164379693977600","kasperski95 | Software Mansion#6120","05/12/2022 2:50 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","05/12/2022 2:54 pm","Started a thread.","",""
"559279635742064641","arystan8172","06/12/2022 1:54 pm","deploy smart contract in starknet does not work, Writes ""deploy transaction is no longer supported"" what kind of problem can anyone tell me?","",""
"907981161534468146","wind.rider","06/12/2022 2:11 pm","Ser, it maybe related to starknet v0.10.3 version upgrade, pls check the new deploy flow first:
https://www.notion.so/starkware/Deploy-a-contract-and-an-account-on-StarkNet-ed2fd13301d2414e8223bb72bb90e386 thank you","",""
"559279635742064641","arystan8172","06/12/2022 4:58 pm","Tell me pls when i get manual installation on starknet protostar last version","",""
"907981161534468146","wind.rider","06/12/2022 5:03 pm","pls check protostar's github,ser: https://github.com/software-mansion/protostar/releases/tag/v0.8.1 thank you","",""
"395901194951983106","bal7hazar","07/12/2022 1:23 am","Hey, I'm looking to deploy a proxy contract in my tests, however my implementation class is taking a `felt*` in its initializer.
So it leads to have a `felt*` (the initializer input) inside a `felt*` (proxy calldata input).
In protostar I cannot have a list inside a list to describe my inputs, I got the following msg:
`calldata[2] should be int`
I also tried to flatten my list, but the expected number of inputs do not match anymore.
Is it allowed to initialize an implementation through a proxy initialization where both have a `felt*` argument?
Any tips is very welcome, thank you.","",""
"378567320253235200","0xno12","07/12/2022 2:49 pm","Hi protostar team!
I'm trying to deploy a compiled contract (.json) in one of my tests. I want to develop a contract that interacts with an existing contract and I don't have the source code, only the ABI. Would that be possible? It seems the `deploy_contract` cheatcode takes a cairo file in tests (and a compiled file in migrations). Thanks!","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/12/2022 3:22 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","07/12/2022 3:35 pm","Started a thread.","",""
"395901194951983106","bal7hazar","07/12/2022 7:31 pm","Hey, I have a contract in which I have a function to test which calls an external contract twice (with different arguments).
I expect to have a different value for each call, `mock_call` seems to ""wrap"" the whole tested function and so both of my calls return what I defined in the mock, is there a way to define something like:
- at first call, return this
- at second call, return that
- etc.
Thanks for help","",""
"887999107715715083","trejowsk","07/12/2022 9:48 pm","Started a thread.","",""
"392359034574995457","koi_sats","10/12/2022 8:03 am","Hello, is it possible to make multiple call to different contracts functions in one protostar invoke CLI ?","",""
"456226577798135808","Deleted User","10/12/2022 4:42 pm","Hey there, some tests written with a previous version of protostar seem to be broken now, what's the best way to update them?","",""
"456226577798135808","Deleted User","10/12/2022 4:42 pm","```
[BROKEN] tests/test_main.cairo test_write_address_to_domain (time=0.00s)                                                                                                                                                                                                                       
BreakingReportedException('Test parameters are required but not found, Please use one of the following cheatcodes in the case setup function in order to explicitly provide test data: \n- example\n- given')
```","",""
"895986924504891422","mitocrystall","10/12/2022 5:26 pm","@Wind Rider | StarkTitan When checking the version, Protostar throws an error. The GIT version is the latest, why does it require 2.28 from me?","https://cdn.discordapp.com/attachments/964116575387021413/1051105163395465296/2022-12-10_14.48.28.png",""
"907981161534468146","wind.rider","10/12/2022 5:32 pm","sorry,ser,pls check this reply first:https://discord.com/channels/793094838509764618/1042850256351666266/1042851642422341662 maybe it'll help you,thank youüòÄ","",""
"911354669266255992","titova","10/12/2022 8:06 pm","Hi all.  Can someone tell me, when installing protostar build in the directory, the command not found stubbornly answers ...?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/12/2022 2:13 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/12/2022 2:21 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/12/2022 2:28 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","12/12/2022 2:34 pm","Started a thread.","",""
"279386246151798784","when lumo#5684","13/12/2022 4:35 am","running `protostar invoke --contract-address 0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf --function ""deployContract"" --network testnet --account-address 0x00de9203d18ee4358edb23378ff6094f5a93a9cfd0a75c503c6ed38092348409 --max-fee auto  --inputs 0x03510f4080de603ca5fa9538976136b742041e1aac89ab2840d2249ba83ec4aa 12893813 0 0`                                                                           and getting: `Input validation failed with the following error:                                                                                          
'int' object is not iterable`","",""
"279386246151798784","when lumo#5684","13/12/2022 4:36 am","what I'm doing wrong?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/12/2022 4:42 pm","Started a thread.","",""
"492775270944604180","vargastartup#1355","13/12/2022 5:02 pm","just curious: @kasperski95 | Software Mansion what are the most frequent questions people ask about Protostar?

I'm building Cairo Stack Overflow and I want to ask if we can make an FAQ about Protostar..","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/12/2022 6:58 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/12/2022 7:04 pm","https://github.com/software-mansion/protostar/releases/tag/v0.9.0","",""
"770675802525138944","nnamdiobiagwu","14/12/2022 4:48 pm","I got this issue. I am using a WSL debian 10 on my windows currently","https://cdn.discordapp.com/attachments/964116575387021413/1052545227182854204/image.png",""
"492775270944604180","vargastartup#1355","14/12/2022 5:44 pm","New question about Protostar: https://www.newton.so/view/6399ba44eea308e2529867f9","",""
"795662667012374569","ademolakelvin","15/12/2022 4:24 am","Gm everyone, please I need help with contract deployment via protostar, I read and followed the doc but I unable to have the contract deployed
I converted my private key to an hex-value and added it into the .env file;

This is the command i use in my terminal for deployment
`protostar deploy --network testnet --account-address 0x046358B8DA612492326AAED3d4707E39C698e39Dfd1c2421cf95202F6B20022a  --max-fee auto --private-key .env -i 0x046358B8DA612492326AAED3d4707E39C698e39Dfd1c2421cf95202F6B20022a`

I get this error whenever I run the command above
 `[ERROR] Invalid private key format (PROTOSTAR_ACCOUNT_PRIVATE_KEY=[private_key_in_hex]). Please provide hex-encoded number`.","",""
"795662667012374569","ademolakelvin","15/12/2022 4:24 am","Can anyone please guide me, what am I doing wrong?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/12/2022 3:17 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","15/12/2022 3:28 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","15/12/2022 6:08 pm","Hello guys! Many of you might be interested in the future of Protostar üåü in regard to rapidly approaching Cairo 1.0. Everything you should know about the Protostar 1.0 is summarized in this tweet:
https://twitter.com/MaksDemitraszek/status/1603367573558640640","","üëå (2)"
"879904646079078550","manolopereyra","17/12/2022 7:53 am","hi, could you solve it? I have the same problem","https://cdn.discordapp.com/attachments/964116575387021413/1053497641406832650/image.png",""
"770675802525138944","nnamdiobiagwu","17/12/2022 3:48 pm","Try to update your Ubuntu OS, the other way is to build from source. I read the second way from foundry and since protostar is foundry like it should work.","",""
"879904646079078550","manolopereyra","17/12/2022 9:29 pm","ok I'll try option 1 because I couldn't finish option 2, thks","",""
"291865508180131841","svetylko.","19/12/2022 10:35 pm","I use Python 3.9 on Debian Bullseye on Github Codespaces, completely vanilla. I feel like if I have to compile it myself on the stablest distro on earth, it's not compiled right","",""
"291865508180131841","svetylko.","19/12/2022 10:46 pm","Is there a recommended Linux distro to use? it's broken on Debian 11 Bullseye and Ubuntu 20.04 Focal Fossa ships with Python 3.10 which breaks Cairo üòû","",""
"291865508180131841","svetylko.","19/12/2022 10:48 pm","It would help if you didn't use ubuntu-latest in https://github.com/software-mansion/protostar/blob/master/.github/workflows/build_binaries.yml","",""
"291865508180131841","svetylko.","19/12/2022 11:17 pm","now fixed by using Ubuntu 22.04 and installing Python 3.9 there","",""
"795662667012374569","ademolakelvin","20/12/2022 2:26 am","Gm gm everyone","",""
"795662667012374569","ademolakelvin","20/12/2022 2:27 am","Please I have a deployment issue, I want to deploy a simple ERC20 contract but I am getting the error uninitialized contract","",""
"795662667012374569","ademolakelvin","20/12/2022 2:28 am","`protostar deploy 0x754d00e8c2d1d155c3bd458320a5a644658c5ac9198f7cb23204500fe2fec3c --gateway-url ""https://alpha4-2.starknet.io"" --chain-id 1536727068981429685321 --account-address 0x046358B8DA612492326AAED3d4707E39C698e39Dfd1c2421cf95202F6B20022a --max-fee auto --inputs 1692660622325569080943028654924641 5456198 18 10000 0 0x046358B8DA612492326AAED3d4707E39C698e39Dfd1c2421cf95202F6B20022a`

That is the deployment command, I specified the arguements in felts","",""
"795662667012374569","ademolakelvin","20/12/2022 2:28 am","I do not know why it's failing. Please how can I fix this?","",""
"795662667012374569","ademolakelvin","20/12/2022 2:33 am","`Client failed with code 500: {""code"": ""StarknetErrorCode.UNINITIALIZED_CONTRACT"", ""message"": ""Requested contract address 0x46358b8da612492326aaed3d4707e39c698e39dfd1c2421cf95202f6b20022a is not deployed.""}`","",""
"728537446089752618","karol_b","20/12/2022 1:23 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/12/2022 4:51 pm","Tiny pre-christmas üéÑ‚≠êÔ∏è protostar release
https://twitter.com/MaksDemitraszek/status/1605885911199252480","","üéÅ (2)"
"271361500721971220","soulmate#5267","26/12/2022 6:46 pm","""Requested contract address 0x3caf9aa24a6fdfd7c6011ee99bc98d9ac76829c8c902cab0d3429bdd70857eb is not deployed.""

When deploying a contract in testnet an error occurs, what can it be related to?","",""
"848616398964260925","scarletssstarktitan","27/12/2022 10:10 pm","i find this for your ,not know if it is helpful https://github.com/software-mansion/protostar/issues/1294  thanks ser","",""
"260514830006485002","milan3774","03/01/2023 9:26 pm","when using `call`, is there a way how to pass arrays as named arguments via `--inputs`? I've tried all kinds of quoting, nothing works, getting `protostar call: error: argument --inputs: invalid parse_input_arg_type value: 'combos_offset_0=2 0 18'`","",""
"260514830006485002","milan3774","03/01/2023 9:35 pm","ok, seems I have to pass the _len arg as well","",""
"451054666609065984","angelo.bas","03/01/2023 11:38 pm","ty for this amazing toolchain üòÑ","","‚ù§Ô∏è (2),üôå (1)"
"814779427392192522","MaksymilianDemitraszek#7798","04/01/2023 5:04 pm","Started a thread.","",""
"653519450397474846","quiark","06/01/2023 10:36 am","apparently I need class hash to deploy the contract, why doesn't protostar give me this value? I can't even find it in the compiled json","",""
"653519450397474846","quiark","06/01/2023 11:01 am","Ah, declare","",""
"247230107683389441","dcfpascal","09/01/2023 3:19 pm","i'm getting this: ```Redefinition of __main__.Uint256.
from starkware.cairo.common.uint256 import Uint256 ```
even tho i've only defined Uint256 once in my contracts, anyone have a clue on how to fix this? Also, if i comment that out i see: ` Found more than one storage variable with the same name ('pool_balance').` , i'm guessing it's something to do with my .toml file?","",""
"247230107683389441","dcfpascal","09/01/2023 3:23 pm","```[contracts]
main = [""src/main.cairo""]
dvd = [""src/dvd/contractA.cairo"", ""src/dvd/contractB.cairo""]```","",""
"247230107683389441","dcfpascal","09/01/2023 3:23 pm","^ my .toml file","",""
"887999107715715083","trejowsk","09/01/2023 9:09 pm","If what you want to achieve is two separate output contracts, you should define them in separate entries in the `toml` since putting two of them in one array merges them together into one contract on the output, thus double declarations.","",""
"247230107683389441","dcfpascal","10/01/2023 8:23 am","even if i split it in two, i'm still getting ```Redefinition of __main__.Uint256.
from starkware.cairo.common.uint256 import Uint256 ```","",""
"878973043152650240","WhitneyKidd16 | CatBlox M3OW#6431","10/01/2023 8:28 pm","When I try to declare or deploy the contract on agentX, I get this error, what migh be the problem and how can I solve it?","https://cdn.discordapp.com/attachments/964116575387021413/1062384861928755210/image.png","‚úÖ (1)"
"889142633451118642","0xweb3dev","10/01/2023 10:00 pm","Hello Whitney, this is Argent wallet specific issue. You need to join their discord  channel for tech assistance.","",""
"889142633451118642","0xweb3dev","10/01/2023 10:00 pm","The link to discord is maintained here : https://discord.com/channels/793094838509764618/908663762150645770/1048320231925370881","",""
"848616398964260925","scarletssstarktitan","10/01/2023 10:02 pm","thanks ser this issue has been solved in argent channel thanks ser","","dope (1)"
"878973043152650240","WhitneyKidd16 | CatBlox M3OW#6431","10/01/2023 10:02 pm","I already did and solved the problem, but another one arrived during deployment of contract, and a huge one, guys from ArgenX said that it's probably something that protostar can help me with. Can I send an error that my wallet gives me when I try to deploy a contact? It seems like a problem with code, but I can't understand what exactly is wrong","",""
"878973043152650240","WhitneyKidd16 | CatBlox M3OW#6431","10/01/2023 10:04 pm","Error in the called contract (0x41a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf):
Error at pc=0:32:
Got an exception while executing a hint.
Cairo traceback (most recent call last):
Unknown location (pc=0:174)
Unknown location (pc=0:127)

Traceback (most recent call last):
  File ""<hint4>"", line 1, in <module>
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starknet/core/os/syscall_utils.py"", line 220, in deploy
    contract_address = self._deploy(segments=segments, syscall_ptr=syscall_ptr)
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starknet/core/os/syscall_utils.py"", line 732, in _deploy
    self.sync_state.deploy_contract(
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starknet/business_logic/state/state.py"", line 477, in deploy_contract
    return self.state.deploy_contract(contract_address=contract_address, class_hash=class_hash)","",""
"878973043152650240","WhitneyKidd16 | CatBlox M3OW#6431","10/01/2023 10:04 pm","File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starknet/business_logic/state/state.py"", line 75, in deploy_contract
    return execute_coroutine_threadsafe(
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/python/utils.py"", line 556, in execute_coroutine_threadsafe
    return future.result()
  File ""/opt/pypy3.9-v7.3.9-linux64/lib/pypy3.9/concurrent/futures/_base.py"", line 446, in result
    return self.get_result()
  File ""/opt/pypy3.9-v7.3.9-linux64/lib/pypy3.9/concurrent/futures/_base.py"", line 391, in get_result
    raise self._exception
  File ""/opt/pypy3.9-v7.3.9-linux64/lib/pypy3.9/asyncio/tasks.py"", line 256, in __step
    result = coro.send(None)
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starknet/business_logic/state/state.py"", line 240, in deploy_contract
    stark_assert(
  File ""/app/src/starkware/starknet/services/feeder_gateway/starknet_feeder_gateway_venv-site/starkware/starkware_utils/error_handling.py"", line 183, in stark_assert
    raise StarkException(code=code, message=message)
starkware.starkware_utils.error_handling.StarkException: (500, {'code': <StarknetErrorCode.CONTRACT_ADDRESS_UNAVAILABLE: 1>, 'message': 'Requested contract address 0x71cfd083f3aa8adba4c356a1a6e424f017b27d35a8595fd6861288bf55898f1 is unavailable for deployment.'})","",""
"848616398964260925","scarletssstarktitan","10/01/2023 10:06 pm","sorry ser ,pls wait patiently for the  software mansion team answer you  thanks ser","",""
"878973043152650240","WhitneyKidd16 | CatBlox M3OW#6431","10/01/2023 10:08 pm","I will! Thank you very much:)","",""
"240940137398140929","t4or","11/01/2023 1:04 am","Hello everyone","",""
"240940137398140929","t4or","11/01/2023 1:04 am","Don't understand why my protostar conf seems wrong. I can't run unit tests with deployment on devnet. do you have any examples working with devnet?","",""
"848616398964260925","scarletssstarktitan","11/01/2023 1:10 am","find this message for you hope it is helpful https://discord.com/channels/793094838509764618/1019517428595687484/1019553884512985089","",""
"240940137398140929","t4or","11/01/2023 1:19 am","Hum not really lol üòÜ","",""
"848616398964260925","scarletssstarktitan","11/01/2023 2:17 am","https://docs.swmansion.com/protostar/docs/tutorials/interacting-with-starknet#using-configuration-profiles this ?üòÑ","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/01/2023 3:04 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","11/01/2023 3:12 pm","Started a thread.","",""
"532966199785422870","abdul1024","11/01/2023 5:56 pm","is there any command to get wallet balance ?","",""
"532966199785422870","abdul1024","11/01/2023 5:56 pm","from cli","",""
"685516513759068166","england_","12/01/2023 12:50 pm","https://starkscan.co/  imput your starknet address and the Portfolio
part  and https://voyager.online/ if you mean your wallet cnt show asset","",""
"889142633451118642","0xweb3dev","12/01/2023 1:12 pm","I think he is asking from the ""command"" perspective, via CLI.","",""
"774224863908986881","chirag_bgh","12/01/2023 8:10 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1063105217979220050/image.png",""
"774224863908986881","chirag_bgh","12/01/2023 8:10 pm","got this error after installing protostar","",""
"774224863908986881","chirag_bgh","12/01/2023 8:11 pm","it seems my computer has the old version of GLIBC","",""
"774224863908986881","chirag_bgh","12/01/2023 8:12 pm","i read somewhere its not recommended to update GLIBC","",""
"169277780054376448",".aragar","12/01/2023 8:48 pm","https://github.com/BibliothecaDAO/realms-contracts/issues/270 This guy got around it by targeting an older Dockerfile","","üëç (1)"
"814779427392192522","MaksymilianDemitraszek#7798","12/01/2023 10:24 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","12/01/2023 10:26 pm","Started a thread.","",""
"895328389299318866","eni7912","12/01/2023 11:01 pm","hello üôÇ Is there a way to have protostar resolve the `project_root/lib`  path before the `~/.protostar/dist/protostar/`path when compiling the code?","",""
"895328389299318866","eni7912","12/01/2023 11:04 pm","I want to replace the starkware dependencies","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/01/2023 4:30 pm","Started a thread.","",""
"532966199785422870","abdul1024","16/01/2023 4:53 am","is there any way to simulate contract deployment cost using protostar CLI ?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/01/2023 3:00 pm","Started a thread.","",""
"530813107212255234","zeapherine","17/01/2023 2:58 pm","Hey, I have installed protostar and its working.
however when i close the terminal or open a new terminal, 
I get `protostar command not found`
Is there a way to resolve this?
am using Ubuntu 22.04.","",""
"895328389299318866","eni7912","18/01/2023 12:00 am","Is there a way to bypass the OUT_OF_RESOURCES error ?","",""
"895328389299318866","eni7912","18/01/2023 12:34 am","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","18/01/2023 4:12 pm","Started a thread.","",""
"662387807901188096","fricoben","18/01/2023 8:43 pm","hey, I just installed open zeppelin contracts and I have a problem when building with ``protostar build``. Did it happen to someone else ? 

Here is the error that I have : 
```
Unexpected Protostar error. Report it here:                                                                                                            
https://github.com/software-mansion/protostar/issues
......
from openzeppelin.upgrades.library import Proxy
     ^***************************^
[15822] Failed to execute script 'binary_entrypoint' due to unhandled exception!
(env) 
```

It seems that it always searches in the wrong files (I tried to rename but nothing works)","",""
"887999107715715083","trejowsk","18/01/2023 11:41 pm","Started a thread.","",""
"780364427774001192","shouryamk","22/01/2023 12:55 am","Hey! tryiing to install protostar in ubuntu 22.04 but getting connection timed out","https://cdn.discordapp.com/attachments/964116575387021413/1066438452016594965/image.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","23/01/2023 3:11 pm","Started a thread.","",""
"895328389299318866","eni7912","23/01/2023 11:32 pm","can we use protostar with cairo1 yet?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","24/01/2023 3:17 pm","Started a thread.","",""
"893323006024245269","tokentracer","24/01/2023 5:19 pm","Hi friends - I am trying to deploy my first smart contract on starknet and getting this error while running the protostar declare command. can someone pls help?

`StarknetErrorCode.UNINITIALIZED_CONTRACT"", ""message"": ""Requested contract address 0x2644c75ddf3e8dc885d6a3c9c2df82168b6f4db49bc4f62ba3ca9d1e79ee94b is not deployed.`

the command I executed was:

`protostar declare ./build/main.json --account-address 0x02644C75DDf3E8DC885d6a3C9C2Df82168b6F4Db49BC4f62BA3cA9D1E79Ee94b --max-fee auto --private-key-path ./.env --network testnet`","",""
"893323006024245269","tokentracer","24/01/2023 5:32 pm","Hi, did this get resolved for you? can you pls share the resolution?","",""
"689466865415880710","jajakobyly","24/01/2023 7:20 pm","Hello everyone!

I'm pleased to say that the package manager for Cairo 1.0 that we have been working on at Software Mansion is going open! It's called *Scarb* and you can read more about it here: https://blog.swmansion.com/say-hello-to-scarb-a-cairo-1-0-package-manager-782b0321f82f

Tweet: https://twitter.com/jajakobyly/status/1617879385406861316 üòâ","",""
"935164379693977600","kasperski95 | Software Mansion#6120","25/01/2023 3:01 pm","Started a thread.","",""
"734310512153854033","ravjotsingh","28/01/2023 4:57 pm","Any windows alternative for protostar?","",""
"814779427392192522","MaksymilianDemitraszek#7798","30/01/2023 5:50 pm","Started a thread.","",""
"530813107212255234","zeapherine","01/02/2023 4:39 pm","Hello. I am running a fuzzy testing, but 
am getting an error
```
Incorrect usage of `expect_revert` cheatcode
Protostar is already expecting an exception matching the following error: [error_messages]:
‚Äî Loan amount greater than maximum amount
[falsifying example]:
loan_amount = 30001
collateral_amount = 0
withdrawal_amount = 0
```

following is my condition to check it 
```
if ids.is_max == 0:
            expect_revert(error_message=""Loan amount greater than maximum amount"")
```

Can someone help me with this.","",""
"240940137398140929","t4or","01/02/2023 8:52 pm","Hello everyone","",""
"240940137398140929","t4or","01/02/2023 8:52 pm","Someone know how can I obtain the account address that initiates transactions on my test (with protostar)?","",""
"240940137398140929","t4or","01/02/2023 8:53 pm","```
    let owner = // TODO: set account address here
    %{ context.sample_token_contract_address = deploy_contract(""./src/sample_token.cairo"", [owner]).contract_address %}
```","",""
"887999107715715083","trejowsk","03/02/2023 3:01 pm","This one is tricky, because nobody really does initiate the transaction, because using this cheatcode does not result in a transaction, just a state update","",""
"887999107715715083","trejowsk","03/02/2023 3:12 pm","Started a thread.","",""
"530813107212255234","zeapherine","03/02/2023 3:59 pm","Hey, How can i increase the fuzz test more than 100 times?","",""
"887999107715715083","trejowsk","03/02/2023 5:24 pm","You need to use this:
https://docs.swmansion.com/protostar/docs/tutorials/testing/cheatcodes/max-examples
(it's called max-examples because it tries at most the number of examples specified while trying to fail the test)","","üëç (1)"
"614218050853404683","eguene888","03/02/2023 8:43 pm","Hello, i have the same problem, can you tell me how you solved this?
Already solved, thank you","",""
"614218050853404683","eguene888","03/02/2023 9:26 pm","How i can deinstall protostar?","",""
"814779427392192522","MaksymilianDemitraszek#7798","03/02/2023 10:26 pm","Started a thread.","",""
"530813107212255234","zeapherine","03/02/2023 11:47 pm","Thanks","",""
"914851127818862592","pagecountrycousin","06/02/2023 5:46 am","I keep getting error when I run Protostar init: 
> >protostar init 
```
[7837] Error loading Python lib '/home/page/.protostar/dist/protostar/libpython3.9.so.1.0': dlopen: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.35' not found (required by /home/page/.protostar/dist/protostar/libpython3.9.so.1.0)
```
what can I do about this??","",""
"455708314295074837","mikesher","06/02/2023 10:03 am","Hello, trying to deploy contract using protostar, but getting an error: `{""code"": ""StarknetErrorCode.INVALID_TRANSACTION_NONCE"", ""message"": ""Invalid transaction nonce. Expected: 2, got: 1.""}     `
How could I resolve it?","",""
"455708314295074837","mikesher","06/02/2023 10:09 am","For someone who also met this issue - it just started to work after 20-30 minutes, I haven't done anything special (I guess just need to wait while previous transaction has status Accepted)","",""
"315809974762733570","dphaze","06/02/2023 2:09 pm","tell me how to fix the error when starting Protostar init:
Error loading Python lib '/root/.protostar/dist/protostar/libpython3.9.so.1.0': dlopen: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.35' not found (required by /root/.protostar/dist/protostar/libpython3.9.so.1.0)","",""
"935164379693977600","kasperski95 | Software Mansion#6120","06/02/2023 4:01 pm","Started a thread.","",""
"895328389299318866","eni7912","07/02/2023 8:15 pm","should we use this channel for scarb?

I was just wondering if I could rebuild the lsp binary using the scarb extended compiler rather than SW's one","",""
"935164379693977600","kasperski95 | Software Mansion#6120","08/02/2023 3:07 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","08/02/2023 7:57 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","09/02/2023 5:03 pm","https://twitter.com/MaksDemitraszek/status/1623643014827589632","","üî• (4)"
"530813107212255234","zeapherine","10/02/2023 5:16 pm","Hey.
am getting this error
Protostar version: 0.9.1 
```
Unexpected Protostar error. Report it here:
https://github.com/software-mansion/protostar/issues

Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 79, in <module>
  File ""binary_entrypoint.py"", line 23, in init
  File ""protostar/start.py"", line 21, in main
  File ""protostar/start.py"", line 47, in run_protostar
  File ""protostar/start.py"", line 42, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 82, in run
  File ""protostar/upgrader/latest_version_checker.py"", line 37, in run
  File ""protostar/upgrader/latest_version_checker.py"", line 76, in load_local_latest_version_cache_toml
  File ""protostar/upgrader/latest_version_cache_toml.py"", line 60, in read
KeyError: 'info'
[188149] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```

this happens when am running the test, test are being run and it gets completed, but it throws this everytime.","",""
"598022417792630784","famous.leaf#0751","10/02/2023 8:09 pm","hey guys, when using `protostar init ` on WSL2 the ""lib"" folder is not being created. Any ideas?","",""
"808705943595384852","pikkuherkko_","11/02/2023 3:17 am","hi, how to use Uint256 in mock_call? this doesn't work  `%{ stop_mock = mock_call(ids.contract_address, ""getPrice"", [Uint256(152038000000, 0)]) %}`","",""
"541203440286826507","Dikci#7777","11/02/2023 7:07 pm","hello,I want to deploy smart contract, it gives me an error, has anyone encountered it?","https://cdn.discordapp.com/attachments/964116575387021413/1073960966695419914/image.png",""
"848616398964260925","scarletssstarktitan","11/02/2023 7:11 pm","here is similar question about GLIB 2.35 ,would you like to check first ? thanks ser https://discord.com/channels/793094838509764618/1072074095795122207/1072102130426585118","",""
"541203440286826507","Dikci#7777","11/02/2023 7:15 pm","thx","",""
"541203440286826507","Dikci#7777","11/02/2023 7:17 pm","how do I update the version?","https://cdn.discordapp.com/attachments/964116575387021413/1073963379603021875/image.png",""
"848616398964260925","scarletssstarktitan","11/02/2023 7:29 pm","here is tutorial https://docs.swmansion.com/protostar/docs/tutorials/installation hope it is helpful thanks","",""
"563086010528038962","broodybroody","11/02/2023 11:21 pm","hi, how can I include the param `--debug_info_with_source` in protostar build?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/02/2023 2:48 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/02/2023 2:53 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/02/2023 3:02 pm","Started a thread.","",""
"935164379693977600","kasperski95 | Software Mansion#6120","13/02/2023 3:23 pm","Started a thread.","",""
"530813107212255234","zeapherine","14/02/2023 6:59 pm","Hey team, is there any news for the support of protostar with upcoming cairo v1?","",""
"689466865415880710","jajakobyly","14/02/2023 7:50 pm","Started a thread.","",""
"512806629616517130","vLDemonizer#9438","16/02/2023 2:52 am","Hello guys, question am getting a pretty cryptic error
 `Traceback (most recent call last):
  File ""<hint16>"", line 4, in <module>
AssertionError: div=0x0 is out of the valid range.`
does anyone know what may cause this?","",""
"935164379693977600","kasperski95 | Software Mansion#6120","16/02/2023 2:56 pm","Started a thread.","",""
"449611976147206144","arcanblast","17/02/2023 12:01 am","hello,
when i'm trying declare function .I get error code 500
how can i solve this problem?","https://cdn.discordapp.com/attachments/964116575387021413/1075846947631538196/image.png",""
"935164379693977600","kasperski95 | Software Mansion#6120","17/02/2023 3:16 pm","Started a thread.","",""
"914851127818862592","pagecountrycousin","18/02/2023 8:45 pm","```
Unexpected Protostar error. Report it here:                                                                                                              
https://github.com/software-mansion/protostar/issues

Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 80, in <module>
  File ""binary_entrypoint.py"", line 23, in init
  File ""protostar/start.py"", line 21, in main
  File ""protostar/start.py"", line 47, in run_protostar
  File ""protostar/start.py"", line 42, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 81, in run
  File ""protostar/protostar_cli.py"", line 125, in _run_command_from_args
  File ""protostar/argument_parser/cli_app.py"", line 25, in run
  File ""protostar/commands/declare_command.py"", line 110, in run
  File ""protostar/cli/signable_command_util.py"", line 77, in get_signer
  File ""starknet_py/net/signer/stark_curve_signer.py"", line 37, in from_private_key
  File ""starkware/crypto/signature/signature.py"", line 108, in private_to_stark_key
  File ""starkware/crypto/signature/signature.py"", line 103, in private_key_to_ec_point_on_stark_curve
AssertionError
[8280] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```
what can I do here plz??","",""
"914851127818862592","pagecountrycousin","19/02/2023 1:24 am","its such a shame one can't get help from this community, really a shame!!!","",""
"848616398964260925","scarletssstarktitan","19/02/2023 2:04 am","pls check this message  hope it is helpful https://discord.com/channels/793094838509764618/1073570538343104573/1074620569422663731  if not, It‚Äôs weekend ser the SWM team on line they will help you  pls be patient ser","",""
"914851127818862592","pagecountrycousin","19/02/2023 3:06 am","Thanks for this @scarlet(œÉ, œÉ) | StarkTitan , The link you sent solved[https://discord.com/channels/793094838509764618/964116575387021413/1076522450692604094] error but I got this one below when I tried declaring again
```usage: protostar [-h] [--profile PROFILE] [--version] [--no-color]                                                                                       
                 {init,build,install,remove,update,upgrade,test,deploy,declare,migrate,format,cairo-migrate,invoke,call,deploy-account,migrate-configuration-file,calculate-account-address}
                 ...
protostar: error: unrecognized arguments: --contract
```","",""
"848616398964260925","scarletssstarktitan","19/02/2023 3:15 am","sorry ser ,the devs  usually not on line  at weekend ,pls be patient , wen they are here you will get help ,https://docs.swmansion.com/protostar/docs/tutorials/testing/deploying-contracts   i don't know if this could help you to learn , thanks","",""
"914851127818862592","pagecountrycousin","19/02/2023 3:18 am","thank you @scarlet(œÉ, œÉ) | StarkTitan","","ü§ù (2)"
"509692086556033024","distracteddev","21/02/2023 12:08 am","I have a problem where I'm trying to force 2 different random values to be generated within the same function invoke, using `mock_call` however it will give the same value for both times the random generator is called","",""
"509692086556033024","distracteddev","21/02/2023 12:09 am","anyone  managed to handle this in protostar?","",""
"755078296508694659","0xnicoshark","21/02/2023 6:25 pm","Do you know what is the problem of this?
`[ERROR] Client failed with code 500: {""code"": ""StarknetErrorCode.TRANSACTION_FAILED"", ""message"": ""Error at pc=0:12:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:161)\nUnknown location (pc=0:147)\n\nError in the called contract (0x15473522fc7c62f03b8a4068edf538982ceb37f8260b3cfd013fb671f5b2912):\nError at pc=0:39:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:1398)\nUnknown location (pc=0:1351)\nUnknown location (pc=0:569)\nError message: argent: multicall 0 failed\nUnknown location (pc=0:586)\n\nError in the called contract (0x41a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf):\nError at pc=0:32:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:174)\nUnknown location (pc=0:127)\n\nError in the called contract (0x1e1dc4d912020422fa8e0d383804367d9fef9f492c55676fad81b2499708ff9):\nError at pc=0:533:\nAn ASSERT_EQ instruction failed: 10:5 != 10:0.""}
21:54:37 [INFO] Execution time: 2.95 s`","",""
"914851127818862592","pagecountrycousin","21/02/2023 10:17 pm","what could be the reason for this....??

I declared a contract, it seems sucessfully declared as shown in the screenshot above but when I checked the transaction hash, it is dated 9th Nov 2022??","https://cdn.discordapp.com/attachments/964116575387021413/1077632552875085927/declare_seem_sucess.png",""
"872889368342319104",".prashantb","22/02/2023 3:09 pm","Hey Protostar friends, I need help.

I upgraded the protostar version using this cmd:
curl -L https://raw.githubusercontent.com/software-mansion/protostar/master/install.sh | bash

But after running this cmd, I can't run protostar. I am getting this error:

pban@LAPTOP-7D30ED86:~$ protostar -v
[1706] Error loading Python lib '/home/pban/.protostar/dist/protostar/libpython3.9.so.1.0': dlopen: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.35' not found (required by /home/pban/.protostar/dist/protostar/libpython3.9.so.1.0)","",""
"872889368342319104",".prashantb","22/02/2023 3:09 pm","How do I fix this? 
Many thanks in advance üôè","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/02/2023 5:41 pm","Started a thread.","",""
"914851127818862592","pagecountrycousin","22/02/2023 7:35 pm","Hello , I am trying to deploy a contract and its saying `unrecognized arguments`....what could be wrong here??","https://cdn.discordapp.com/attachments/964116575387021413/1077954210118778890/deploy_error.png",""
"906095871316348938","closer2282","22/02/2023 8:22 pm","Hi @MaksymilianDemitraszek | SWM , any insights on this error?üòÄ","",""
"814779427392192522","MaksymilianDemitraszek#7798","22/02/2023 11:57 pm","Started a thread.","",""
"779063930618118157","koldovan","23/02/2023 7:54 pm","hey, @nicoüôÇ , did you fix it?","",""
"779063930618118157","koldovan","23/02/2023 7:54 pm","I have the same","https://cdn.discordapp.com/attachments/964116575387021413/1078321539054829679/image_2023-02-23_16-03-54.png",""
"876181121002520586","netin#9143","23/02/2023 8:06 pm","Analogically! Help plz","",""
"755078296508694659","0xnicoshark","23/02/2023 8:22 pm","yes! ty!","",""
"876181121002520586","netin#9143","23/02/2023 8:27 pm","How? please tell me i have the same error as you","",""
"755078296508694659","0xnicoshark","23/02/2023 8:37 pm","In my case, I forgot to add --input statement","",""
"755078296508694659","0xnicoshark","23/02/2023 8:37 pm","and add actual input for constructor","",""
"779063930618118157","koldovan","23/02/2023 8:42 pm","where should it be?","",""
"755078296508694659","0xnicoshark","23/02/2023 8:54 pm","just add when you run deploy command","",""
"755078296508694659","0xnicoshark","23/02/2023 8:55 pm","like 
`--private-key-path ./.env --network mainnet --input [your input for constructor]`","",""
"779063930618118157","koldovan","23/02/2023 9:26 pm","thx, will try","",""
"779063930618118157","koldovan","23/02/2023 9:30 pm","protostar deploy 0x02a5de1b145e18dfeb31c7cd7ff403714ededf5f3fdf75f8b0ac96f2017541bc --account-address 0x0695c3ef3638af57c4d4511633d098918af177fc91daf8119d4f4b25608df278 --max-fee auto --private-key-path ./.env --network mainnet --input","",""
"779063930618118157","koldovan","23/02/2023 9:30 pm","what is my input for constructor?","",""
"755078296508694659","0xnicoshark","23/02/2023 9:30 pm","idk","",""
"755078296508694659","0xnicoshark","23/02/2023 9:30 pm","it depends on your contract","",""
"779063930618118157","koldovan","23/02/2023 10:57 pm","sorry, for disturbing, @nicoüôÇ. How do I know ""my input for constructor""?","https://cdn.discordapp.com/attachments/964116575387021413/1078367473629409473/image.png",""
"755078296508694659","0xnicoshark","23/02/2023 11:03 pm","okay, you can just refer this example 
https://www.cairo-lang.org/docs/hello_starknet/more_features.html#array-arguments-in-calldata","",""
"755078296508694659","0xnicoshark","23/02/2023 11:03 pm","https://docs.swmansion.com/protostar/docs/cli-reference#-i---inputs-input","",""
"755078296508694659","0xnicoshark","23/02/2023 11:05 pm","I do not know what exactly you need to input in your constructor.
You need to refer your smart contract","",""
"876181121002520586","netin#9143","23/02/2023 11:07 pm","Listen, for this error, you just need to wait until your transaction ""declare"", becomes accepted on L2","",""
"779063930618118157","koldovan","23/02/2023 11:08 pm","check out this one:","",""
"779063930618118157","koldovan","23/02/2023 11:08 pm","https://starkscan.co/tx/0x04a60ee3e7148f3caf9d9f202412ded26ac1258c919515cb40294e14c2b47f82","",""
"779063930618118157","koldovan","23/02/2023 11:08 pm","this is my transaction","",""
"779063930618118157","koldovan","23/02/2023 11:08 pm","it's been accepted for 3 hours","","ü§î (1)"
"755078296508694659","0xnicoshark","23/02/2023 11:08 pm","https://www.cairo-lang.org/docs/hello_starknet/constructors.html?highlight=constructor","",""
"755078296508694659","0xnicoshark","23/02/2023 11:09 pm","You need to read docs more carefully","",""
"755078296508694659","0xnicoshark","23/02/2023 11:09 pm","then you will know what is input for your constructor","",""
"779063930618118157","koldovan","23/02/2023 11:10 pm","thanks","",""
"779063930618118157","koldovan","23/02/2023 11:11 pm","I have another contract","",""
"755078296508694659","0xnicoshark","23/02/2023 11:11 pm","https://www.cairo-lang.org/docs/hello_starknet/constructors.html?highlight=constructor#:~:text=starknet%20deploy%20%2D%2Dclass_hash%20%24%7BOWNABLE_CLASS_HASH%7D%20%2D%2Dinputs%20123","",""
"755078296508694659","0xnicoshark","23/02/2023 11:11 pm","like this here","",""
"755078296508694659","0xnicoshark","23/02/2023 11:11 pm","you need to give input when you try to deploy","",""
"755078296508694659","0xnicoshark","23/02/2023 11:12 pm","https://starkscan.co/class/0x02a5de1b145e18dfeb31c7cd7ff403714ededf5f3fdf75f8b0ac96f2017541bc#code","",""
"755078296508694659","0xnicoshark","23/02/2023 11:13 pm","I checked your class hash and you don't need input for your contract","","üëçüèª (1)"
"779063930618118157","koldovan","23/02/2023 11:15 pm","sorry, I am a beginner","",""
"779063930618118157","koldovan","23/02/2023 11:15 pm","in contracts","",""
"755078296508694659","0xnicoshark","23/02/2023 11:16 pm","me too","",""
"755078296508694659","0xnicoshark","23/02/2023 11:16 pm","I don't know how to solve your problem.","",""
"755078296508694659","0xnicoshark","23/02/2023 11:16 pm","in my case i just forgot to add input statement","",""
"779063930618118157","koldovan","23/02/2023 11:16 pm","should work without inputs at all as I understand","",""
"755078296508694659","0xnicoshark","23/02/2023 11:16 pm","yeah","",""
"755078296508694659","0xnicoshark","23/02/2023 11:17 pm","do you have ether in starknet mainnet?","",""
"755078296508694659","0xnicoshark","23/02/2023 11:17 pm","maybe you can get faucet on goerli and try to deploy on testnet","",""
"779063930618118157","koldovan","23/02/2023 11:20 pm","yes, but my friend said I don't need any for it","",""
"779063930618118157","koldovan","23/02/2023 11:20 pm","I have few ETH, can add more","",""
"429096494713274369","0xcoburn","24/02/2023 12:18 am","They‚Äôre for the constructor arguments of the smart contract you‚Äôre deploying","",""
"779063930618118157","koldovan","24/02/2023 1:36 am","@D3M take a look please","",""
"483362214636421122","D3M#2153","24/02/2023 1:39 am","That‚Äôs how smart contact looks like

https://media.discordapp.net/attachments/1055949448355778671/1078371045884575794/2023-02-23_4.png","",""
"483362214636421122","D3M#2153","24/02/2023 1:39 am","Is it right?","",""
"483362214636421122","D3M#2153","24/02/2023 1:42 am","And this is ABI

https://media.discordapp.net/attachments/1055949448355778671/1078362164416495716/2023-02-23_2.png","",""
"779063930618118157","koldovan","24/02/2023 2:41 am","I tried with a different wallet and now am getting this issue(Argent X), declare.","https://cdn.discordapp.com/attachments/964116575387021413/1078423779266547884/image.png",""
"848616398964260925","scarletssstarktitan","24/02/2023 3:06 am","sorry ser ,i only can provide you the docs from argent team how to deploy ,hope it is helpful https://www.argent.xyz/blog/understanding-the-universal-deployer-contract/","",""
"779063930618118157","koldovan","24/02/2023 3:25 am","I understand the errors","",""
"779063930618118157","koldovan","24/02/2023 3:25 am","okay, let it be in this way","","üëç (1)"
"779063930618118157","koldovan","24/02/2023 3:25 am","where do I get JSON from?","https://cdn.discordapp.com/attachments/964116575387021413/1078435075768717483/image.png",""
"779063930618118157","koldovan","24/02/2023 3:26 am","I know the network, account, and contract class hash","",""
"779063930618118157","koldovan","24/02/2023 3:27 am","but I don't get where should I find needed JSON file","",""
"429096494713274369","0xcoburn","24/02/2023 3:33 am","Its the .json file returned when you run protostar build","",""
"429096494713274369","0xcoburn","24/02/2023 3:34 am","its in your build directory","",""
"779063930618118157","koldovan","24/02/2023 3:40 am","thanks","","üëç (1)"
"755078296508694659","0xnicoshark","24/02/2023 6:53 pm","Is protostar going to support Cairo1.0?","",""
"390765622625173506","9atetris","24/02/2023 6:58 pm","hi pls refer to this twitter thread üôå

https://twitter.com/maksdemitraszek/status/1603367573558640640?s=46&t=H9bs5Ea4jdFgNpo8LyT4Lg","","üåü (2)"
"755078296508694659","0xnicoshark","24/02/2023 7:03 pm","ty!","","happy (2)"
"906095871316348938","closer2282","24/02/2023 7:36 pm","Moreover you can check the process here:happy: 
https://github.com/software-mansion/protostar/milestone/31","",""
"755078296508694659","0xnicoshark","24/02/2023 7:39 pm","awesome! ty!","",""
"838021279616991242","Ismail Moazami#4571","25/02/2023 1:03 pm","Hello I am using protostar 0.8.1 version and when I am trying to deploy contract using protostar deploy , I am getting Unrecognized Argumnets error, 
Any solutions??","",""
"838021279616991242","Ismail Moazami#4571","25/02/2023 6:37 pm","???????","",""
"907981161534468146","wind.rider","25/02/2023 6:38 pm","Sorry ser, as it's the weekend, SWM team will reply you during working hours, thank you for your patienceüôèüèª","",""
"838021279616991242","Ismail Moazami#4571","25/02/2023 6:39 pm","So it means I should wait till monday?","",""
"907981161534468146","wind.rider","25/02/2023 6:42 pm","Usually Monday will be a working day, but it also depends on the time zone,ser","",""
"956448483177545790","annablondi","27/02/2023 12:58 am","Hello. Can somebody help?","https://cdn.discordapp.com/attachments/964116575387021413/1079485164419305572/stark.png",""
"814779427392192522","MaksymilianDemitraszek#7798","27/02/2023 3:46 pm","Started a thread.","",""
"887999107715715083","trejowsk","27/02/2023 6:02 pm","Started a thread.","",""
"509692086556033024","distracteddev","01/03/2023 11:10 pm","anyone able to provide direction on this? multiple values from the same random function","",""
"814779427392192522","MaksymilianDemitraszek#7798","02/03/2023 9:15 pm","Started a thread.","",""
"622383155613138944","m4d_m4n","04/03/2023 1:22 am","Hi! Does anybody know how to print all the variables in protostar tests? I guess it should be possible since you can access them via `ids.variable`, but I wasn't able to come up with a way of just printing them all at once","",""
"1072946275609231381","pmagiera","06/03/2023 3:21 pm","Started a thread.","",""
"1072946275609231381","pmagiera","06/03/2023 3:46 pm","Started a thread.","",""
"728537446089752618","karol_b","06/03/2023 3:58 pm","Started a thread.","",""
"662387807901188096","fricoben","06/03/2023 3:59 pm","Hey ! 

I try to compile my open zepellin contracts with protostar but it says that the same storage variable is declared twice (but actaully it's the same one). Do you know the problem ? Do you know a way to fix it ? I use protostar 0.9.1 I think","",""
"693748316080570429","qube#1604","08/03/2023 12:51 pm","is anyone deploy/declare contract rejected? because mine is yes said FEE_TRANSFER_FAILURE even though I don't know how to check balace but I already send balance from argent x","",""
"1072946275609231381","pmagiera","08/03/2023 5:12 pm","Started a thread.","",""
"653519450397474846","quiark","13/03/2023 10:35 am","any directions on how to debug this?

```
/Users/roman/starknet/env/lib/python3.9/site-packages/starkware/starknet/common/syscalls.cairo:53:5: Error at pc=0:16:
Got an exception while executing a hint.
    %{ syscall_handler.call_contract(segments=segments, syscall_ptr=ids.syscall_ptr) %}
    ^*********************************************************************************^
Cairo traceback (most recent call last):
tests/test_main.cairo:54:6: (pc=0:306)
func test_puzzle_3{
     ^***********^
tests/test_main.cairo:59:2: (pc=0:298)
        AdventContract.invoke_advent(contract_address=addr, index=3);
 ^**********************************************************^
autogen/starknet/contract_interface/AdventContract/invoke_advent/9b917cb52b3064fb5b7769528d75f9734ffa7517e98088a6ef82eac239a77ea6.cairo:2:31: (pc=0:179)
let (retdata_size, retdata) = call_contract(
                              ^************^

Error in the called contract (0x6d650e6bb86c6a097f6c3bafbd41b0636b82aad0f88a55d1da71a5155b130ee):
Error at pc=0:677:
Unknown value for memory cell at address 13:4.
Cairo traceback (most recent call last):
Unknown location (pc=0:361)
Unknown location (pc=0:348)
Unknown location (pc=0:746)
Unknown location (pc=0:711)
```","",""
"653519450397474846","quiark","13/03/2023 10:35 am","do I understand correctly that source maps exist and are supported but I was unlucky to not have the sourcemap cover the location?","",""
"1072946275609231381","pmagiera","13/03/2023 3:34 pm","Started a thread.","",""
"887999107715715083","trejowsk","15/03/2023 5:05 pm","https://github.com/software-mansion/protostar/releases/tag/v0.9.2

0.9.2 is finally here, upgrade and check out the new Cairo 1.0 support functionality üéâ","","‚ù§Ô∏è (2)"
"983660874055176193","pilou_sekai","15/03/2023 5:46 pm","Hi ! Is there a way to increase the nonce of the account contract executing transactions in the tests ?
When deploying an account and then doing `start_prank` with the account as args, the nonce doesn't increase as I understand the cheatcode changes only the address returned by `get_caller_address`. 
It's not possible either to mock the call to `tx_info.nonce`, within the tested function, as this call is not in the tested contract's ABI, it's part of the tested function logic.","",""
"983660874055176193","pilou_sekai","15/03/2023 5:52 pm","Also, is it possible to either force the address of an account given a pair of private/public key when deploying it through the cheatcode ?
Or, is it possible to get the signer of the account deployed via the cheatcode üôÇ","",""
"755871293974249513","fenrirfawks","16/03/2023 2:52 am","Hello!
I get the following error at erc721/ex07.cairo:
/home/henryf10h/.protostar/dist/protostar/contracts/ERC721_Metadata.cairo
from contracts.ERC721_Metadata import (
     ^***^
[2066] Failed to execute script 'binary_entrypoint' due to unhandled exception!

but ERC721_Metadata is defined at protostar.toml at  the [contracts] section. Any clue?
thanks beforehand
I have the ERC721_Metadata.cairo at source folder too","",""
"887999107715715083","trejowsk","16/03/2023 4:27 pm","Started a thread.","",""
"883302550584057876","foxreymann","18/03/2023 8:02 pm","@Arcticae | SWM how can I print/debug value in Cairo 1 in Protostar?

```    print_felt(44444);
    let ret = hash_chain(3);
    %{ print(f""passed value: {ids.ret}"") %}
```

standart print from Cairo gives an error, hints don't work anymore","",""
"814779427392192522","MaksymilianDemitraszek#7798","20/03/2023 6:28 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","21/03/2023 2:12 am","Hey folks - setting up 0.9.2 and it seems the rec pyenv has some conflicts with fastecdsa","",""
"910990302993588274","money_singh#6494","21/03/2023 2:12 am","anyone else see this","",""
"910990302993588274","money_singh#6494","21/03/2023 2:25 am","Basically comes down to","",""
"910990302993588274","money_singh#6494","21/03/2023 2:25 am","```
      src/curve.h:4:10: fatal error: 'gmp.h' file not found
      #include ""gmp.h""
               ^~~~~~~
      1 error generated.
      error: command '/usr/bin/clang' failed with exit code 1
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
  ERROR: Failed building wheel for fastecdsa
Failed to build fastecdsa
ERROR: Failed to build one or more wheels
```","",""
"887999107715715083","trejowsk","21/03/2023 9:01 pm","Started a thread.","",""
"790804607973457940","scriptmoney","27/03/2023 7:37 am","Started a thread.","",""
"265568907388125196","idrtis","28/03/2023 6:46 pm","I am trying to follow protostar tutorial in https://docs.swmansion.com/protostar/docs/tutorials/interacting-with-starknet/declare
But  ``` protostar declare ./build/main.json --network testnet ``` results in ""Command `declare` expects argument: `account-address`""

how can I introduce my argentx testnet address in protostar in order to be able to deploy?","",""
"265568907388125196","idrtis","28/03/2023 10:44 pm","I finally found that protostar uses PROTOSTAR_ACCOUNT_PRIVATE_KEY env vairable for sign. It would have been great to include it in the example tutorial so that users can recreate the tutorial by just following it.
One additional question: When we provide the private key to protostar, why does it still need the accoutn-address argument? It can derive the address from the priv key, right? Or are there cases where we can sign things for other accounts?","",""
"887999107715715083","trejowsk","29/03/2023 1:19 pm","We can derive the public key, not the address necessarily. Account address is salted, so it's not really derivable unless you pass the salt as well. Different account types have different class hashes as well (there can be different implementations because of account abstraction).","","üëç (1)"
"790804607973457940","scriptmoney","29/03/2023 5:28 pm","Currently, the protostar version does not seem to support felt252.","",""
"790804607973457940","scriptmoney","29/03/2023 5:29 pm","Is there any plan for an update?","",""
"1072946275609231381","pmagiera","29/03/2023 8:59 pm","Started a thread.","",""
"526050719246057513","petarcalic99","30/03/2023 5:07 am","Hello everyone! I was wondering how is the address of the invoker handled in test suites. If a function i am testing calles get_caller_address() for example, is it a random address each time?","",""
"526050719246057513","petarcalic99","30/03/2023 5:26 am","I need to know the address that called the function(is there a more efficient way than reading from the storage of the called contract where i stored the caller's address)","",""
"530813107212255234","zeapherine","30/03/2023 1:36 pm","hey, does protostar fully support testing of cairo 1 along with scrab at the moment?","","üôã‚Äç‚ôÄÔ∏è (2)"
"887999107715715083","trejowsk","31/03/2023 1:49 pm","Started a thread.","",""
"887999107715715083","trejowsk","31/03/2023 1:54 pm","Started a thread.","",""
"887999107715715083","trejowsk","31/03/2023 1:57 pm","Started a thread.","",""
"887999107715715083","trejowsk","31/03/2023 2:01 pm","Started a thread.","",""
"326484027882209280","bleaknight","04/04/2023 5:33 am","hi guys, when protostar releases, do we need to use scarb to actually develop/test cairo 1.0 contracts?","",""
"1072946275609231381","pmagiera","04/04/2023 3:02 pm","Started a thread.","",""
"326484027882209280","bleaknight","10/04/2023 8:34 am","hey guys, I'm trying to deploy a proxy instance with protostar, so I used the following command:

```protostar -p testnet deploy 0x00eafb0413e759430def79539db681f8a4eb98cf4196fe457077d694c6aeeb82 --max-fee auto --inputs 3329304294692085192292478253111498244727537263182841262409470759388136454837 127458616669122363028825458 3 1561614272346834126091180823208956724803939651016575969080895699397208589986 1561614272346834126091180823208956724803939651016575969080895699397208589986 2087021424722619777119509474943472645767659996348769578120564519014510906823```

I am assuming the inputs consists of implementation_hash, selector (the string ""initializer"" in felt), length of calldata (3 since my initializer function takes 3 args) and the call data array for my initializer function.

however when I ran this, I got an ENTRY_POINT_NOT_FOUND_IN_CONTRACT error. am I doing something wrong for the selector argument?","",""
"326484027882209280","bleaknight","10/04/2023 10:13 am","Ah solved my own issue,

for anyone else in the same boat:
```
protostar -p testnet deploy 0x00eafb0413e759430def79539db681f8a4eb98cf4196fe457077d694c6aeeb82 --max-fee auto --inputs 3329304294692085192292478253111498244727537263182841262409470759388136454837 127458616669122363028825458 0 0
```

I did this first, after that you can invoke the initializer function post Proxy instance deployment  with proper call_data_length + call data","",""
"548410451818708993","Wick#4943","10/04/2023 10:44 pm","","",""
"927982281266724874","tekkac","11/04/2023 6:27 pm","I'm trying to fuzz Uint256 with `strategy.uint256()` but I get this error:
`Can't pickle <class 'protostar.testing.fuzzing.strategies.uint256.Uint256'>: attribute lookup Uint256 on protostar.testing.fuzzing.strategies.uint256 failed`
protostar version 0.9.2","",""
"887999107715715083","trejowsk","11/04/2023 8:15 pm","Started a thread.","",""
"426347795918618650",".captb","13/04/2023 2:07 pm","hey fellas, i was able top "" build "" and get hash earlier but since 2 days when i command "" protostar build"" i get, "" build successfully"" hence there is no output","",""
"426347795918618650",".captb","13/04/2023 2:08 pm","and there is no "" Build "" file exist , i try to figure it out by blogs and entries hence i was not able to","",""
"426347795918618650",".captb","13/04/2023 2:08 pm","any suggestions ?","",""
"426347795918618650",".captb","13/04/2023 3:53 pm","i have no build directory and when i try to build command, it says build succesfully hence there is no build file or .json files around","",""
"1072946275609231381","pmagiera","13/04/2023 5:56 pm","Started a thread.","",""
"242241075698335744","dohoiwqel","14/04/2023 3:05 pm","Guys what is protostar?","",""
"907981161534468146","wind.rider","14/04/2023 3:58 pm","ser,protostar is a toolchain for developing Starknet smart contracts that helps with tasks such as dependencies management, project compilation, and testing contracts. It is inspired by foundry,if you are interested, pls check:https://docs.swmansion.com/protostar/docs/tutorials/introduction thank you","","üëç (4)"
"426347795918618650",".captb","16/04/2023 12:41 am","how did you activate env variables ? i am quite new and try to figure out from the examples at the github. try to build and nft contract with mintin etc","",""
"727506935590551672","yusufx.stark","16/04/2023 6:05 pm","https://docs.swmansion.com/protostar/docs/tutorials/testing  still 0.1 ?","",""
"307424769861615617","epizeuxius","17/04/2023 2:47 pm","I tyhink 18th new version comes","",""
"1072946275609231381","pmagiera","17/04/2023 5:53 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/04/2023 6:52 pm","https://twitter.com/MaksDemitraszek/status/1647951860957958144","","üî• (4)"
"814779427392192522","MaksymilianDemitraszek#7798","17/04/2023 6:52 pm","Cairo 1 contracts testing is there","",""
"814779427392192522","MaksymilianDemitraszek#7798","17/04/2023 6:52 pm","Check it out!","",""
"727506935590551672","yusufx.stark","17/04/2023 7:22 pm","YESSSSSSSSSSSSSSSSSSSSSSSSSSSS FINALLLLLLLLLYYYYYYYYYYYYY","",""
"976815223812010094","karhu#2066","17/04/2023 10:43 pm","When trying to import a cairo 1 module in a test file doing ```from src.Token.ERC20 import initializer```
 I get error :

```Unexpected token Token('IDENTIFIER', 'starknet'). Expected one of: ""("", ""."", "":"", ""="", ""["", ""{"", operator.
use starknet::ContractAddress;
    ^******^
```","",""
"1009420542392152094","igorurbanik","18/04/2023 1:09 pm","Started a thread.","",""
"416298073069715456","t.aksoy","18/04/2023 1:28 pm","hello, is protostar not supporting alhpa 7 version yet. I am getting errors with loops and u256 division
`error: Type not found.
        loop {
        ^**^`","",""
"283862302401495041","grest_","18/04/2023 1:48 pm","hi where does the `cairo_python_bindings` package in `protostar/cairo/cairo_bindings.py` come from? I noticed the `scripts/install_cairo_bindings.sh` has a reference to `crates/cairo-lang-python-bindings` but I don't see this in the `cairo` repo.","",""
"887999107715715083","trejowsk","18/04/2023 2:27 pm","Started a thread.","",""
"887999107715715083","trejowsk","18/04/2023 2:33 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","19/04/2023 2:11 am","Hey folks - trying to include multiple contracts in my protostar project but I always end up with the error `Compilation unit must include only one contract.`","",""
"910990302993588274","money_singh#6494","19/04/2023 2:11 am","Any suggestions / solutions ?","",""
"910990302993588274","money_singh#6494","19/04/2023 2:35 am","How might I be able to execute something that looks like ... 

```
src /
  A /
    A1.cairo 
    A2.cairo
  B /
    B1.cairo
    B2.cairo
  C1.cairo
  lib.cairo
```","",""
"910990302993588274","money_singh#6494","19/04/2023 2:35 am","where all of these are smart contracts","",""
"1072946275609231381","pmagiera","19/04/2023 2:55 am","Started a thread.","",""
"877041484287848469","texuzg","19/04/2023 6:47 pm","The contract Class hash created by the protostar build command is the same every time, how can it be different?","",""
"1072946275609231381","pmagiera","19/04/2023 7:04 pm","Started a thread.","",""
"279212508148137984","unchallengeable","20/04/2023 3:04 pm","hello I get  ''Signing is mandatory, please provide an account a private key in order to sign transactions.'' error when I try building with protostar declare command. how can I fix it I dont know how to get a private key","",""
"887999107715715083","trejowsk","20/04/2023 3:41 pm","Started a thread.","",""
"976815223812010094","karhu#2066","20/04/2023 5:10 pm","When running : protostar test-cairo1
I get stuck forever with this :
```Collected 1 suite, and 1 test case (5.88)                                       
  0%|                                                                      [0/1]```","",""
"976815223812010094","karhu#2066","20/04/2023 5:11 pm","Test file looks like this","https://cdn.discordapp.com/attachments/964116575387021413/1098574093655224432/test_main.cairo",""
"976815223812010094","karhu#2066","20/04/2023 5:11 pm","Safe seems to compile well doing protostar build-cairo1","",""
"1072946275609231381","pmagiera","20/04/2023 9:46 pm","Started a thread.","",""
"426347795918618650",".captb","21/04/2023 1:19 am","how we use merkle root to an whitelist account ?","",""
"426347795918618650",".captb","21/04/2023 1:19 am","on a deployed contract","",""
"728537446089752618","karol_b","21/04/2023 1:44 pm","Hello üëã we just did a mini release with a pretty important fix: https://github.com/software-mansion/protostar/releases/tag/v0.9.4","","üî• (6)"
"895328389299318866","eni7912","26/04/2023 7:57 pm","Hey, I'm trying protostar with cairo1, encountering this:

```
‚ùØ protostar test-cairo1 tests/test_main.cairo
[BROKEN] tests/test_main.cairo
A runtime error occurred in binding collect_tests: Failed to setup project for path(tests/test_main.cairo): Failed to add linked library (tests/test_main.cairo)

Caused by:
    Only files with .cairo extension can be compiled.
```

any idea what the problem could be?","",""
"487169308552593428","coinzzz#9819","27/04/2023 4:46 pm","please help, 

After:

protostar deploy 0x010a41a7093e0573acd59c366317f954afd230d92dcc7cb95f9eb2b9e77692ee --account-address 0x0524959EA25AcF1B6B2077299F8e203239939a6d26bEdBcd3d3BdE4787D4d692 --max-fee auto --private-key-path ./.env --network mainnet","https://cdn.discordapp.com/attachments/964116575387021413/1101104605284282491/Screenshot_55.jpg",""
"945304676268658689","cptartur","27/04/2023 6:02 pm","Started a thread.","",""
"895328389299318866","eni7912","27/04/2023 7:52 pm","Just trying to establish a state of the art of testing tools for SN contracts, what does protostar offer more compared to the `cairo-test` binary, ATM? (I know it's going to evolve in the future, I just want to see what I should be using *right now*)","",""
"814779427392192522","MaksymilianDemitraszek#7798","27/04/2023 8:17 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","27/04/2023 8:49 pm","https://twitter.com/MaksDemitraszek/status/1651605942880854016","","üî• (2)"
"814779427392192522","MaksymilianDemitraszek#7798","27/04/2023 8:50 pm","Protostar 0.10 is out","",""
"416298073069715456","t.aksoy","28/04/2023 1:59 am","I guess  alpha 7 version is not supported. Are you planing to support alpha 7 anytime soon or  is  this a not priority now ?","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2023 3:49 am","Started a thread.","",""
"326484027882209280","bleaknight","28/04/2023 1:29 pm","hello chads, still on 0.9.2 atm, is there an argument that skips test cases that don't have any change in them?","",""
"895328389299318866","eni7912","28/04/2023 2:05 pm","how complex would it be to update the compiler to alpha.7? If I can help on that lmk","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2023 3:15 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","28/04/2023 3:18 pm","Started a thread.","",""
"265974904749424651","robertkodra","02/05/2023 2:45 pm","hi, is it possible to deploy cairo v1 contracts with `starknet-devnet` directly with protostar?","","üëç (1)"
"945304676268658689","cptartur","04/05/2023 2:37 pm","Started a thread.","",""
"883302550584057876","foxreymann","04/05/2023 7:13 pm","@MaksymilianDemitraszek | SWM @cptartur | Software Mansion possible to call call `fn invoke(contract_address: felt252, function_name: felt252, calldata: Array::<felt252>) -> Result::<(), RevertedTransaction> nopanic;` with array of u128 ??","",""
"945304676268658689","cptartur","04/05/2023 7:30 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","05/05/2023 2:11 am","Hey folks - any examples for testing an erc20 ini protostar 0.10.0 by any chance ?","",""
"910990302993588274","money_singh#6494","05/05/2023 10:44 am","Running this test code in cairo 1.0 protostar - 

```
    let mut constructor_calldata = ArrayTrait::new();
    
    constructor_calldata.append('Starknet Token');
    constructor_calldata.append('STAR');
    constructor_calldata.append(18);
    constructor_calldata.append(2000);
    constructor_calldata.append(3417851320402290785882438275259766565645310205335699575992821683624961225177);
    
    match deploy_contract('erc20', constructor_calldata) {
        Result::Ok(x) => assert(false, 'Shouldnt have succeeded'),
        Result::Err(x) => {
            assert(x.first() == 'error', 'first datum doesnt match');
            assert(*x.panic_data.at(1_u32) == 'data', 'second datum doesnt match');
        }
    }
```

and returns this error 

```
Test failed with data:
[2511132545879500468251100742136691682620426578482160755560] (integer representation)
['first datum doesnt match'] (short-string representation)
```","",""
"910990302993588274","money_singh#6494","05/05/2023 10:45 am","Can someone please explain this error and suggest a sol ?","",""
"1072946275609231381","pmagiera","05/05/2023 2:33 pm","Started a thread.","",""
"945304676268658689","cptartur","05/05/2023 3:07 pm","Started a thread.","",""
"791177402108739664","akirillo","07/05/2023 12:12 am","is there any way to get a class hash of your contract in a Cairo1 test without using protostar's `declare` cheatcode?","",""
"791177402108739664","akirillo","07/05/2023 12:48 am","also, what does the interaction b/t protostar and scarb look like? e.g., scarb seems to want to replace `cairo_project.toml` with `Scarb.toml`, but protostar seems to depend on `cairo_project.toml`, and do its own dependency management. Are there any plans to integrate?","",""
"791177402108739664","akirillo","07/05/2023 12:55 am","ok, another question üòÖ 
protostar claims that ""due to the limitations of the Cairo 1 compiler,"" you can't have multiple contracts defined in a package.
but right now, my package has multiple contracts (with one `cairo_project.toml`), and it seems to compile and test just fine.
is it still the case that I need to split separate contracts out to different packages if I want to use protostar?","",""
"945304676268658689","cptartur","08/05/2023 1:07 pm","Not at the moment I think","","üëç (1)"
"945304676268658689","cptartur","08/05/2023 1:10 pm","The integration is ongoing to some extent. Short term goal is to allow using scarb to manage dependencies and long term we're thinking about closer integrations.","","üëç (1)"
"945304676268658689","cptartur","08/05/2023 1:12 pm","Perhaps you're using newer version of the cairo1 compiler? Protostar is using `v1.0.0-alpha.6` version of the compiler since it's the one currently supported by Starknet itself and it still has the one contract per package limitation. 

~~Around the time Starknet v0.11.1  releases, which will bump supported compiler version, we're also going to update it in the protostar and perhaps that will resolve the limitation, though we haven't tested it yet at all.~~
Supporting that will also require some changes to how `protostar.toml` resolves contracts which we haven't decided on just yet. So it might not happen at starknet v0.11.1","",""
"1072946275609231381","pmagiera","08/05/2023 8:25 pm","Started a thread.","",""
"791177402108739664","akirillo","08/05/2023 8:43 pm","I‚Äôve got my project using alpha.6 as well and have had no issues having multiple contracts in it ü§∑‚Äç‚ôÇÔ∏è","",""
"945304676268658689","cptartur","08/05/2023 9:02 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","09/05/2023 5:24 am","Hey folks ... from the Starkware team here ... I'm building this template for protostar - all contributions to it would be welcome https://github.com/SupremeSingh/protostar-cairo1-template/tree/main","",""
"910990302993588274","money_singh#6494","09/05/2023 5:25 am","PS though I am able to now test both read and write functions - somehow I am not able to work with write functions that take multiple params ... can someone please help me out here","",""
"910990302993588274","money_singh#6494","09/05/2023 5:26 am","The function in the repo I am failing at is `transfer` at line 81 of the `test_erc20.cairo` - any help would be bery much appreciated","",""
"910990302993588274","money_singh#6494","09/05/2023 5:33 am","Error ... 

```
[error_messages]:
‚Äî Error at pc=0:779:
Got an exception while executing a hint.Traceback (most recent call last):
  File ""<hint12>"", line 7, in <module>
  File ""protostar/cheatable_starknet/callable_hint_locals/callable_hint_local.py"", line 36, in wrapper
  File ""protostar/cheatable_starknet/callable_hint_locals/invoke_hint_local.py"", line 38, in invoke
  File ""protostar/cheatable_starknet/callable_hint_locals/invoke_hint_local.py"", line 51, in _invoke
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/cheatable_starknet/controllers/contracts.py"", line 410, in invoke
  File ""protostar/cheatable_starknet/controllers/contracts.py"", line 323, in _add_emitted_events
  File ""protostar/cheatable_starknet/controllers/contracts.py"", line 328, in <listcomp>
KeyError: 271746229759260285552388728919865295615886751538523744128730118297934206697
```","",""
"808699778254635018","lcukycat","09/05/2023 12:01 pm","protostar support cairo1.0?","","üî• (1)"
"814779427392192522","MaksymilianDemitraszek#7798","09/05/2023 12:32 pm","Started a thread.","",""
"1072946275609231381","pmagiera","09/05/2023 1:42 pm","Started a thread.","",""
"530813107212255234","zeapherine","09/05/2023 9:00 pm","hey, am running test using protostar and in `call` am getting this error.

```
[2842419657460669662363011005525177498420937733754098717883135334380641] (integer representation)
['incorrect 1'] (short-string representation)
```

```
let return_data2 = call(open_address, 'get_market_support', calldata).unwrap();
    2.print();
    assert(*return_data2.at(0_u32) == contract_address_const::<11111>().into(), 'incorrect 1'); 
```

its breaking in the assert check.
can someone help","","üëç (1)"
"530813107212255234","zeapherine","09/05/2023 11:37 pm","I want to use prank during deploy to let the contract set the owner as the caller, inside the constructor but 
`start_prank(123, deployed_contract_address).unwrap();` takes `deployed_contract_address` how do i do this?","",""
"921862494480396328","degendeveloper.eth","11/05/2023 10:20 pm","anyone else get this when trying to run `protostar test-cairo1` ?","https://cdn.discordapp.com/attachments/964116575387021413/1106262005175824404/telegram-cloud-photo-size-1-5107398778977103378-y.jpg",""
"1072946275609231381","pmagiera","12/05/2023 5:01 am","Started a thread.","",""
"791177402108739664","akirillo","13/05/2023 6:29 am","how does protostar estimate gas & steps for syscalls / hints (in cairo 0)?","",""
"791177402108739664","akirillo","13/05/2023 8:25 am","also, what fee vector does it use for resources?","",""
"791177402108739664","akirillo","13/05/2023 10:05 am","FWIW, pretty sure I narrowed this down to see that Cairo steps are priced at 1 gas per step and builtins at 0","",""
"887999107715715083","trejowsk","15/05/2023 3:19 pm","Started a thread.","",""
"791177402108739664","akirillo","17/05/2023 10:28 pm","is it yet possible to use protostar to view the # of cairo steps in a test for a cairo 1 contract?","",""
"907214386794483744","zkcarter","18/05/2023 10:36 am","Hello everyone, I would like to ask a question about panic testing. I have added the `[should_panic]` attribute in my unit test case, but the test is not passing. I would like to know how to test for functions that should panic in protostar.
My code:
```
#[test]
#[should_panic(expected:('value_size can not be gt 16', ))]
fn test_u128_size_panic_1() {
    let value = 0x01020304050607080102030405060708;
    let value_size = 17;
    u128_size(value, value_size, 1);
}
```
Result:
```
[FAIL] tests/test_math.cairo test_u128_size_panic_1 (time=0.03s)
Test failed with data:
[48698938236797365059163233564413839905770688328194917893123617078] (integer representation)
['value_size can not be gt 16'] (short-string representation)
```","",""
"416298073069715456","t.aksoy","18/05/2023 12:57 pm","hello, I am importing openzepplin erc20 implementation in another contract and `protostar build` is working. But when I tried to declare it in test it fails
`use token::contracts::erc20::ERC20;`
Test:
`#[test]
fn test_init() {
    let class_hash = declare('pair').unwrap();
}`
`Detailed error information: error: Plugin diagnostic: Identifier not found.
 --> pair.cairo:133:9
    use token::contracts::erc20::ERC20;
        ^***^

[BROKEN] tests/test_token.cairo test_init (time=1.70s)                                                                                                            
Incorrect usage of `declare` cheatcode
Compilation of contract pair to sierra failed
`
`Protostar version: 0.11.0                                                                                                               
Cairo-lang version: 0.11.0.1
Cairo 1 compiler version: 1.0.0rc0`","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/05/2023 2:53 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/05/2023 2:54 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","18/05/2023 2:55 pm","Started a thread.","",""
"943103810824466503",".barsukov","19/05/2023 1:39 pm","Hello all! Help, I encountered a problem when deploying a smart contract, after the line :

protostar declare ./build/main.json --account-address <wallet adress > --max-fee auto --private-key-path ./.env --network mainnet

gives this error :  


how to fix it ?","https://cdn.discordapp.com/attachments/964116575387021413/1109029974498873344/Screenshot_4.jpg",""
"1072946275609231381","pmagiera","19/05/2023 5:27 pm","Started a thread.","",""
"840123605282717726","alex.yt","22/05/2023 9:01 pm","Hi, I use protostar to declare a simple contract by 
""protostar declare --account-address 0xxxxxxxxx --max-fee auto --network testnet ./build/others.sierra.json""
HOWEVER, it shows an error:
ValueError: Signing sierra contracts requires using sign_declare_v2_transaction method.

Could anyone please help me?","",""
"840123605282717726","alex.yt","22/05/2023 9:02 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1110228701569884310/image.png",""
"1072946275609231381","pmagiera","22/05/2023 10:17 pm","Started a thread.","",""
"622383155613138944","m4d_m4n","23/05/2023 3:11 pm","Hi! I was wondering if there will be support for fuzzy tests with the new cairo/protostar?","",""
"895328389299318866","eni7912","23/05/2023 3:25 pm","hi there, could you please send me protostar's  logo?","",""
"1072946275609231381","pmagiera","23/05/2023 9:12 pm","Started a thread.","",""
"456226577798135808","Deleted User","24/05/2023 3:19 pm","Hey, how can you mock a result returned by a contract call with a cairo-1 cheatcode?","",""
"456226577798135808","Deleted User","24/05/2023 3:24 pm","Also I am having an issue when trying to declare my contract on testnet via:
```
protostar declare naming_validator --network testnet --account-address 0x048F24D0D0618fa31813DB91a45d8be6c50749e5E19ec699092CE29aBe809294 --max-fee auto --private-key-path .key
```","",""
"456226577798135808","Deleted User","24/05/2023 3:24 pm","```
Unexpected Protostar error. Report it here:                                              
https://github.com/software-mansion/protostar/issues

Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 85, in <module>
  File ""binary_entrypoint.py"", line 24, in init
  File ""protostar/start.py"", line 21, in main
  File ""protostar/start.py"", line 47, in run_protostar
  File ""protostar/start.py"", line 42, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 80, in run
  File ""protostar/protostar_cli.py"", line 117, in _run_command_from_args
  File ""protostar/argument_parser/cli_app.py"", line 25, in run
  File ""protostar/commands/declare/declare_command.py"", line 96, in run
  File ""protostar/commands/declare/declare_command.py"", line 129, in declare
  File ""protostar/starknet_gateway/gateway_facade.py"", line 274, in declare
  File ""protostar/starknet_gateway/gateway_facade.py"", line 200, in _load_compiled_contract
  File ""pathlib.py"", line 1266, in read_text
  File ""pathlib.py"", line 1252, in open
IsADirectoryError: [Errno 21] Is a directory: '/Users/thomas/starknetid/naming_validator/naming_validator'
[55659] Failed to execute script 'binary_entrypoint' due to unhandled exception!
```","",""
"416298073069715456","t.aksoy","24/05/2023 4:43 pm","hello, for debugging I want to use print in contract. but in the tests if I call this function it fails.
`use debug::PrintTrait;
 fn balance_of(account: ContractAddress) -> u256 {
            '1234'.print();
            _balances::read(account)
        }`
`Traceback (most recent call last):
  File ""<hint9>"", line 7, in <module>
  File ""protostar/cheatable_starknet/callable_hint_locals/callable_hint_local.py"", line 39, in wrapper
  File ""protostar/cheatable_starknet/controllers/transaction_revert_exception.py"", line 24, in get_panic_data
protostar.protostar_exception.ProtostarException: Panic data un-parseable, full exception:
 (500, {'code': <StarknetErrorCode.TRANSACTION_FAILED: 52>, 'message': 'Error at pc=0:3902:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:547)\nUnknown location (pc=0:2192)\nUnknown location (pc=0:2877)\n\nTraceback (most recent call last):\n  File ""<hint104>"", line 7, in <module>\nNameError: name \'protostar_print\' is not defined'})`","",""
"1072946275609231381","pmagiera","24/05/2023 7:07 pm","Started a thread.","",""
"1072946275609231381","pmagiera","24/05/2023 7:08 pm","Started a thread.","",""
"1072946275609231381","pmagiera","24/05/2023 7:11 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","24/05/2023 9:13 pm","Started a thread.","",""
"840123605282717726","alex.yt","25/05/2023 12:38 pm","Hi, I use protostar to declare a contract by the following code:

protostar declare-cairo1 firstContract \
  --network testnet \
  --account-address [ACCOUNT_ADDRESS] \
  --max-fee auto \
  --private-key-path ./.env

It works on testnet, but doesn't work on mainnet, showing the following ERROR:","",""
"840123605282717726","alex.yt","25/05/2023 12:38 pm","","https://cdn.discordapp.com/attachments/964116575387021413/1111189100662378506/image.png",""
"840123605282717726","alex.yt","25/05/2023 12:39 pm","Unexpected Protostar error. Report it here:
https://github.com/software-mansion/protostar/issues

starknet_py.net.client_errors.ClientError: Client failed with code 500: {""code"": ""StarknetErrorCode.COMPILATION_FAILED"", ""message"": ""Compilation failed. Error: Libfunc revoke_ap_tracking is not allowed in the libfuncs list '/app/src/starkware/starknet/services/gateway/starknet_gateway_exe.runfiles/__main__/src/starkware/starknet/compiler/v1/mainnet_libfuncs.json'.\n Run with '--allowed-libfuncs-list-name experimental_v0.1.0' to allow all libfuncs.\n""}.
[772] Failed to execute script 'binary_entrypoint' due to unhandled exception!","",""
"814779427392192522","MaksymilianDemitraszek#7798","25/05/2023 3:45 pm","Started a thread.","",""
"416298073069715456","t.aksoy","26/05/2023 1:56 am","hello, I am using OZ ownable library.  When I tryt to initialize  owner from test, I am getting an error. What could be the reason for this? ERC20 contract functions are working. `ERC20::_mint()`
I compiled last version on master branch yesterday 
test:
`    start_prank(ACCOUNT1, factory_addres).unwrap();
    'init_owner1'.print();

    match invoke(factory_addres, 'init_owner', @ArrayTrait::new()) {
        Result::Ok(x) => 'success'.print(),
        Result::Err(x) => {
            'reverted'.print();
            x.panic_data.print();
        }
    }`
contract:
`use ownable::ownable::Ownable;    
#[external]
    fn init_owner() {
        Ownable::initializer();
    }`
https://github.com/OpenZeppelin/cairo-contracts/blob/cairo-1/src/openzeppelin/access/ownable.cairo","https://cdn.discordapp.com/attachments/964116575387021413/1111389756132184085/image.png",""
"1072946275609231381","pmagiera","26/05/2023 2:50 pm","Started a thread.","",""
"788053207963271169","exp.table","29/05/2023 8:08 pm",":aPES_WowLegs: waiting for 0.12.0 release","",""
"569811676115763200","williamfu#9792","30/05/2023 7:42 am","Hi, I installed protostar, using protostar init test, then try to declare: protostar declare-cairo1 hello_starknets   --network testnet   --account-address 0x07D7e66EEc14e55A115C08E559ACbf21758E1A0C75DA705F4eA9f8efc1e861b9   --max-fee auto   --private-key-path ./.pkey
got the error : "" Unexpected Protostar error. Report it here:                                                                                                         
Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 85, in <module>
  File ""binary_entrypoint.py"", line 24, in init
  File ""protostar/start.py"", line 21, in main
  File ""protostar/start.py"", line 47, in run_protostar
  File ""protostar/start.py"", line 42, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 80, in run
  File ""protostar/protostar_cli.py"", line 117, in _run_command_from_args
 ...
  File ""starknet_py/net/http_client.py"", line 37, in request
  File ""starknet_py/net/http_client.py"", line 51, in _make_request
  File ""starknet_py/net/http_client.py"", line 84, in handle_request_error
  File ""starknet_py/net/http_client.py"", line 118, in basic_error_handle
starknet_py.net.client_errors.ClientError: Client failed with code 500: {""code"": ""StarknetErrorCode.INVALID_CONTRACT_CLASS"", ""message"": ""Only compiled version 1.1.0 is supported. Got version 1.0.0.\n[1, 0, 0] != [1, 1, 0]""}.
[515704] Failed to execute script 'binary_entrypoint' due to unhandled exception! ""
what should I do to solve it ?","",""
"569811676115763200","williamfu#9792","30/05/2023 7:51 am","the version is below: 
protostar -v
Protostar version: 0.11.0                                                                                                                           
Cairo-lang version: 0.11.0.1
Cairo 1 compiler version: 1.0.0rc0
02:20:39 [INFO] Execution time: 2.17 s","",""
"945304676268658689","cptartur","30/05/2023 2:42 pm","Protostar 0.11.0 bundles a cairo compiler that is now incompatible with testnet required one (since yesterday's update). We should have a new version of protostar released soon with updated compiler so that declare-cairo1 will start working again.","",""
"945304676268658689","cptartur","30/05/2023 2:43 pm","We bundle compiler 1.0.0rc0 and testnet now requires 1.1.0","",""
"569811676115763200","williamfu#9792","30/05/2023 7:28 pm","I know, I have used starknet cli to compile it, thanks!","",""
"1072946275609231381","pmagiera","30/05/2023 9:25 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","31/05/2023 5:33 pm","https://twitter.com/MaksDemitraszek/status/1663878313704562689?s=20","","üî• (1)"
"456226577798135808","Deleted User","01/06/2023 2:04 pm","Hey, is there an ETA for protostar compatible with Cairo 1.1.0?","",""
"814779427392192522","MaksymilianDemitraszek#7798","01/06/2023 2:50 pm","Started a thread.","",""
"416298073069715456","t.aksoy","01/06/2023 7:43 pm","hello guys, I cant compile this function with protostar. scarb can compile it. what could be the problem ?
if I delete `reentrancy_start()` it is compiling .

`    #[external]
    fn skim(to: ContractAddress) {
        reentrancy_start();  // it is working if I delete this
        let (token0, token1) = get_tokens();
        let contract = get_contract_address();
        let balance0 = IERC20Dispatcher { contract_address: token0 }.balance_of(contract);
        let balance1 = IERC20Dispatcher { contract_address: token1 }.balance_of(contract);
        let (reserve0, reserve1, _) = get_reserves();
        reentrancy_end();
    }
    fn reentrancy_start() {
        assert(!_entered::read(), 'ReentrancyGuard: reentrant call');
        _entered::write(true);
    }

    fn reentrancy_end() {
        _entered::write(false);
    }`
ERROR:
`protostar build
thread '<unnamed>' panicked at 'Difference in (StatementIdx(11459), Pedersen): Some(22) != Some(13)', crates/cairo-lang-sierra-gas/src/gas_info.rs:61:13         
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
17:13:22 [ERROR] Build failed
17:13:22 [ERROR] Failed to compile contract contract_pair to casm
A unexpected type of error occurred in binding compile_starknet_contract_to_sierra_from_path: Difference in (StatementIdx(11459), Pedersen): Some(22) != Some(13)
17:13:22 [INFO] Execution time: 6.03 s`","",""
"1072946275609231381","pmagiera","01/06/2023 8:42 pm","Started a thread.","",""
"938703797239287879","0xdarlington","02/06/2023 5:00 am","Hey guys, does Protostar yet support cairo 1 contract deployment?","",""
"814779427392192522","MaksymilianDemitraszek#7798","02/06/2023 7:15 pm","Started a thread.","",""
"938703797239287879","0xdarlington","03/06/2023 4:04 am","Hello, is there an equivalent of the __setup__ hook which existed for 0,x in Cairo 1 yet? and can we also check for emitted events?","",""
"413912060955459584","0xjon#0981","04/06/2023 6:33 am","Hi is there an ETA for cairo v1.1.0 support?

and also `should_panic`","",""
"938703797239287879","0xdarlington","05/06/2023 1:49 am","Hey guys, sorry I'm here to disturb again üòÖ

Trying to write tests for a simple ERC20 contract..but having issues with supplying the constructor args:

```
#[test]
fn test_deploy() {
    // constructor calldata
    let mut constructor_calldata = ArrayTrait::new();
    constructor_calldata.append('MINNA');
    constructor_calldata.append('MST');
    constructor_calldata.append(18);
    constructor_calldata.append(1000);
    constructor_calldata.append(OWNER);

    // declare contract
    let class_hash = declare('ERC20').unwrap();
    // prepare contract
    let prepared = prepare(class_hash, @constructor_calldata).unwrap();
    // deploy contract
    let deployed_contract_address = deploy(prepared).unwrap();

    assert(deployed_contract_address != 0, 'not eq');
}
```

When i try to supply everything as an array of felts, i get the error:

```
Test failed with data: 
[30828113188794245257250221355944970489240709081949230] (integer representation)
['Result::unwrap failed.'] (short-string representation)
```

but if i try to supply the args, in their expected data, using an enum (since arrays doesn't support multiple data types), i get the error:

```
Detailed error information: error: Unexpected argument type. Expected: ""@core::array::Array::<core::felt252>"", found: ""@core::array::Array::<test_erc20::test_erc20::Data>"".
 --> test_erc20.cairo:32:40
    let prepared = prepare(class_hash, @constructor_calldata).unwrap();
```
which clearly states it expects an array of felts. How do I supply constructor args of different data types? And if they are supposed to be passed as felts, how are they parsed into the expected data types behind the scenes?","",""
"416298073069715456","t.aksoy","05/06/2023 12:59 pm","if this  `constructor_calldata.append(1000)` is uint256 you need add one more value to calldata.","","üëç (1),üëçüèº (1)"
"795662667012374569","ademolakelvin","05/06/2023 3:31 pm","gm everyone, I am trying to declare my contract in protostar, according to the docs, the private key should be in hex and I am using  https://util.turbofish.co/ the pkey to hex  value. BUt whenevr i run the command  protostar declare prezent --network testnet --account-address 0x00daDBAfc74aF0a8D979FBe8773b73E249c09925dBD0A3d267F54A4AB697d1Fe --max-fee auto --private-key-path env`
I get the error: No account associated with provided account address found. Contact your wallet provider.

can anyone suggest a fix ?","",""
"945304676268658689","cptartur","05/06/2023 3:51 pm","Started a thread.","",""
"945304676268658689","cptartur","05/06/2023 3:54 pm","Started a thread.","",""
"526050719246057513","petarcalic99","05/06/2023 4:02 pm","When i am using protostar get_block_timestamp returns 0, how do i fix this?","",""
"526050719246057513","petarcalic99","05/06/2023 4:02 pm","On testnet i don‚Äôt have this issue","",""
"1072946275609231381","pmagiera","05/06/2023 4:10 pm","Started a thread.","",""
"1072946275609231381","pmagiera","05/06/2023 4:12 pm","Started a thread.","",""
"1072946275609231381","pmagiera","05/06/2023 4:19 pm","Started a thread.","",""
"814779427392192522","MaksymilianDemitraszek#7798","05/06/2023 5:31 pm","https://twitter.com/MaksDemitraszek/status/1665689952846217216","","üî• (4)"
"814779427392192522","MaksymilianDemitraszek#7798","05/06/2023 5:31 pm","New compiler is already supported","",""
"814779427392192522","MaksymilianDemitraszek#7798","05/06/2023 5:31 pm","sory for the delay","",""
"795662667012374569","ademolakelvin","05/06/2023 5:45 pm","Just updated protostar now. I declared a contract and got the error:` {""code"": ""StarknetErrorCode.COMPILATION_FAILED"", ""message"": ""Compilation failed. Error: Libfunc bool_eq is not allowed in the libfuncs  Run with '--allowed-libfuncs-list-name experimental_v0.1.0' to allow all libfuncs.\n""}`. 

so I tried  `protostar declare prezent  --network testnet  --account-address 0x02c21eE938b9cD16326a0051a94Fc6FD87287B83d586e519cD369d89c97B74Ab  --max-fee auto --private-key-path env  --allowed-libfuncs-list-name experimental_v0.1.0`
But got the error : `unrecognized arguments: --allowed-libfuncs-list-name experimental_v0.1.0`","",""
"1072946275609231381","pmagiera","05/06/2023 6:32 pm","Started a thread.","",""
"852009836756992032",".yaorong","06/06/2023 8:36 am","Hello, I use protostar to deploy the contract, can it configure proxy? I can't seem to find a way to specify a proxy.","",""
"945304676268658689","cptartur","06/06/2023 3:47 pm","Started a thread.","",""
"786227045604130846","raphael_doukhan","06/06/2023 11:08 pm","Hi, when I run `protostar test src/test.cairo` it returns:
```
No test cases found
```

test.cairo:
```
fn sum(a: felt252, b: felt252) -> felt252 {
    return a + b;
}

#[test]
fn test_sum() {
    assert(sum(2, 3) == 5, 'sum incorrect');
}
```

protostar.toml:
```
[project]
protostar-version = ""0.13.0""
```          

Scarb.toml:
```
[package]
name = ""test_project""
version = ""0.1.0""

[scripts]
test = ""protostar test""
```

What did I do incorrectly? Thanks","",""
"798950392607014972","gurk6433","07/06/2023 4:22 pm","Started a thread.","",""
"945304676268658689","cptartur","07/06/2023 6:31 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","07/06/2023 11:04 pm","Is there any update on when Protostar will be able to support >=1 contracts in 1 crate ? Looking for a friend üôÇ","",""
"938703797239287879","0xdarlington","08/06/2023 12:10 pm","Hey guys, I have a contract which makes calls to the ETH contract to check allowance of a user. I'm trying to write tests for this contract and looking for a way to mock the ETH contract in Protostar local network. The idea that comes to mind is deploying an ERC20 contract with the ETH contract address on Protostar, so my contract can make calls to this address and return an allowance. 

But the question becomes how can I deploy a contract with a deterministic address using `deploy`? I mean let's say ETH contract address is 0x1234, I want to deploy an ERC20 contract on Protostar to address 0x1234, is this possible?","",""
"910990302993588274","money_singh#6494","09/06/2023 1:54 am","Q - is there any way I can import the functions written in `business_logic` folder into the smart contract in `contract` folder by using the `use::` statement or something like that","",""
"910990302993588274","money_singh#6494","09/06/2023 1:54 am","Just a little confued","",""
"938703797239287879","0xdarlington","09/06/2023 6:40 am","my tests fails due to a call to the `IERC20Dispatcher` contained within an external function:

```        IERC20Dispatcher {contract_address: eth_contract}.transfer_from(caller, this_contract, u256_from_felt252(REGPRICE));```

how can i work around this?","",""
"800921831124238336","lrqstudy","09/06/2023 9:42 am","protostar declare ./build/main.json --account-address 0x0368b0ee2b4b7da1df9948fedd5680c5de904d0005892805b2b4850c13941fbd --max-fee=auto --network=testnet
12:03:37 [ERROR] Couldn't find `./build/main.json` in `protostar.toml::[contracts]`","",""
"800921831124238336","lrqstudy","09/06/2023 9:43 am","get error when declare","https://cdn.discordapp.com/attachments/964116575387021413/1116580747327848478/image.png",""
"800921831124238336","lrqstudy","09/06/2023 9:43 am","","https://cdn.discordapp.com/attachments/964116575387021413/1116580831708860436/image.png",""
"800921831124238336","lrqstudy","09/06/2023 9:43 am","how to figure it out","",""
"945304676268658689","cptartur","09/06/2023 1:35 pm","Started a thread.","",""
"945304676268658689","cptartur","09/06/2023 1:38 pm","Started a thread.","",""
"945304676268658689","cptartur","09/06/2023 1:41 pm","Started a thread.","",""
"945304676268658689","cptartur","09/06/2023 1:42 pm","Started a thread.","",""
"945304676268658689","cptartur","09/06/2023 1:45 pm","Started a thread.","",""
"159474162685968386","psyclonic","10/06/2023 12:27 am","Is there a way to use protostar tests to interact with 3rd party contracts or simulate that interaction?","",""
"456226577798135808","Deleted User","12/06/2023 2:13 pm","Hey everyone, I ran into a strange issue when writing a test for protostar today:
```
[BROKEN] tests/test_default.cairo                                                                                                                                                                                 
A runtime error occurred in binding collect_tests: Failed to setup project for path(tests/test_default.cairo): Test validation failed

Caused by:
    Invalid number of parameters for test test_default::test_default::test_multicall: expected 0, got 3
10:38:55 [INFO] Execution time: 2.91 s
```

It says that there is an invalid number of parameters for my test, but I don't get why it should receive 3, as my other tests receive none and work fine. Here is its code:
```rs
#[test]
fn test_multicall() {

    let naming_contract = contract_address_const::<0x003bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce>();
    let eth_contract = contract_address_const::<0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7>();
    let mut calls = ArrayTrait::new();

    // Craft call1
    let mut calldata1 = ArrayTrait::new();
    // [ grom ] .stark
    calldata1.append(1);
    calldata1.append(679332);
    let call1 = Call {
        to: naming_contract, selector: 'domain_to_address', calldata: calldata1
    };

    // Craft call2

    let mut calldata2 = ArrayTrait::new();
    let amount2: u256 = 500;
    calldata2.append(0x00a00373A00352aa367058555149b573322910D54FCDf3a926E3E56D0dCb4b0c);
    calldata2.append(amount2.low.into());
    calldata2.append(amount2.high.into());
    let call2 = Call {
        to: eth_contract, selector: TRANSFER_SELECTOR, calldata: calldata2
    };

    // Bundle calls and exeute
    calls.append(call1);
    calls.append(call2);

    _execute_calls(calls);
}
```","",""
"1067051235062063235",".some_stranger","12/06/2023 2:53 pm","Hi. You solve problem?","",""
"1072946275609231381","pmagiera","12/06/2023 3:58 pm","Started a thread.","",""
"1072946275609231381","pmagiera","12/06/2023 3:59 pm","Started a thread.","",""
"1072946275609231381","pmagiera","12/06/2023 4:04 pm","Started a thread.","",""
"914851127818862592","pagecountrycousin","12/06/2023 6:16 pm","since scarb was intergrated into protostar, is there still a need to used `scarb`??","",""
"945304676268658689","cptartur","12/06/2023 6:41 pm","Started a thread.","",""
"795662667012374569","ademolakelvin","12/06/2023 8:12 pm","Hello there, I am trying to write test for a contract; the constructor is defined as thus:

```
     #[constructor]
    fn constructor(name: felt252, symbol: felt252, event_uri:felt252, creator:ContractAddress, _prezent_mint_limit:u256) {
        initializer(name, symbol, event_uri, creator, _prezent_mint_limit);
    }
```

Test:

```
use prezent::contracts::erc721;
use array::ArrayTrait;
use result::ResultTrait;
use option::OptionTrait;
use starknet::ContractAddress;
use starknet::testing::set_caller_address;
use starknet::contract_address_const;

const name:felt252 = 'WEB3';
const symbol:felt252 = 'W3C';
const event_uri:felt252 = 'hello';
const prezent_mint_limit:felt252 = 5;
const account:felt252 = 1113455678;

#[test]
fn __set__up(){
let mut calldata = ArrayTrait::new();
calldata.append(name);
calldata.append(symbol);
calldata.append(event_uri);
calldata.append(account);
calldata.append(prezent_mint_limit);
// return deploy address
let address = deploy_contract('prezent', @calldata).unwrap();

assert(address != 0 , 'address_is_zero');
}
```

But I keep getting the error,  [30828113188794245257250221355944970489240709081949230] (integer representation)
['Result::unwrap failed.'] (short-string representation)


According to the doc, deploy_contract, declares and deploy the contract. I can't seem to decipher what I ma doing wrong.","",""
"913384201712177163","yaometaforo","13/06/2023 8:26 am","hey, is protostar compatible with cario v2.0.0 now?","",""
"728537446089752618","karol_b","13/06/2023 2:18 pm","Started a thread.","",""
"455039811791749130","sumitguha","14/06/2023 2:19 am","whenever I am compiling the contracts using `protostar build`, it is generating the class hashes of the two contracts present in the src/contract folder. But the hashes are same","https://cdn.discordapp.com/attachments/964116575387021413/1118281081385385984/Screenshot_2023-06-14_at_02.16.46.png",""
"795662667012374569","ademolakelvin","14/06/2023 9:11 am","I want to use multicontract setup for my project, whenver i compile, i get the error:

Detailed error information: error: Trait has no implementation in context: core::serde::Serde::<core::array::Span::<core::felt252>>                             
 --> contract:70:48
                serde::Serde::<Span<felt252>>::deserialize(ref data).expect('Input too short for arguments');
                                               ^*********^","",""
"945304676268658689","cptartur","14/06/2023 2:04 pm","Started a thread.","",""
"945304676268658689","cptartur","14/06/2023 2:36 pm","Started a thread.","",""
"455039811791749130","sumitguha","15/06/2023 12:54 am","I am trying to compile the following:
```
#[contract]
mod Playground {

    use debug::PrintTrait;

    #[derive(Copy, Drop)]
    struct Rectangle {
        height: u64,
        width: u64
    }

    #[external]
    fn main() {
        let rectangle = Rectangle { height : 10 , width : 5 };
        // calcualte_area(@rectangle);
    }

    #[view]
    fn calcualte_area(rectangle: @Rectangle) {
    //     let h = *rectangle.height;
    }
}
```
But I am getting the following error:","https://cdn.discordapp.com/attachments/964116575387021413/1118621935539073125/Screenshot_2023-06-15_at_00.53.51.png",""
"455039811791749130","sumitguha","15/06/2023 12:55 am","But it runs properly when I do `cairo-run src/contract/playground.cairo` or `scarb build`","",""
"511272055623122961","laurip","15/06/2023 1:25 pm","Started a thread.","",""
"1072946275609231381","pmagiera","15/06/2023 5:41 pm","Started a thread.","",""
"910990302993588274","money_singh#6494","15/06/2023 9:02 pm","@Piotr Magiera | SWM from the Starkware team - could you please help us review a protostar tutorial blog real quick","",""
"795662667012374569","ademolakelvin","16/06/2023 2:18 am","Detailed error information: error: Trait has no implementation in context: core::serde::Serde::<core::array::Span::<core::felt252>>
 --> contract:70:48
                serde::Serde::<Span<felt252>>::deserialize(ref data).expect('Input too short for arguments');
                                               ^*********^

I am encountering this error whenever I build my contract in protostar, can anyone suggest a fix?","",""
"1072946275609231381","pmagiera","16/06/2023 5:54 pm","Started a thread.","",""
"852009836756992032",".yaorong","18/06/2023 11:47 am","Hello, I always got the error "" StarknetErrorCode.TRANSACTION_LIMIT_EXCEEDED""  for my protostar declare command this days. How to solve this problem ?","",""
"798276348635906058","filiplaurentiu","18/06/2023 9:59 pm","Where I can find the documentation for writing Cairo 0 contracts and tests ?","",""
"798276348635906058","filiplaurentiu","18/06/2023 10:25 pm","How I can declare a class and use the class hash in tests ?","",""
"795662667012374569","ademolakelvin","19/06/2023 12:10 am","I have a question, I want to deploy a contract using its class_hash, I have the test implemented but its failing:

```
#[test]
fn test_factory_deploy() {
let class_hash = setup_declare();
let mut calldata = ArrayTrait::new();
let mint_limit = u256 {low: 5, high: 0};
calldata.append(name_deploy);
calldata.append(symbol_deploy);
calldata.append(event_uri_deploy);
calldata.append(user3);
calldata.append(mint_limit.high.into());
calldata.append(mint_limit.low.into());

let prepared_result = prepare(class_hash, @calldata).unwrap();

let deployed_contract_address = deploy(prepared_result).unwrap();
invoke(class_hash, 'deploy_factory', @calldata).unwrap();
assert(deployed_contract_address != 0, 'deployed_contract_address != 0');

}
```
Should  I deploy the contract with the `deploy` cheat code, or how do I approach this?","",""
"945304676268658689","cptartur","19/06/2023 1:25 pm","Started a thread.","",""
"1072946275609231381","pmagiera","19/06/2023 3:10 pm","Started a thread.","",""
"1072946275609231381","pmagiera","19/06/2023 3:11 pm","Started a thread.","",""
"684757913641811978","asifbd11","19/06/2023 6:02 pm","I am facing problem to deploy starknet contract.And stuck here","https://cdn.discordapp.com/attachments/964116575387021413/1120330153051037746/Screenshot_2023-06-19_182403.png",""
"684757913641811978","asifbd11","19/06/2023 6:26 pm","@money_singh sir help plz","",""
"910990302993588274","money_singh#6494","20/06/2023 12:46 am","Hey Asif - could you please share the command you ran with the flags ?","",""
"1072946275609231381","pmagiera","20/06/2023 3:10 am","Started a thread.","",""
"684757913641811978","asifbd11","20/06/2023 2:42 pm","protostar declare ./build/main.json - account-address 0x00d7fB3f8B72626042b4dF33F951c7fc969C209933E5e420E838ca426D1F9E04 - max-fee auto - private-key-path ./.env - network mainnet","",""
"368134465572175873","mikefrancis","20/06/2023 5:53 pm","@Asifbd11 , please have you deployed this contract? And if you have, how did you handle the inputs to the constructor? Did you have to convert them to felt?","",""
"242654662195544064","ootsun","20/06/2023 9:35 pm","Hello, what the recommended path to add a plugin to Protostar? 
I'd like that some profiles perfoming the ""deploy-account"" action trigger the execution of my plugin.","",""
"1072946275609231381","pmagiera","20/06/2023 11:02 pm","Started a thread.","",""
"795662667012374569","ademolakelvin","21/06/2023 12:38 am","Client failed with code 500: {""code"": ""StarknetErrorCode.COMPILATION_FAILED"", ""message"": ""Compilation failed. Error: Libfunc bool_eq is not allowed in the libfuncs list '/app/src/starkware/starknet/services/gateway/starknet_gateway_exe.runfiles/__main__/src/starkware/starknet/compiler/v1/testnet_libfuncs.json'.\n Run with '--allowed-libfuncs-list-name experimental_v0.1.0' to allow all libfuncs.\n""}.

I am getting the error above when I declare my contract, what might be the issue?","",""
"795662667012374569","ademolakelvin","21/06/2023 1:19 pm","@Piotr Magiera | SWM Please help,
Client failed with code 500: {""code"": ""StarknetErrorCode.COMPILATION_FAILED"", ""message"": ""Compilation failed. Error: Libfunc bool_eq is not allowed in the libfuncs list '/app/src/starkware/starknet/services/gateway/starknet_gateway_exe.runfiles/main/src/starkware/starknet/compiler/v1/testnet_libfuncs.json'.\n Run with '--allowed-libfuncs-list-name experimental_v0.1.0' to allow all libfuncs.\n""}.

I am getting the error above when I declare my contract, what might be the issue?","",""
"945304676268658689","cptartur","21/06/2023 1:24 pm","Seems like you're doing comparisions with bools somewhere in your code and it's not compiling","",""
"795662667012374569","ademolakelvin","21/06/2023 1:32 pm","I'm not sure, let me show you a snippet of the code:
```
     #[internal]
    fn _owner_of(token_id: u256) -> ContractAddress {
        let owner = _owners::read(token_id);
        match owner.is_zero() {
            bool::False(()) => owner,
            bool::True(()) => panic_with_felt252('ERC721: invalid token ID')
        }
    }

   #[external]
    fn claim(){
    let caller = get_caller_address();
    assert(!caller.is_zero(), 'CALLER_ZERO_ADDRESS');
    assert(_hasClaimed::read(caller) == false, 'ALREADY CLAIM');
    safemint(caller);
    _hasClaimed::write(caller, true);
    }
```

These are the two fn that utilizes boolean in my code","",""
"945304676268658689","cptartur","21/06/2023 1:50 pm","Started a thread.","",""
"795662667012374569","ademolakelvin","21/06/2023 4:00 pm","I get the error below while trying to deploy a contract: 

```
Client failed with code 500: {""code"": ""StarknetErrorCode.TRANSACTION_FAILED"", ""message"": ""Error at pc=0:12:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:161)\nUnknown location (pc=0:147)\n\nError in the called contract (0x2c21ee938b9cd16326a0051a94fc6fd87287b83d586e519cd369d89c97b74ab):\nError at pc=0:39:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:1398)\nUnknown location (pc=0:1351)\nUnknown location (pc=0:569)\nError message: argent: multicall 0 failed\nUnknown location (pc=0:586)\n\nError in the called contract (0x41a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf):\nError at pc=0:32:\nGot an exception while executing a hint.\nCairo traceback (most recent call last):\nUnknown location (pc=0:174)\nUnknown location (pc=0:127)\n\nError in the called contract (0x2f32d44c82dd88b72ce1aa9f2695c26c32ec5d9ca9bd69bc690f2a08ee6541a):\nExecution was reverted; failure reason: [0x496e70757420746f6f2073686f727420666f7220617267756d656e7473].""}
```

This how my deployment command looks like:


```
protostar deploy 0x06338a7053e7c5c7fc6f4e60a6b929d6d73d10ae917b09a66534d8ac684f8e63 --network testnet --account-address 0x02c21eE938b9cD16326a0051a94Fc6FD87287B83d586e519cD369d89c97B74Ab --max-fee auto --inputs 23755444592406119 5522772 152661009894058335207775753436149895760187208118319 3 563831808685431136216933 237025470765192361030195 6082222486394465893 1335183144017770082158 2816098579549735819154579829961542965642576990387468955935319427869999 --private-key-path env
```","",""
"1072946275609231381","pmagiera","21/06/2023 4:44 pm","Started a thread.","",""
"622383155613138944","m4d_m4n","21/06/2023 8:34 pm","Hi Guys! I have problem with following code: ```use array::{ArrayTrait, SpanTrait};
use option::OptionTrait;

#[test]
fn test_sth() {
    let mut test_data = get_sth_test_data();

    loop {
        match test_data.pop_front() {
            Option::Some(x1) => {
                let _x = *x1;
                assert(_x == 1_u128, 'n');
            },
            Option::None(()) => {
                break ();
            },
        };
    };
}

fn get_sth_test_data() -> Span<u128> {
    let mut test_data = ArrayTrait::<u128>::new();
    test_data.append(1_u128);
    test_data.append(1_u128);
    test_data.append(1_u128);
    test_data.append(1_u128);
    test_data.append(1_u128);
    return test_data.span();
}``` Error in thread","",""
"826802154818895892","ametel","22/06/2023 7:00 am","wen integration testing for cairo1v2 contracts?","",""
"998715320883761204","hgedia","22/06/2023 4:27 pm","Is there a way to do something like read contents of a file and feed it to a protostar test fucntion ?","",""
"1072946275609231381","pmagiera","23/06/2023 3:22 am","Started a thread.","",""
"1072946275609231381","pmagiera","23/06/2023 3:25 am","Started a thread.","",""
"902987506000228423","miike4947","26/06/2023 2:01 am","is there any guide to setup protostar for cairo1?","",""
"848616398964260925","scarletssstarktitan","26/06/2023 5:03 am","https://medium.com/starknet-edu/testing-a-cairo-1-smart-contract-with-protostar-c2ea095037fc  hope this is helpful thank you","",""
"902987506000228423","miike4947","27/06/2023 12:28 am","ty sir","","üôèüèª (2)"
"276159707641544706","dub_zn","28/06/2023 5:18 am","Hi guys, I hope you're doing well. I'm having an issue when trying to run tests for a contract using Protostar. Here's the error:
```[error_messages]:
‚Äî Error at pc=0:96:
Got an exception while executing a hint.Traceback (most recent call last):
  ....
**AssertionError: Multiple files found for contract minimal, only one file per contract is supported in cairo1!**```

My files:
```
#[abi]
trait IMinimalContract {
   ...
}
    
#[contract]
mod MinimalContract {
    ...
}
```
```#[cfg(test)]
mod tests {

 .... 

    #[test]
    #[available_gas(300000000)]
    fn storage_pixel_entity_test() {
        let contract_address = deploy_contract('minimal', @ArrayTrait::new()).unwrap();
        let contract_address: ContractAddress = contract_address.try_into().unwrap();
        let dispatcher = IMinimalContractDispatcher { contract_address };

        assert(1==1, 'error');
    }
}```

Im using:
cairo-compile --version: 
**cairo-lang-compiler 1.1.0**

scarb --version: 
**scarb 0.4.0 (f813517bf 2023-06-06)
cairo: 1.1.0 (43b83560d)**

protostar --version:
**Protostar version: 0.13.0                                                                                                                                           
Cairo-lang version: 0.11.1.1
Cairo 1 compiler version: 1.1.0
20:43:19 [INFO] Execution time: 0.98 s**

Has anyone encountered a similar error? I'm actually using the examples from the latest release, and I also tried separating the contract's ABI, but I'm getting the same error.
https://github.com/software-mansion/protostar/commit/2cf48a04b24de4429bd31191fcc7f821fe5f678e
Thankss","",""
"202597021209591809","iamjack.sol","28/06/2023 8:58 am","Is there a planned [beta?] release of protostar to support cairo 1 `v2.0.0-rc*`

Would like to be able to run the same version of cairo 1 as my scarb package for new syntax / tests","",""
"1072946275609231381","pmagiera","28/06/2023 4:48 pm","Started a thread.","",""
"1072946275609231381","pmagiera","28/06/2023 4:55 pm","Started a thread.","",""
"498168721894932505","kayayusuf","29/06/2023 11:49 pm","protostar please add devnet","",""
"456226577798135808","Deleted User","30/06/2023 9:06 pm","Hey there, is it possibl to deploy sierra via protostar?","",""
"456226577798135808","Deleted User","30/06/2023 9:06 pm","I get this error:","",""
"456226577798135808","Deleted User","30/06/2023 9:07 pm","Unexpected Protostar error. Report it here:                                                                                                   
https://github.com/software-mansion/protostar/issues

Traceback (most recent call last):
  File ""binary_entrypoint.py"", line 85, in <module>
  File ""binary_entrypoint.py"", line 24, in init
  File ""protostar/start.py"", line 21, in main
  File ""protostar/start.py"", line 47, in run_protostar
  File ""protostar/start.py"", line 42, in run_protostar
  File ""asyncio/runners.py"", line 44, in run
  File ""asyncio/base_events.py"", line 647, in run_until_complete
  File ""protostar/protostar_cli.py"", line 80, in run
  File ""protostar/protostar_cli.py"", line 117, in _run_command_from_args
  File ""protostar/argument_parser/cli_app.py"", line 25, in run
  File ""protostar/commands/legacy_commands/declare_cairo0/declare_cairo0_command.py"", line 102, in run
  File ""protostar/commands/legacy_commands/declare_cairo0/declare_cairo0_command.py"", line 135, in declare
  File ""protostar/starknet_gateway/gateway_facade.py"", line 282, in declare_cairo0
  File ""starknet_py/net/account/account.py"", line 268, in sign_declare_transaction
ValueError: Signing sierra contracts requires using `sign_declare_v2_transaction` method.
[16276] Failed to execute script 'binary_entrypoint' due to unhandled exception!","",""
"456226577798135808","Deleted User","30/06/2023 9:11 pm","My bad, I was using declare-cairo0, it's declare","","üëç (1)"
"475777437163192346","orland0x","03/07/2023 10:49 pm","hey all, just reading the docs and saw this: https://docs.swmansion.com/protostar/docs/cairo-1/understanding-cairo-packages#multi-contract-project-structure this seems very annoying particularly for large projects. is it likely to change anytime soon?","",""
"945304676268658689","cptartur","04/07/2023 4:37 pm","It will change once we release a new test runner that is written in rust, it should not be that far away from now.","","üî• (3)"
"475777437163192346","orland0x","04/07/2023 5:24 pm","amazing, thanks","",""
"636965380656594974","Florian_#6785","05/07/2023 5:38 pm","Hi, does protostar support cairo 2 ?","",""
"887999107715715083","trejowsk","05/07/2023 6:25 pm","No unfortunately not currently :< This will change in the future as we migrate to rust, the python version of cairo-lang doesn't support cairo2 so we're migrating as we speak.","",""
"636965380656594974","Florian_#6785","05/07/2023 6:50 pm","Ok, Thanks üëç","",""
"689466865415880710","jajakobyly","06/07/2023 2:35 pm","Any plans for next Thursday? Cause we're organizing our first #Web3 meet-up in Krak√≥w!  
If you're around, come over to Software Mansion's office and have aüç∫ with us, if not - we'll post a link to the live stream soon! 
Register and read more here: https://meetup.com/pl-PL/web3-krk/events/294470994/
And obligatory Tweeet: https://twitter.com/swmansionxyz/status/1676872840400838663","",""
"745949076436287489","Gevorg#3487","13/07/2023 6:20 pm","Tell me, please, what could be the problem when deploying a smart contract?","https://cdn.discordapp.com/attachments/964116575387021413/1129032210645794826/777.png",""
"1072946275609231381","pmagiera","14/07/2023 5:42 pm","Started a thread.","",""
"784796047830286356","chingun.dev","17/07/2023 6:05 pm","when I try to test basic Ownable contract it gives me this bug. How do solve it guys?","https://cdn.discordapp.com/attachments/964116575387021413/1130477931769114644/Screenshot_2023-07-17_at_20.35.03.png,https://cdn.discordapp.com/attachments/964116575387021413/1130477932154998784/Screenshot_2023-07-17_at_20.34.32.png",""
"857357190829309962","adminac","17/07/2023 7:31 pm","Hello","",""
"857357190829309962","adminac","17/07/2023 7:31 pm","`protostar deploy 0x7ebfa3769660fa950d3d7577c8dfeb854f7d84efa6d0740fc00b2a72ba712b5 --network testnet --max-fee auto --account-address 0x06f6d81c5fb7b6e3f3fb8d94f5d7087df1779724018bff82721e937c6710c1e4 --private-key-path ./.env`","",""
"857357190829309962","adminac","17/07/2023 7:32 pm","I got this issue and I don't know where it can be from","https://cdn.discordapp.com/attachments/964116575387021413/1130499867148558377/image.png",""
"857357190829309962","adminac","17/07/2023 7:32 pm","I'm using WSL","",""
"887999107715715083","trejowsk","17/07/2023 9:16 pm","Started a thread.","",""
"887999107715715083","trejowsk","17/07/2023 9:48 pm","Started a thread.","",""
"938703797239287879","0xdarlington","19/07/2023 1:59 am","Hi, with the next Protostar upgrade aimed at supporting Cairo 2, will the problem with not supporting multiple Cairo files in one folder be resolved?","",""
"1072946275609231381","pmagiera","19/07/2023 2:10 pm","Started a thread.","",""
"326484027882209280","bleaknight","19/07/2023 3:16 pm","Hey guys, is protostar called starknet-foundry now?","","üëâ (2),üëà (2),ü•∫ (2)"
"848616398964260925","scarletssstarktitan","19/07/2023 3:20 pm","üëâ üëà","",""
"152780795952496640","aihe","20/07/2023 12:32 am","Heeeey frens, I'm learning cairo & playing with starknet-foundry.

I'm basically testing this simple function:
```rust
// ...
fn store_name(ref self: TContractState, name: felt252);
// retrieve name üëá
fn get_name(self: @TContractState, address: ContractAddress) -> felt252;
// ...

#[test]
fn test_store_name() {
    let contract_address = deploy_simple_storage();
    let safe_dispatcher = INameRegistrySafeDispatcher { contract_address };

    let expected: felt252 = 'something';
    safe_dispatcher.store_name(expected);

    let out: felt252 = safe_dispatcher.get_name(
        // which address?          <----------------------------
    ).unwrap();
    assert(out == expected, 'Invalid name.');
}
```
But can't find how to get the actual address that called `store_name` (so I can check the value with get_name later).

`store_name` is using `get_caller_address`.

Any idea? üòµ‚Äçüí´","",""
"152780795952496640","aihe","20/07/2023 1:47 am","Started a thread.","",""
"885830666057564202","kk.fu","21/07/2023 4:49 pm","hi, i use stark-foundry to declare and deploy my cairo1 contract, but can't find openzeppelon accounts, who can help me:StarkNet:","",""
"885830666057564202","kk.fu","21/07/2023 4:50 pm","or how to declare and deploy contarcts with starknet-foundry?","",""
"885830666057564202","kk.fu","21/07/2023 4:50 pm",":happy:","",""
"1072946275609231381","pmagiera","24/07/2023 3:42 pm","Started a thread.","",""
"202597021209591809","iamjack.sol","25/07/2023 7:54 pm","I am trying to migrate some of my tests to integration tests in foundry - but at the moment it seems that `forge` is having trouble compiling... `scarb` build looks fine:
```bash
‚ùØ scarb build      
    Updating git repository https://github.com/keep-starknet-strange/alexandria
   Compiling switchboard v0.0.0 (/Users/jessupjn/Documents/Switchboard/starknet/Scarb.toml)
    Finished release target(s) in 3 seconds
```
But when I run `snforge` it fails (at the errors give the appearance that its struggling to pick up the cairo / starknet core sdks. For example - I import `ArrayTrait` using `use core::array::ArrayTrait;` in this file. Scarb compiles just fine. Yet im seeing errors when I try to run a test:
```bash
error: Method `append` not found on type ""core::array::Array::<core::felt252>"". Did you import the correct trait and impl?
 --> util.cairo:10:9
    arr.append(get_block_info().unbox().block_number.into());
        ^****^

error: Method `append` not found on type ""core::array::Array::<core::felt252>"". Did you import the correct trait and impl?
 --> util.cairo:11:9
    arr.append(nonce);
        ^****^
```
Here are my tool versions:
```bash
‚ùØ scarb --version
scarb 0.5.2 (f4b62adfb 2023-07-11)
cairo: 2.0.2 (https://crates.io/crates/cairo-lang-compiler/2.0.2)

‚ùØ snforge --version
forge 0.1.0
```
Any insight on what might be happening here?","",""
"1072946275609231381","pmagiera","25/07/2023 9:23 pm","Started a thread.","",""
"917780377433669663",".amlord","26/07/2023 2:34 pm","Hi Guys, I've just started with cairo & starknet-foundry, and have run into an issue when trying to test the constructor for the contract. The constructor has two parameters with different types: `fn constructor(ref self: ContractState, public_key: felt252, key_type: u8) {`","",""
"159474162685968386","psyclonic","13/08/2023 6:37 am","Is there any way to get more information about _what_ failed that just `Test failed with data: ['Result::unwrap failed.']`?","",""
"1072946275609231381","pmagiera","16/08/2023 3:17 pm","For everyone using Starknet Foundry - there is a dedicated new channel! üî• Please use #starknet-foundry for questions related to it","",""
"1072946275609231381","pmagiera","16/08/2023 3:19 pm","Started a thread.","",""
"923994260234190858","bonifaceebuka","25/08/2023 3:40 am","#üåüÔΩúprotostar 
Hello All,

Please I having some challenges declaring my smart contract. Attached here is what I get when I try to do that.

Please help me!","https://cdn.discordapp.com/attachments/964116575387021413/1144393327257600111/photo_2023-08-24_23-09-42.jpg",""
"815511012077207572","mason_john","25/08/2023 2:25 pm","whats diferent about staklings and protostar","",""
"1138759348147990529","th0rgal.","25/08/2023 3:46 pm","Hey there,

I am trying to deploy an old Cairo-0 contrat (I want to try the upgrade from the cairo 0 to cairo 1 implementation on a dummy contract). Unfortunately I can't find a way to deploy it.","",""
"1138759348147990529","th0rgal.","25/08/2023 3:47 pm","Here is the command I am using:","",""
"1138759348147990529","th0rgal.","25/08/2023 3:48 pm","```
protostar deploy 0x00ea0cbb4e76447cfa0e711a28405300794b1149e707e92288386ce14fa2ff0f --network testnet --account-address 0x00a00373A00352aa367058555149b573322910D54FCDf3a926E3E56D0dCb4b0c --max-fee auto --private-key-path .key --inputs 0x00eafb0413e759430def79539db681f8a4eb98cf4196fe457077d694c6aeeb82 0x2dd76e7ad84dbed81c314ffe5e7a7cacfb8f4836f01af4e913f275f89a3de1a 3 0x00a00373A00352aa367058555149b573322910D54FCDf3a926E3E56D0dCb4b0c 1 97
```

Where `0x00ea0cbb4e76447cfa0e711a28405300794b1149e707e92288386ce14fa2ff0f` is the proxy class hash, `0x00a00373A00352aa367058555149b573322910D54FCDf3a926E3E56D0dCb4b0c` my account address, `0x00eafb0413e759430def79539db681f8a4eb98cf4196fe457077d694c6aeeb82` the contract class hash (already declared), `0x2dd76e7ad84dbed81c314ffe5e7a7cacfb8f4836f01af4e913f275f89a3de1a` the initializer entrypoint and finally after 3, the array of inputs I want to give to this initializer function (my address and the char 'a').","",""
"1138759348147990529","th0rgal.","25/08/2023 3:49 pm","But when running that command, I get:
```11:12:12 [ERROR] Client failed with code 400: {""code"": ""StarknetErrorCode.SECURITY_ERROR"", ""message"": ""Error at pc=0:12:\nGot an exception while executing a hint.\nCairo traceback (most recent call last)
...
nError in the called contract (0x122ee286210b266018e376f8e7c5899ac0a13412d5a8dfb9de20900f1ac6e4d):\n'CairoFunctionRunner' object has no attribute 'vm'""}.
```","",""
"1138759348147990529","th0rgal.","25/08/2023 3:49 pm","I am not sure to understand what that means and how I can fix it.","",""
"1138759348147990529","th0rgal.","25/08/2023 3:51 pm","Here is the full output:
https://gist.github.com/Th0rgal/918af0b523258094152da7b3d5e9c473","",""
"1138759348147990529","th0rgal.","25/08/2023 3:56 pm","Hmm it seems the issue came from `0x00eafb0413e759430def79539db681f8a4eb98cf4196fe457077d694c6aeeb82` which was not a my actual contract class hash","",""
"1009420542392152094","igorurbanik","29/08/2023 3:55 pm","Started a thread.","",""
"824656313475924018","zvereva18","29/08/2023 9:47 pm","I try to deploy a contract with guide on book.starknet protostar, but I always get this error:

[ERROR] Client failed with code 400: {""code"": ""StarknetErrorCode.CLASS_ALREADY_DECLARED"", ""message"": ""Class with hash 0x3c57c8652ad760024c571ca2c85c024b0b37ee30e17ca43d40295cb912bee03 is already declared.\n0x24ad72e8badbfe1a4f1172a5707f2737fd54a1f7e92a2e424724b98c434ccc9 != 0""}.

How to fix it?","",""
"1009420542392152094","igorurbanik","30/08/2023 2:35 pm","Started a thread.","",""
"1009420542392152094","igorurbanik","30/08/2023 2:42 pm","Started a thread.","",""
