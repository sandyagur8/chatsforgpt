AuthorID,Author,Date,Content,Attachments,Reactions
"391277284142612480","furkann44","12/10/2020 9:34 pm","hello, data is not updated in subgraph api what is the problem","",""
"759605824825458738","michaelstone#5047","12/10/2020 9:35 pm","@furkann44 Hi I'm also looking at subgraph data. What do you mean data is not updated?","",""
"759605824825458738","michaelstone#5047","12/10/2020 9:36 pm","Hi guys I'm looking at Token entity data with below query:
{
tokens
  (
    where: {symbol:""HKMT""}
  )
  {
    id
    symbol
    tradeVolumeUSD
    untrackedVolumeUSD
  }
}","",""
"759605824825458738","michaelstone#5047","12/10/2020 9:36 pm","{
  ""data"": {
    ""tokens"": [
      {
        ""id"": ""0xc8c97d9b0af219c2329a0179f6ab8c7a55b39fc1"",
        ""symbol"": ""HKMT"",
        ""tradeVolumeUSD"": ""259648.8145817746885242134243642378"",
        ""untrackedVolumeUSD"": ""259801.1160595736665165810092088917""
      }
    ]
  }
}","",""
"759605824825458738","michaelstone#5047","12/10/2020 9:36 pm","Does anyone know the difference between ""tradeVolumeUSD"" and ""untrackedVolumeUSD"". I thought a token is either tracked or not. So suppose with one of the value should be zero?","",""
"391277284142612480","furkann44","12/10/2020 9:38 pm","> @furkann44 Hi I'm also looking at subgraph data. What do you mean data is not updated?
@michaelstone { pair(id:""0xc2923b8a9683556a3640ccc2961b2f52b5c4459a""){
                                    id
                                    token0 {
                                      id
                                      symbol
                                      name
                                      decimals
      
                                    }
                                    token1 {
                                      id
                                      symbol
                                      name
                                      decimals
      
                                    }
                                    token0Price
                                    token1Price
                                    volumeToken0
                                    volumeToken1
                                    reserve0
                                    reserve1
                                    totalSupply
                                    reserveETH
                                    reserveUSD
                                    trackedReserveETH
                                    volumeUSD
                                    untrackedVolumeUSD
                                    txCount
                                    createdAtTimestamp
                                    createdAtBlockNumber
                                    liquidityProviderCount
                                  }
                                }","",""
"391277284142612480","furkann44","12/10/2020 9:38 pm","For example, the data from this query I sent is sometimes up-to-date and sometimes out of date.","",""
"759605824825458738","michaelstone#5047","12/10/2020 9:43 pm","@furkann44 Hey just ran the query and it works fine. This entity doesn't have date column. How did you know the information is not up to date? I thought the way subgraph is structured the data is fed in directly from blockchain events","",""
"391277284142612480","furkann44","12/10/2020 9:46 pm","> @furkann44 Hey just ran the query and it works fine. This entity doesn't have date column. How did you know the information is not up to date? I thought the way subgraph is structured the data is fed in directly from blockchain events
@michaelstone eth price is out of date and busd value in swap section is different","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 9:56 pm","Hi, is there a way to get all SWAPS for the particular address?","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 9:56 pm","I am trying to use swaps()","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 9:56 pm","swaps (where: {to_in:$ethAddreses}) {
            transaction {
               id
            }
            timestamp
            pair {
               token0 {
                 symbol
               }
               token1 {
                symbol
               }
            }
            to
            amountUSD
            amount0In
            amount1In
            amount0Out
            amount1Out
        }","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 9:56 pm","but I can only see swaps related to TO field","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 9:56 pm","is there a way to get both","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 10:36 pm","anyone?","",""
"759605824825458738","michaelstone#5047","12/10/2020 10:54 pm","@BlockchainDev hey can you give me an address as an example? Let me try run it.","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 10:55 pm","There is an address that is doing some swaps -> 0x1fc90b33EB3F34BffE6F763912e1B9b7bD067552","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:15 pm","@BlockchainDev Hey are you saying query below should be returning records?
{
  swaps 
(
  where: 
    {sender:""0x1fc90b33EB3F34BffE6F763912e1B9b7bD067552""},
) 
  {
            transaction {
               id
            }
            timestamp
            pair {
               token0 {
                 symbol
               }
               token1 {
                symbol
               }
            }
            to
            amountUSD
            amount0In
            amount1In
            amount0Out
            amount1Out
        }
}","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:16 pm","well, yes","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:16 pm","as now the sender address is UNISWAP router","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:17 pm","and it should take into account that real sender is that address","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:17 pm","right?","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:19 pm","What's wrong with address of UNISWAP router as address? As it's exchanging coin with the liquidity pool","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:19 pm","Also if you are comparing below:
https://info.uniswap.org/account/0x1fc90b33EB3F34BffE6F763912e1B9b7bD067552","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:19 pm","https://etherscan.io/address/0x1fc90b33eb3f34bffe6f763912e1b9b7bd067552","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:19 pm","I see all records is there, no?","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:20 pm","My understanding of swap table is that when a swap say ETH for CORE happens, it records a single row in swap table","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:20 pm","Sender is the router address and to is the user account address. Looks right to me, no?","",""
"759605824825458738","michaelstone#5047","12/10/2020 11:22 pm","@furkann44 Hey so back to your question, maybe there is a lag from swap event to updating pair table. I wouldn't use Pair table for latest price like ETH. I would use it as Pair meta info like pair address, token address, cumulative volume etc.","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:32 pm","Ah, you are right ... however when someone initiates a swap using ETH, it first goes to ROUTER that converts into WETH and then it is swapped. In that case there is no record row in a swap table.","",""
"759392894661820418","BlockchainDev#7761","12/10/2020 11:32 pm","Am I correct?","",""
"759605824825458738","michaelstone#5047","13/10/2020 1:50 am","@BlockchainDev yes I guess so since v2 uses wETH now. So ETH->CORE includes two legs: ETH->WETH THEN WETH->CORE. Guess first leg won't be in the swap table but this leg isn't really that interesting any wya","",""
"759392894661820418","BlockchainDev#7761","13/10/2020 1:51 am","unless one wants to get all data for the address","",""
"759392894661820418","BlockchainDev#7761","13/10/2020 1:51 am","but it's on the chain anyway","",""
"759392894661820418","BlockchainDev#7761","13/10/2020 1:51 am","so there is a way to get it","",""
"759605824825458738","michaelstone#5047","13/10/2020 2:47 am","@BlockchainDev hey quick q so you know the difference of tradeVolumeUSD vs untrackedVolumeUSD in the Token table? My understanding is that uniswap has a list of tokens they track. So can I assume of the two is the total volume in usd?","",""
"759392894661820418","BlockchainDev#7761","13/10/2020 2:58 am","not sure to be honest","",""
"759605824825458738","michaelstone#5047","13/10/2020 3:16 am","np tks","",""
"739972431157919794","neverland_once23","13/10/2020 3:29 am","@michaelstone What does np mean?","",""
"739972431157919794","neverland_once23","13/10/2020 3:30 am","You mean thx right?","",""
"607965271759519747","Ian Lapham#0307","13/10/2020 4:28 am","untrackedVolumeUSD is for tokens that dont have a ""strong"" USD price, which literally means a pair with any token from a whitelist, with a certain threshold of lps and liquidity https://github.com/Uniswap/uniswap-v2-subgraph/blob/0191b3f855ef011c3166a4adbfb51ddcfbbf6e6d/src/mappings/pricing.ts#L100","",""
"355229742917615616","fma#8096","13/10/2020 6:55 am","does subgraph swap query will also return the routed swaps?","",""
"355229742917615616","fma#8096","13/10/2020 6:55 am","not with direct pair","",""
"355229742917615616","fma#8096","13/10/2020 6:55 am","for ex, eth -> abc -> xyz and there is no eth , xyz pair","",""
"355229742917615616","fma#8096","13/10/2020 6:56 am","would it return this transaction in swap?","",""
"759605824825458738","michaelstone#5047","13/10/2020 8:46 pm","@Ian (dev) 🦄 [No DMs] Thanks Ian. So based on the code logic, for a given swap,  either one of tradeVolumeUSD or untrackedVolumeUSD should be zero. Then looking at Token table, can I add up tradeVolumeUSD  and untrackedVolumeUSD  to assume it's total USD volume?","",""
"759605824825458738","michaelstone#5047","13/10/2020 8:51 pm","@fma my guess is that it will add one single line to the swap table showing. See below:
https://github.com/Uniswap/uniswap-v2-subgraph/blob/0191b3f855ef011c3166a4adbfb51ddcfbbf6e6d/src/mappings/core.ts#L399
Around Line 490","",""
"607965271759519747","Ian Lapham#0307","13/10/2020 9:17 pm","@michaelstone No not exactly. In some cases untrackedVolume and trackedVolume will be very similar (if the pair starts with a strong USD price). Its more of a choice of what metric youre trying to show. If theres a chance a token has a pair thats not well arbed or has a innacurate price in some pair, use tracked, if the token is mainly paired with ETH at a good rate but just has low liquidity - use untracked until tracked becomes populated","",""
"759605824825458738","michaelstone#5047","13/10/2020 9:25 pm","@Ian (dev) 🦄 [No DMs] I see thanks!","","👍🏻 (1)"
"759605824825458738","michaelstone#5047","13/10/2020 10:07 pm","@Ian Hey Ian a side question, how difficult is it to run the uniswap subgraph locally so I can play with different handling of events?","",""
"607965271759519747","Ian Lapham#0307","13/10/2020 10:08 pm","@michaelstone not too hard, you just have to run a local graph node","",""
"607965271759519747","Ian Lapham#0307","13/10/2020 10:08 pm","their docs walk you through that","",""
"759605824825458738","michaelstone#5047","13/10/2020 10:08 pm","ok got it thx man","","👍🏻 (1)"
"641131072532250624","guccitroll","14/10/2020 12:22 am","> @Ian Hey Ian a side question, how difficult is it to run the uniswap subgraph locally so I can play with different handling of events?
@michaelstone if you don't want to/can't run a node locally, you can fork Uniswap's subgraph and deploy your own subgraph","",""
"759605824825458738","michaelstone#5047","14/10/2020 12:24 am","@guccitroll good idea thx. Will give it a try so I can customize the graph","","👍 (1)"
"759605824825458738","michaelstone#5047","15/10/2020 5:20 am","Hi just a quick question on the scale of data in subgraph. For example how many rows in the Transaction/Min/Swap/Burn table? I mean v2 subgraph.","",""
"557493907508822026","EggzDealer#2928","15/10/2020 6:51 pm","Hello My People, is there is way to create an API to Automate trade in Uniswap?","",""
"739972431157919794","neverland_once23","15/10/2020 9:25 pm","@michaelstone I have no idea to lol","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:13 pm","Hi, I am trying to figure out a way to get all swaps per specific address. I am using the following graph:","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:13 pm","swaps (where: {to_in:$ethAddreses}) {
            transaction {
               id
            }
            timestamp
            pair {
               token0 {
                 symbol
               }
               token1 {
                symbol
               }
            }
            to
            amountUSD
            amount0In
            amount1In
            amount0Out
            amount1Out
        }","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:14 pm","it returns the swaps, however when I do a swap: ERC-20 in / ETH out -> it does not get shown in the results of the query","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:14 pm","is there a way to get that info from graph? Any help will be appreciated.","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:57 pm","another question is do you sync to swap table all swaps from all pairs?","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:58 pm","I've just done a test swap, the block I did it in is apparently already synced but the swap does not show in the swap query result","",""
"759392894661820418","BlockchainDev#7761","16/10/2020 3:58 pm","how long one have to wait to get the swap synced? Any idea on that?","",""
"678691888823271459","pegahcarter","19/10/2020 7:57 am","Is there a difference between these two lines?  If so, what?
```
import { ApolloClient, InMemoryCache } from ""@apollo/client"";
```
```
import { ApolloClient } from ""apollo-client"";
import { InMemoryCache } from ""apollo-cache-inmemory"";
```","",""
"678691888823271459","pegahcarter","19/10/2020 7:58 am","> it returns the swaps, however when I do a swap: ERC-20 in / ETH out -> it does not get shown in the results of the query
@BlockchainDev Is there a WETH pair instead for the ERC-20?","",""
"750386461903421450","joRock#7318","21/10/2020 2:13 pm","This issue has been posted before, but I couldn't find any answers.","",""
"750386461903421450","joRock#7318","21/10/2020 2:14 pm","Does anyone know why 'mostLiquidPairs' is always empty?","https://cdn.discordapp.com/attachments/765222888617017365/768394182413778964/GraphUniswap.png",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:17 pm","hi, I am trying to get the price of the specific token (pair). Any idea what should I put in where here:","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:17 pm","{
 pairs(where: {}){
  token0 {
    id
    symbol
  }
  token0Price
  token1 {
    id
    symbol
  }
  token1Price
}
}","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:18 pm","I need to get it per token symbol","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:38 pm","That should work according to graphql:","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:38 pm","{
 pairs(where: {token0:{symbol:""UNI""}}){
  token0 {
    id
    symbol
  }
  token0Price
  token1 {
    id
    symbol
  }
  token1Price
}
}","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:38 pm","but I have issue to run on uniswap subgraph","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:38 pm","any ideas?","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:45 pm","it looks like I can not query where with nested data","",""
"759392894661820418","BlockchainDev#7761","21/10/2020 3:45 pm","is that correct?","",""
"750711538750324807","Manish#2826","21/10/2020 4:14 pm","How to get specific pair 24 hr volume?","",""
"750711538750324807","Manish#2826","21/10/2020 4:55 pm","Any comment ?","",""
"345901078853976064","ololotor","22/10/2020 1:48 am","Hi guys! Is there any way to receive from subgraph current amount of any token I get for 1 ETH?","",""
"763720518263898172","sachin08jain#2928","22/10/2020 2:21 pm","How to get specific pair 24 hr volume?","",""
"723593716534870118","JASON_JIAN#9811","22/10/2020 11:32 pm","can any one help me with my contract , i can use node.js  for interact with uniswap sdk but not for my  contract , what went wrong on this ?i want swap some weth for tokens","",""
"723593716534870118","JASON_JIAN#9811","22/10/2020 11:32 pm","","https://cdn.discordapp.com/attachments/765222888617017365/768897068650856498/unknown.png",""
"723593716534870118","JASON_JIAN#9811","22/10/2020 11:34 pm","the transaction shows it went to my contract then fail.","",""
"723593716534870118","JASON_JIAN#9811","22/10/2020 11:34 pm","and  reverted my weth","",""
"759605824825458738","michaelstone#5047","22/10/2020 11:59 pm","@sachin08jain Hey you can use PairDayData entity","",""
"152089247254315008","xavier59","25/10/2020 11:10 pm","How can I get the price of a pair at a specific transaction ?","",""
"152089247254315008","xavier59","25/10/2020 11:10 pm","```
  swaps(first: 100, orderBy: timestamp, where: {pair: ""0xa478c2975ab1ea89e8196811f51a7b7ade33eb11"" })  {
    transaction {
      blockNumber
      timestamp
    }
    pair {
      token0Price
      token1Price
      token0 {
        symbol
      }
      token1 {
        symbol
      }
    }
    amount0In
    amount0Out
    amount1In
    amount1Out
  }
  
}
```","",""
"152089247254315008","xavier59","25/10/2020 11:10 pm","Unfortunately, this will return the actual price, and not the price at the time of the tx","",""
"171102499057565697","ncitron","26/10/2020 1:33 am","Is there any plans to update the uniswap subgraph on The Graph to include governance information?","",""
"152089247254315008","xavier59","26/10/2020 2:36 am","So I forked the github repo and added the following in `core.ts` :

```
  swap.reserve0Before = amount0In > amount0Out ? pair.reserve0.minus( amount0Out.plus(amount0In) ) : pair.reserve0.plus( amount0Out.plus(amount0In) )
  swap.reserve1Before = amount1In > amount1Out ? pair.reserve1.minus( amount1Out.plus(amount1In) ) : pair.reserve1.plus( amount1Out.plus(amount1In) )
  swap.reserve0After = pair.reserve0
  swap.reserve1After = pair.reserve1
```

This seem to do the job. Hope my math are correct.","",""
"759605824825458738","michaelstone#5047","26/10/2020 2:54 am","@Xavier59  Pair table only records latest price information so cannot tell you about the price when you do the transaction.  Your pair is for dai/eth so you can use amount0in/amount1out or amount0out/amount1in to get the eth price in dai at the time of transaction.","",""
"759605824825458738","michaelstone#5047","26/10/2020 2:55 am","If you want dollar price, then need a way to pull eth price in dollar. For example coinbase price api feed for this.","",""
"152089247254315008","xavier59","26/10/2020 2:55 am","@michaelstone that's true. I could have used this ratio to calculate back the price -_- guess I learnt to dev for thegraph at least lol","",""
"759605824825458738","michaelstone#5047","26/10/2020 2:56 am","@Xavier59 yes agree it's better to able to run this locally so can customize anyway you want. I think soon the graph will start charging people for using the api. They just raised $13mm. Need to justify for the valuation","",""
"152089247254315008","xavier59","26/10/2020 2:57 am","I was so surprised it was fully free yes ...","",""
"759605824825458738","michaelstone#5047","26/10/2020 2:58 am","@Xavier59 Btw what infra do you use to run this locally? I mean local graph node + local Ethereum full node. I'm on windows not able to get it working so far","",""
"152089247254315008","xavier59","26/10/2020 3:00 am","@michaelstone I'm not running it locally. Sorry if I was not clear 😄  I deployed my custome subgraph directly on the graph.
However, the idea to get it running locally is tempting ... even more if they are going with a pricing modele soon.","",""
"759605824825458738","michaelstone#5047","26/10/2020 3:06 am","@Xavier59  I see np man","",""
"759605824825458738","michaelstone#5047","26/10/2020 4:28 am","@Ian (dev) 🦄 [No DMs] Hey quick q, I see following line in the swap table:
{
  ""data"": {
    ""swaps"": [
      {
        ""amount0In"": ""15045255"",
        ""amount0Out"": ""15000000"",
        ""amount1In"": ""0"",
        ""amount1Out"": ""0"",
        ""id"": ""0x045b60411af18114f1986957a41296ba2a97ccff75a9b38af818800ea9da0b2a-0"",
        ""pair"": {
          ""token0"": {
            ""symbol"": ""DAI""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""timestamp"": ""1601342548""
      }
    ]
  }
}","",""
"759605824825458738","michaelstone#5047","26/10/2020 4:28 am","Is this correct? There is no eth in/out but only dai in and out?","",""
"152089247254315008","xavier59","26/10/2020 5:14 am","Looks like arbitrage to me @michaelstone","",""
"152089247254315008","xavier59","26/10/2020 5:14 am","Checkout the tx on etherscan","",""
"152089247254315008","xavier59","26/10/2020 5:14 am","https://etherscan.io/tx/0x045b60411af18114f1986957a41296ba2a97ccff75a9b38af818800ea9da0b2a","",""
"152089247254315008","xavier59","26/10/2020 5:17 am","Seems related to this : https://www.coindesk.com/eminence-exploit-defi-compensated","",""
"759605824825458738","michaelstone#5047","26/10/2020 5:33 am","@Xavier59 thx. Wasn't aware of this.","",""
"242642387350847488","nosesforsale","26/10/2020 8:08 pm","anyone getting outdated data from the subgraph for certain tokens?","",""
"242642387350847488","nosesforsale","26/10/2020 8:10 pm","e.g. https://etherscan.io/token/0xfb925821eef8dfabe2788b322f436088650551cc vs. https://info.uniswap.org/pair/0xc999fBb8F9E7f0bBA13c9E1B31d71E0996B44f48","",""
"143778476611207168","clubsandwitch","26/10/2020 11:16 pm","is the api having issues?","",""
"143778476611207168","clubsandwitch","26/10/2020 11:16 pm","https://info.uniswap.org/pair/0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc","",""
"143778476611207168","clubsandwitch","26/10/2020 11:16 pm","volume spikes massively on this pair? is this correct?","",""
"759605824825458738","michaelstone#5047","27/10/2020 5:42 am","@Club-Sandwitch Seems someone took massive flash loan on usdc/weth pair. See below. I've no idea what this is for though. Related to curve.fi:","https://cdn.discordapp.com/attachments/765222888617017365/770439813576130580/unknown.png",""
"759605824825458738","michaelstone#5047","27/10/2020 5:43 am","One of the transaction here:
https://etherscan.io/tx/0x35f8d2f572fceaac9288e5d462117850ef2694786992a8c3f6d02612277b0877","",""
"759605824825458738","michaelstone#5047","27/10/2020 5:48 am","What this is for aside. I don't think flash loan should be counted as pair trading volume. They should be excluded from the stats","",""
"759605824825458738","michaelstone#5047","27/10/2020 6:29 am","Never mind. It's related to the attach just happened on harvest.finance.","",""
"193962172479438848","carrymepleaE#0610","27/10/2020 10:20 am","Anyone know how to get data from pairHourData on thegraph?","",""
"193962172479438848","carrymepleaE#0610","27/10/2020 10:20 am","what is the id argument parameter its not just pair id","",""
"740875100890595378","cross_jang#1323","27/10/2020 12:29 pm","@carrymepleaE  Just query like that","",""
"740875100890595378","cross_jang#1323","27/10/2020 12:30 pm","if you want to pairHourData of ???/ dai","",""
"740875100890595378","cross_jang#1323","27/10/2020 12:30 pm","query

```
query tokenDayDatas($tokenAddr: String!, $skip: Int!) {
    tokenDayDatas(first: 1000, skip: $skip, orderBy: date, orderDirection: desc, where: {token: $tokenAddr}) {
        id
        date
        priceUSD
        totalLiquidityToken
        totalLiquidityUSD
        totalLiquidityETH
        dailyVolumeETH
        dailyVolumeToken
        dailyVolumeUSD
        mostLiquidPairs {
            id
            token0 {
                id
                derivedETH
                __typename
                
            }
            token1 {
                id
                derivedETH
                __typename
                
            }
            __typename
            
        }
        __typename
    }
}
```","",""
"740875100890595378","cross_jang#1323","27/10/2020 12:31 pm","variables
```
{
    ""tokenAddr"": ""0x6b175474e89094c44da98b954eedeac495271d0f"", ""skip"": 0
    
}
```","",""
"770653286843809814","andre77#2813","27/10/2020 8:19 pm","Hi everybody! 🖖","",""
"770653286843809814","andre77#2813","27/10/2020 8:25 pm","i have a little question regarding the uniswap API
richt now i can fetch the hourly statistics for a particular pair using the query ""pairHourDatas""
to get the volume 24h in USD, i simply iterate over the last 24 entries
for example the pair ETH-AMPL https://info.uniswap.org/pair/0xc5be99a02c6857f9eac67bbce58df5572498f40c

the problem is, that my calculated volume differs a little bit from the value provided on the info.uniswap.org page (see the link above)

spent a lot of time trying to find out, how the volume on that site is calculated, i would like to have exactly the same value using the API","",""
"759605824825458738","michaelstone#5047","27/10/2020 8:40 pm","@andre77 
https://github.com/Uniswap/uniswap-v2-subgraph/blob/b2134b8aef10cb37908546e42eaa733dc96c8ead/src/mappings/dayUpdates.ts

export function updatePairDayData(event: EthereumEvent): PairDayData {
  let timestamp = event.block.timestamp.toI32()
  let dayID = timestamp / 86400
  let dayStartTimestamp = dayID * 86400","",""
"759605824825458738","michaelstone#5047","27/10/2020 8:40 pm","See above I think they use timestamp/86400 to get day id then anything falls into day id get counted as volume","",""
"759605824825458738","michaelstone#5047","27/10/2020 8:42 pm","I wouldn't count what you see on uniswap.info as perfect correct. For example flash loan volumen ($950mm in usdt/weth pair) gets counted as volume. But flash loan is not really a trading volume","",""
"770653286843809814","andre77#2813","27/10/2020 8:47 pm","thanks @michaelstone","",""
"161481008439492608","FractalKraken#6282","29/10/2020 8:39 pm","UniswapV2 Subgraph dead? Many blocks behind, marked as ""Syncing 100%"" on the graph explorer https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2","",""
"689478984907751477","immasandwich#1993","30/10/2020 5:21 am","We're showing pool volume for the last 24 hours with the `uniswap/uniswap-v2` subgraph by summing the last 24 hours using the `pairHourDatas` query. We've been doing this for a while, but today, we're getting a lot of instances of: `Received pair hour data:  {""errors"":[{""message"":""query is too expensive""}]}`","",""
"689478984907751477","immasandwich#1993","30/10/2020 5:22 am","wait someone was just asking about something similar 3 posts up.... reading 🤓","",""
"765539783568261120","john.crypto","30/10/2020 6:31 pm","Hello, is there anyone who has the query to see the pool for a given eth adress ?  thanks","",""
"765539783568261120","john.crypto","30/10/2020 6:42 pm","`{
  users(where: {id:""""}){
    id
    liquidityPositions {
      pair {
        token0{
          name
        }
        token1{
          name
        }
      }
      liquidityTokenBalance
    }
  }
}`","","👍 (1)"
"765539783568261120","john.crypto","30/10/2020 6:42 pm","it works with that, just put your eth adress between the """"","",""
"695592920363040830","OatMan#0321","01/11/2020 5:00 pm","how would i got about getting the current price of a token via the uniswap-v2 graph? I noticed the ""TokenDayData"" but cant seem to get it to work.. new to GraphQL","",""
"695592920363040830","OatMan#0321","01/11/2020 5:04 pm","`{
  tokenDayDatas(first:5)
  {
    id
    date
    priceUSD
    token {
      symbol
    }
  }
}`","",""
"695592920363040830","OatMan#0321","01/11/2020 5:21 pm","actually I think an open API would better fit for what I'm doing. But would be nice to know if getting the price from uniswap-v2 graph is possible.","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:06 pm","I have a simple question. Can some one suggest which api to use to get data to be able to display chart using trading view?","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:07 pm","@johncrypto can you please help🖕","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:10 pm","@moody 💭 can you please help👆","",""
"383836935480803339","sendmoodz","02/11/2020 10:11 pm","idk anything about trading view, if you want price data the most recent data is available directly from an eth node. if you want historical data i suggest using the graph in the same way info.uniswap.org does","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:12 pm","We are looking for realtime data to show in trading view charts..is there any article available on how to achieve this please?","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:15 pm","I mean documentation or article on how to fetch recent data from eth node pls .. @moody 💭 ..your help is much appreciated 🙏","",""
"383836935480803339","sendmoodz","02/11/2020 10:17 pm","https://uniswap.org/docs/v2/advanced-topics/pricing/","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:19 pm","Thank you. For realtime swap info, can we use subgraph? Or you suggest eth node?","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:21 pm","@moody 💭 ..can you please also share the article for historical pricing data using sub graph?","",""
"383836935480803339","sendmoodz","02/11/2020 10:21 pm","please look through the docs for it","",""
"383836935480803339","sendmoodz","02/11/2020 10:21 pm","the subgraph is not up to date","",""
"383836935480803339","sendmoodz","02/11/2020 10:21 pm","can be very late","",""
"744880094559862905","KiranMannam#4995","02/11/2020 10:21 pm","Oops!","",""
"193962172479438848","carrymepleaE#0610","03/11/2020 2:21 am","Is the way to get historical pricing for transactions just get the reserve pairs, calculate all swaps, burns, and mints to get current k number at that time to calculate price?","",""
"713403148357599364","wen#0233","03/11/2020 9:26 pm","Hi I have a question about the volume_usd for pair ETH-USDT.
https://info.uniswap.org/pair/0x0d4a11d5eeaac28ec3f61d100daf4d40471f1852
There is a suspicious spike in volume_usd (value: 1.03 billion) on 2020.10.26.
Yet if I look up the tokens page for ETH this volume doest not count in.  https://info.uniswap.org/token/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2

Is it a bug or I misunderstand something? Thanks in advanced.","",""
"713403148357599364","wen#0233","03/11/2020 9:42 pm","@moody 💭  could you please help with this? thanks","",""
"301186049323958275","sky.cactus","03/11/2020 9:49 pm","@wen please don't cold mention people.","",""
"713403148357599364","wen#0233","03/11/2020 9:50 pm","sorry wont do there anymore","",""
"759605824825458738","michaelstone#5047","03/11/2020 10:40 pm","@wen it's because of this:
https://news.bitcoin.com/defi-protocol-harvest-finance-hacked-for-24-million-attacker-returns-2-5-million/","",""
"713403148357599364","wen#0233","03/11/2020 10:45 pm","interesting! thanks for the help. yet still not fully understand how does this affect  pair ETH-USDT data but not WETH volume_usd data","",""
"759605824825458738","michaelstone#5047","03/11/2020 11:05 pm","@wen good question. It's because hacker is using flash loan and uniswap subgraph count flash loan as trading volume do. I think those should be excluded.","","👍 (1)"
"543449059189456923","nikolaruls#0745","04/11/2020 9:13 am","Hello
what is alternative of https://api.uniswap.info/v2/summary and https://api.uniswap.info/v2/summary api endpoints
they are not working anymore
?","",""
"426046102173777935","shimingliu","04/11/2020 7:09 pm","hi, anyone knows how to get UNI reward data by api https://cdn.discordapp.com/attachments/607978109089611786/773515580711239690/unknown.png","",""
"426046102173777935","shimingliu","04/11/2020 7:09 pm","I think the https://uniswap.org/docs/v2/API/queries/ don't have this data","",""
"426046102173777935","shimingliu","04/11/2020 8:05 pm","@Ian (dev) 🦄 [No DMs]","",""
"607965271759519747","Ian Lapham#0307","04/11/2020 9:20 pm","There is no way to get that data through the API, youll need to query the contracts directly","",""
"713403148357599364","wen#0233","05/11/2020 2:43 pm","> @wen good question. It's because hacker is using flash loan and uniswap subgraph count flash loan as trading volume do. I think those should be excluded.
@michaelstone it seems like it. thanks for the explanation.","",""
"539629720367530020","Reboot#8916","06/11/2020 7:50 am","I want to get an API key for testing, but there is no reply after sending the form as requested. How do I apply?","https://cdn.discordapp.com/attachments/765222888617017365/774095873877213215/unknown.png",""
"636411966239408138","jigs1996#7076","06/11/2020 3:08 pm","How to get values which are show in this image
using uniswapv2 subgraph api
i am new to subgraph api","https://cdn.discordapp.com/attachments/765222888617017365/774206024386609163/unknown.png",""
"620891729767301133","Johnson Ogwuru#0355","06/11/2020 4:50 pm","When trying to run the subgraph locally, i get this error, anyone knows why that is happening? 
```Failed to invoke handler 'handleNewPair': `ipfs.cat` is deprecated. Improved support for IPFS will be added in the future```","",""
"607965271759519747","Ian Lapham#0307","06/11/2020 11:59 pm","@Johnson Ogwuru did you make any changes? ipfs.cat isnt supported rn in mappings, not deterministic","",""
"607965271759519747","Ian Lapham#0307","07/11/2020 12:00 am","Actually will need to make a change on the master branch, theres a util using that method that shouldnt be","",""
"607965271759519747","Ian Lapham#0307","07/11/2020 12:01 am","if you pull from this commit should be fine https://github.com/Uniswap/uniswap-v2-subgraph/commit/52e385e1a9937217fdfec4e5e4fd063a81161446","",""
"620891729767301133","Johnson Ogwuru#0355","07/11/2020 12:02 am","Alright thanks @Ian (dev) 🦄 [No DMs] will do","",""
"759605824825458738","michaelstone#5047","07/11/2020 4:11 am","@Johnson Ogwuru Hey I'm looking to run the subgraph locally as well. Just curious what's the setup you use? For example do you use a locally run ethereum node? I thought the hardware requirement was quite prohibitive. Thanks!","",""
"620891729767301133","Johnson Ogwuru#0355","07/11/2020 4:00 pm","@michaelstone I'm actually working with a fork of ethereum,  a simnet to be precise, I deployed the Uniswap contracts ontop of it, added liquidity and swapped tokens successfully,  so was a bit easier for me to test out the subgraphs","",""
"759605824825458738","michaelstone#5047","07/11/2020 9:06 pm","@Johnson Ogwuru I see thx","",""
"707546494542020659","bobtomine#5150","10/11/2020 12:22 pm","Hi. Where I could find Uniswap swap widget for my website?","",""
"175234260783988736","camperrr","13/11/2020 12:41 pm","Hello. Anyone have example how can I use graph sandbox from python?","",""
"456226577798135808","Deleted User","13/11/2020 3:02 pm","is there sth like https://api.bittrex.com/api/v1.1/public/getmarketsummaries
 ?","",""
"456226577798135808","Deleted User","13/11/2020 3:03 pm","@jigs1996 did you figure it?","",""
"759605824825458738","michaelstone#5047","13/11/2020 10:02 pm","@Deleted User I don't think so. I'm looking to build something like this. Happy to share if interested","",""
"759605824825458738","michaelstone#5047","13/11/2020 10:04 pm","@camper I use below and so far so good:
https://github.com/graphql-python/gql","","👍 (1)"
"458751954772951061","nir.eth","14/11/2020 12:22 am","Hey 🙂 waiting on our API access token for several days now. Any recommendations on the application process?
Thanks in advance !","",""
"301186049323958275","sky.cactus","14/11/2020 12:56 am","@nir Use subgraph, not the legacy API.","",""
"301186049323958275","sky.cactus","14/11/2020 12:57 am","I don't know that they are giving out those API keys anymore.  Everyone should be using subgraph going forward.","",""
"656284933374869529","damiwack#0300","15/11/2020 1:39 am","> Hi. Where I could find Uniswap swap widget for my website?
@bobtomine hi .. i use iframe.. https://uniswap.org/docs/v2/interface-integration/iframe-integration/","",""
"707546494542020659","bobtomine#5150","15/11/2020 12:59 pm","Thank you Man!","",""
"451156967105232906","sagat#8699","15/11/2020 2:57 pm","Helklo","",""
"451156967105232906","sagat#8699","15/11/2020 2:57 pm","This query is from the example queries of the docs:","",""
"451156967105232906","sagat#8699","15/11/2020 2:58 pm","```
{
 pairDayDatas(first: 100, orderBy: date, orderDirection: asc,
   where: {
     pairAddress: ""0x0054c61a19e307ddd3ff81746487d7526f8c4a76"",
     date_gt: 1592505859
   }
 ) {
     date
     dailyVolumeToken0
     dailyVolumeToken1
     dailyVolumeUSD
     reserveUSD
 }
}
```","",""
"451156967105232906","sagat#8699","15/11/2020 2:58 pm","works wonderful, but I was wondering on how to create the hourly query","",""
"451156967105232906","sagat#8699","15/11/2020 3:24 pm","Hello Hello?","",""
"451156967105232906","sagat#8699","15/11/2020 4:23 pm","Hello anyone that could help?","",""
"451156967105232906","sagat#8699","15/11/2020 5:27 pm","Basically I want to generate OHLCV Data. The PairDailyDatas query delivers the days but the timestamp is always 12:00 UTC time. In Order to generate a 24h change in absolute and percentage I would need to have more precise data, cuz the crypto market never sleeps. is here anyone Who has experience with that?","",""
"759605824825458738","michaelstone#5047","15/11/2020 8:34 pm","@sagat from the subgraph code I recall pairDayData is based on timestamp / 86400 so it's always fixed 24 hour not moving 24 hours. You would need to keep track of all the swap trades then calculate OHLCV  youself. Current graph doesn't support this","",""
"593179283061735475","lefterisjp","15/11/2020 10:24 pm","Hey guys, I have a question. What's a good way to get the swaps for an address including those to which it's not the `to` recipient.

e.g. for address `0x21d05071cA08593e13cd3aFD0b4869537e015C92` and for this swap transaction: https://etherscan.io/tx/0xa1cc9423122b91a688d030dbe640eadf778c3d35c65deb032abebcba853387f5#home, by querying the subgraph for swaps with to being `0x21d05071cA08593e13cd3aFD0b4869537e015C92` we only get the last part of the trade (the swap with event index 77), but not the onewith index 74.

I am not sure what's the best way to query for all swaps of an address? SwapFilter does not seem to work with from?","",""
"772166755082436688","daynabob#0436","15/11/2020 11:20 pm","hey, anyone can help with how to use subgraph to get price feed?","",""
"772166755082436688","daynabob#0436","16/11/2020 12:04 am","is it correct that subgraph doesnt consider pending tx?","",""
"759605824825458738","michaelstone#5047","16/11/2020 1:53 am","@daynabob You are right it does not","",""
"772166755082436688","daynabob#0436","16/11/2020 1:55 am","@michaelstone would you be able to advise what is the correct way to get accurate price feed from uniswap? do i need to use some price oracle?","",""
"759605824825458738","michaelstone#5047","16/11/2020 1:59 am","@daynabob  I'm not aware of such oracle for uniswap exists at the moment. As mentioned you would need to monitor all the swap trades on uniswap then calculate yourself. I'm in the process of building one for myself. If you are interested  I may be looking to open up an api for this.","",""
"772166755082436688","daynabob#0436","16/11/2020 1:59 am","yeah definitely interested","",""
"772166755082436688","daynabob#0436","16/11/2020 2:00 am","how are you building it? so you will monitor pending transactions and apply to the last block prices?","",""
"759605824825458738","michaelstone#5047","16/11/2020 2:04 am","@daynabob Yes will be monitoring completed transactions then take average. I wouldn't use pending transaction since those are subject to manipulation.","",""
"772166755082436688","daynabob#0436","16/11/2020 2:05 am","ok, but arent all completed tx already included in the last block? and if they are, then why do you need to take avg if you can just use bestTradeExactIn and then calc price from there?","",""
"772166755082436688","daynabob#0436","16/11/2020 2:21 am","@michaelstone","",""
"375373088558284802","desitoka","16/11/2020 2:27 am","subgraph is dead again","",""
"593179283061735475","lefterisjp","16/11/2020 3:08 am","> Hey guys, I have a question. What's a good way to get the swaps for an address including those to which it's not the `to` recipient.
> 
> e.g. for address `0x21d05071cA08593e13cd3aFD0b4869537e015C92` and for this swap transaction: https://etherscan.io/tx/0xa1cc9423122b91a688d030dbe640eadf778c3d35c65deb032abebcba853387f5#home, by querying the subgraph for swaps with to being `0x21d05071cA08593e13cd3aFD0b4869537e015C92` we only get the last part of the trade (the swap with event index 77), but not the onewith index 74.
> 
> I am not sure what's the best way to query for all swaps of an address? SwapFilter does not seem to work with from?


Regarding what I wrote above, perhaps the last commit of the subgraph from 5 days ago would help: https://github.com/Uniswap/uniswap-v2-subgraph/commit/a9ba250f847222ca2ece76635ea2d11ca06dc281

When/how is the subgraph in the graph's hosted service to reflect those changes?","",""
"775728438014115920","Hyperion#2826","16/11/2020 4:12 am","> subgraph is dead again
@Behemoth 

when will this end?","",""
"777810823900561450","leadsir#5652","16/11/2020 2:04 pm","how can i get the lastest price of the curriencies from the api?","",""
"777810823900561450","leadsir#5652","16/11/2020 2:16 pm","#🌐│subgraph-api","",""
"305854496439795712","dalvinchi","16/11/2020 11:13 pm","Where did you get the API keys","",""
"548285589909274624","patrick#6357","16/11/2020 11:57 pm","Why is uniswap.info typically hours behind in data? If I run on my own copy, can I connect to my own geth node for faster data? Do I need to create my own subgraph db as well?
Or how do you guys utilize it?","",""
"451156967105232906","sagat#8699","17/11/2020 3:57 am","Hi Peeps its me again","",""
"451156967105232906","sagat#8699","17/11/2020 3:57 am","🙂","",""
"451156967105232906","sagat#8699","17/11/2020 3:57 am","Question","",""
"451156967105232906","sagat#8699","17/11/2020 3:58 am","To get the current price from swaps","",""
"451156967105232906","sagat#8699","17/11/2020 3:58 am","I would take the most recent one","",""
"451156967105232906","sagat#8699","17/11/2020 3:58 am","```
{
  amount0In: '25833',
  amount0Out: '0',
  amount1In: '0',
  amount1Out: '0.583735922941410558',
  amountUSD: '257.4141021266512171886094127573814',
  id: 'sadasdasdasdasdasdasdasdasdasdasd',
  pair: {
    reserve0: '3911442.228075828605727597',
    reserve1: '85.891727176637693563',
    token0: {
      id: 'asdasdasdasdasdasd',
      symbol: 'asd'
    },
    token1: {
      id: 'adasdasdasdasdasdasdasdasdas',
      symbol: 'WETH'
    }
  },
  to: 'asdasdasdasdasdasd',
  transaction: {
    id: 'asdasdasdasdasdasdasdasdasdasd',
    timestamp: '1605472433'
  }
}
```","",""
"451156967105232906","sagat#8699","17/11/2020 3:59 am","My Price calculation looks something like this","",""
"451156967105232906","sagat#8699","17/11/2020 4:00 am","```
calculatePriceFromSwapData = (data, ethPrice) => {
  if (data.amount0In > 0) {
      return (bigDecimal.multiply(bigDecimal.subtract(data.pair.reserve1, data.amount1Out), ethPrice) / (bigDecimal.add(data.pair.reserve0, data.amount0In)))
  } else {
      return (bigDecimal.multiply(bigDecimal.add(data.pair.reserve1, data.amount1In), ethPrice) / (bigDecimal.add(data.pair.reserve0, data.amount0Out)))
  }
}
```","",""
"451156967105232906","sagat#8699","17/11/2020 4:00 am","where data has the structure of a swap Object.","",""
"451156967105232906","sagat#8699","17/11/2020 4:00 am","would u approve that or am I missing somethjing?","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:10 am","Can someone please explain what has happened to the Uniswap Subgraph??","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:11 am","I was using it for the first time 5 days ago","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:11 am","I wrote a simple price tracker which worked","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:12 am","Now the entire api is different when you go to the graph uniswap playground","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:12 am","Yet I cant find any documentation that anything changed","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:13 am","And if you go on uniswaps official api docs for the subgraph and copy and paste the query calls to the graphs playground you will get all errors 🤣 🤣 🤣  wtf??","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:13 am","So they changed the entire code base and never announced anything? This must of happened a few days ago","",""
"728420390858129470","silverbullet#9909","17/11/2020 11:13 am","Am I going crazy?","",""
"777810823900561450","leadsir#5652","17/11/2020 5:53 pm","@silverbullet can you show me how to use the api to get data?","",""
"759605824825458738","michaelstone#5047","17/11/2020 7:36 pm","@silverbullet It's working fine for me. I've been using same api for at least one month","",""
"778253693681532928","GJacobs#0227","17/11/2020 7:40 pm","Hi All, when I see this error often (once every hour or so, for a few minutes at a time):
(It seems to do with the DB setup that TheGraph uses: https://stackoverflow.com/questions/14592436/postgresql-error-canceling-statement-due-to-conflict-with-recovery)

```
2020-11-06 18:02:38,616 [ERROR] {'message': 'Failed to get entities from store: canceling statement due to conflict with recovery, query = ""/* qid: 908b4f5580bc2a34-52fa78ef2443c2db */\\nselect \\\'Token\\\' as entity, to_jsonb(c.*) as data from (\\nselect c.*, p.id::text as g$parent_id\\n/* child_type_d */ from rows from (unnest($1), unnest($2::text[])) as p(id, child_id), \\""sgd25626\\"".\\""token\\"" c where c.\\""block_range\\"" @> $3 and c.id = p.child_id limit 501) c\\n  -- binds: [[\\""0x01388f9242964e2aaadef6379eb92276acb5520e\\"", ...
```

I am querying the url : `https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2` with this schema, continuously every 8 seconds:

```
        {
        pairs(first: 500, orderBy:trackedReserveETH,
            orderDirection: desc)
            {
            id
            token0 {
            symbol
            }
            token1 {
            symbol
            }
            token0Price
            trackedReserveETH
            volumeUSD
        }
        }
```

In order to replicate an Uniswap index (i.e. https://help.ftx.com/hc/en-us/articles/360048135772-Uniswap-Index) locally

Question: Is there a better way to collect the above data, to compute the index, that is ordering Uniswap pools by liquidity (defined by their trackedReserveEth statistic) ?","",""
"759605824825458738","michaelstone#5047","17/11/2020 8:53 pm","@GJacobs The ftx page list the contract address for the pairs. So why not query one by one or in parallel. Also first time heard of this index. What's the use case of this index btw?","",""
"759605824825458738","michaelstone#5047","17/11/2020 8:54 pm","Ah I see it's future on the index","",""
"778253693681532928","GJacobs#0227","17/11/2020 8:54 pm","@michaelstone Is there a way to use the graph api to query multiple addresses of the pairs in the same query ? Using the described documentation didn't work. If you know of a way could you post a minimal example ?

When querying one by one, it takes about 40-50 seconds to query them all, by which time the first price has already moved, I need a good way to query them all in the same snapshot (i.e. single query) to make sure that all the prices are at the same time, to then compute the index.

Use case of the index, is a future on the index that FTX offers","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:02 pm","@GJacobs In this case probably you shouldn't use the graph it's way too slow","",""
"345901078853976064","ololotor","17/11/2020 9:02 pm","Hi. Uniswap v1 subgraph is alive?","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:02 pm","Why not query the uniswap sdk","",""
"778253693681532928","GJacobs#0227","17/11/2020 9:04 pm","@michaelstone Good point, just looking at doing that. On querying the Uniswap SDK is there an easy way to list all of the pool or token addresses ? I wish to sort to produce a list of the ones that have the most liquidity (trackedReserveEth)","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:05 pm","I see how about use graph to get the list of most liquidity pairs then use sdk to get latest price","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:05 pm","The most liquid pairs shouldn't change that often so latency doesn't matter that much","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:06 pm","@Ololosha ? I thought we are all using v2 graph now which is for v2 uniswap","",""
"778253693681532928","GJacobs#0227","17/11/2020 9:07 pm","@michaelstone Aha that is a good idea, thank you","",""
"345901078853976064","ololotor","17/11/2020 9:07 pm","> ? I thought we are all using v2 graph now which is for v2 uniswap
@michaelstone almost all 🙂","",""
"759605824825458738","michaelstone#5047","17/11/2020 9:09 pm","@Ololosha ah I see didn't realize people still trade on v1 uniswap","",""
"345901078853976064","ololotor","17/11/2020 9:13 pm","@michaelstone if there is better price, why not","",""
"389894934204776451","santieco","17/11/2020 10:41 pm","Hello. We listed our token on uniswap and it seems is a problem with uniswap api. Dextools doesn't work for us, also coingecko refused us because they didn't find uniswap markets in their api records . With whom may i talk further to resolve this issues? Thank you!","",""
"281959219865845761","zeframl","18/11/2020 12:30 am","Hello, can a dev please look at this Github issue thanks https://github.com/Uniswap/uniswap-v2-subgraph/issues/57","",""
"281959219865845761","zeframl","18/11/2020 12:31 am","Looks like a pretty significant bug somewhere in the subgraph","",""
"777810823900561450","leadsir#5652","18/11/2020 1:33 pm","hello,while I request the api url https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2 and get a 403 response,what's the problem?","",""
"744880094559862905","KiranMannam#4995","18/11/2020 3:46 pm","All pairs in Uniswap
The Graph limits entity return amounts to 1000 per query as of now. To get all pairs on Uniswap use a loop and graphql skip query to fetch multiple chunks of 1000 pairs. The query would look like this (where skip is some incrementing variable passed into your query).

{
 query pairs($skip: Int!) {
   pairs(first: 1000, skip: $skip) {
     id
   }
 }
}","",""
"744880094559862905","KiranMannam#4995","18/11/2020 3:47 pm","Any tried using this to get all pairs data? Were you successful?","",""
"744880094559862905","KiranMannam#4995","18/11/2020 3:51 pm","@michaelstone .. can you help with this?🖕","",""
"451156967105232906","sagat#8699","18/11/2020 5:40 pm","Bro set first to be: 1000 and skip to be 0 on  the first iteration => make ur call afterwards increment skip with skip++ and multiply by count for the new skip value","",""
"451156967105232906","sagat#8699","18/11/2020 5:42 pm","```
const getUniswapPairsData = (skip, count) => {
  axios
    .post(config.uniswapGraphQL, { query: getUniswapPairs(skip, count) })
    .then((res) => res.data.data.pairs)
    .then(handleGetUniswapPairsData)
    .catch(handleGetUniswapPairsDataErr);
};
const handleGetUniswapPairsData = async (pairs) => {
  if (pairs.length === 0) {
    console.debug(""Query is done"");
    return;
  }
  try {

    // Do ur shit, persist in db or whatever

  } catch (error) {
    console.log(error);
  }
  skip++;
  getUniswapPairsData(count * skip, count);
};

const handleGetUniswapPairsDataErr = (error) => {
  console.error(error);
  skip++;
  getUniswapPairsData(count * skip, count);
};
```","",""
"451156967105232906","sagat#8699","18/11/2020 5:42 pm","@KiranMannam","",""
"759605824825458738","michaelstone#5047","18/11/2020 8:16 pm","@KiranMannam yes what @sagat describe works. But would suggest look at uniswap graph code to understand meaning of each field","",""
"97534912302698496","Sakyo#7634","20/11/2020 10:11 am","Does anyone have any insight into how `token0Price` and `token1Price` data for pairs on the Uniswap Subgraph is calculated? Is that coming from the Oracle? I'm asking because I'm trying to calculate the open & close price for a pair by querying the subgraph and the prices I'm getting are *close* to what I'm seeing on the *info.uniswap* charts but not quite the same","",""
"340340179955089418","JimLahey#6793","20/11/2020 11:41 pm","Currently running into this issue every now and then, I have no idea why as majority of the times the query is working fine, anyone else?","https://cdn.discordapp.com/attachments/765222888617017365/779408485057429514/UghOIkioIECBAgAABAgQIECBAgAABAgQIECBAgAABAidUQDLrhAZetwkQIECAAAECBAgQIECAAAECBAgQIECAAAECXRBISmYtLS2.png",""
"759605824825458738","michaelstone#5047","21/11/2020 12:05 am","@JimLahey yes I saw similar issue before. Just retry to your code. Will go away","",""
"340340179955089418","JimLahey#6793","21/11/2020 12:07 am","@michaelstone , just immediately after call the endpoint again?","",""
"759605824825458738","michaelstone#5047","21/11/2020 12:08 am","I put in a few seconds delay then this will go away","",""
"396602844804939776","ben_thank_you","22/11/2020 5:43 am","guys howcome subgrapher explorer total liquidity is like completely different from what info.uniswap shows?","",""
"396602844804939776","ben_thank_you","22/11/2020 5:46 am","not only that, every token returns the same number for me for totalSupply: 14336","",""
"744880094559862905","KiranMannam#4995","23/11/2020 1:06 am","Thanks a lot 👍","",""
"329631537773543424","Miguel G#8949","24/11/2020 12:51 am","does the Uniswap Subgraph API only provide ""read"" access?","",""
"759605824825458738","michaelstone#5047","24/11/2020 2:11 am","@Miguel G yes","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:12 am","so there is no API for executing transactions on Uniswap?","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:12 am","ie, adding liquidity, etc","",""
"759605824825458738","michaelstone#5047","24/11/2020 2:13 am","@Miguel G I would think subgraph more like a report post trade. For executing transaction you can use uniswap sdk or any web3 interface to interact with contract directly","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:43 am","ok, I was just wondering if there was a way to automate the process of adding LP based on the real-time monitoring of GAS feels, so basically when the fees are low, my code would execute and add LP(very high level explanation)","",""
"759605824825458738","michaelstone#5047","24/11/2020 2:48 am","@Miguel G definitely doable for example with python web3.  Gas api here I heard is good:
https://www.gasnow.org/","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:49 am","sweet...thx","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:51 am","as I understand it though, ETH 2.0 will reduce Gas prices right?","",""
"329631537773543424","Miguel G#8949","24/11/2020 2:58 am","also where can I find contract developers for hire?  haha...I can code but it's been a while and don't have time to get back into it","",""
"395643622361399307","Billdog#6595","24/11/2020 1:00 pm","Corona Defi (CORD) Token

https://etherscan.io/token/0x74fb9da15d4f9a34d8c825798da0fa5c400dade1

Hey could this be added to Coingecko api by you guys so we can list it over there?","",""
"620891729767301133","Johnson Ogwuru#0355","24/11/2020 4:59 pm","Hey Everyone, i am running the uniswap subgraph on an ethereum based private network, but the subgraph fails when it wants to fetch the total liquidity of a pair. I narrowed down the error to this assembly generated code. 
```let result = super.call(""balanceOf"", [EthereumValue.fromAddress(param0)]);```
Could there be a reason this is failing on a private network, that isn't any of the networks supported by graph node? Any help is appreciated","",""
"759605824825458738","michaelstone#5047","24/11/2020 9:11 pm","@Billdog I think for this you need to contact coingecko  to add this token. I see this token already has data in for example TokenDayData. I see price 11/23  $3.52 and daily volume of 110.9 eth","",""
"768865511642759249","lzmshow","25/11/2020 1:27 pm","API request https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 report “GraphQL server error (client error): invalid number at line 1 column 2” How to solve it","",""
"777810823900561450","leadsir#5652","25/11/2020 2:43 pm","Api request https://thegraph.com/explorer/subgraph/uniswap/uniswapv2 report 403 Forbidden how to solve it?","",""
"448666735222980619","tmlee#2802","25/11/2020 5:50 pm","Hey guys just wanted to report a bug im seeing with iBETH (https://etherscan.io/token/0x67b66c99d3eb37fa76aa3ed1ff33e8e39f0b9c7a)
Currently calling
https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2

with
```
{
  token(id: ""0x67b66c99d3eb37fa76aa3ed1ff33e8e39f0b9c7a"" ){
    derivedETH
    symbol
    tradeVolume
    totalLiquidity
  }
}
```

and its returning `derivedETH` as `0`","",""
"396019781754683403","mario.revert.finance","25/11/2020 11:55 pm","Hi everyone, another bug report (I think) with a specific subgraph query:","",""
"396019781754683403","mario.revert.finance","25/11/2020 11:56 pm","```{ pairDayDatas(orderBy: date,
  orderDirection: asc,
  where: {pairAddress: ""0x0d0d65e7a7db277d3e0f5e1676325e75f3340455""}                   
  first: 1) {         
    id,         
    date,         
    pairAddress,         
    reserve0,         
    reserve1,         
    totalSupply,         
    reserveUSD,         
    dailyVolumeToken0,         
    dailyVolumeToken1,         
    dailyVolumeUSD,         
    dailyTxns       
  }     
}  ```","",""
"396019781754683403","mario.revert.finance","25/11/2020 11:57 pm","Reponse is:","",""
"396019781754683403","mario.revert.finance","25/11/2020 11:57 pm","```{
  ""data"": {
    ""pairDayDatas"": [
      {
        ""dailyTxns"": ""1081"",
        ""dailyVolumeToken0"": ""290981.415032980449185094"",
        ""dailyVolumeToken1"": ""3817.677382848161921011"",
        ""dailyVolumeUSD"": ""0"",
        ""date"": 1595030400,
        ""id"": ""0x0d0d65e7a7db277d3e0f5e1676325e75f3340455-18461"",
        ""pairAddress"": ""0x0d0d65e7a7db277d3e0f5e1676325e75f3340455"",
        ""reserve0"": ""21821.96614073509999498"",
        ""reserve1"": ""287.01529972381314478"",
        ""reserveUSD"": ""134417.8504850228236744916260928265"",
        ""totalSupply"": ""2425.344603739814070204""
      }
    ]
  }
}```","",""
"396019781754683403","mario.revert.finance","25/11/2020 11:58 pm","The problem is `dailyVolumeUSD` is `0` while the `dailyVolumeToken[0,1]` are not","",""
"396019781754683403","mario.revert.finance","26/11/2020 2:47 am","So, looks like the above is due to MINIMUM_USD_THRESHOLD_NEW_PAIRS which is set at 400k for pairs with less than 5 LPs.","",""
"396019781754683403","mario.revert.finance","26/11/2020 2:48 am","Wondering what the rationale is for this and if there is something I should keep in mind if deriving usd volume myself from the token volumes","",""
"240709861048844288","sean.oh","26/11/2020 6:42 am","is this a right place to ask graphql query questions?","",""
"768865511642759249","lzmshow","26/11/2020 11:02 am","hi guys !Where to get factory address","",""
"240709861048844288","sean.oh","26/11/2020 12:38 pm","this might be a rookie question, but why do I see completely off number when I query a token?
```
  token(id: ""0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e"") { #YFI
    name
    symbol
    totalSupply
    tradeVolumeUSD
    totalLiquidity
  }
```

expected `totalSupply` = 30,000, `totalVolumeUSD` = ~13734623, and `totalLiquidity` = ~10576026 (see screenshot)

What I get
```
    ""token"": {
      ""name"": ""yearn.finance"",
      ""symbol"": ""YFI"",
      ""totalLiquidity"": ""507.020147080352572857"",
      ""totalSupply"": ""14336"",
      ""tradeVolumeUSD"": ""1668428969.163516146912644666130737""
    }
```","https://cdn.discordapp.com/attachments/765222888617017365/781416008753086464/unknown.png",""
"355229742917615616","fma#8096","26/11/2020 7:27 pm","is ther any API to get the USD price of the token?","",""
"778966289984651276","tyushar#1330","26/11/2020 9:16 pm","I cloned Uniswap to build my own dex but it's behaving like this after sync","https://cdn.discordapp.com/attachments/765222888617017365/781546554376060948/unknown.png",""
"396019781754683403","mario.revert.finance","26/11/2020 10:06 pm","@Sean Looks like totalLiquidity matches only the subgraph response is denominated in YFI and the screenshot is in USD.  While the totalVolumeUSD in the response is ""all time"" volume and the screenshot is the last 24 hours","",""
"396019781754683403","mario.revert.finance","26/11/2020 10:07 pm","You can check out field descriptions here https://uniswap.org/docs/v2/API/entities/","",""
"396019781754683403","mario.revert.finance","26/11/2020 10:13 pm","You can get a derived USD price from the subgraph API by querying the Token entity and mutiplying its derivedETH price by ethPrice from Bundle or by querying a ""Pair"" that includes the token and getting the tokenPrice https://uniswap.org/docs/v2/API/entities/#bundle","",""
"240709861048844288","sean.oh","27/11/2020 10:11 am","Thanks. to get 24 hour volume, I get the block for 24 hour window and query that with `token` API right? or do I use `tokenDayDatas` and look at `dailyVolumeUSD`?","",""
"396019781754683403","mario.revert.finance","27/11/2020 10:13 am","Seems like tokenDayDatas is the way to go","","👍 (1)"
"240709861048844288","sean.oh","27/11/2020 10:15 am","awesome. thanks a lot!","",""
"781645852099739668","zhenya05111993#7816","27/11/2020 10:34 am","guys, but you can return the money, accidentally BTC currency, transferred to Metamask(","",""
"781412291567943680","weihy#5635","27/11/2020 12:24 pm","Can this path be called through the API?","https://cdn.discordapp.com/attachments/765222888617017365/781774878465851422/20201127145126.png",""
"777810823900561450","leadsir#5652","27/11/2020 1:39 pm","is there something wrong with the website?","",""
"713403148357599364","wen#0233","27/11/2020 8:37 pm","i have the same question as well.  does anyone know the incentive here?","",""
"355229742917615616","fma#8096","27/11/2020 11:09 pm","thank you","",""
"240709861048844288","sean.oh","28/11/2020 3:39 am","This is my query
```
query OneDayTokens($blockNumber: BigInt) {
    tokens(block: {number: $blockNumber}, first: 10, orderBy: tradeVolumeUSD, orderDirection: desc) {
        id
        name
        symbol
        derivedETH
        tradeVolume
        tradeVolumeUSD
        untrackedVolumeUSD
        totalLiquidity
        txCount
    }
}
```

And I get result 
```
GraphQL Errors: Invalid value provided for argument `block`: Object({""number"": Variable(""blockNumber"")}): Undefined location
```

Does anyone know why?","",""
"240709861048844288","sean.oh","28/11/2020 4:58 am","^ Answering myself.
I had to pass `Int` instead of `BigInt`. For this, I had to change the schema of `Block` to have `Int`. Kind of weird because `https://api.thegraph.com/subgraphs/name/blocklytics/ethereum-blocks` returns Block with `BigIng` type.
Any plan on accepting `BigInt` instead of `Int` for `tokens` API?","",""
"747512235999363164","Reflex#2409","28/11/2020 1:15 pm","Hi, noob here. Does anyone know a place where I could look up how to use Uniswap API via Python? Atm can't even figure how to put parameters in the request.","",""
"759605824825458738","michaelstone#5047","29/11/2020 8:06 am","@Reflex Hi I think you can use this one:
https://pypi.org/project/uniswap-python/","",""
"759605824825458738","michaelstone#5047","29/11/2020 8:06 am","It's not official though","",""
"717084654032650240","chet#8211","29/11/2020 8:20 pm","Hello, I am completely illiterate when it comes to programming but I was told the graph could help me solve a problem I have. I am trying to extract the balance of tokens in a given uniswap liquidity pool at a specific block height. I tried to look at the Uniswap v2 subgraph to see if I could make sense of it but this is way beyond my technical abilities. Can anyone help me solve that question? Many thanks 🙏","",""
"401606178280439808","ktlrkn","29/11/2020 10:54 pm","the playground is really useful once you understand the syntax of the schema.. i would play around with it a bit and i bet you will figure it out. it even gives you hints on the valid entities so if you start typing in ""liquidity"" or something you will probably get what you are looking for quickly enough","",""
"401606178280439808","ktlrkn","29/11/2020 10:54 pm","https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2","",""
"401606178280439808","ktlrkn","29/11/2020 10:59 pm","here is my guess:

`{
  liquidityPositionSnapshot(block:55333){
    liquidityTokenBalance
  }
  
}`","",""
"401606178280439808","ktlrkn","29/11/2020 11:00 pm","this link is useful too in understanding uniswap entities: https://uniswap.org/docs/v2/API/entities/","",""
"401606178280439808","ktlrkn","29/11/2020 11:05 pm","@chet ^","",""
"387834087890616330","humptytomdumpty","29/11/2020 11:08 pm","any updates on this? ibETH is showing 0 on the website as well","",""
"717084654032650240","chet#8211","29/11/2020 11:16 pm","Thank you. I tried playing around but I can’t figure out the syntax. How do I enter the pair I want to get information on?  I tried entering contract addresses but that didn’t seem to work","",""
"401606178280439808","ktlrkn","30/11/2020 12:12 am","`
{
 pair(id: ""0x2fdbadf3c4d5a8666bc06645b8358ab803996e28""){
     token0 {
       id
       symbol
       name
       derivedETH
     }
     token1 {
       id
       symbol
       name
       derivedETH
     }
     reserve0
     reserve1
     reserveUSD
     trackedReserveETH
     token0Price
     token1Price
     volumeUSD
     txCount
 }
}
`","",""
"401606178280439808","ktlrkn","30/11/2020 12:12 am","on the right of the playground it shows you different queries you can make too","",""
"401606178280439808","ktlrkn","30/11/2020 12:13 am","not sure the exact answer you are looking for though; i am still learning myself","",""
"747512235999363164","Reflex#2409","30/11/2020 2:14 am","Thank you @michaelstone 🙂","",""
"717084654032650240","chet#8211","30/11/2020 4:28 am","thank you for the help, what I really want to do is something like the below but I get a syntax error on the block argument and I have no idea how to make it work 
 liquidityPositionSnapshot(id: ""0xedaedd22e653c504ff6806bf61664292848eb26e"",block: 11354153){
     liquidityTokenBalance
}","",""
"777810823900561450","leadsir#5652","30/11/2020 2:51 pm","How to get the buying and selling price of currency","",""
"777810823900561450","leadsir#5652","30/11/2020 2:58 pm","","https://cdn.discordapp.com/attachments/765222888617017365/782900738631794698/unknown.png",""
"777810823900561450","leadsir#5652","30/11/2020 2:58 pm","","https://cdn.discordapp.com/attachments/765222888617017365/782900915602194442/unknown.png",""
"777810823900561450","leadsir#5652","30/11/2020 2:59 pm","","https://cdn.discordapp.com/attachments/765222888617017365/782901066278764594/unknown.png",""
"777810823900561450","leadsir#5652","30/11/2020 2:59 pm","Any body know to get these two prices?","",""
"240709861048844288","sean.oh","30/11/2020 4:03 pm","```
  liquidityPositionSnapshot(id: ""0xedaedd22e653c504ff6806bf61664292848eb26e"", block: {number: 11354153}) {
    liquidityTokenBalance
  }
```
Try this. 
It's because the `block` argument requires you to enter a Block object, not a number. If you want to enter a block number, you need to wrap it into curly brackets. It's just graph syntax 🙂","",""
"717084654032650240","chet#8211","30/11/2020 6:34 pm","thanks, I actually figured that one out on my own but I'm still not getting the result I'm looking for. I simply get a {
  ""data"": {
    ""liquidityPositionSnapshot"": null
  }
}","",""
"717084654032650240","chet#8211","30/11/2020 6:35 pm","I really appreciate the help, I'm not sure what the id: argument should be now","",""
"717084654032650240","chet#8211","30/11/2020 6:42 pm","maybe I'm not even using the right query","",""
"717084654032650240","chet#8211","01/12/2020 1:29 am","this is very similar to my question indeed","",""
"717084654032650240","chet#8211","01/12/2020 3:43 am","ok, I feel like the following should work but it returns an empty result. What am I doing wrong here? can anyone help please?
{
  liquidityPositionSnapshots (block: {number: 11177328}, where:
    {
      user:
      ""0x1ABc8c099106932B85A62C720bc21885453B4c01""
      pair:
      ""0xedaedd22e653c504ff6806bf61664292848eb26e""
    }
  ){
    liquidityTokenBalance
        liquidityTokenTotalSupply
  }
}","",""
"110070969128751104","Lange#6952","01/12/2020 11:33 pm","{
     users(where:{id:""0xC51feFB9eF83f2D300448b22Db6fac032F96DF3F""}){
    usdSwapped
  }
}
cant find out why it returns zero users.","",""
"110070969128751104","Lange#6952","01/12/2020 11:52 pm","Hey chet you need to make the user id to lowercase, just found out i did that mistake too","",""
"717084654032650240","chet#8211","01/12/2020 11:54 pm","thank you Lange, I'm not sure I understand what you mean by ""user id to lowercase"", can you clarify?","",""
"110070969128751104","Lange#6952","01/12/2020 11:55 pm","what okay they are deleting my reply","",""
"110070969128751104","Lange#6952","01/12/2020 11:55 pm","will send in dm","",""
"717084654032650240","chet#8211","02/12/2020 12:08 am","thanks a lot for the help Lange. Also for the record and for those trying to use liquidityPositionSnapshots query, it will only return results for a specific block if something happened to the pair in that specifi block. So it takes some digging to find the closest block with a swap or modified liquidity. I still don't fully understand it but I sort of got the result I wanted","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:16 am","Hi I'm wondering if anyone have used PairDayData to estimate yield of providing liquidity? For example this is pair address for CREAM/WETH pair: 0xddf9b7a31b32ebaf5c064c80900046c9e5b7c65f","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:17 am","Can I use following formula to estimate daily yield of providing liquidity?
dailyVolumeToken1*0.3/100/reserve1/2","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:29 am","dailyVolumeToken1 is eth volume of all swap trade for that day and reserve1 is the eth liquidity in that pool","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:29 am","0.3/100 is the 0.3% trading fee","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:30 am","/2 in the end is that fact that the total reverse in eth is reserve1*2","",""
"759605824825458738","michaelstone#5047","02/12/2020 1:30 am","Is my understanding correct here?","",""
"346531078439174145","neeraj3296","03/12/2020 10:08 am","Hello...","",""
"346531078439174145","neeraj3296","03/12/2020 10:08 am","Can someone please help me as to how to track the price of different tokens using Python?","",""
"346531078439174145","neeraj3296","03/12/2020 10:08 am","How to use this API?","",""
"240709861048844288","sean.oh","03/12/2020 1:37 pm","Just to double check, Subgraph APIs **cannot** make transactions right? I have to use the Uniswap JavaScript SDK?","",""
"730463593711140956","bor444","03/12/2020 2:15 pm","@Sean correct","","Uni (1),👍 (1)"
"730463593711140956","bor444","03/12/2020 2:15 pm","subgraph is for stats","",""
"172103901322018816","megachad9000","03/12/2020 2:29 pm","how do I query for a tokens pairs?","",""
"172103901322018816","megachad9000","03/12/2020 2:29 pm","this does nothing","",""
"172103901322018816","megachad9000","03/12/2020 2:29 pm","{
  token(id: ""0x1453dbb8a29551ade11d89825ca812e05317eaeb"", )   
  {
      mostLiquidPairs
    {
      pairAddress
      id
      token0
      {name}
      dailyTxns
      dailyVolumeUSD
    }
    }
}","",""
"172103901322018816","megachad9000","03/12/2020 2:30 pm","output is:","",""
"172103901322018816","megachad9000","03/12/2020 2:30 pm","{
  ""data"": {
    ""token"": {
      ""mostLiquidPairs"": []
    }
  }
}","",""
"420260815577415680","я/R#7840","06/12/2020 7:47 pm","what is the best practice to import uniswap subgraph data into smart contracts? Is there a chainlink job available, I saw there was some partnership between The Graph and Chainlink","",""
"420260815577415680","я/R#7840","06/12/2020 7:47 pm","I also saw there was The Graph Oracle https://devpost.com/software/thegraphoracle","",""
"420260815577415680","я/R#7840","06/12/2020 7:47 pm","What is the preferred method and are there any examples/tutorials available on it?","",""
"387282199361224716","watersnake1","07/12/2020 9:59 pm","Does anyone know the definition of ""untrackedVolume"" in the context of the subgraph?","",""
"759605824825458738","michaelstone#5047","07/12/2020 11:15 pm","@watersnake1 
https://github.com/Uniswap/uniswap-v2-subgraph/blob/9692685423f9a16fa30a2cf08ceeff69fcdd8367/src/mappings/core.ts#L418","",""
"759605824825458738","michaelstone#5047","07/12/2020 11:15 pm","// only accounts for volume through white listed tokens
  let trackedAmountUSD = getTrackedVolumeUSD(amount0Total, token0 as Token, amount1Total, token1 as Token, pair as Pair)","",""
"759605824825458738","michaelstone#5047","07/12/2020 11:15 pm","// token where amounts should contribute to tracked volume and liquidity
let WHITELIST: string[] = [
  '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2', // WETH
  '0x6b175474e89094c44da98b954eedeac495271d0f', // DAI
  '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48', // USDC
  '0xdac17f958d2ee523a2206206994597c13d831ec7', // USDT
  '0x0000000000085d4780b73119b644ae5ecd22b376', // TUSD
  '0x5d3a536e4d6dbd6114cc1ead35777bab948e3643', // cDAI
  '0x39aa39c021dfbae8fac545936693ac917d5e7563', // cUSDC
  '0x86fadb80d8d2cff3c3680819e4da99c10232ba0f', // EBASE
  '0x57ab1ec28d129707052df4df418d58a2d46d5f51', // sUSD
  '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2', // MKR
  '0xc00e94cb662c3520282e6f5717214004a7f26888', // COMP
  '0x514910771af9ca656af840dff83e8264ecf986ca', //LINK
  '0x960b236a07cf122663c4303350609a66a7b288c0', //ANT
  '0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f', //SNX
  '0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e', //YFI
  '0xdf5e0e81dff6faf3a7e52ba697820c5e32d806a8' // yCurv
]","",""
"387282199361224716","watersnake1","07/12/2020 11:35 pm","so tracked vol = whitelisted tokens only. Thanks!","",""
"528388627135201292","samdeveloper","08/12/2020 2:40 pm","Hey everyone","",""
"528388627135201292","samdeveloper","08/12/2020 2:44 pm","i am trying to deploy the uniswapv2 subgraph as it is and pasting that subgraph api in the uniswap info website but uniswap infor is not running","",""
"528388627135201292","samdeveloper","08/12/2020 2:45 pm","it is showing proxy errors","",""
"528388627135201292","samdeveloper","08/12/2020 2:45 pm","please help","",""
"528388627135201292","samdeveloper","09/12/2020 10:45 am","@Tejas0x","",""
"571997462232039424","tejas0x","09/12/2020 2:50 pm","Can you post the Error screenshot?","",""
"528388627135201292","samdeveloper","09/12/2020 3:04 pm","","https://cdn.discordapp.com/attachments/765222888617017365/786163941210456085/IMG-20201209-WA0007.jpeg",""
"528388627135201292","samdeveloper","09/12/2020 3:05 pm","Cors error","",""
"528388627135201292","samdeveloper","09/12/2020 3:07 pm","","https://cdn.discordapp.com/attachments/765222888617017365/786164514986000394/20201209_150701.jpg",""
"528388627135201292","samdeveloper","09/12/2020 3:08 pm","","https://cdn.discordapp.com/attachments/765222888617017365/786164762044006410/IMG20201209150744.jpg",""
"528388627135201292","samdeveloper","09/12/2020 3:08 pm","This is happening when i have deployed the exact same subgraph of uniswap v2","",""
"528388627135201292","samdeveloper","09/12/2020 6:17 pm","@akki","",""
"397160604227469322","aymanelya","10/12/2020 8:20 am","Hi everyone, does the API allow to swap tokens by code ?","",""
"282039750808829952","plutouranus","10/12/2020 1:48 pm","Hi, did you get the PairTotalLiquidity calculated from UniSwap's V2 subgraph data? Please help. Thank you!","",""
"784010567105904640","HarshGuptaSolulab#1786","10/12/2020 4:59 pm","how can i use subgraph-api for query data on testnet?","",""
"786699973986615316","ori#2804","11/12/2020 2:44 am","hey, how can i get the x latest swaps ?","",""
"759605824825458738","michaelstone#5047","11/12/2020 5:27 am","@ori you can order by timestamp then get top x records","",""
"373434862788542466","poorbirb","16/12/2020 6:01 pm","Hey! Was wondering if someone can help me with a simple request to get info on a token listed on Uniswap","",""
"373434862788542466","poorbirb","16/12/2020 6:01 pm","I have this on the playground","",""
"373434862788542466","poorbirb","16/12/2020 6:01 pm","","https://cdn.discordapp.com/attachments/765222888617017365/788745105988780032/unknown.png",""
"373434862788542466","poorbirb","16/12/2020 6:04 pm","but when i try to run it locally i get ""expected value at line 1 column 1""","",""
"373434862788542466","poorbirb","16/12/2020 6:04 pm","","https://cdn.discordapp.com/attachments/765222888617017365/788745860476305428/unknown.png",""
"373434862788542466","poorbirb","16/12/2020 6:04 pm","```
curl -X POST -d '{""query"":""{\n\n  token(id:\""0x7240ac91f01233baaf8b064248e80feaa5912ba3\"") {\n    id\n    symbol\n    name\n    totalLiquidity\n    derivedETH\n  }\n \n}"",""variables"":null}' https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2  
```","",""
"345901078853976064","ololotor","17/12/2020 3:32 am","What's up with sungraph? There is 1500 blocks less now","",""
"154653607608844288","rb#6109","18/12/2020 1:51 am","Hey, is there any other ""registry"" API for tokens / pairs? Currently it's quite cumbersome to fetch all 26k pairs since the graph gives you a limit of 100 per request (it takes relatively long time to get all 26k pairs). Also, I can't find a proper way to fetch only the newly added pairs since last extraction.

I've been using the following graph query:
```
{
  pairs {
    id
        token0 {
      id
      symbol
    }
    token1 {
      id
      symbol
    }
  }
}
```","",""
"759605824825458738","michaelstone#5047","18/12/2020 1:54 am","@rb 26k pairs? Most of them I think is junk","",""
"154653607608844288","rb#6109","18/12/2020 1:57 am","yup:

```
{
  uniswapFactories {
    pairCount
  }
}
```","",""
"154653607608844288","rb#6109","18/12/2020 1:57 am","sure a lot of them are junk, still interested in getting them frequently 🙂","",""
"772166755082436688","daynabob#0436","18/12/2020 3:45 pm","any way i can query previous swaps using subgraph?","",""
"759605824825458738","michaelstone#5047","19/12/2020 12:05 am","@daynabob of course there is swap table just for this","",""
"772166755082436688","daynabob#0436","19/12/2020 3:39 am","thanks brother, already found @michaelstone","",""
"759605824825458738","michaelstone#5047","19/12/2020 3:39 am","sure np my friend","",""
"433597579813584908","MrClone#0090","20/12/2020 11:11 pm","Invites? it was just a message","",""
"488298704822861845",".naddison","21/12/2020 8:15 am","How can I get the full graphql schema for the uniswap subgraph and not just the types used to build the subquery? that is, I want a graphql schema with all the queries included.","",""
"759605824825458738","michaelstone#5047","21/12/2020 8:28 am","@naddison I thought this is all in github repo already?","",""
"488298704822861845",".naddison","21/12/2020 8:47 am","I can't find a full graphql schema. I can only see the types. eg https://github.com/Synthetixio/synthetix-subgraph/blob/master/subgraphs/synthetix.graphql","",""
"759605824825458738","michaelstone#5047","21/12/2020 8:58 am","@naddison ? I thought we are talking about uniswap subgraph...","",""
"488298704822861845",".naddison","21/12/2020 8:58 am","sorry, wrong link https://github.com/Uniswap/uniswap-v2-subgraph/blob/master/schema.graphql","",""
"488298704822861845",".naddison","21/12/2020 10:43 am","ok, I've worked out how to get the full schema using `@graphql-codegen/cli`. My config file looks like this ```
config:
  scalars:
    BigDecimal: string
    BigInt: string
    Bytes: string
    Address: string
    ID: string

generates:
  ./src/graphql/uniswap/schema.graphql:
    overwrite: true
    schema: 'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2'
    plugins:
      - 'schema-ast'
    config:
      includeDirectives: true
```","",""
"759605824825458738","michaelstone#5047","21/12/2020 9:58 pm","@naddison I see thx for sharing","",""
"687128425642721295","craven7","22/12/2020 1:17 am","Hey guys, does anyone know why I get empty set if I run a `swaps` query for TestDAI/ETH pair like below (Rinkeby)
```
{ 
  swaps
  (first:10,
  where:{
    pair:""0x31E103736320722c5Abe6827CffBBc52b04A4284""
  })
  {...}
}
```
But for a different pair I do get some items returned

    `pair:""0x743e091aa164dff3084ca045df298c2b15acff35""`

Both pairs have activity so I would expect both to show results","",""
"759605824825458738","michaelstone#5047","22/12/2020 9:32 am","@Craven 7 graph using non-check sum address (all lower case) which is what you used in the 2nd example","",""
"791278784057180210","Cyrus#9676","23/12/2020 5:57 pm","Hello Everybody, can anyone tell me if it's possible to get price of a token from uniswap v2?","",""
"728420390858129470","silverbullet#9909","24/12/2020 12:18 am","Yes of course it is","",""
"728420390858129470","silverbullet#9909","24/12/2020 12:22 am","@michaelstone#5047 hey man can you help me real quick?  From everything I've tried and read through it seems the only way to get a tokens price using the subgraph api is to first know what the pair id address is to query with.  My issue is I am trying to create a sort of dynamic search bar where you search a token and it gives you the current price based on the last swap.  

The issue of course is that I won't know what the pair address is before hand because I wont know what token is being searched in real time.  From everything I've tried it seems impossible to get any info about any pairs or latest transactions from the token address alone.  

When a user searches a token I use coingeckos api to pull the token address then I use that address to query Uniswap subgraph however you cannot get any meaningful information from the subgraph using just a tokens address.  It seems you must know of the pair ids for the token.  And for some unknown reason you cannot even query the pair ids using the token id.  Instead you have to literally loop through all of the thousands of pairs and somehow determine if one of the tokens is the token you are searching for.

Do you know of anyway to query a tokens price without first knowing the pair id beforehand??","",""
"759605824825458738","michaelstone#5047","24/12/2020 5:50 am","@silverbullet hey I don't think there is such  direct query available. Actually I've developed myself from scratch using all the swap trades. I thought about building a rest api so people can query it. Get dollar price for a given token sounds an easy job but when actually trying to do it really is not.","",""
"728420390858129470","silverbullet#9909","24/12/2020 5:56 am","Hey I've actually just followed the docs and will be looping through all pairs until I find the one with my chosen token.  

I have another more basic question though for you.

If you see on the docs here:
https://uniswap.org/docs/v2/API/queries/#all-pairs-in-uniswap

I'm trying to call that function in my code but it keeps giving me an error back basically saying it expects a type of ""name"" as the argument for the pairs parameter.  That $skip variable, mine is of type int value of 10 but for some reason its not accepting an int even though the docs show a type of ""Int!"" In their example that I linked you.","",""
"759605824825458738","michaelstone#5047","24/12/2020 5:58 am","You mean this one doesn't run for you?
{
 query pairs($skip: Int!) {
   pairs(first: 1000, skip: $skip) {
     id
   }
 }
}","",""
"728420390858129470","silverbullet#9909","24/12/2020 5:59 am","Yeah it gives back error when I use a variable $skip of type int","",""
"728420390858129470","silverbullet#9909","24/12/2020 5:59 am","Im iterating in a for loop so im using i as the the variable $skip","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:00 am","Uniswap only returns a max limit of 1000 pairs so you have to iterate through to get all of them","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:00 am","The skip variable does that","",""
"759605824825458738","michaelstone#5047","24/12/2020 6:00 am","I see I didn't use skip. Actually I order by id of the pair then getting 1k a time","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:00 am","Wtf?","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:01 am","You can search by token id?","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:01 am","Ohh pair id","",""
"759605824825458738","michaelstone#5047","24/12/2020 6:01 am","Yes pair id not token id","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:01 am","Hmm so how did you get the 2nd thousand","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:01 am","I mean how did you handle pagination","",""
"759605824825458738","michaelstone#5047","24/12/2020 6:01 am","where: {
              id_gt: ""MIN_ID""
}","",""
"759605824825458738","michaelstone#5047","24/12/2020 6:02 am","where MIN_ID is the max ID you loaded so far 🙂","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:03 am","Can you give me the full code please and thank you?","",""
"759605824825458738","michaelstone#5047","24/12/2020 6:06 am","query test_uniswap 
        {
        pairs
          (
            first: 800
            orderBy:id
            orderDirection:asc
            where: {
              id_gt: ""MIN_ID""
            }            
          )
          {
            id
            reserve0
            reserve1
            totalSupply
            reserveETH
          }
}","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:23 am","How would someone get the next 800 using this code?","",""
"728420390858129470","silverbullet#9909","24/12/2020 6:59 am","Nevermind I figured it out","",""
"452402300150087700","suhailg","26/12/2020 7:12 am","Hey guys, I'm seeing some strange liquidity data from the subgraph. DUSD/DFD is showing ~ half the liquidity in the pool https://info.uniswap.org/pair/0x28bc65cf4b7ebc38da915b672182c5c0ca04d5d4 compared to the actual liquidity in the pool https://etherscan.io/address/0x28bc65cf4b7ebc38da915b672182c5c0ca04d5d4","",""
"387721450993352728","dennisonbertram","28/12/2020 11:17 pm","@Suhail Something we've been building for our Subgraphs is a tool that in production checks to see the data returned from the subgraph is acurate.","",""
"387721450993352728","dennisonbertram","28/12/2020 11:19 pm","","https://cdn.discordapp.com/attachments/765222888617017365/793173707992465458/Screen_Shot_2020-12-14_at_3.50.10_PM.png",""
"387721450993352728","dennisonbertram","28/12/2020 11:23 pm","I'm always a bit paranoid that if the data returned is wrong it will be a silent error.","",""
"309791665651056640","Certified Specialist#5389","29/12/2020 6:53 pm","Hi, having problems with uni2 graph, seems to me that daily volume data is compleatly different when i get it with query and what is uniswap info showing.","",""
"309791665651056640","Certified Specialist#5389","29/12/2020 6:53 pm","{
  pairDayDatas(where: {dailyVolumeUSD_gt:10000}) {
    id
dailyVolumeUSD
    reserveUSD
        token0 {
      name
      id
      derivedETH
    } 
    token1 {
      name
      id
      derivedETH
    }
  }
}","",""
"309791665651056640","Certified Specialist#5389","29/12/2020 6:54 pm","How could I get proper daily volumes per pair?","",""
"391965932152422400","alexkaro","30/12/2020 12:08 pm","Hello!
I used code from an old API and often (not every request) got the error during this query
https://github.com/Uniswap/uniswap-api/blob/master/src/v2/_shared.ts#L70
```
Failed to get entities from store: canceling statement due to conflict with recovery, query = ""/* qid: f947088ed3a11707-63800cf5a492c9e6 */ select 'Pair' as entity, to_jsonb(c.*) as data from (select * from ""sgd25626"".""pair"" c where c.""block_range"" @> $1 and (""id"" in ($2, $3, ..., $1000, $1001)) order by ""id"" limit 1000) c -- binds: [11503276, ""0xe6c78983b07a07e0523b57e18aa23d3ae2519e05"", ..., ""0xfb10a9517779ce4bf0535ef42ede45abd102dced""]
```","",""
"790227551690817567","barryc#1371","30/12/2020 5:47 pm","IIANM you need to include the day index","",""
"790227551690817567","barryc#1371","30/12/2020 5:51 pm","Sup guys, happy new year. Does anybody knows what’s gonna happen with Uniswap V2 API with GRT token release? Should we expect paid queries after this?","",""
"268097274947567616","grw#4577","30/12/2020 7:03 pm","hi, subgraph api seems to be missing lots of transactions.. is this known issue? i look at my own account and can only see 5 or 6, same as on uniswap website. but when i look at my account on e.g  app.zerion.io i can see the correct number ~15 or so","",""
"268097274947567616","grw#4577","30/12/2020 7:04 pm","these are from 2 weeks ago or something, so i dont think the indexer is behind","",""
"790227551690817567","barryc#1371","30/12/2020 7:54 pm","Usually this happens with ERC20-ERC20 swaps in my experience","",""
"268097274947567616","grw#4577","30/12/2020 7:59 pm","hm thanks- isn't that the vast majority of swaps?","",""
"762043703237148713","Bliss#0297","30/12/2020 9:51 pm","Not sure what you mean. I am using pairDayData for fetching, this is stored data for daily stats per pair.","",""
"762043703237148713","Bliss#0297","30/12/2020 10:08 pm","I looked more into this and here is some info with links to code https://www.ethdump.com/how-get-your-uniswap-pair-tracked-and-whitelisted-untracked-label","",""
"790227551690817567","barryc#1371","30/12/2020 11:49 pm","ERC20 - ETH (or WETH) are more commonplace. Uses their Uniswap V2 Router contract and that’s pretty much it. For ERC20 - ERC20 you’ll notice several jumps in the routing. Token A to Token B to Token C to get Token D.","",""
"790227551690817567","barryc#1371","30/12/2020 11:52 pm","{
 pairDayDatas(first: 100, orderBy: date, orderDirection: asc,
   where: {
     pairAddress: ""0xa478c2975ab1ea89e8196811f51a7b7ade33eb11"",
     date_gt: 1592505859
   }
 ) {
     date
     dailyVolumeToken0
     dailyVolumeToken1
     dailyVolumeUSD
     reserveUSD
 }
}","","❤️ (1)"
"790227551690817567","barryc#1371","30/12/2020 11:53 pm","Sample taken directly from Uniswap docs. The query supplies the pairAddress (not contract address), AND date_gt (greater than some UNIX timestamp)","",""
"790227551690817567","barryc#1371","30/12/2020 11:54 pm","If you’re querying without these limits IIANM it’ll return you all daydatas since day one of indexing","",""
"790227551690817567","barryc#1371","30/12/2020 11:56 pm","May I suggest that you supply the id: pairAddress.someUnixTimestamp? This way you’ll get a cleaner result for one pair","https://cdn.discordapp.com/attachments/765222888617017365/793907800766021652/image0.jpg",""
"762043703237148713","Bliss#0297","31/12/2020 12:04 am","Thnx I will try, I assumed that pairDayDatas bring only last 24 hours of data but I assumed wrong. I will need then to add that manually like you suggested, thnx for tip","",""
"762043703237148713","Bliss#0297","31/12/2020 3:21 am","Does help, much better now. Great 😄","",""
"790227551690817567","barryc#1371","31/12/2020 12:14 pm","Awsummmmm. Now can karma come my way please I am looking for answers regarding Uniswap subgraph fees lol","",""
"762043703237148713","Bliss#0297","31/12/2020 1:57 pm","Well probably there will be fees, not sure how much. Aslo there have beem discussion about some free plan for dev, but nothing conclusive. What are you building?","",""
"340340179955089418","JimLahey#6793","01/01/2021 12:08 am","How can I in a reliable way get the price in USD of a token + volume in usd? 

Sample query:

```
{
              tokens(skip: 0, first: 1000) {
                name
                tradeVolume
                tradeVolumeUSD,
                derivedETH
                symbol
 }
```
Sample response: 
```
{
  derivedETH: '0.001280088465278624357262490200270829',
  name: 'Chi Gastoken by 1inch',
  symbol: 'CHI',
  tradeVolume: '22666589',
  tradeVolumeUSD: '0'
}
```","",""
"790227551690817567","barryc#1371","01/01/2021 9:05 am","Nothing much just a simple portfolio app @ https://swapfolio.app","","👍 (1)"
"790227551690817567","barryc#1371","01/01/2021 9:09 am","With my limited knowledge, for spot price, the best way is token data query (the one you’re using) but you gotta do some processing with ETH price. You can use the Bundle query for that. The other source is to use token day data query, with priceUSD property. But that one gives you the price for the day index you supplied.","",""
"340340179955089418","JimLahey#6793","02/01/2021 4:11 am","Would you be able to show me what a bundle query looks like?","",""
"364776793476956160","chiko#1091","02/01/2021 5:24 pm","hello guys, 
i wanted to ask if its possible to make quote queries with the uniswap subraph?
so i get live price data for paris e.g. ETH/USDT","",""
"762043703237148713","Bliss#0297","02/01/2021 6:38 pm","I am getting ETH price from etherscan,  you can get price from subgraph for each token in derivedEth, but to have it in USD you need outside info as far as I know.","",""
"762043703237148713","Bliss#0297","02/01/2021 6:40 pm","TokenDayData has USD price, but then you need to make another query and limit it per timestamp","",""
"364776793476956160","chiko#1091","02/01/2021 6:43 pm","well expect there is a pair on uniswap with a stablecoin","",""
"364776793476956160","chiko#1091","02/01/2021 6:43 pm","?","",""
"364776793476956160","chiko#1091","02/01/2021 6:56 pm","so i cant get a quote like with the quote function from the uniswap api with the uniswap subgraph ?","",""
"762043703237148713","Bliss#0297","02/01/2021 7:17 pm","didnt work with uni api, so dont know what you ca get there","",""
"364776793476956160","chiko#1091","02/01/2021 9:34 pm","{
 pair(id: ""0x0d4a11d5eeaac28ec3f61d100daf4d40471f1852""){
        
      token0 {
        name
      }
  token1 {
    name
  
  }
       token1Price
     volumeUSD
     
 }
}","",""
"364776793476956160","chiko#1091","02/01/2021 9:34 pm","this subgraph query gives you:

{
  ""data"": {
    ""pair"": {
      ""token0"": {
        ""name"": ""Wrapped Ether""
      },
      ""token1"": {
        ""name"": ""Tether USD""
      },
      ""token1Price"": ""752.4039149407659543591600153204189"",
      ""volumeUSD"": ""7441179377.563708196897487921602559""
    }
  }
}","",""
"274208745699934220","callil_","05/01/2021 8:11 pm","@wasi1 please post in #❓│troubleshooting","",""
"569046594746449939","viraz4331","07/01/2021 8:23 am","Hi Guys I want to get pairs based on the token symbol I tried various queries but they don't seem to be applicable has anyone done this ?","",""
"795961883760656424","garyfox#1798","08/01/2021 9:25 am","I use uniswap to request my own geth node , I cant get the full info for uniswap. what's wrong with my geth node? my start command is <geth   --http --http.addr ""0.0.0.0"" --http.port 18545 --http.vhosts=*  --http.corsdomain """" --http.api ""eth,net,web3"" --ws --ws.addr ""0.0.0.0"" --ws.port 18546 --ws.origins """"  --ws.api ""eth,net,web3"" console >","",""
"759605824825458738","michaelstone#5047","10/01/2021 1:24 am","@Viraz I don't think this is supported. Would suggest just create a process getting all the pairs with mininum liquidy filter then from there find the pairs you want","",""
"759605824825458738","michaelstone#5047","10/01/2021 1:24 am","@garyfox Hey what do you mean get full info for uniswap?","",""
"236303107452174337","cliftonk","12/01/2021 7:20 am","@garyfox I also tried doing this by forking off my own geth node. geth, iirc, used “fast” syncmode by default, to get data from moments in time you have to use the “full” sync which uses ~2.5tb","",""
"798496426954588208","Danil Slabunov#5339","12/01/2021 6:35 pm","Hi, I make graphQL request to get ETH-ORBS pair info to https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2, but totalLiquidity value seems incorrect to me, cause on uniswap info https://info.uniswap.org/pair/0xc98b3b8c7cc0d7d925d1a407347b845d9f001391 totalLiquidity equals to 9,45$. So, any ideas where and how can i get correct liquidity value?","https://cdn.discordapp.com/attachments/765222888617017365/798538256450715708/2021-01-12_15.49.24.png",""
"702481699707289640","Ric#5715","12/01/2021 11:14 pm","Hello, I am trying to use the uniswaps subgraph locally. From Uniswap V2 github: ""Make sure to update package.json settings to point to your own graph account."". Could anyone point out how to do so? or give any suggestion? Thank you very much","",""
"759605824825458738","michaelstone#5047","13/01/2021 1:22 am","@Ric Hey are you referring to running local subgraph server?","",""
"702481699707289640","Ric#5715","13/01/2021 2:41 am","Hi michael... yes that correct, I think the issue shows up when I run: yarn create-local
yarn deploy-local","",""
"261943107166273536","mefreedom","15/01/2021 4:34 pm","Hi , what does untracked volume mean for a token ?","",""
"261943107166273536","mefreedom","15/01/2021 4:37 pm","Also How to get all the pairs for a specific token? I'd use Token.mostLiquidPairs , but it always returns empty array. Can anyone help ? Thanks!","",""
"434154759923171329","jbrice.","16/01/2021 3:20 am","hi","",""
"434154759923171329","jbrice.","16/01/2021 3:21 am","I am trying to use the API to paint the price on a chart with the tradingview API, but I see that the methods do not return the precise information, for example the ""tokenDayDatas"" brings me the daily information, but it does not bring me the minimum and maximum price of the token, like I want to consult the information for time and it does not return anything.","",""
"759605824825458738","michaelstone#5047","16/01/2021 5:15 am","@jbrice yes you are right. Current subgraph data doesn't provide high/low price. I created my own api to do this. If you are interested I can try to open up a rest api service so people can use. DM me if interested.","",""
"375373088558284802","desitoka","17/01/2021 4:58 am","What subgraph query can one use to fetch this value? (24hr rolling Uniswap volume) Thanks 🙂","https://cdn.discordapp.com/attachments/765222888617017365/800144439053778985/unknown.png",""
"149980518321094656","thorn_1","17/01/2021 12:44 pm","is anyone else getting these weird errors when using the subgraph api? 
""Failed to get entities from store: canceling statement due to conflict with recovery, query = \""/* qid: 8a1716ca8ea2af00-c43e7fb1e1b6ba0d */\\nselect \\'Pair\\' as entity, to_jsonb(c.*) as data from (select * \\n  from \\\""sgd25626\\\"".\\\""pair\\\"" c\\n where c.\\\""block_range\\\"" @> $1 and (\\\""reserve_usd\\\"" > $2::numeric and \\\""volume_usd\\\"" > $3::numeric)\\n\\n order by \\\""id\\\""\\n limit 1000) c -- binds: [11671264, \\\""10000\\\"", \\\""10000\\\""]\""""""","",""
"149980518321094656","thorn_1","17/01/2021 12:44 pm","weirdly the error happens, but if you run the exact same query again later it might work","",""
"149980518321094656","thorn_1","17/01/2021 12:45 pm","btw you can query this info by querying the UniswapDayData entity, check it out in the schema here: https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2?selected=playground","",""
"372317178906542081","milonite","18/01/2021 2:40 am","https://github.com/Uniswap/uniswap-v2-subgraph/blob/9692685423f9a16fa30a2cf08ceeff69fcdd8367/src/mappings/helpers.ts#L88. How come there's this check on the graph for aave and dgd?","",""
"372317178906542081","milonite","18/01/2021 2:40 am","How come there's this check on the graph for aave and dgd?","",""
"349961431237525505","kpandey1","19/01/2021 6:14 am","If someone could point me to right direction - I want to analyze all the addresses that have participated in uniswap to either swap or provide liquidity. Is this something I can do using the subgraph.  My guess is I could fetch all the transactions in batch and process them ? Could I run the subgraph myself locally and do it or can I use someone's service and pay GRT to get the transactions .","",""
"636411966239408138","jigs1996#7076","19/01/2021 12:31 pm","Token Address: https://info.uniswap.org/token/0xd0983dD6a0334c71d0478255D1F794508026b888

why this token address return null in subgraph api v2","https://cdn.discordapp.com/attachments/765222888617017365/800983247257075752/unknown.png",""
"686877774782136320","shfarzam#8871","20/01/2021 2:23 am","Are uniswap give UNI to bitcny or are uniswap support bitcny airdrop","",""
"274208745699934220","callil_","20/01/2021 2:26 am","no","",""
"387719272555872276","it#9075","20/01/2021 6:15 pm","hi, how fast is subgraph updated? say how long would it take to update pair reserves after a swap ?","",""
"525223868919447554","akki4","20/01/2021 8:32 pm","is this(https://github.com/Uniswap/uniswap-v2-subgraph/blob/master/schema.graphql) the source code that is  deployed at (https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2)","",""
"397888452475093013","cryptowhatelse","21/01/2021 6:11 am","Hi guys, question:
The token0Price  and  token1Price fields on the graph from the pair query what does this mean? Is it based on a default trading volume? How is this number calculated?

What is the best way to get the actual/most recent price based on a certain amount i'm going to trade?","",""
"397888452475093013","cryptowhatelse","21/01/2021 6:13 am","Second question:
How can i get the pair id from the graph for a certain pair? I'm getting it now from the Factory Contract, but is the getPairs function from the contract also integrated in the Graph? I can't find it anywhere.","",""
"397888452475093013","cryptowhatelse","21/01/2021 6:59 am","Maybe i could best use the getAmountsOut from here? https://etherscan.io/address/0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D#readContract","",""
"471357824299958273","crypto_rachel","21/01/2021 7:03 am","@CryptoWhatElse yes to get the trade in/out it will give you the token out value","",""
"471357824299958273","crypto_rachel","21/01/2021 7:05 am","so like you would give it the amount of TokenA in wei and the path [TokenA , TokenB] and it will give you the TokenB out","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:22 am","@Crypto_Rachel so this is pretty easy to use actually? Before i decide if i want to make the trade i will just call the getAmountsOut and if the return amount is good enough i call the swapExactTokensForTokens right?

Thx so much for your answer 🙂","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:23 am","I think this is exactly what i need, i was looking at the graph data at first and then i found this method on the smart contract, way easier","",""
"471357824299958273","crypto_rachel","21/01/2021 7:24 am","yes, easy peazy 😄 , as long as there is no token fee on transfer, and remember a little slippage","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:25 am","I'm building an arb bot that does small trades","",""
"471357824299958273","crypto_rachel","21/01/2021 7:26 am","if you are going to be doing different tokens ones that might or might not have fees, you might want to do one of the supportingfeeOntransfer","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:27 am","Ok, i haven't looked at that yet, but are you saying some tokens have fees? I thought there was only a gasfee and a provider fee?","",""
"471357824299958273","crypto_rachel","21/01/2021 7:28 am","yeah tons of different tokens, rebase, feed, scams that cant sell gotta be careful
https://etherscan.io/writecontract/index.html?m=normal&v=20.10.3.0&a=0x7a250d5630b4cf539739df2c5dacb4c659f2488d&n=mainnet#collapse15","",""
"471357824299958273","crypto_rachel","21/01/2021 7:28 am","that's the tokenfortokensupportingfee..
it covers you for both, only if fee is needed","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:29 am","O this is totally new for me","",""
"471357824299958273","crypto_rachel","21/01/2021 7:29 am","same as the token for token, but different function","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:30 am","Is this explained somewhere in the docs? I don't think i understand it yet fully","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:30 am","You mean anyone can create their pair and then take extra fees when you swap?","",""
"471357824299958273","crypto_rachel","21/01/2021 7:32 am","people do yes, I don't think fee tokens are in the docs
a person who makes a contract can make the tokens do whatever they want","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:32 am","Where can i find more info on this? No where? I would like to know how this works","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:33 am","I guess the well known coins don't do that right?","",""
"397888452475093013","cryptowhatelse","21/01/2021 7:33 am","tokens like chainlink and so on","",""
"471357824299958273","crypto_rachel","21/01/2021 7:33 am","well dollar based coins have to adjust their tokens all the time","",""
"471357824299958273","crypto_rachel","21/01/2021 7:34 am","just depends on the token, the purpose, all sorts of possibilities","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:01 pm","Hi guys, does anyone know the address for WETH on ropsten? There are so many...","https://cdn.discordapp.com/attachments/765222888617017365/801760881846386698/Schermafbeelding_2021-01-21_om_11.30.48.png",""
"471357824299958273","crypto_rachel","21/01/2021 4:05 pm","@CryptoWhatElse `0xc778417E063141139Fce010982780140Aa0cD5Ab`","",""
"471357824299958273","crypto_rachel","21/01/2021 4:05 pm","atleast that's the one I've used 😄","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:34 pm","Does every network have their own tokens on ropsten? If i call the getAmountsOut on mainnet it works perfect but  on ropsten i get a reverted error","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:35 pm","path [
  '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',
  '0xad6d458402f60fd3bd25163575031acdce07538d'
]
{ code: -32000, message: 'execution reverted' }","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:35 pm","WETH/DAI on ropsten","",""
"471357824299958273","crypto_rachel","21/01/2021 4:35 pm","no very few and even the few that are launched use different addresses","",""
"471357824299958273","crypto_rachel","21/01/2021 4:36 pm","the weth is the main net address","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:36 pm","path [
  '0xc778417e063141139fce010982780140aa0cd5ab',
  '0xad6d458402f60fd3bd25163575031acdce07538d'
]
response [ '100000000000000000', '52675034586964804249' ]","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:37 pm","Better right?","",""
"471357824299958273","crypto_rachel","21/01/2021 4:38 pm","I think some one posted a list of testnet tokens somewhere on this server, not sure if it was ropsten or kovan though and would be hard to find
yes, Ive used the 0xc778 ... in ropsten uniswap","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:38 pm","O i see my bug now my env i compared with uppercase ENV LOL","",""
"471357824299958273","crypto_rachel","21/01/2021 4:38 pm","yeah you will want the checksummed address","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:39 pm","but the weth ropsten on kyber is different from uniswap","",""
"471357824299958273","crypto_rachel","21/01/2021 4:39 pm","yes","",""
"397888452475093013","cryptowhatelse","21/01/2021 4:39 pm","That's pretty annonying for development","",""
"471357824299958273","crypto_rachel","21/01/2021 4:39 pm","lol 😄","",""
"471357824299958273","crypto_rachel","21/01/2021 4:39 pm","yeah I like how uniswap planned ahead for that","",""
"471357824299958273","crypto_rachel","21/01/2021 4:40 pm","same addresses for their contracts on all networks","",""
"789881031703789571","TheGoat#3630","21/01/2021 9:11 pm","Hey, could anyone explain the difference between untrackedVolumeUSD and VolumeUSD for the API queries? What is the minimum liquidity threshold and how does it work?","https://cdn.discordapp.com/attachments/765222888617017365/801838784496664616/unknown.png",""
"802177390536818739","CC123#0856","22/01/2021 7:41 pm","hello","",""
"437810239556026370","0xmanzer","23/01/2021 12:41 pm","hello
how can i use gaph api for get address liquidity provider and earn fee ?
like this https://info.uniswap.org/account/0xB53CDdfbb0574Abc98966eA8a8bEd73aba7A89be","",""
"387719272555872276","it#9075","23/01/2021 6:34 pm","Anyone? - ""hi, how fast is subgraph updated? say how long would it take to update pair reserves after a swap ?""","",""
"510348889379831812","juwu#0116","24/01/2021 12:24 am","Hi! I'm trying to get the ""top movers"" based on the `tokenDayData` query but the results seem off. Anyone able to verify? A query like this returns `TREE` and `Wcoinbase-IOU` as the top 2
```
    tokenDayDatas(first: 50, orderBy:dailyVolumeUSD, orderDirection:desc) {
      id
      token {
        id
        symbol
        name
      }
    }
```
https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2","",""
"510348889379831812","juwu#0116","25/01/2021 1:12 am","also, it looks like there's no price for the `token` query?
https://uniswap.org/docs/v2/API/entities/#token","",""
"383836935480803339","sendmoodz","25/01/2021 10:29 am","if you mean top movers by price, i don't think that's trivial in the subgraph. spot price is just `reserve1 / reserve0`. the only way i can think of doing this is getting the top 1k pairs by reserveUSD at block number x, then getting the top 1k pairs at block number now, and comparing the reserve1/reserve0 ratios to get the price change in past now-x blocks. ofc you will miss pairs that are not already in the top 1k by reserves unless you do pagination, and some pairs will show up in 1 query and not the other (if they newly entered or left the top 1k pairs by reserves usd)","",""
"510348889379831812","juwu#0116","25/01/2021 8:48 pm","Thank you @moody 💭! It does seem nontrivial to get top movers from this route. I've changed to just use the `token` query and sort by `tradeVolumeUSD`
Also, is there an easy way to get the price for these tokens? Curious why it's not in the response as `priceUSD`","",""
"454250406491717642","vadymx","26/01/2021 4:23 am","hey guys, is there aggregated data on what % of trading volume is made from direct interaction with contracts, and what percentage is due to partner integrations?","",""
"510348889379831812","juwu#0116","26/01/2021 10:06 am","I'm using the `Pair` endpoint to get the latest listings on uniswap. If I want to filter out potential scams, what are some rules of thumb I could use? I was thinking low `txCount` of that pair as one
https://uniswap.org/docs/v2/API/entities/#pair","",""
"703511221717958708","based64.eth","26/01/2021 1:50 pm","is there any way to get the actual sender/receiver (instead of the 488d uniswap router address) for swaps yet?","",""
"703511221717958708","based64.eth","26/01/2021 1:51 pm","https://github.com/Uniswap/uniswap-v2-subgraph/issues/15 this sounds like its related, and its closed, but the subgraph still has no `from` field. am i missing something?","",""
"556195388629975041","AlexL#0202","26/01/2021 9:59 pm","Hi, I want to download all swap transaction data for over 100 pairs, subgraph is proving to be incredibly slow for this","",""
"556195388629975041","AlexL#0202","26/01/2021 10:00 pm","What would be the best way to do it? I only need to pull it once for data analytics purposes","",""
"556195388629975041","AlexL#0202","26/01/2021 10:00 pm","Archival node?","",""
"639817852655763456","asadnaeem#1033","28/01/2021 8:24 pm","Hi everyone, I am facing an issue with this address 0xae568cc9305af46a92fd33381c4731adf198ad4e. He holds XIO-ETH pair LP tokens, but the subgraph is showing his LP token balance as 0.","https://cdn.discordapp.com/attachments/765222888617017365/804363836416851998/Screenshot_from_2021-01-28_19-49-14.png",""
"639817852655763456","asadnaeem#1033","28/01/2021 8:24 pm","","https://cdn.discordapp.com/attachments/765222888617017365/804363851381342208/Screenshot_from_2021-01-28_19-49-31.png",""
"434154759923171329","jbrice.","29/01/2021 1:59 am","hello","",""
"434154759923171329","jbrice.","29/01/2021 2:00 am","I want to check the price of a list of tokens, what would be the most optimal way to do it? I don't want to invoke the graph many times, can you send a list of tokens or contracts and the graph return them?","",""
"434154759923171329","jbrice.","29/01/2021 2:05 am","@ash_🦄 @Noah Zinsmeister","",""
"434154759923171329","jbrice.","29/01/2021 2:10 am","what is the ratelimit?","",""
"476661717762441217","9cuso6","29/01/2021 5:03 pm","Hey guys, this seems to be a bit off, any ideas?","https://cdn.discordapp.com/attachments/765222888617017365/804675523405545512/image.png",""
"345901078853976064","ololotor","01/02/2021 11:48 pm","any admin here?","",""
"345901078853976064","ololotor","01/02/2021 11:51 pm","It seems subgraph shows data from old blocks, not real liquidity","",""
"345901078853976064","ololotor","02/02/2021 2:34 am","and again","",""
"806172973056000030","quimeyv","03/02/2021 12:39 am","Same here: https://etherscan.io/address/0x2e333b4252497bb73ed6ed64e09177630c699db6 vs","https://cdn.discordapp.com/attachments/765222888617017365/806239924399243305/Screenshot_from_2021-02-02_20-09-22.png",""
"546806870933897217","lep.irish","05/02/2021 10:39 pm","Hi Guys, am trying to get someone from support to answer small query (coingecko trying to pick up our token price from uniswap pool query) - who can i go to direct on this? thank you;' Roger","",""
"399617942087532545","_connormartin","05/02/2021 10:40 pm","@Roger50 you can just ask the full question here","",""
"546806870933897217","lep.irish","05/02/2021 10:41 pm","Thanks Connor give me a sec and Ill paste in what  coingecko are saying.","",""
"546806870933897217","lep.irish","05/02/2021 10:43 pm","""Uniswap REST API not tracking price and volume of this token"" ... token is EILN","",""
"546806870933897217","lep.irish","05/02/2021 10:44 pm","Any thoughts ?","",""
"399617942087532545","_connormartin","05/02/2021 11:06 pm","the uniswap api is deprecated - all api calls should go through the uniswap subgraph","",""
"396372249634013198","baj#3118","06/02/2021 5:42 am","I'm not able to find a full list of query parameters for the subgraph","",""
"396372249634013198","baj#3118","06/02/2021 5:42 am","any resource?","",""
"730463593711140956","bor444","06/02/2021 5:59 pm","@baj https://thegraph.com/explorer/subgraph/graphprotocol/uniswap?selected=playground","",""
"425452385285177347","cryptochris.","06/02/2021 6:17 pm","Hi!  Can someone help me understand why the bsg/Dai liquidity pool has the wrong value for bsg?  Stated at almost 300k when basis.gold has the price at .9/xau?  Trying to provide liquidity and that pricing issue is preventing it","",""
"425452385285177347","cryptochris.","06/02/2021 6:17 pm","Looks like it could be a problem in the uniswap subgraph?","",""
"425452385285177347","cryptochris.","06/02/2021 9:38 pm","https://info.uniswap.org/pair/0x4a9596e5d2f9bef50e4de092ad7181ae3c40353e specifically here is where you can see the broken pair.  I have used it today to exchange dai/bsg and the most recent trasaction is 22 days ago","",""
"546806870933897217","lep.irish","07/02/2021 7:30 pm","Hi just trying to work out why our token does not seam to be tracked here ? https://etherscan.io/address/0xb41013e42c08898f879aabbba4b70998261e0238","",""
"546806870933897217","lep.irish","07/02/2021 7:32 pm","See here","https://cdn.discordapp.com/attachments/765222888617017365/807974552079958047/etherscan.png",""
"546806870933897217","lep.irish","08/02/2021 2:40 am","Any ides?","",""
"396372249634013198","baj#3118","09/02/2021 1:49 pm","why doesn't this get me the most liquid pairs?","",""
"396372249634013198","baj#3118","09/02/2021 1:49 pm","```graph
{
    uniswapDayDatas(first: 2) {
    id
    dailyVolumeETH
    totalLiquidityETH
    mostLiquidTokens (first: 2) {
      id
    }
  }
}
```","",""
"396372249634013198","baj#3118","09/02/2021 1:59 pm","gah","",""
"396372249634013198","baj#3118","09/02/2021 1:59 pm","mostLiquidTokens*","",""
"396372249634013198","baj#3118","09/02/2021 1:59 pm","Iget this return","",""
"396372249634013198","baj#3118","09/02/2021 2:00 pm","``""mostLiquidTokens"": [],``","",""
"396372249634013198","baj#3118","09/02/2021 3:18 pm","https://www.reddit.com/r/UniSwap/comments/jewikx/the_graph_query_mostliquidpairs_empty/","",""
"396372249634013198","baj#3118","09/02/2021 3:18 pm","looks like someone else had this issue","",""
"396372249634013198","baj#3118","09/02/2021 3:25 pm","Ok from reading the history this question is pretty much avoided lol","",""
"425452385285177347","cryptochris.","10/02/2021 2:01 am","Subgraph PlayGround
{
  token(id: ""0xb34ab2f65c6e4f764ffe740ab83f982021faed6d"" ) {
    id
    symbol
    derivedETH
  }
}","",""
"425452385285177347","cryptochris.","10/02/2021 2:01 am","Can someone tell me what is setting the derivedETH Field?","",""
"425452385285177347","cryptochris.","10/02/2021 3:01 am","better question.  When the data in the subgraph stops updating what is the best way to get it refreshed?  

the token tracker for bsg-dai has 5070 transactions (https://etherscan.io/token/0x4a9596e5d2f9bef50e4de092ad7181ae3c40353e), 

Using the subgraph playground I can see that the the data hasnt been updated since the 3404th transaction. (26ish days ago) which is throwing ALL of the pair data out of sync for uniswap.info

  pair(id: ""0x4a9596e5d2f9bef50e4de092ad7181ae3c40353e"") {
    id
    txCount
  }

how does a data refresh get forced?","",""
"456228957327720458","mammamia6353","10/02/2021 1:48 pm","hi,","",""
"456228957327720458","mammamia6353","10/02/2021 1:50 pm","i'm facing this error:'Failed to get entities from store: canceling statement due to conflict with recovery', now the query is in a while loop, is there the problem? and what's the rate limit of the subgraph?","",""
"456228957327720458","mammamia6353","10/02/2021 1:50 pm","thx for the answer","",""
"447487680511606785","reuptake","11/02/2021 3:19 pm","I'm just starting to learn about subgraph and I wonder how is the value of Volume (24hrs)
on Uniswap.info pair page calculated? subgraph provides data per day, not 24hrs...","",""
"465814189747732490","media.png","12/02/2021 1:50 am","Hi guys, why would the price for a token not show on uniswap graphs?","",""
"465814189747732490","media.png","12/02/2021 2:05 am","I'm experimenting with a token pair, my token price has fluctuated a lot yesterday, and also the total liquidity of the pair is about 1 ETH. Could any of that cause the price to not show up on the uniswap.info graphs?","",""
"705119142935658557","Rubinacci#8864","15/02/2021 3:22 pm","Hi there, I'm having trouble with token totalSupply, regardless of which token I query it is always returning ""14336""","",""
"812279272710340658","JeffHall#3396","19/02/2021 5:46 pm","When loop for all pairs ,  I got this error : The skip argument must be between 0 and 5000","",""
"812279272710340658","JeffHall#3396","19/02/2021 5:47 pm","It was fine until yesterday","",""
"345901078853976064","ololotor","19/02/2021 9:09 pm","The same problem. It was the only way to get all pairs as I know. So what to do now?","",""
"260676376938414080","katz#2178","20/02/2021 8:39 am","Hey guys, is it possible to get ALL swaps for a pair, not just the most recent 1000?","",""
"456226577798135808","Deleted User","20/02/2021 4:33 pm","I am a bit confused with the pairs. is there both a ETH/ANKR pair and ANKR/ETH pair? so I need to monitor both of them for buys/sales?","",""
"456226577798135808","Deleted User","20/02/2021 5:29 pm","""'Failed to get entities from store: canceling statement due to conflict with recovery, query "" has anyone gotten this error while looping through the pairs with offset?","",""
"600734695243776029","jednicka0","20/02/2021 7:08 pm","Hey guys im new in this so sry if its dumm question ... im trying get prices,  i get it when i call pair with id and then tokenprice but it gives me for example on pair DAI/ETH  price only for 1 DAI or 1 ETH how can i get price for example 3 ETH to DAI ?","",""
"600734695243776029","jednicka0","20/02/2021 7:09 pm","how i put amount for quering bigger amount then 1  ?","",""
"346531078439174145","neeraj3296","22/02/2021 12:58 pm","How to get Klines data?","",""
"346531078439174145","neeraj3296","22/02/2021 1:05 pm","for uniswap?","",""
"346531078439174145","neeraj3296","23/02/2021 2:41 am","How to get Klines data for Uniswap? Is that possible?","",""
"346531078439174145","neeraj3296","23/02/2021 2:41 am","Anyone here?","",""
"546806870933897217","lep.irish","25/02/2021 3:31 am","Hi all, Got this message on on the https://coinpaprika.com/ site  Important: No current data for e Ilien EILN. Last data input from 23 February 2021

When I contact them they said this.

It's mapped to Uniswap V2 - and it looks like it has 0 volume according to Uniswap API: https://coinpaprika.com/coin/eiln-e-ilien/#!exchanges.
Best regards,
Coinpaprika

The token address is https://info.uniswap.org/token/0xb0dba4bd6b6c4fc9a1263d8c19a57a6bdd740a52 can you help?

Roger","",""
"391277284142612480","furkann44","25/02/2021 1:00 pm","hello, i was pulling all pairs from the graph api but now i get this error
  ""message"": ""The` skip` argument must be between 0 and 5000, but is 8000 ""

Is there any other method to attract all pairs?","","👍 (1)"
"546806870933897217","lep.irish","25/02/2021 5:41 pm","No current data for e Ilien EILN. any ideas?","",""
"604521785223938048","Meir#7064","28/02/2021 9:25 pm","`{
  tokenDayDatas(where:{id:""0x6b3595068778dd592e39a122f4f5a5cf09c90fe2""}, first:1) {
        id
        date
    priceUSD
  }
}`","",""
"604521785223938048","Meir#7064","28/02/2021 9:25 pm","How can I get the daily average price from tokenDayDatas? The above returns null","",""
"255877584452059137","skipio1337","01/03/2021 12:02 pm","You need to append a Unix starting day timestamp to the id. It's not documented, but if you remove the where clause. You'll see a number appended to the end of the id. If you go look in their github you can figure out how to generate it. It's a timestamp identifier for a particular day","",""
"705119142935658557","Rubinacci#8864","02/03/2021 12:27 pm","I'm having issues with pairDayDatas - dailyVolumeUSD is returning 0, even though both dailyVolumeTokens values are returning:

```      {
        ""dailyVolumeToken0"": ""208345.873146041957707011"",
        ""dailyVolumeToken1"": ""203875.261517841606442325"",
        ""dailyVolumeUSD"": ""0"",
        ""date"": 1614384000,
        ""reserve0"": ""7129663.736604165164080163"",
        ""reserve1"": ""6933980.316095338317096338"",
        ""reserveUSD"": ""1053012.321829992891251254964592888""
      },
```","",""
"705119142935658557","Rubinacci#8864","02/03/2021 12:29 pm","On that particular pair there is no dailyVolumeUSD data, however on another pair I am able to receive dailyVolumeUSD up until Febraury 25th","",""
"705119142935658557","Rubinacci#8864","03/03/2021 2:33 pm","Anyone else having this problem?","",""
"546806870933897217","lep.irish","03/03/2021 7:47 pm","https://discord.com/channels/597638925346930701/606886929094541313/816674372248797264","",""
"546806870933897217","lep.irish","03/03/2021 7:47 pm","Our token show's no liquidity even do there is liquidity in the pools, any ideas how to fix? Regards Roger","https://cdn.discordapp.com/attachments/765222888617017365/816675673204195348/uniswap_grab.jpg",""
"512224423915290644",".yamraz","06/03/2021 3:38 pm","hey guys, what could be the reasons for getting ECONNRESET error from uniswap subgraph?","",""
"359047474050105355","makla2go","06/03/2021 3:48 pm","for me the main uniswap-app is not working, too :S","",""
"604521785223938048","Meir#7064","07/03/2021 7:03 am","`{
  tokenDayDatas(where:{ id:""0x6b3595068778dd592e39a122f4f5a5cf09c90fe2-18604""}) {
    id
    date
    priceUSD
    token {
      id
    }
  }
}`","",""
"604521785223938048","Meir#7064","07/03/2021 7:03 am","This works for sushi token but it doesn't work for some other tokens","",""
"604521785223938048","Meir#7064","07/03/2021 7:06 am","`{
  tokenDayDatas(where:{ token:""0x6b3595068778dd592e39a122f4f5a5cf09c90fe2""}) {
    id
    date
    priceUSD
    token {
      id
    }
  }
}`","",""
"604521785223938048","Meir#7064","07/03/2021 7:06 am","Same with this","",""
"757430679347789921","Ritesh#9500","08/03/2021 12:15 am","Hi, Could someone point me to the documentation of the fields in the subgraph like reserveUSD and volumeUSD and untrackedVolumeUSD etc?","",""
"757430679347789921","Ritesh#9500","08/03/2021 12:15 am","id: ID!
token0: Token!
token1: Token!
reserve0: BigDecimal!
reserve1: BigDecimal!
totalSupply: BigDecimal!
reserveETH: BigDecimal!
reserveUSD: BigDecimal!
trackedReserveETH: BigDecimal!
token0Price: BigDecimal!
token1Price: BigDecimal!
volumeToken0: BigDecimal!
volumeToken1: BigDecimal!
volumeUSD: BigDecimal!
untrackedVolumeUSD: BigDecimal!
txCount: BigInt!
createdAtTimestamp: BigInt!
createdAtBlockNumber: BigInt!
liquidityProviderCount: BigInt!","",""
"728429189807472681","bigfarma.eth","08/03/2021 6:58 pm","Hey all... playing around w the sub-graph and React. I have price data working great, but what is teh best way to have this data refresh every X amount of time?","",""
"790043337037840384","Tihomir#9794","10/03/2021 2:22 am","hey all","",""
"790043337037840384","Tihomir#9794","10/03/2021 2:23 am","Came here because of the same problem...","",""
"790043337037840384","Tihomir#9794","10/03/2021 2:25 am","Is no one maintaining this API???","",""
"718115140888821783","reallynotcups","10/03/2021 4:24 am","Came here because of that too","",""
"718115140888821783","reallynotcups","10/03/2021 4:24 am","Unfortunately, there is no way, the only way I found was to specialize the request to get a specific pair","",""
"741205603866640414","psyche0074#9031","10/03/2021 8:54 am","Hello, is there an API to get this value  in DOLLAR of a Token in Uniswap? I have managed to get the USDT, but cannot get this Dollar value. It is the one  circled in red, as shown in the image. TIA!","https://cdn.discordapp.com/attachments/765222888617017365/819048117101527080/uniswap.png",""
"795703217764827176","uhuge","11/03/2021 4:51 pm","multiply with token.priceInEth and then oracle price of eth","",""
"766700592911089685","peakaboolive","12/03/2021 1:25 am","Has this issue been resolved The skip argument must be between 0 and 5000?","",""
"718115140888821783","reallynotcups","12/03/2021 4:02 pm","@peakaboo Not yet, seems like they didn't plan ahead. They used to have that limit because they had way less pairs and couldn't be bothered to make it a dynamic value","",""
"718115140888821783","reallynotcups","12/03/2021 4:02 pm","Now it's a problem considering there are more than 5k pairs","",""
"766700592911089685","peakaboolive","12/03/2021 6:30 pm","I appreciate you so much for responding.  Thank you!","",""
"718115140888821783","reallynotcups","12/03/2021 7:11 pm","@peakaboo  No problem, I don't know what you are trying to achieve, but I found some more info by looking at uniswap GraphQL requests directly from the website (You can use fiddler or just integrated tools). It could help you","",""
"224606687426772992","thierryonre","12/03/2021 8:49 pm","How often does the graph update its values??","",""
"224606687426772992","thierryonre","12/03/2021 8:50 pm","Or is it instantaneously?? Bc the values on the website don't match up to the values retrieved from the graph","",""
"766700592911089685","peakaboolive","12/03/2021 9:11 pm","I was downloading all the pairs to a database so minimize the use of GQL.  I also use Fiddler and Postman.","",""
"766700592911089685","peakaboolive","12/03/2021 9:11 pm","All of the sudden it broke, now I know why.","",""
"718115140888821783","reallynotcups","13/03/2021 3:48 am","@peakaboo Ok I see, well you could try to specialize the request more and then somehow change the params to get every value","",""
"718115140888821783","reallynotcups","13/03/2021 3:48 am","I know it's not ideal but it seems like the only option until some dev fixes that","",""
"597421417318973472","icemoon#6498","14/03/2021 10:28 pm","Hi I'm trying to exclude more than 1 token how should I write it down, this don't work:

`where:{token1_not: ""address1"", ""address2""`","",""
"597421417318973472","icemoon#6498","14/03/2021 10:29 pm","I'm able to exclude one token1 successfully right now","",""
"718115140888821783","reallynotcups","15/03/2021 1:57 am","Is there a GraphQL API for uniswap on testnets ?","",""
"421852843394465794","BozzKS#2274","15/03/2021 4:07 am","hello, I heard that uniswap is upgrading probably the graph version soon?","",""
"730463593711140956","bor444","15/03/2021 3:43 pm","@BozzKS ye upgrade is in development","",""
"471357824299958273","crypto_rachel","15/03/2021 3:50 pm","https://thegraph.com/explorer/subgraph/ianlapham/uniswapv2?version=pending","",""
"372317178906542081","milonite","15/03/2021 5:41 pm","There's an official Uniswap Kovan subgraph?","",""
"718115140888821783","reallynotcups","15/03/2021 8:03 pm","Yeah I'm looking for one too","",""
"387339966092410881","maaft","16/03/2021 12:42 am","Hi guys","",""
"387339966092410881","maaft","16/03/2021 12:43 am","I have  a hard time understanding how I can query the latest 24h volume for a certain pair","",""
"387339966092410881","maaft","16/03/2021 12:45 am","For example given this pair: https://info.uniswap.org/pair/0xcb57a7eac6ad4ba80e48edea2cb426d6576ab681
And this query:
```
{
  pairDayData(id: ""0xcb57a7eac6ad4ba80e48edea2cb426d6576ab681-18701"") {
    dailyVolumeToken0
    dailyVolumeToken1
  }
}
```
I'd expect that the calculated volume (in USD) matches with the data shown on the uniswap website","",""
"387339966092410881","maaft","16/03/2021 12:46 am","Can anyone explain why this is not the case?","",""
"387339966092410881","maaft","16/03/2021 12:46 am","Or do I need to query the volume differently?","",""
"387339966092410881","maaft","16/03/2021 12:50 am","Ah, got it","",""
"387339966092410881","maaft","16/03/2021 12:50 am","```
{
  swaps(where: {
    timestamp_gte: 1615746714
    pair: ""0xcb57a7eac6ad4ba80e48edea2cb426d6576ab681""
  }) {
    amountUSD
  }
}
```","","👍 (1)"
"410478114033106965","sagiv","17/03/2021 1:08 am","does the subgraph api return ""real time"" pricing?","",""
"183309006767521792","jorropo","17/03/2021 1:38 am","mostly, you can select the block with `block: {number: 123456}`","","Andre (1)"
"183309006767521792","jorropo","17/03/2021 1:38 am","it has 0 to 3 blocks of lags depending of the time","",""
"410478114033106965","sagiv","17/03/2021 2:55 am","what is the recommended way to query pair price if there's a need for accurate latest data? is it by calling the contract directly?","",""
"183309006767521792","jorropo","17/03/2021 3:00 am","yes, always","",""
"183309006767521792","jorropo","17/03/2021 3:01 am","@Sagiv thegraph should be used for bulk of unimportant data (such as https://info.uniswap.org)","","👍 (1)"
"447487680511606785","reuptake","17/03/2021 7:34 pm","I wonder how is ""usd volume"" calculated for historical data. I mean eg. `pairDayData`. When ETH or token price moves, the USD denominated volume can change (even without additional swaps. Is it taken into account? Or it's just a sum of all trades converted into USD at the time those trades took place?","",""
"447487680511606785","reuptake","18/03/2021 12:48 pm","Another question: is it possible that some pairs have big delay before they're included? I have one pair that had some transactions today, but I'm getting 0 volume from `pairDayData`","",""
"447487680511606785","reuptake","18/03/2021 1:46 pm","```        {
          pairDayData(id:""0x0928592f80d63d474257a7b797120e301ba2d987-18704"") {
            id
            dailyVolumeUSD        
          }          
        }```","",""
"822843175512047636","veridelisi#4098","20/03/2021 8:28 pm","How could I download LP injections/drains, swap, price and marginal price data for any pool? Historical data?","",""
"819509735283753000","rajatnishu#4744","22/03/2021 8:21 pm","hello","",""
"819509735283753000","rajatnishu#4744","22/03/2021 8:21 pm","i get your info-uniswap repo and project clone  on local system, but i am unable to understand how get get data on frontend ? how  you  get data on backend. or please provide any other repo for backend side,how you get data on frontend","",""
"131642188655362049","elyx0","23/03/2021 12:17 am","you need to check if the graph is synced","",""
"823171602505007104","return#1271","23/03/2021 2:19 am","@elyx0 How can I check it? And is it possible that graph is partially synced?","",""
"408749130735812619","Joa#8137","23/03/2021 11:03 pm","👋  Hellow everyone.

I had a question about how to calculate Fees (24hr). Using GraphQL","https://cdn.discordapp.com/attachments/765222888617017365/823972824280203304/Screenshot_from_2021-03-23_14-33-14.png",""
"131642188655362049","elyx0","24/03/2021 11:46 pm","Check the subgraph playground of the subgraph you want, also you can do a graphql call to check the current block in the meta","",""
"131642188655362049","elyx0","24/03/2021 11:48 pm","```json
{
  _meta {
    block {
      number
      hash
    }
    deployment
    hasIndexingErrors
  }
}
```","",""
"131642188655362049","elyx0","24/03/2021 11:49 pm","and compare from the latest block of the network ur looking at 🙂","",""
"131642188655362049","elyx0","24/03/2021 11:49 pm","otherwise it shows on top right of the playground","",""
"131642188655362049","elyx0","24/03/2021 11:49 pm","","https://cdn.discordapp.com/attachments/765222888617017365/824346657075232798/Screen_Shot_2021-03-24_at_2.19.10_PM.png",""
"131642188655362049","elyx0","24/03/2021 11:50 pm","When it's behind or fails you can see: https://user-images.githubusercontent.com/706218/110049668-50071900-7d20-11eb-9f35-2b7f15400993.png","",""
"819509735283753000","rajatnishu#4744","25/03/2021 11:11 am","Hello guys please help me find solution
when i clone uniswap-v2-subgrap on local system and update  package.json file and run ""yarn-local-deploy"" then i am facing above issue.","https://cdn.discordapp.com/attachments/765222888617017365/824518333746511892/unknown.png",""
"351062741559279617","yabirgb","25/03/2021 9:36 pm","Hello! I noticed that the subgraph for V2 is not up to date with the content of the repo. Is there a reason for that?","",""
"405082190758674442","mirza_usman#1076","28/03/2021 10:08 pm","I've deployed the subgraph with my new contracts but even after adding liquidity and assets, I'm unable to view volume and value of these assets?","",""
"405082190758674442","mirza_usman#1076","28/03/2021 10:08 pm","i wonder if any one can help?","",""
"405082190758674442","mirza_usman#1076","30/03/2021 6:00 pm","@callil [UX & Design] 🦄- No DMs  Can you please help me in this regard? My Analytics is not Getting price of any assets","",""
"234038230155132928","madcake92","31/03/2021 1:51 am","Hi, simple question, the subgraph has a LiquiditySnapshot entity that does not appear in the docs. I can see that snapshots are added when someone adds or removes liquidity, but does it also get triggered when I transfer my LP tokens to another account?","",""
"287924636493152257","leonardge","01/04/2021 10:33 am","Hi I am quite new here. I have a probably newbie question. Currently I see that the query API for `swap` supports the `amountUSD`  I am wondering what exchange rate is it using? 

Conretely, if I have a `Float/ETH` pair and for a given swap that happens in the past, does the `amountUSD` uses the price of the ETH at that point in time? If so, which exchange rate is it using?","",""
"409886078783324160","jp4g","01/04/2021 3:09 pm","Posted in #💻│dev-chat as well, am I doing my subgraph query incorrectly? I am unable to return the token balances I have providing liquidity :/","https://cdn.discordapp.com/attachments/765222888617017365/827115058903515216/unknown.png",""
"209753376517259266","idatsy","01/04/2021 7:11 pm","Hi guys, I'm trying to run a uniswap subgraph locally. Got it up but requests return empty json. I suspect it is stuck. Not sure what to do from here to fix it, I am using infura.","https://cdn.discordapp.com/attachments/765222888617017365/827175852949110804/unknown.png",""
"209753376517259266","idatsy","01/04/2021 7:13 pm","Checking the meta gives
```{
  ""data"": {
    ""_meta"": {
      ""block"": {
        ""hash"": ""0x21f460bade5043b9be10fcafd99e66e1760fc052d3f83593e78d956737127fa7"",
        ""number"": 10008354
      },
      ""deployment"": ""Qmbr5NqFj6cq5ZL913zddKgJzGuJmaBPM9p2Ag7HLWQuN8"",
      ""hasIndexingErrors"": false
    }
  }
}
```","",""
"730463593711140956","bor444","01/04/2021 8:56 pm","@iDatsY is that synced completely?","",""
"730463593711140956","bor444","01/04/2021 8:56 pm","that block was almost year ago","",""
"730463593711140956","bor444","01/04/2021 8:57 pm","https://etherscan.io/block/10008354","",""
"209753376517259266","idatsy","01/04/2021 8:57 pm","It was synced before I added the subgraph, I'm using infura so don't know if there is an issue with that","",""
"209753376517259266","idatsy","01/04/2021 8:57 pm","Currently trying to AWS my own node and see if it makes any difference","",""
"730463593711140956","bor444","01/04/2021 9:00 pm","how you queried meta?","",""
"209753376517259266","idatsy","01/04/2021 9:50 pm","Yes, you mean this? 

```
{
  ""data"": {
    ""_meta"": {
      ""block"": {
        ""hash"": ""0x21f460bade5043b9be10fcafd99e66e1760fc052d3f83593e78d956737127fa7"",
        ""number"": 10008354
      },
      ""deployment"": ""Qmbr5NqFj6cq5ZL913zddKgJzGuJmaBPM9p2Ag7HLWQuN8"",
      ""hasIndexingErrors"": false
    }
  }
}
```","",""
"804372734049386526","atluo","02/04/2021 4:06 pm","What is the API address","",""
"209753376517259266","idatsy","03/04/2021 12:52 am","https://mainnet.infura.io/v3/KEY","",""
"209753376517259266","idatsy","03/04/2021 12:52 am","I set up my own geth node and still get stuck on the same block, same meta and graphql returns empty arrays data","",""
"209753376517259266","idatsy","03/04/2021 12:54 am","More detailed error-log though","https://cdn.discordapp.com/attachments/765222888617017365/827624522630692894/unknown.png",""
"819509735283753000","rajatnishu#4744","06/04/2021 10:36 am","Hello guys I work on uniswap-info and uniswap-v2-subgraph code clone on his local system. and change address in subgraph.yaml and helper.ts , and deploy subgraph and subgraph api hit through uniswap-info unable to get data on ui.   please help me try to find solution","",""
"405082190758674442","mirza_usman#1076","07/04/2021 8:58 pm","Hi I'm facing an issue that I've Deployed my contracts and Subgraph, now everything works but still not able to get the ETH volume and USD Volume","",""
"405082190758674442","mirza_usman#1076","07/04/2021 9:05 pm","@Aseem 🦄  @callil [UX & Design] 🦄- No DMs  please help me understand this","",""
"590569080805916682","eroticklaxon","15/04/2021 5:07 pm","i'm querying the uniswap API for my wallet address but the API doesn't seem to find it...

```user(id: ""<WALLET-ADDRESS>""){
    liquidityPositions {id}
  }```

this returns...

```{
  ""data"": {
    ""user"": null
  }
}```

the same wallet address works fine on the uniswap website to see its positions. 

am i missing something? is the uniswap API borked?","",""
"186142565416960002",".hplaserjetpro","15/04/2021 6:07 pm","Hello, i try to get pair information from the uniswap subgraph using js. I send this query and it throws an error. But if i put the address directly into the query it will work. My question is, how do I have to shape the query to use a variable as the address inside the query?","https://cdn.discordapp.com/attachments/765222888617017365/832233184367607878/unknown.png",""
"553082995645349889","basedmaxsinclair","16/04/2021 4:52 pm","Hey, anyone familiar with how to get price of last hour for a token?","",""
"286222096898719755","fackeldiekischt#3448","17/04/2021 1:21 am","I was wondering how to change the ""derivedETH"" value to something other than 1, meaning i want to know the price of a token in a ETH pair (lets say ETH/UNI) for a specific amount of ETH (NOT ETH=1)..any ideas?","",""
"451156967105232906","sagat#8699","23/04/2021 5:43 pm","Hello","",""
"451156967105232906","sagat#8699","23/04/2021 5:43 pm","!","",""
"451156967105232906","sagat#8699","23/04/2021 5:46 pm","What is thew difference between liquidityTokenBalance and liquidityTokenTotalSupply on the liquidityPositionSnapshot?","",""
"451156967105232906","sagat#8699","23/04/2021 5:46 pm","couldnt find anything on that in the reference","",""
"730463593711140956","bor444","23/04/2021 6:15 pm","liquidityTokenTotalSupply -> pool token supply
liquidityTokenBalance -> users pool token balance","",""
"451156967105232906","sagat#8699","25/04/2021 3:22 pm","Thx mate!","",""
"631977988530896896","awallalabu","25/04/2021 8:19 pm","hello, can anyone help me to get all pair address. im using the playground atm and couldn't get beyond 6000 id because of subgraph's limit on skip params","",""
"588935170682519552","restingrichface","26/04/2021 1:47 am","Will the v3 subgraph be based upon The Graph GRT as well? Thanks!🤟","",""
"447487680511606785","reuptake","26/04/2021 3:16 pm","Sort those pair addresses and then use greater than (last fetched address)","","👍 (1)"
"464748142877736969","mark.mariodo#5529","29/04/2021 7:07 am","hi how i can requset trade history by address via subgraph?","",""
"451156967105232906","sagat#8699","02/05/2021 9:41 pm","Hi, is there a way to get the checksummed address of tokens from the graph?","",""
"451156967105232906","sagat#8699","02/05/2021 9:41 pm","the warning message of ethers annoyingly spams my console","",""
"183309006767521792","jorropo","02/05/2021 10:02 pm","disable checks if you can.
Else it's dead easy to checksum them yourself, the EIP even have a python3 example, checksum it out yourself (first parse with regular hex lib and then applies this algorithm) 🙂 : https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md","",""
"451156967105232906","sagat#8699","02/05/2021 10:27 pm","yeah I found that ethers.utils.getAddress(address) veryfies and checksums if not already. Still there is an error thrown from ethers, maybe one address is messed up. Dunno. I ll catch and move on.","",""
"451156967105232906","sagat#8699","02/05/2021 10:27 pm","BTW do u know this error?","",""
"451156967105232906","sagat#8699","02/05/2021 10:27 pm","---> Error: Failed to get entities from store: canceling statement due to conflict with recovery","",""
"451156967105232906","sagat#8699","02/05/2021 10:27 pm","@Jorropo.eth the error message is way longer this is only the entry","",""
"183309006767521792","jorropo","02/05/2021 10:28 pm","no idea, this seems to be serious, something is going wrong I don't think that this is just the checksum","",""
"451156967105232906","sagat#8699","02/05/2021 10:29 pm","no this is the graph request answer","",""
"183309006767521792","jorropo","02/05/2021 10:29 pm","ah, idk then","",""
"183309006767521792","jorropo","02/05/2021 10:29 pm","race condition in their database ? https://stackoverflow.com/questions/14592436/postgresql-error-canceling-statement-due-to-conflict-with-recovery","",""
"451156967105232906","sagat#8699","02/05/2021 10:30 pm","its from the graph yes","",""
"183309006767521792","jorropo","02/05/2021 10:30 pm","the link I've thrown is a generic postgres issue, I think their is a bug in the subgraph.","",""
"451156967105232906","sagat#8699","02/05/2021 11:09 pm","ahh okay, thx for the info","",""
"451156967105232906","sagat#8699","02/05/2021 11:47 pm","@Jorropo.eth sorry to bother u. It seems like getOutputAmount() doesnt output correct amoiunts for tokens with 8 decimals. Is there another thing to take care off","",""
"183309006767521792","jorropo","03/05/2021 12:04 am","Which function where ? (a link pls ?)
Decimals doesn't change the math, only how we represent it","",""
"451156967105232906","sagat#8699","03/05/2021 12:10 am","https://uniswap.org/docs/v2/SDK/pair/#getoutputamount","",""
"451156967105232906","sagat#8699","03/05/2021 12:11 am","if I pass in to buy 100 ETH it outputs a lot more leading zeros than expected","",""
"451156967105232906","sagat#8699","03/05/2021 12:11 am","for WBTC for example","",""
"183309006767521792","jorropo","03/05/2021 12:19 am","I don't use the SDK sorry I can't help you.

What I do is just copy paste the formula everywhere :
```py
# Here in python3, you need BIG support
inputAmount = inputAmount * 997; # Calculate after fee
inputAmount = (inputAmount * reserveOut)//(reserveIn * 1000 + inputAmount); # Calculate outputNeeded # Notice the // this is just pythonic way to do BIG divisions, as the default division returns a double
```
This takes and returns undecimated amounts for everything and uses 3 digits precision for the division (same as does uniswap internaly).

So first you convert your ETH to wei (for reserves too, and if the reserve token is not 18 decimated, use the proper decimation) and then after you do your `/10**8` for your 8 decimals token and it's fine.","",""
"451156967105232906","sagat#8699","03/05/2021 12:20 am","i see bro thx!","",""
"451156967105232906","sagat#8699","05/05/2021 5:18 pm","I am confused 😄","",""
"451156967105232906","sagat#8699","05/05/2021 5:18 pm","Bro all these BigNumbers 😄","",""
"183309006767521792","jorropo","05/05/2021 5:19 pm","BIG mean variable length int arithmetics.
You can have 64+ bits math.
Solidity uses 256 uint so you need 257 bits BIG.","",""
"183309006767521792","jorropo","05/05/2021 5:20 pm","@sagat in python3 you need nothing, the `int` type is BIG","",""
"451156967105232906","sagat#8699","05/05/2021 5:20 pm","I am pretty sure it's easy: see getOutputamount from the sdk does exactly what u posted besides some error handling in case reserves are iliquid. BUT what confuses me is ---> the function simply returns token amounts why converting to wei?","",""
"183309006767521792","jorropo","05/05/2021 5:20 pm","@sagat in go it's this : https://pkg.go.dev/math/big
In JS web3 uses this : https://github.com/indutny/bn.js/","",""
"183309006767521792","jorropo","05/05/2021 5:22 pm","it's to have precise calculation.

Floats are a pain, they don't always line up and loose precision into big numbers (to be faire they never have been created to represent precise thing)
What you do is first convert everything to undecimated form (`wei` for `ETH` for example) and do BIG calculations.","",""
"183309006767521792","jorropo","05/05/2021 5:23 pm","@sagat so you input wei and get wei in the other side.
(for info not all tokens uses 18 decimals like ETH, you need to query `token.decimals()` to know the decimation)","",""
"451156967105232906","sagat#8699","05/05/2021 5:23 pm","Yes and this is where I am getting confused","",""
"451156967105232906","sagat#8699","05/05/2021 5:24 pm","when I observe dai everything just fine 18 decimals, but usdt & usdc have 6 decimals WTF","",""
"183309006767521792","jorropo","05/05/2021 5:25 pm","yes, this still holds up.

For info as long as everything is undecimated you can mix match decimals into the formulas, thoses still holds true.","",""
"451156967105232906","sagat#8699","05/05/2021 5:26 pm","when I calc the outputamount with the sdk it returns for usdt and usdc numbers that have 9 digits less than what I get for dai. They should be returning around the same numbers according to their stable price nature","",""
"451156967105232906","sagat#8699","05/05/2021 5:26 pm","at least the leading ones","",""
"183309006767521792","jorropo","05/05/2021 5:28 pm","no, this is just a false assumption.

See the decimals as a scalling factor.
The biggest decimal is the tinier the token is.

The stable price is only for the unscalled version, after you apply the decimal ratio.","",""
"451156967105232906","sagat#8699","05/05/2021 5:30 pm","Okay Bro, I will go more into that. Thx a lot for ur time and explanations","",""
"735434577501487216","ntfholder","06/05/2021 4:05 am","Can I find a liqudity in range ?

for example how much liquidity in uni-eth between 60 to 80 ?","",""
"101116048870223872","SI_IP#9087","06/05/2021 4:46 am","sorry if this has been discussed, i just joined the channel. is the Uniswap V3 official subgraph out yet?","",""
"184247081223979008","bloodjuggles","06/05/2021 5:09 am","Interested to know this too","",""
"274208745699934220","callil_","06/05/2021 8:31 am","Yes, look at the github page for info","",""
"274208745699934220","callil_","06/05/2021 8:31 am","Look at the pair on info and select the liquidity tab in the chart","",""
"532017506223783936","anwu55","06/05/2021 8:45 am","will the subgraph include a query for users in the future?","",""
"451156967105232906","sagat#8699","06/05/2021 2:06 pm","for curerncies having less than 18 decimals do I simply pad them with 0 till 18 decimals are filled?","",""
"447487680511606785","reuptake","06/05/2021 2:11 pm","Is there some alternative to this playground? https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3","",""
"759605824825458738","michaelstone#5047","06/05/2021 8:28 pm","Could someone point me the right link for uniswap v3 subgraph? I see the stats already showed up here guess must be powered by subgraph?
https://info.uniswap.org/#/","",""
"582803091443679273","0xbiig","06/05/2021 8:53 pm","How to convert position data to amount0, amount1

```
{
""nonce"": ""0"",
""operator"": ""0x0000000000000000000000000000000000000000"",
""token0"": ""0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984"",
""token1"": ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"",
""fee"": ""3000"",
""tickLower"": ""-44340"",
""tickUpper"": ""-43680"",
""liquidity"": ""4519782448394466267970"",
""feeGrowthInside0LastX128"": ""217512326789404188889141305443223245"",
""feeGrowthInside1LastX128"": ""1638796999500672710537552855104901"",
""tokensOwed0"": ""0"",
""tokensOwed1"": ""0""
}
```","",""
"447487680511606785","reuptake","07/05/2021 12:51 am","https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3 (in my previous post)","",""
"759605824825458738","michaelstone#5047","07/05/2021 7:13 am","Thanks!","",""
"765464540716072970","MiaLee#8703","07/05/2021 1:19 pm","hi,I have a problem.","",""
"765464540716072970","MiaLee#8703","07/05/2021 1:19 pm","Use weth for usdc, execute swapExactTokensForTokens, error message: TransferHelper: TRANSFER_FROM_FAILED
Current status:
1. There is enough weth in the wallet
2. Execute the allowance of the wet contract and the parameters of the contract (wallet address, address of uniswap router02), and get a value much larger than the number of wet in my wallet, which proves that I have done approve
3. The transferFrom execution of the weth contract is also an error.","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 4:53 pm","Hi guys, how do I find all uniswap pairs for a token? using theGraph","",""
"730463593711140956","bor444","07/05/2021 6:32 pm","@Admin 2gether v2 or v3?","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:35 pm","V2 @Boris Stanic","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:35 pm","const token1 = address // change me!
        const token0 = address2
    
        const pair = getCreate2Address(
        FACTORY_ADDRESS,
        keccak256(['bytes'], [pack(['address', 'address'], [token0, token1])]),
        INIT_CODE_HASH
        )","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:36 pm","this work but I get an address in capital letters","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:36 pm","I tried using ethers.utils.getAddress() but with no success","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:37 pm","there is probably a way to get it directly from subgraph v2...","",""
"730463593711140956","bor444","07/05/2021 6:38 pm","@Admin 2gether https://thegraph.com/explorer/subgraph/graphprotocol/uniswap?query=Exchanges%20by%20volume","",""
"730463593711140956","bor444","07/05/2021 6:39 pm","use the graph","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:39 pm","then I need to  where I guess?","",""
"474192725239922688","Admin 2gether#5639","07/05/2021 6:39 pm","not sure this will work","",""
"730463593711140956","bor444","07/05/2021 6:40 pm","you can see in examples how to query by parameter (get user history)","",""
"730463593711140956","bor444","07/05/2021 6:40 pm","use this pattern to query exchanges for your token","",""
"447487680511606785","reuptake","07/05/2021 7:07 pm","And how to find all my positions in v3?","",""
"412201998876934154","canadacode#3568","07/05/2021 10:50 pm","Hi,  Can someone help me to understand how can I convert  sqrtPrice, liquidityGross, liquidityNet to number? Thanks```{
  ""data"": {
    ""pools"": [
      {
        ""id"": ""0x5116f278d095ec2ad3a14090fedb3e499b8b5af6"",
        ""sqrtPrice"": ""4101433270049639267113824062065"",
        ""ticks"": [
          {
            ""id"": ""0x5116f278d095ec2ad3a14090fedb3e499b8b5af6#106600"",
            ""liquidityGross"": ""668769626520736006986"",
            ""liquidityNet"": ""-668769626520736006986"",
            ""price0"": ""42593.93007192132034566510303247797"",
            ""price1"": ""0.00002347752363567920362538493048749063"",
            ""tickIdx"": ""106600""
          }
        ],
        ""token0"": {
          ""id"": ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"",
          ""symbol"": ""WETH""
        },
        ""token1"": {
          ""id"": ""0xea6412fb370e8d1605e6aeeaa21ad07c3c7e9f24"",
          ""symbol"": ""MUSH""
        }
      }
    ]
  }
}```","",""
"323449554022432770",".0xtai","08/05/2021 6:27 am","isn't this v1?","",""
"323449554022432770",".0xtai","08/05/2021 7:32 am","you don't mind sharing how you did this?","",""
"425854364742189066","ozinc","08/05/2021 7:51 am","Hi Guys.  On uniswapv3 subgraph re. totalValueLockedToken0 & totalValueLockedToken1 at the Pool level - are these the V2 equivalents of reserve0 and reserve1 on the Pair level?","",""
"783083944705785887","logblpb#6935","08/05/2021 6:34 pm","hey, is there a way to get my LP position info via subgraph atm?","",""
"814836860446179349","veggieburger_","09/05/2021 12:11 am","Anyone else not able to pull historical poolHourDatas or tickHourDatas on the Uniswap V3 subgraph?
Simple query below returns nothing. 
`{
  poolHourDatas(first:5){
    id
  }
}`","",""
"447487680511606785","reuptake","09/05/2021 2:27 am","v3? good question... I guess you have to query for mints","",""
"545664408722997258","descipher#2098","09/05/2021 2:58 am","who created the v3 subgraph?","",""
"545664408722997258","descipher#2098","09/05/2021 2:59 am","and if info.uniswap.org is using the subgraph anyone know the queries it is using for the liquidity graphs?","",""
"759605824825458738","michaelstone#5047","09/05/2021 3:02 am","The numbers shown on website doesn't seem to match what I see from uniswpa v3 subgraph...","",""
"759605824825458738","michaelstone#5047","09/05/2021 3:03 am","Does anyone know if the source code for https://info.uniswap.org/#/ is available on github? Wanted to see how the data is sourced. Doesn't seen to match what I see in v3 subgraph here:
https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3?query=Example%20query","",""
"783083944705785887","logblpb#6935","09/05/2021 3:28 am","found my mints, what now? if I understand it correctly current token amount can be calculated from tick max tick min and tick current, what about fees collected?","",""
"447487680511606785","reuptake","09/05/2021 3:30 am","I don't know the answer, sorry. I've even asked on Twitter AMA yesterday this exact question, but I was ignored.","",""
"783083944705785887","logblpb#6935","09/05/2021 3:31 am","well, maybe too early to automate","",""
"783083944705785887","logblpb#6935","09/05/2021 3:32 am","even v3 info page is buggy","",""
"447487680511606785","reuptake","09/05/2021 3:32 am","I have a script of v2 which creates CSV file with my current positions...","",""
"447487680511606785","reuptake","09/05/2021 3:32 am","also a monitoring script which displays real time trades and generated fees (this is based on contracts, not subgraph)","",""
"447487680511606785","reuptake","09/05/2021 3:33 am","I'd love to rewrite it to v3...","",""
"783083944705785887","logblpb#6935","09/05/2021 3:34 am","yes, i tried to interact with contracts, but pair contracts code not available on etherscan and i am not experienced enough to dig into uni github","",""
"783083944705785887","logblpb#6935","09/05/2021 3:35 am","anyway thank you for trying to help","",""
"783083944705785887","logblpb#6935","09/05/2021 3:35 am","at least I have a start point now","",""
"447487680511606785","reuptake","09/05/2021 3:36 am","It's available on github, there are just 3 main contacts","",""
"783083944705785887","logblpb#6935","09/05/2021 3:43 am","yeah, even found a function that seems relevant (positions(bytes32 key)) but too noob to make eth_call for it","",""
"545664408722997258","descipher#2098","09/05/2021 3:47 am","anyone know if ""liquidity"" for ticks is in nominal token values?","",""
"545664408722997258","descipher#2098","09/05/2021 4:15 am","liquidity gross and liquidity net for each tick seem to be just large values and their negative counterpart","",""
"485274047924535306","l0c4t0r","09/05/2021 9:17 am","Yeah I am looking at the same thing and the data looks really strange. E.g. the volumeUSD field in UniswapDayData are of a completely different scale on different dates","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:26 am","Someone told me it was using a different subgraph api and I wasn't able to find the the graph official page for it","",""
"485274047924535306","l0c4t0r","09/05/2021 9:35 am","Thanks for the pointer - looks like it might be this one:
https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-alt","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:36 am","np but can you find the the graph home page for this? Not sure if this end point is public availalbe","",""
"485274047924535306","l0c4t0r","09/05/2021 9:36 am","The api url is on that page. The account seems to be one of the uniswap devs","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:36 am","Also current uniswap v3 web site doesn't look right. See below centered around 9k. Doesn't make sense","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:36 am","","https://cdn.discordapp.com/attachments/765222888617017365/840801974517891112/unknown.png",""
"485274047924535306","l0c4t0r","09/05/2021 9:37 am","hmm interesting","",""
"759605824825458738","michaelstone#5047","09/05/2021 9:37 am","It should be centered around 4k I think. Any uniswap dev here to clarify?","",""
"783083944705785887","logblpb#6935","09/05/2021 6:04 pm","even more interesting, according to info stats usdt-usdc pair is centred around 0.86, which is of course not true","",""
"783083944705785887","logblpb#6935","09/05/2021 6:05 pm","i suspect most of stats are more or less buggy atm","",""
"759605824825458738","michaelstone#5047","09/05/2021 6:41 pm","yes agree somebody jus told me in v3-integration channel the right most axis value is actually the center. lol","",""
"759605824825458738","michaelstone#5047","09/05/2021 6:43 pm","Could anyone suggest which table in the v3 subgraph to regenerate the distribution chart above? Tick table? Tried but no luck so far.","",""
"545664408722997258","descipher#2098","10/05/2021 1:00 am","","https://cdn.discordapp.com/attachments/765222888617017365/841034424200069171/Screen_Shot_2021-05-09_at_3.30.27_PM.png",""
"545664408722997258","descipher#2098","10/05/2021 1:00 am","what im trying to figure out is where the liquidityNet and Gross values come from","",""
"545664408722997258","descipher#2098","10/05/2021 1:00 am","and what are they denominated in","",""
"732148622287700020","0xhugodev#4532","10/05/2021 3:16 am","Does anyone know if through the  subgraph-api can obtain the liquidity of a specific range of the pool in v3?","",""
"759605824825458738","michaelstone#5047","10/05/2021 5:23 am","Hey what's the source of this data? v3 subgraph? iquidityNet and Gross values are likely big integer after multiplying pow(10, decimals) so you need to do the reverse to convert to readable numbers","",""
"545664408722997258","descipher#2098","10/05/2021 5:45 am","yes","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:21 pm","Hi all, I can see the ""official"" UNI v2 subgraph doesnt have a field ""from"" is there another subgraph that is realiable and I can count on with this field? thanks","",""
"759605824825458738","michaelstone#5047","10/05/2021 6:29 pm","Swap table has field called sender. That's not what you are looking for?","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:30 pm","no that returns the router","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:30 pm","not the ""from"" of the hash","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:32 pm","see for yourself:  ""sender"": ""0x7a250d5630b4cf539739df2c5dacb4c659f2488d"",","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:33 pm","😢","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:36 pm","maybe its a bug, or is it done on purpose?","",""
"759605824825458738","michaelstone#5047","10/05/2021 6:44 pm","probably it was easy to do so when creating the subgraph. You can also use the tx hash to find out the sender with web3 calls","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:44 pm","yeah I know the issue is calling with web3 1000 time is a mess for a webapp","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 6:45 pm","anyways tks I will try to find a work around","",""
"759605824825458738","michaelstone#5047","10/05/2021 7:18 pm","how about use another subgraph with tx hash and sender/receiver then do a join","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:19 pm","@michaelstone hmmm u lost me there","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:19 pm","what do u mean?","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:19 pm","ooh making another subrgraph call u mean","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:20 pm","its going to be async again... not sure it's a good idea","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:21 pm","but I can try","",""
"474192725239922688","Admin 2gether#5639","10/05/2021 7:22 pm","the easiest would be another subgraph with the correct field... that is up and running","",""
"274208745699934220","callil_","10/05/2021 9:55 pm","V3 info is now open sourced! https://github.com/Uniswap/uniswap-v3-info","","💯 (1)"
"822843175512047636","veridelisi#4098","11/05/2021 12:25 am","","https://cdn.discordapp.com/attachments/765222888617017365/841387972821385217/ice_screenshot_20210510-225501.png",""
"822843175512047636","veridelisi#4098","11/05/2021 12:26 am","https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2?query=Example%20query","",""
"822843175512047636","veridelisi#4098","11/05/2021 12:26 am","is there error in totalvolumeusd?","",""
"822843175512047636","veridelisi#4098","11/05/2021 12:27 am","totalliquidityusd is correct","",""
"822843175512047636","veridelisi#4098","11/05/2021 12:33 am","","https://cdn.discordapp.com/attachments/765222888617017365/841389989325701130/ice_screenshot_20210510-230120.png",""
"822843175512047636","veridelisi#4098","11/05/2021 12:55 am","other question what ""totalSupply"" is graphql in uniswap2?","",""
"822843175512047636","veridelisi#4098","11/05/2021 1:07 am","@michaelstone @Noah Zinsmeister ?","",""
"822843175512047636","veridelisi#4098","11/05/2021 1:15 am","","https://cdn.discordapp.com/attachments/765222888617017365/841400570102284288/ice_screenshot_20210510-234517.png",""
"822843175512047636","veridelisi#4098","11/05/2021 1:53 am","I think @Hayden Adams 🦄 multiply  (100 * tradevolumeUSD)","",""
"822843175512047636","veridelisi#4098","11/05/2021 2:03 am","for example; tether volume is $287.417.599 but graph says $25.846.668.450..........ether volume is $2.64b but graph says $229.054.560.304","",""
"822843175512047636","veridelisi#4098","11/05/2021 2:26 am","New question, how could I **hide untracked pairs** in uniswap v2 in graph?","",""
"822843175512047636","veridelisi#4098","12/05/2021 3:15 am","@Hayden Adams 🦄 When we use ""user"" query, how could we add token names to this query?","",""
"822843175512047636","veridelisi#4098","12/05/2021 3:15 am","","https://cdn.discordapp.com/attachments/765222888617017365/841793132583452672/ice_screenshot_20210512-014146.png",""
"822843175512047636","veridelisi#4098","12/05/2021 3:16 am","{
  user (id:""0x4226bfa5c72ef2303d79016cc89c1c82ef8453e3"")
  {
   
    liquidityPositions(first:5,orderBy:liquidityTokenBalance,orderDirection:desc)
    {
      liquidityTokenBalance,
      
    }
    
  }  
  
}","",""
"545664408722997258","descipher#2098","12/05/2021 3:17 am","Anyone know the conversion for the gross and net liquidity values to normal floats?","",""
"545664408722997258","descipher#2098","12/05/2021 3:17 am","feel like im being dumb here","",""
"336243088500588545","jab.sh","12/05/2021 3:20 am","this was fixed btw","",""
"336243088500588545","jab.sh","12/05/2021 3:21 am","@veridelisi please don't cold ping Hayden (or anyone for that matter)","",""
"822843175512047636","veridelisi#4098","12/05/2021 3:28 am","Got it.But who is responsible from graph tool for uniswap?","","👀 (1)"
"392528519458193410","cryptofish","12/05/2021 6:25 pm","Does anyone know how I can get all the LP providers for a specific pair at this current moment in time?","",""
"392528519458193410","cryptofish","12/05/2021 6:25 pm","I'd like it to return the user's address and the balance of LP tokens","",""
"816541174327410789","danielkung","12/05/2021 7:09 pm","Hey  guys, why my subgraph always return derivedETH = 0 and  usd = 0    but  i can  get  ""ethPrice"": ""184.9161632006698526874015403130612""","https://cdn.discordapp.com/attachments/765222888617017365/842033247197069332/unknown.png",""
"456226577798135808","Deleted User","13/05/2021 12:13 am","Hi there! You guys are doing a great job with this project - I respect the effort you have put in to making Uniswap into what it is today. I come from a friendly neighbor open source project base over at Winding Tree https://github.com/windingtree . We have run into some limitations when using the Uniswap platform, and would like to contribute small patches to make it better. I suspect that you have already seen these 2 PRs:

```
[1] https://github.com/Uniswap/uniswap-v2-subgraph/pull/86
[2] https://github.com/Uniswap/uniswap-v3-subgraph/pull/5 
```

The WT team wants to better understand why there is no activity on these PRs, and if there is some further actions we can take in order to get them merged.","",""
"392528519458193410","cryptofish","13/05/2021 3:59 am","How do I query the subgraph to see all the liquidity providers for a specific pair?","",""
"759605824825458738","michaelstone#5047","13/05/2021 8:41 am","Thanks yes noticed a couple of days ago. Great job dev team!","","👍 (1)"
"250071404379111424","turinghorse","13/05/2021 11:27 am","Is there a v3 subgraph in the works?","",""
"336243088500588545","jab.sh","13/05/2021 11:53 am","Probably","",""
"456226577798135808","Deleted User","13/05/2021 12:35 pm","v3 subgraph work is going on here https://github.com/Uniswap/uniswap-v3-subgraph","","👍 (1)"
"323449554022432770",".0xtai","13/05/2021 1:10 pm","It looks like the subgraph usually cannot get data from the latest block. How much is the latency in average? How many blocks should be subtracted?","",""
"759605824825458738","michaelstone#5047","13/05/2021 6:48 pm","? why not just make a query to get latest available block then you know how many blocks you are behind.","","👍 (1)"
"759605824825458738","michaelstone#5047","13/05/2021 6:48 pm","checkout v3 website source code on github. There you can find v3 subgraph api end point","",""
"759605824825458738","michaelstone#5047","13/05/2021 7:12 pm","This is not the one used by uniswap.info site btw. Not sure why","",""
"447487680511606785","reuptake","13/05/2021 8:48 pm","In v3 uniswap.info there's no ""account"" tab at all?","",""
"274208745699934220","callil_","13/05/2021 8:53 pm","not yet","",""
"447487680511606785","reuptake","13/05/2021 8:55 pm","any hint how can I get all user positions from subgraph? using `mint` is the only way?","",""
"274208745699934220","callil_","13/05/2021 9:00 pm","best to chat with @Ian (dev) 🦄 [No DMs]","",""
"759605824825458738","michaelstone#5047","13/05/2021 9:28 pm","Are you talking about liquidition positions? There is a table for this in v2 subgraph","",""
"447487680511606785","reuptake","13/05/2021 10:20 pm","I'm talking about v3","",""
"759605824825458738","michaelstone#5047","14/05/2021 12:55 am","ah ok I""m looking for the same thing.","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 2:55 am","@reuptake 🌊 Working to add user and position data to the subgraph this week","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 2:55 am","will be similar to v2 - except have fees calculated in the entity as well (in v2 had to do calculation after the fact)","",""
"447487680511606785","reuptake","14/05/2021 3:20 am","Wow, that's fantastic!","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 3:38 am","Will also be adding the account tab to info which displays this","",""
"759605824825458738","michaelstone#5047","14/05/2021 4:01 am","@Ian (dev) 🦄 [No DMs] do you mind confirm the official subgraph end point for v3? Looks to me the uniswap.info is using the end point with suffix ""-alt"" one. Thanks!","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 4:06 am","So right now you can refer to https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","","🙏 (1)"
"607965271759519747","Ian Lapham#0307","14/05/2021 4:06 am","But working to get an official one up at https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-subgraph","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 4:06 am","@michaelstone","",""
"607965271759519747","Ian Lapham#0307","14/05/2021 4:06 am","will lyk when the official one is synced","","🙏 (1)"
"227105897241903105","airboom#0400","14/05/2021 7:17 am","This is one of the sample queries I am using,","",""
"227105897241903105","airboom#0400","14/05/2021 7:17 am","{
  poolHourData(first: 5, 
  id: ""0x1F98431c8aD98523631AE4a59f267346ea31F984"",
  pool: ""0xC2e9F25Be6257c210d7Adf0D4Cd6E3E881ba25f8""
  )
  {
    sqrtPrice
    liquidity
    token0Price
    token1Price
    tick
    tvlUSD
    volumeToken0
    volumeToken1
    volumeUSD
    txCount
  }
}","",""
"227105897241903105","airboom#0400","14/05/2021 7:17 am","Its giving NULL value though","",""
"227105897241903105","airboom#0400","14/05/2021 7:18 am","using: UniswapV3 factory address for ""id""","",""
"227105897241903105","airboom#0400","14/05/2021 7:18 am","using sample pool address for ""pool""","",""
"227105897241903105","airboom#0400","14/05/2021 7:18 am","tested at: https://thegraph.com/explorer/subgraph/drcyph3r/uniswap-v3","",""
"485274047924535306","l0c4t0r","14/05/2021 7:19 am","I don't think hourly data is being mapped right now","",""
"227105897241903105","airboom#0400","14/05/2021 7:21 am","not even on test graph mentioned earlier?","",""
"227105897241903105","airboom#0400","14/05/2021 7:21 am","https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","",""
"227105897241903105","airboom#0400","14/05/2021 7:21 am","is poolDayData getting mapped?","",""
"227105897241903105","airboom#0400","14/05/2021 7:22 am","Also wanted to recheck if the query is correct, even if mapping is not happening rn","",""
"485274047924535306","l0c4t0r","14/05/2021 7:22 am","yeah if you just run
```
{
  poolHourDatas {
    id
  }
}
```
you will see it's empty, whereas poolDayDatas has data","",""
"227105897241903105","airboom#0400","14/05/2021 7:22 am","can you give a sample working query for poolDayDatas","",""
"485274047924535306","l0c4t0r","14/05/2021 7:22 am","i doubled checked the code in github and at least based on that it's true hourly is not being mapped yet","",""
"227105897241903105","airboom#0400","14/05/2021 7:23 am","I am trying to fetch for Eth-DAI pool currently, the query is for some example pool","",""
"227105897241903105","airboom#0400","14/05/2021 7:23 am","https://info.uniswap.org/#/pools/0xc2e9f25be6257c210d7adf0d4cd6e3e881ba25f8","",""
"227105897241903105","airboom#0400","14/05/2021 7:31 am","ye this I was able to confirm","",""
"485274047924535306","l0c4t0r","14/05/2021 7:35 am","the pool address you are using...u need to transform to lowercase","",""
"485274047924535306","l0c4t0r","14/05/2021 7:36 am","e.g.:
```
{
  poolDayDatas(
    where: {pool: ""0xc2e9f25be6257c210d7adf0d4cd6e3e881ba25f8""}
  )
  {
    date
    sqrtPrice
    liquidity
    token0Price
    token1Price
    tick
    tvlUSD
    volumeToken0
    volumeToken1
    volumeUSD
    txCount
  }
}
```
This works","",""
"227105897241903105","airboom#0400","14/05/2021 7:39 am","Lovely","",""
"227105897241903105","airboom#0400","14/05/2021 7:39 am","Really appreciate your help @loc","","👍 (1)"
"759605824825458738","michaelstone#5047","14/05/2021 9:31 am","Thank you sir!","",""
"478422369606696990","rlrahulkanojia","14/05/2021 1:11 pm","Hello
Can someone please advise me on how can i extract liquidity ranges from uniswap v3? Any piece of advise would really be helpful.","",""
"307429921225965569","bergabman","14/05/2021 1:43 pm","Hi peeps, I'm new to the api, is there a way to get historic data from a token? Last 24h, 7d? I would like to get the performance of it.","",""
"307429921225965569","bergabman","14/05/2021 4:36 pm","I guess I should use the time travel queries, does anyone have a good example maybe?","",""
"307429921225965569","bergabman","14/05/2021 4:36 pm","or I better interact with the contract and calculate it myself?","",""
"759605824825458738","michaelstone#5047","14/05/2021 6:24 pm","Nope the subgraph is more efficient for time travel. Are you talking about v2 or v3? They have different api end point","",""
"759605824825458738","michaelstone#5047","14/05/2021 6:25 pm","Best way to get sample code is looking at uniswap.info github source code. There you can get api end point and also the right graphql queries. Plus you will match uniswap.info numbers","",""
"478422369606696990","rlrahulkanojia","14/05/2021 8:09 pm","hey, did you get any lead? I am also interested in same thing, would be great if you could help me out.","",""
"759605824825458738","michaelstone#5047","14/05/2021 9:55 pm","v2 or v3? I can show some code samples","",""
"307429921225965569","bergabman","14/05/2021 11:27 pm","I'm talking about v2, the pool is still there and will stay there for the next few weeks for sure","",""
"307429921225965569","bergabman","14/05/2021 11:27 pm","so it makes sense to write something for it","",""
"307429921225965569","bergabman","14/05/2021 11:28 pm","I was checking how graphql really works, I don't have too much experience with it","",""
"307429921225965569","bergabman","14/05/2021 11:28 pm","so I'm not yet closer to the goal, I was also not at my pc till now","",""
"307429921225965569","bergabman","14/05/2021 11:28 pm","but I will check the code on github, maybe it makes me a bit smarter 😄","",""
"307429921225965569","bergabman","14/05/2021 11:30 pm","this is the only thing I have for uniswap in my code till now: <https://github.com/bergabman/Invictus-Fund-Bots/blob/main/icap/src/utils.rs#L82>","",""
"307429921225965569","bergabman","14/05/2021 11:30 pm","and for that token I need more data","",""
"307429921225965569","bergabman","14/05/2021 11:34 pm","<https://v2.info.uniswap.org/token/0xd83C569268930fadAd4cdE6D0cB64450fef32b65>","",""
"307429921225965569","bergabman","15/05/2021 1:26 am","I'm getting somewhere","https://cdn.discordapp.com/attachments/765222888617017365/842852946273501205/unknown.png",""
"307429921225965569","bergabman","15/05/2021 1:27 am","```json
{
 token(id: ""0xd83c569268930fadad4cde6d0cb64450fef32b65"", block: {number: 12427265}) {
   name
   symbol
   decimals
   derivedETH
   tradeVolumeUSD
   totalLiquidity
 }
}
```","",""
"307429921225965569","bergabman","15/05/2021 1:28 am","now I just need a list of this with timestamps","",""
"307429921225965569","bergabman","15/05/2021 1:30 am","I mean, I will need the block number based on date and timestamp anyways, so I will just work with that","",""
"307429921225965569","bergabman","15/05/2021 1:30 am","but to make it a list?","",""
"307429921225965569","bergabman","15/05/2021 1:31 am","that it returns more blocks, that's what I need","",""
"396019781754683403","mario.revert.finance","15/05/2021 2:38 am","Does anyone know if there is something wrong with tickDayDatas for the v3 subgraph? all queries seem to return empty","",""
"396019781754683403","mario.revert.finance","15/05/2021 2:39 am","```{
  tickDayDatas(first: 5) {id}
}```","",""
"478422369606696990","rlrahulkanojia","15/05/2021 3:37 am","v3.","",""
"101116048870223872","SI_IP#9087","15/05/2021 6:52 am","hi All, im currently testing something out on the subgraph for uniswapV2. I am able to get the top 1000 pairs and their symbols by trade volume, is it possible to also get the price of token0 and token1 at the same time in the same query?

I am attempting the following and getting an error 


{
    pairs(first: 1000, orderBy: volumeUSD, orderDirection: desc) {
   id
    token0{
      symbol
    }
    token1{
      symbol
    }
    token0Price
    token1Price
 }
  }","",""
"101116048870223872","SI_IP#9087","15/05/2021 6:52 am","it works fine if i remove the token0Price and token1Price","",""
"101116048870223872","SI_IP#9087","15/05/2021 6:52 am","im assuming it wont allow me to do this, or there is a limit","",""
"101116048870223872","SI_IP#9087","15/05/2021 6:54 am","actually, it worked this time","",""
"101116048870223872","SI_IP#9087","15/05/2021 6:54 am","it seems spotty though","",""
"307429921225965569","bergabman","15/05/2021 2:23 pm","onto another day of uniswap subgraph learning 😅","",""
"543760088993890334","tsudmi","16/05/2021 3:06 am","@Ian (dev) 🦄 [No DMs] can you please explain the difference between `sender`, `owner` and `origin` in the Mint events?","",""
"307429921225965569","bergabman","16/05/2021 2:24 pm","Is it always so dead here, or am I just asking too beginner questions, or everyone is just busy with the ReFuNd My FaIlD TrAnSaCtIoN CoStS yOu ScAmMeRs type of people?","",""
"307429921225965569","bergabman","16/05/2021 2:24 pm","would be nice to bundle those requests I have, I just don't know if it's possible","",""
"307429921225965569","bergabman","17/05/2021 3:47 pm",":harold:","",""
"421184475305607169","balachandra87","17/05/2021 4:04 pm","Hi guys, In Uniswap V2 I use the ""USER"" object in sub-grpah to track LP and its current balances. I observed that in v3 it is not available, Is there any other equivalent in v3 which will provide the user's curent positions.","",""
"478422369606696990","rlrahulkanojia","17/05/2021 6:32 pm","how can i get old data using sub graph api ?","",""
"101116048870223872","SI_IP#9087","18/05/2021 1:50 am","if I want to get a constant stream of all trades happening on uniswap, would using the swap graph call be the best idea? and just putting every single contract pair in there? Is there a limit to how many contract pairs there are? 

I want to make sure i dont crash anything, becuase I just tried 5 contract pairs and its already extremely slow","",""
"101116048870223872","SI_IP#9087","18/05/2021 1:50 am","and i was only returning the last 2 trades for each","",""
"336243088500588545","jab.sh","18/05/2021 1:57 am","there's events that are broadcast with each trade","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:08 am","how do I tie into those events?","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:08 am","it would need to be a websocket or something right?","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:08 am","the subgraph would not be good for that","",""
"336243088500588545","jab.sh","18/05/2021 2:09 am","I think so","",""
"336243088500588545","jab.sh","18/05/2021 2:09 am","I think you can get them from infura?","",""
"336243088500588545","jab.sh","18/05/2021 2:09 am","or running your own node?","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:09 am","you mean it just monitors the blockchain directly?","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:10 am","like the uniswap info site","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:10 am","the main page, where it shows all transactions","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:10 am","where is that data coming from","",""
"336243088500588545","jab.sh","18/05/2021 2:10 am","what page?","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:10 am","https://info.uniswap.org/#/","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:11 am","the list of transactions at the bottom","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:11 am","where is that coming from","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:11 am","i dont see a subgraph call that provides that info","",""
"336243088500588545","jab.sh","18/05/2021 2:12 am","I'm not sure where those come from","",""
"336243088500588545","jab.sh","18/05/2021 2:12 am","probably an infura api call","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:13 am","ill ask in dev chat","",""
"101116048870223872","SI_IP#9087","18/05/2021 2:13 am","its very fast, gotta be something cached or an easier api call","",""
"759605824825458738","michaelstone#5047","18/05/2021 2:47 am","would suggest subscribe to smart contract event directly. Need node service like infuria","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:23 am","is subgraph for uni v3 down or something?","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:23 am","I see very little trades","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:30 am","hmm seems the last trades I get are from Mon May 17 2021 02:51:59 GMT+0000","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:30 am","{
                swaps(first: 500, where: { token0: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"",  token1: ""0xdac17f958d2ee523a2206206994597c13d831ec7""} orderBy: timestamp, orderDirection: desc) {
                transaction {
                    id
                    timestamp
                }
                id
                sender
                timestamp
                token0 {
                    symbol
                    derivedETH
                }
                token1 {
                    symbol
                    derivedETH
                }
                amount0
                amount1
                amountUSD
                }
            }","",""
"843155325619535912","Etherscan Bot#5753","18/05/2021 4:30 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"843155325619535912","Etherscan Bot#5753","18/05/2021 4:30 am","<https://etherscan.io/address/0xdac17f958d2ee523a2206206994597c13d831ec7>","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:33 am","seems to me coingecko has the same prob.","",""
"474192725239922688","Admin 2gether#5639","18/05/2021 4:33 am","https://www.coingecko.com/en/dex","",""
"387368307533152274","bohendo","18/05/2021 7:12 pm","where are subgraph api docs?","",""
"817519671372546059","rom4ik#8428","18/05/2021 7:58 pm","Anyone know how I can isolate the fees in the API? how can i know how much fees pair or individual coin earned in the specific pool?","",""
"307429921225965569","bergabman","18/05/2021 8:44 pm","for v2 https://uniswap.org/docs/v2/API/overview/","","🙏 (1)"
"474192725239922688","Admin 2gether#5639","18/05/2021 10:24 pm","anyone ?","https://cdn.discordapp.com/attachments/765222888617017365/844256556883509318/weonV0IsSyPAAAAABJRU5ErkJggg.png",""
"396019781754683403","mario.revert.finance","19/05/2021 2:36 am","The v3 subgraph seems to be missing some burn events. e.g. the following query returns empty ```{burns(where: {transaction:""0x337e3bf4d775db720d514b43c681a06d9fefcdbeb7e13323769c251d3a21ea51""}) { id }}``` but that tx does have a decreaseLiquidity event log https://etherscan.io/tx/0xa0b6992dd68577265c6afd7416cff7e6fde8c036b83ed5e374f16b3f9e9a9ec6","",""
"843155325619535912","Etherscan Bot#5753","19/05/2021 2:36 am","<https://etherscan.io/tx/0x337e3bf4d775db720d514b43c681a06d9fefcdbeb7e13323769c251d3a21ea51>","",""
"396019781754683403","mario.revert.finance","19/05/2021 3:09 am","Confirmed, no swaps for any pair on the subgraph since at some point yesterday","",""
"544700591667019777",".0xjeremy","19/05/2021 6:28 am","hi someone can help me with poolhourdata?","",""
"544700591667019777",".0xjeremy","19/05/2021 6:29 am","@everyone","",""
"101116048870223872","SI_IP#9087","19/05/2021 8:06 am","Does anyone know if v3 had an equivalent to the v2 version of pairs? The one that gets prices for top 1000 pairs by volume","",""
"819446908572925973","gandalftheblue#2771","19/05/2021 8:29 am","Hello everyone, is there any way to track user's farming pool information of V2?","",""
"819446908572925973","gandalftheblue#2771","19/05/2021 8:30 am","I didn't find it on subgraph suniswap-v2","",""
"336243088500588545","jab.sh","19/05/2021 10:28 am","do you mean https://info.uniswap.org ?","",""
"101116048870223872","SI_IP#9087","19/05/2021 10:41 am","I mean the v3 subgraph","",""
"336243088500588545","jab.sh","19/05/2021 10:42 am","I'm pretty sure that sites is using the subgraph","",""
"101116048870223872","SI_IP#9087","19/05/2021 10:51 am","Yea I found some subgraphs for v3 but nothing that gives all prices for top 1000 pairs like v2 did","",""
"819446908572925973","gandalftheblue#2771","19/05/2021 12:44 pm","Hi, can someone help me that why the V2 info https://v2.info.uniswap.org/ doesn't show my staked liquidity info? Thanks in advance","",""
"478422369606696990","rlrahulkanojia","19/05/2021 5:10 pm","yes, can you check pools in v3","",""
"396019781754683403","mario.revert.finance","19/05/2021 8:33 pm","Hi! The v3 subgraph seems to be having issues or is maybe completely stalled somehow. Have there been any announcements regarding this?","",""
"101116048870223872","SI_IP#9087","20/05/2021 12:07 am","this is perfect thank you","",""
"101116048870223872","SI_IP#9087","20/05/2021 12:09 am","is there any way to filter out fake volume from the pool subgraph? I am sorting prices by volumeUSD, and some of these are reporting impossibly high volume. Like MUSKETS is reporting a volume that is 30+ characters long","",""
"101116048870223872","SI_IP#9087","20/05/2021 12:10 am","same issue if using liquidityPool or anything else really","",""
"260040397428883456","Leon#4322","20/05/2021 12:30 am","Hello everyone, I have a question about Uniswap's Graph: I've queried the top 10 pairs sorted by volumeUSD, and it seems it's not providing the right data. For instance, one of the top 10 pairs is the pair [WETH,SCAMMY].","",""
"260040397428883456","Leon#4322","20/05/2021 12:31 am","Not sure if it's a known issue but would love to know the reason, as from my use case it would make any info provided by the Graph from Uniswap untrustable","",""
"260040397428883456","Leon#4322","20/05/2021 12:31 am","Unswap V2 Graph, that is. The query I'm using is:","",""
"260040397428883456","Leon#4322","20/05/2021 12:32 am","{
 pairs(first: 10, orderBy: volumeUSD, orderDirection: desc) {
   id
   volumeUSD
   totalSupply
   token0{
    symbol
  }
   token1{
    symbol
  }
 }
}","",""
"101116048870223872","SI_IP#9087","20/05/2021 2:52 am","I have the same issue Leon, there seems to be a lot of junk data","",""
"260040397428883456","Leon#4322","20/05/2021 3:09 am","Thanks for confirming. Anybody knows if admins are aware of this issue? unfortunately for many cases, if you can't trust the data almost 100%, that means that you cannot actually use it","",""
"844297243779530792","Diamond_Dodge#5005","20/05/2021 11:58 am","Hello, a quick question. Is it possible to embed Uniswap on my website, but w/o the iframe? Meaning, some kind of API to make a transaction","",""
"447487680511606785","reuptake","20/05/2021 9:35 pm","is ```{
  tickDayDatas {
        id
  }
}
```","",""
"447487680511606785","reuptake","20/05/2021 9:35 pm","working for you?","",""
"396019781754683403","mario.revert.finance","20/05/2021 10:35 pm","Official v3 subgraph seems borked, but realized uniswap.info is using this one, which seems good 😅  https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","",""
"396019781754683403","mario.revert.finance","20/05/2021 10:39 pm","(not tickDayDatas though)","",""
"396019781754683403","mario.revert.finance","20/05/2021 11:07 pm","Had not seen this, thanks!","",""
"607965271759519747","Ian Lapham#0307","21/05/2021 3:31 am","Yeah @mario | revert.finance sorry if that wasnt clear (dont see why you would expect testing to be prod)","","👍 (1)"
"607965271759519747","Ian Lapham#0307","21/05/2021 3:31 am","we're deploying the correct one into the uniswap-v3-subgraph endpoint now - but it might take a few hours to sync","",""
"607965271759519747","Ian Lapham#0307","21/05/2021 3:32 am","had to switch to this testing endpoint for a hot fix, production endpoint was broken","",""
"396019781754683403","mario.revert.finance","21/05/2021 3:32 am","Ah, great! Just should have scrolled up and seen your message before posting","",""
"474192725239922688","Admin 2gether#5639","21/05/2021 4:29 am","tks @mario | revert.finance","","👍 (1)"
"447487680511606785","reuptake","21/05/2021 1:05 pm","@Ian (dev) 🦄 [No DMs]  v2 production is broken for some coins too...","",""
"250071404379111424","turinghorse","21/05/2021 8:05 pm","Hi - this might be a stupid question, but what does `tick` mean under `poolDayData`, and why is it a BigInt and not a Tick[] object?","",""
"250071404379111424","turinghorse","21/05/2021 8:18 pm","assuming the subgraph is still under dev and not stable yet!","",""
"829022543180595232","Miracle#1499","21/05/2021 11:24 pm","hello @everyone","",""
"829022543180595232","Miracle#1499","21/05/2021 11:24 pm","I want to ask how to get my own amount of token in the liquidity pool.","",""
"829022543180595232","Miracle#1499","21/05/2021 11:24 pm","If someone know this, pls help me.","",""
"829022543180595232","Miracle#1499","21/05/2021 11:25 pm","I used uniswap subgraph v2 API","",""
"607965271759519747","Ian Lapham#0307","22/05/2021 12:23 am","Yeah @turinghorse theres issues with the regular endpoint","",""
"607965271759519747","Ian Lapham#0307","22/05/2021 12:23 am","im trying to work with the graph to get that fixed","","💯 (1)"
"833291365164253214","jnp1","22/05/2021 12:27 am","can somebody appoint me to a good tutorial (if exists) for getting deep in usign the univ3 subgraph? i am interested mostly in pull actual and historical data of the liquidity in every tick of a pool","",""
"638394846205181982","Artem Stryapchev#9790","22/05/2021 1:04 am","hey guys, could somebody help? This is my query, i just want to get most liquid tokens symbols, but the response for mostLiquidTokens is always an empty array, why?
{
  uniswapDayDatas(orderBy:date skip:365){
    date
    dailyVolumeETH
    dailyVolumeUSD
    dailyVolumeUntracked
    txCount
    totalVolumeETH
    totalVolumeUSD
    mostLiquidTokens{
      token{
        symbol
      }
    }
  }
}","",""
"638394846205181982","Artem Stryapchev#9790","22/05/2021 1:05 am","example response:
{
  ""data"": {
    ""uniswapDayDatas"": [
      {
        ""dailyVolumeETH"": ""320581.947236048918830263068611172"",
        ""dailyVolumeUSD"": ""1115628421.646291147586216943236434"",
        ""dailyVolumeUntracked"": ""11576005122.372907853076027033842"",
        ""date"": 1620345600,
        ""mostLiquidTokens"": [],
        ""totalVolumeETH"": ""0"",
        ""totalVolumeUSD"": ""0"",
        ""txCount"": ""44944527""
      },","",""
"844675116088557568","veridelisi","22/05/2021 3:12 am","I try this, didnt work  mostLiquidTokens (first:3, orderBy:dailyTxns)
    {
     token
      {
        name,
        tradeVolumeUSD
      }
     
      
    }","",""
"844675116088557568","veridelisi","22/05/2021 3:37 am","I think, team add ""Hide untracked pairs"" to the graphql commands ?","",""
"844675116088557568","veridelisi","22/05/2021 3:48 am","@Leon @Artem Stryapchev do you understand ""total supply"" and ""tradeVolumeUSD"" variables? What does it mean?","",""
"260040397428883456","Leon#4322","22/05/2021 4:16 am","What do you mean? Could you elaborate?","",""
"260040397428883456","Leon#4322","22/05/2021 4:17 am","I assume total supply = supply token 1 * supply token 2, and tradeVolumeUSD the volume traded at current USD prices, but cant say for sure","",""
"844675116088557568","veridelisi","22/05/2021 1:35 pm","TradevolumeUsd is cumulated amount from Genesis to today","",""
"474192725239922688","Admin 2gether#5639","22/05/2021 2:27 pm","@Ian (dev) 🦄 [No DMs] seems the subgraph is still not working","",""
"844675116088557568","veridelisi","22/05/2021 4:49 pm","No leın, graphql add to ""to hide untracked pairs"" choice to its queries","",""
"260040397428883456","Leon#4322","22/05/2021 6:34 pm","Anyone can help here? At least, can someone corfirm if the data about pool balances is 100% correct?","",""
"844675116088557568","veridelisi","22/05/2021 8:51 pm","No one friend, I wrote several times. We solve our problem by talking","",""
"314481913270239233","biigdab","22/05/2021 10:51 pm","I've been playing around with the Swap queries and I can't figure something out. I'm looking at a TX that goes SANSHU -> WETH -> KEI. 
Swap data for the 2nd leg (WETH -> KEI) are in the screenshot. I would have thought amount0out is how much KEI the user gets and amount1in is how much WETH was paid. 

Then what is amount0in ? And why does the user get 55,773,735,794,300 KEI instead of 56911975300306.228214885 (as advertised by the event)

tx details: https://etherscan.io/tx/0xfee627c6c0a2c611af26a44d9434bcc1264e5c37dfa0635257910be0d8d6de48#eventlog","https://cdn.discordapp.com/attachments/765222888617017365/845712933233360896/unknown.png",""
"844675116088557568","veridelisi","22/05/2021 11:43 pm","How could I see firstly ""token names"" in my query output?)","https://cdn.discordapp.com/attachments/765222888617017365/845726132796260362/ice_screenshot_20210522-221213.png",""
"844675116088557568","veridelisi","22/05/2021 11:45 pm","@Leon @Admin 2gether @Artem Stryapchev @mario | revert.finance ?","",""
"844675116088557568","veridelisi","23/05/2021 12:29 am","Why are prices changed ?","https://cdn.discordapp.com/attachments/765222888617017365/845737774266318862/ice_screenshot_20210522-225922.png",""
"844675116088557568","veridelisi","23/05/2021 12:31 am","token0price must be 0.0004 and token1 price must be 2369 , what do you think ?","",""
"844675116088557568","veridelisi","23/05/2021 12:31 am","@will @Justin 🦄","",""
"833291365164253214","jnp1","23/05/2021 3:07 am","are not there a oficial graph for uniswap 3??","",""
"844675116088557568","veridelisi","23/05/2021 3:34 am","what is the problem in my code ?","",""
"844675116088557568","veridelisi","23/05/2021 3:34 am","{  user (id:""0x4226bfa5c72ef2303d79016cc89c1c82ef8453e3"")  {    liquidityPositions(first:5,orderBy:liquidityTokenBalance,orderDirection:desc)    {  liquidityTokenBalance,  pair{token0{symbol},token1{symbol}}},    } }","",""
"843155325619535912","Etherscan Bot#5753","23/05/2021 3:34 am","<https://etherscan.io/address/0x4226bfa5c72ef2303d79016cc89c1c82ef8453e3>","",""
"844675116088557568","veridelisi","23/05/2021 3:35 am","all liquidityTokenBalance"": are ""0""","",""
"844675116088557568","veridelisi","23/05/2021 3:35 am","help?","",""
"833291365164253214","jnp1","23/05/2021 3:52 am","i am using this code","",""
"833291365164253214","jnp1","23/05/2021 3:54 am","{
    swaps(first: 10, where: { pool: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"" } orderBy: timestamp, orderDirection: desc) {
      transaction {
        id
        timestamp
      }
      id
      pool {
        token0 {
          id
          symbol
        }
        token1 {
          id
          symbol
        }
      }

      amountUSD

    }
}","",""
"843155325619535912","Etherscan Bot#5753","23/05/2021 3:54 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"844675116088557568","veridelisi","23/05/2021 3:58 am","@JNP | ranges.fi , I would like to help you, but I m in v2 hell 🙂","",""
"844675116088557568","veridelisi","23/05/2021 3:59 am","@Ian (dev) 🦄 [No DMs]  what is the problem in my code ?
{  user (id:""0x4226bfa5c72ef2303d79016cc89c1c82ef8453e3"")  {    liquidityPositions(first:5,orderBy:liquidityTokenBalance,orderDirection:desc)    {  liquidityTokenBalance,  pair{token0{symbol},token1{symbol}}},    } }
all liquidityTokenBalance"": are ""0""
help?","",""
"843155325619535912","Etherscan Bot#5753","23/05/2021 3:59 am","<https://etherscan.io/address/0x4226bfa5c72ef2303d79016cc89c1c82ef8453e3>","",""
"844675116088557568","veridelisi","23/05/2021 4:09 am","how could I see one user's all transactions and its liquiditytoken balance total ?","",""
"478422369606696990","rlrahulkanojia","23/05/2021 12:42 pm","Can someone help me with the following query. Not sure why i am getting 0 in the query respose?

{
    pools(where:{id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}){
    txCount
    tick
    ticks(first:800){
      id
      tickIdx
      pool{
        id
      }
      volumeToken0
      volumeToken1
      volumeUSD
      untrackedVolumeUSD
      collectedFeesToken0
      collectedFeesToken1
      collectedFeesUSD
      createdAtTimestamp
      createdAtBlockNumber
      liquidityProviderCount

    }
    
  }
}","",""
"843155325619535912","Etherscan Bot#5753","23/05/2021 12:42 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"844675116088557568","veridelisi","23/05/2021 1:09 pm","@Ian (dev) 🦄 [No DMs] @Hayden Adams 🦄 Who is responsible from graphql v2?","",""
"478422369606696990","rlrahulkanojia","23/05/2021 1:56 pm","Hey @Ian (dev) 🦄 [No DMs] , @smsunarto , can you please tell me how frequently the data given by ticks in v3 query section is updated? Tried few things but not able to quantify it. Is this the correct method to get data similar to liquid distribution section on v3 homepage?","",""
"844675116088557568","veridelisi","24/05/2021 9:07 pm","How could I see all transactions of any User in graphql of uniswap v2? Hey dev e lop er s!","",""
"474192725239922688","Admin 2gether#5639","24/05/2021 10:46 pm","@Ian (dev) 🦄 [No DMs] @Connor Martin @Noah Zinsmeister any luck on subgraph v3?","",""
"474192725239922688","Admin 2gether#5639","24/05/2021 10:47 pm","tks","",""
"844675116088557568","veridelisi","25/05/2021 12:21 am","this didnt work? why? v2?","",""
"844675116088557568","veridelisi","25/05/2021 12:21 am","{
  

transaction( id:""0x1729F336BB0A90ef3F9c73549a7f197A50Ed4294"")
{
 
  mints{amountUSD},
  swaps{amountUSD},
  burns{amountUSD}
  
}

  
}","",""
"843155325619535912","Etherscan Bot#5753","25/05/2021 12:21 am","<https://etherscan.io/address/0x1729F336BB0A90ef3F9c73549a7f197A50Ed4294>","",""
"844675116088557568","veridelisi","25/05/2021 12:56 am","@Ian (dev) 🦄 [No DMs] @Connor Martin @Noah 🦄","",""
"250071404379111424","turinghorse","25/05/2021 3:47 am","curious where info.uniswap.org is grabbing data from, if not a subgraph","",""
"250071404379111424","turinghorse","25/05/2021 3:55 am","i saw @Noah Zinsmeister  writing a SQL query on the repo somewhere, maybe they're using Dune?","",""
"607965271759519747","Ian Lapham#0307","25/05/2021 5:04 am","@turinghorse its pulling from the v3 subgraph","","👍 (1)"
"844675116088557568","veridelisi","25/05/2021 11:09 am","How could I see all transactions of any User in v2 or ve in graphql?","",""
"829022543180595232","Miracle#1499","25/05/2021 3:59 pm","how could I check the amount of token0 and token1 deposited by me in v2 API?","",""
"844675116088557568","veridelisi","25/05/2021 4:55 pm","@Ian (dev) 🦄 [No DMs] what is totalVolumeUSD? From Genesis to today, accumulated amount? @Admin 2gether @turinghorse @Miracle","",""
"844675116088557568","veridelisi","25/05/2021 5:03 pm","Please somebodys response questions?","",""
"844675116088557568","veridelisi","25/05/2021 5:48 pm","Liquidityprovidercount does not work","",""
"844675116088557568","veridelisi","25/05/2021 6:03 pm","What is total supply?","",""
"844675116088557568","veridelisi","25/05/2021 6:24 pm","What is liquiditytokenbalance?","",""
"396019781754683403","mario.revert.finance","26/05/2021 12:54 am","Hi! I realize things are for sure pretty hectic right now, but some clarity wrt to the status of v3 subgraphs would help a lot for apps that are already integrated. There seem to be a few different versions of subgraphs deployed by the team, none seems to be completely working properly. Is there any of them that you advise we use? Should we report issues we notice with the results?","",""
"396019781754683403","mario.revert.finance","26/05/2021 12:56 am","According to my tests, https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing seems to be the best one so far, but I'm still seeing issues like missing mints. Is that expected? etc.","",""
"844675116088557568","veridelisi","26/05/2021 3:26 am","@Ian (dev) 🦄 [No DMs]","https://cdn.discordapp.com/attachments/765222888617017365/846869449684418651/ice_screenshot_20210526-015237.png",""
"844675116088557568","veridelisi","26/05/2021 3:35 am","@Ian (dev) 🦄 [No DMs] we need to talk or remove v2 from graphql 🙂","",""
"812581278074535967","mattmaker.","26/05/2021 6:02 pm","","https://cdn.discordapp.com/attachments/765222888617017365/847089723403272242/unknown.png",""
"812581278074535967","mattmaker.","26/05/2021 6:02 pm","I have a very simple query, try to query first 5 collects, it shows nothing.","",""
"812581278074535967","mattmaker.","26/05/2021 6:03 pm","Any one can help on this? Much appreacited!","",""
"485274047924535306","l0c4t0r","26/05/2021 6:03 pm","I believe this data has not been added to the subgraph yet (even tho the entities have been defined)","",""
"485274047924535306","l0c4t0r","26/05/2021 6:04 pm","https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/src/mappings/position-manager.ts","",""
"485274047924535306","l0c4t0r","26/05/2021 6:04 pm","u can see the handleCollect function has not been implemented","",""
"812581278074535967","mattmaker.","26/05/2021 6:08 pm","Hi, Do you mean the position data (which is named as Collect) hasn't been added to the subgraph API?","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 10:12 pm","@loc that is correct","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 10:13 pm","working on adding a bunch of things to the v3 subgraph rn - some are 
- collection data 
- user position data 
- flash swap data
- token hourly events with high low close open prices","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 10:13 pm","@veridelisi what subgraph is that? i dont think thats a production version","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 10:13 pm","also documentation will be added once things are implemented and more finalized","",""
"485274047924535306","l0c4t0r","26/05/2021 10:14 pm","That's great to hear, looking forward to it 🙂","",""
"844675116088557568","veridelisi","26/05/2021 11:00 pm","V2","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:20 pm","Which subgraph though","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:20 pm","theres multiple versions - not all are production","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:23 pm","Ive updated some labels for v3 subgraphs - its not ideal but its hard to change subgraph names and test new logic without overwriting current subgraphs - so sometimes the naming can be misleading for which subgraphs are up to date. Ive labeled with an image for now which one you can treat as production for v3","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:23 pm","this is the production endpoint right now","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:23 pm","https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","",""
"607965271759519747","Ian Lapham#0307","26/05/2021 11:25 pm","Can also add a link on thbe https://info.uniswap.org/#/ site itself that links to the subgraph it pulls from","","💯 (2)"
"98352395007840256","laktek.eth | seedle.finance#9888","27/05/2021 12:07 am","I have a fork of a v3 subgraph that includes ""collect"" data. You can try it while waiting for the official subgraph updates https://thegraph.com/explorer/subgraph/laktek/uniswap-v3-mainnet?version=current","","👍 (1)"
"98352395007840256","laktek.eth | seedle.finance#9888","27/05/2021 12:10 am","Here's the commit from my fork which populates collection data https://github.com/laktek/uniswap-v3-subgraph/commit/6eb3b1163dbf63f567ad9889d7bd233b500fe2ff (I can raise a PR to Uniswap's subgraph, but @Ian (dev) 🦄 [No DMs] mentioned this is being already worked on)","",""
"844675116088557568","veridelisi","27/05/2021 2:38 am","@laktek.eth | seedle.finance @Ian (dev) 🦄 [No DMs]  what is total supply?","",""
"844675116088557568","veridelisi","27/05/2021 2:41 am","","https://cdn.discordapp.com/attachments/765222888617017365/847220302064779294/ice_screenshot_20210527-010954.png",""
"396019781754683403","mario.revert.finance","27/05/2021 3:05 am","Thanks for the clarity, that makes sense @Ian (dev) 🦄 [No DMs] . I'm still seeing issues like missing missing mints on that subgraph, is that something expected as they are finalized, would it help to report them here (or somewhere else)?","",""
"98352395007840256","laktek.eth | seedle.finance#9888","27/05/2021 3:32 am","Total supply as defined in the token contract.","",""
"844675116088557568","veridelisi","27/05/2021 3:33 am","what does it mean exactly?","",""
"844675116088557568","veridelisi","27/05/2021 3:36 am","","https://cdn.discordapp.com/attachments/765222888617017365/847234308477681684/ice_screenshot_20210527-020609.png",""
"844675116088557568","veridelisi","27/05/2021 3:36 am","{
tokens (first:10, orderBy:tradeVolumeUSD, orderDirection:desc)

{

id

totalSupply
  
}
}","",""
"98352395007840256","laktek.eth | seedle.finance#9888","27/05/2021 3:37 am","total amount of tokens in existence (universally, not just in Uniswap).","",""
"844675116088557568","veridelisi","27/05/2021 3:39 am","please execute the following code in v2","",""
"844675116088557568","veridelisi","27/05/2021 3:39 am","{
tokens (first:100, orderBy:tradeVolumeUSD, orderDirection:desc)

{

id

totalSupply
  
}
}","",""
"844675116088557568","veridelisi","27/05/2021 3:40 am","%95 of tokens have 14336 total supply","",""
"844675116088557568","veridelisi","27/05/2021 3:41 am","we talk about this issue tomorrow? I will start tomorrow your subgraph for v3? Sincerely","",""
"336243088500588545","jab.sh","27/05/2021 3:42 am","@veridelisi can you wrap your messages with 3 `'s (to the left of 1) so it formats nicely? 🙂","",""
"336243088500588545","jab.sh","27/05/2021 3:42 am","```like so```","",""
"844675116088557568","veridelisi","27/05/2021 3:43 am","sorry 🙂","","np (1)"
"844675116088557568","veridelisi","27/05/2021 3:44 am","https://merkeziyetsizfinans.medium.com/the-graph-and-uniswap-v2-queries-73260ebb1a30 """"""my last work","",""
"844675116088557568","veridelisi","27/05/2021 3:44 am","""""""good night""""""","",""
"843155325619535912","Etherscan Bot#5753","27/05/2021 4:45 am","<https://etherscan.io/address/0x7D7E813082eF6c143277c71786e5bE626ec77b20>","",""
"812581278074535967","mattmaker.","27/05/2021 7:18 am","Hi laktek, it's working perfectly with collect now! thanks a lot!","","👍 (1)"
"355192817313775616","lawrence99","27/05/2021 1:24 pm","Is there a way to use subgraph api for ropsten network?","",""
"711112535725703180","venkateshsys#2213","27/05/2021 2:22 pm","How to get the router path if I am swapping from one token to another?","",""
"842094111653363764","ghoti#2736","27/05/2021 7:43 pm","when i  create pool postion with eth and uni , eth decrease  1
first create
why cost so many fees","",""
"396019781754683403","mario.revert.finance","28/05/2021 5:37 am","subgraph issues on this pool https://info.uniswap.org/#/pools/0xa2499a5af023bf570e158946ca74b662dfaf31a5","",""
"607965271759519747","Ian Lapham#0307","28/05/2021 7:39 am","@mario | revert.finance whats the issue?","",""
"607965271759519747","Ian Lapham#0307","28/05/2021 7:40 am","seems like someone added liquidity then removed it all","",""
"396019781754683403","mario.revert.finance","28/05/2021 7:43 am","Oh sorry, the app quotes a price for that swap but I suppose then it's not quoting from that pool. Was getting null on tick from the subgraph, but that makes sense now","",""
"397878672301752320","Crielz#8356","28/05/2021 11:56 am","Hi,  I am  getting some complains that some tokens are not in v2 but are available in v3. (Eg Wirex Token (WXT)  and Graviton (GTON) . What is the reason for this? Is there a way to retrieve those in v2 or do I migrate to v3 subgraph api?","",""
"514476814765129760","wojt175","28/05/2021 4:47 pm","Hey, when i query the subgraph with any tokens I always get a null reply, can anyone advise why?","https://cdn.discordapp.com/attachments/765222888617017365/847795709306208286/unknown.png",""
"833291365164253214","jnp1","28/05/2021 11:11 pm","is the v3 subgraph providing all ticks in a pool?? i am trying to query the actual tick of the pool but give me a empty response and if  i query all ticks only give me ticks every 60 points","",""
"625907714324824086","building127","28/05/2021 11:20 pm","use lowercase

```{
  token(id:""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2""){
    id
    name
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","28/05/2021 11:20 pm","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"514476814765129760","wojt175","29/05/2021 12:10 am","does not work for new tokenn ```{
  token(id:""0x456D8f0D25A4e787eE60c401F8B963a465148f70""){
    id
    name
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","29/05/2021 12:10 am","<https://etherscan.io/address/0x456D8f0D25A4e787eE60c401F8B963a465148f70>","",""
"517494692200316937","santore#6554","29/05/2021 2:16 am","Just curious, how many tokens are listed on the Graph's Uniswap-2 subgraph? I looped through the token schema and I came up with 33,805 - Any way to verify that is correct?","",""
"625907714324824086","building127","29/05/2021 9:29 am","not sure then","",""
"844675116088557568","veridelisi","29/05/2021 1:26 pm","Yo need to write tokens","",""
"844675116088557568","veridelisi","29/05/2021 1:27 pm","https://merkeziyetsizfinans.medium.com/the-graph-and-uniswap-v2-queries-73260ebb1a30","","👍 (1)"
"833291365164253214","jnp1","30/05/2021 2:16 am","i am trying to construct the liquidity chart showed here https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8 with the subgraph but i am not obtaining a continuos result, anyone know what could be the problem?? my queries is this:","","👍 (2)"
"833291365164253214","jnp1","30/05/2021 2:18 am","query 
    {
    pools(where: { id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"" } ) {

        tick
        liquidity
        ticks(first:500) {id,price0,price1,tickIdx,liquidityGross,liquidityNet,volumeToken0,volumeToken1}
    }
}'''","",""
"843155325619535912","Etherscan Bot#5753","30/05/2021 2:18 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"447487680511606785","reuptake","30/05/2021 12:30 pm","Any ETA on `tickDayData`?","",""
"517494692200316937","santore#6554","30/05/2021 8:54 pm","Happy Sunday Everyone 😎  Any recommendations on using pagination to listen for updates? I""m using `tokens(first: 1000, where: { id_gt: $lastID  })}`  - I'm able to get the first chunk, but  of data but when I check for updates i'm struggling to serialize  or continue the pagination.  Should I sort by ID or is there a better way to get an index of values? Code example: https://gist.github.com/msantore/ebbf5a4658c5239339491f4b66899ac1","",""
"833291365164253214","jnp1","31/05/2021 4:04 am","","https://cdn.discordapp.com/attachments/765222888617017365/848690783036244038/Captura.JPG",""
"833291365164253214","jnp1","31/05/2021 4:04 am","anyone knows how many decimals has liquidityGross??","",""
"833291365164253214","jnp1","31/05/2021 4:04 am","i cant find any reference about it in uni docs or graph","",""
"543760088993890334","tsudmi","31/05/2021 2:24 pm","Can anyone from the team review: https://github.com/Uniswap/uniswap-v3-subgraph/pull/18 ?
It seems to be quite critical.","",""
"447590749756719126","0x_aster","31/05/2021 5:10 pm","hello all, how do i get the logo of the token from subgraph, is it available","",""
"447590749756719126","0x_aster","31/05/2021 5:11 pm","i needed token data, so i got it with the tokens entity, but anything related to tokens logo is available? or some has an alternative idea how i can get that, thanks in advance","",""
"230096279299031040","halberet","31/05/2021 6:39 pm","What is the delay between transactions and the data reflecting in the GraphQL API ?","",""
"517494692200316937","santore#6554","01/06/2021 6:28 pm","My understanding is that they are in sync with each block confirmation but i'm not certain.","",""
"146715592580268033","Giorgi#3661","01/06/2021 10:10 pm","Team, does anyone have a problem with deployments of subgraphs currently ?","",""
"268036129532542986","o_1","02/06/2021 1:16 am","hi does anyone know the reason why `MINUMUM_ETH_LOCKED` is 80?
I'm having trouble seeing the price of some tokens because of this in uniswap v3 analytics.
https://github.com/Uniswap/uniswap-v3-subgraph/blob/afbfe5a784edc1eae5cdd0a03b9bb7ca5d08c186/src/utils/pricing.ts#L33","",""
"268036129532542986","o_1","02/06/2021 1:48 am","I think I should try to ask him directly @Ian (dev) 🦄 [No DMs] , I'm sorry for the ping if bothered you.","",""
"607965271759519747","Ian Lapham#0307","02/06/2021 7:05 am","this is the new version of the subgraph","",""
"607965271759519747","Ian Lapham#0307","02/06/2021 7:05 am","https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-prod","",""
"607965271759519747","Ian Lapham#0307","02/06/2021 7:05 am","Will be updating docs soon","","👍 (3)"
"447487680511606785","reuptake","02/06/2021 1:33 pm","This is great, but data is not there (I've checked `Position` and `TickDayData`)...","",""
"802919550583570433","CCS#2881","02/06/2021 2:53 pm","Hello 
I found that the information on the website(https://v2.info.uniswap.org/token/0x1d755f741377ddb79ba7efa5beaf0305672e6707 and the information using The Graph API are different. 
Could you tell me why the infos are different and which one is accurate?","",""
"802919550583570433","CCS#2881","02/06/2021 2:53 pm","","https://cdn.discordapp.com/attachments/765222888617017365/849579015337410570/Screen_Shot_2021-06-02_at_6.16.44_PM.png",""
"802919550583570433","CCS#2881","02/06/2021 2:53 pm","","https://cdn.discordapp.com/attachments/765222888617017365/849579017228124230/Screen_Shot_2021-06-02_at_6.17.12_PM.png",""
"802919550583570433","CCS#2881","02/06/2021 2:55 pm","I know that the source of uniswap website is from GRAPH API. But due to the lack of reverse engineering skills, I can't find the exact query to display the info.","",""
"268036129532542986","o_1","02/06/2021 2:55 pm","which api?","",""
"268036129532542986","o_1","02/06/2021 2:55 pm","plz share the url","",""
"802919550583570433","CCS#2881","02/06/2021 2:56 pm","I used https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 which is found on https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2","",""
"268036129532542986","o_1","02/06/2021 3:00 pm","hmmm it looks the official api and I tried the same query but got the same result as you","",""
"268036129532542986","o_1","02/06/2021 3:01 pm","sry idk why but i found they use https://thegraph.com/explorer/subgraph/ianlapham/uniswapv2 instead of https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2 in uniswap v2 analytics","",""
"447487680511606785","reuptake","02/06/2021 3:57 pm","it's often the case, unfortunately, especially for low caps.","",""
"447487680511606785","reuptake","02/06/2021 3:58 pm","NDX, TRB report 0 volume from some queries etc.","",""
"447487680511606785","reuptake","02/06/2021 3:59 pm","I don't know what's the source of all those issues. Is graph so hard to maintain?","",""
"802919550583570433","CCS#2881","02/06/2021 5:26 pm","","https://cdn.discordapp.com/attachments/765222888617017365/849617535946850374/Screen_Shot_2021-06-02_at_8.56.28_PM.png",""
"802919550583570433","CCS#2881","02/06/2021 5:26 pm","","https://cdn.discordapp.com/attachments/765222888617017365/849617540090822706/Screen_Shot_2021-06-02_at_8.56.34_PM.png",""
"802919550583570433","CCS#2881","02/06/2021 5:27 pm","For the tribe token, its volume is really different.","",""
"396019781754683403","mario.revert.finance","02/06/2021 6:37 pm","Cool, do you recommend to switch to using that one now instead of ""v3-testing""?","",""
"447487680511606785","reuptake","02/06/2021 7:54 pm","Is this v2?","",""
"802919550583570433","CCS#2881","02/06/2021 8:03 pm","yes right","",""
"447487680511606785","reuptake","02/06/2021 8:39 pm","many tokens have the same problem","",""
"833291365164253214","jnp1","05/06/2021 7:09 pm","hello i am using subgraph v3-prod, but i alway get volumeUSD=0 when query tick data, is not this data provided by the subgraph???","",""
"447487680511606785","reuptake","05/06/2021 7:34 pm","there are many holes in subgraphs, unfortunately","",""
"833291365164253214","jnp1","05/06/2021 7:37 pm","yea also PoolHourData and TickHourData is mostly empty","",""
"447487680511606785","reuptake","05/06/2021 7:38 pm","yes it is. for a month now.","",""
"447487680511606785","reuptake","05/06/2021 7:39 pm","`Position` was introduced, but empty as well.
I asked about ETA, but got no answer.","",""
"833291365164253214","jnp1","05/06/2021 7:39 pm","anyother way of fetch historical data of prices and volumes??","",""
"447487680511606785","reuptake","05/06/2021 7:41 pm","there's data on https://www.flipsidecrypto.com/  but it's also not 100% up to date.","",""
"833291365164253214","jnp1","05/06/2021 7:54 pm","Thanks, I will check it out","",""
"117720371548913670","tylo","06/06/2021 1:57 am","Hi, 
When checking request made from the uniswap chart webpage (liquidity of a pool) i see query using the operation ""surroundingTicks"" sadly i cant find it on the github repository, why is that ?","",""
"117720371548913670","tylo","06/06/2021 3:13 pm","Anyway, this subgraph does not seem to be in any way functional, most useful queries just return 0.
Guess we have to wait for an big maj or build our own thing right ?","",""
"396019781754683403","mario.revert.finance","06/06/2021 9:24 pm","Looks like bogus price data being returned by the ianlapham/uniswap-v3-testing subgraph:","https://cdn.discordapp.com/attachments/765222888617017365/851127011844816906/Screenshot_from_2021-06-06_10-50-33.png",""
"396019781754683403","mario.revert.finance","06/06/2021 9:25 pm","```
tokenDayDatas(orderBy: date,
              orderDirection: desc, 
              first:1, 
              where: {token:""0x967da4048cd07ab37855c090aaf366e4ce1b9f48""}) {
    id,
    token {
      id,
      symbol
    },
    priceUSD
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","06/06/2021 9:25 pm","<https://etherscan.io/address/0x967da4048cd07ab37855c090aaf366e4ce1b9f48>","",""
"268036129532542986","o_1","07/06/2021 5:32 am","hi wario. Actually it's usual behavior. They put a limitation for low TVL tokens not to be priced. I was really confused until read this code...
https://github.com/Uniswap/uniswap-v3-subgraph/blob/afbfe5a784edc1eae5cdd0a03b9bb7ca5d08c186/src/utils/pricing.ts#L63","","🙏 (1)"
"396019781754683403","mario.revert.finance","07/06/2021 5:42 am","@o_o Ah, minimum 80 ETH threshold. Thanks for the heads up","",""
"422020302009139210","lin2web","07/06/2021 2:10 pm","Why isn't the Uniswap interface working with Trustwallet?
worth downloading, but nothing happens
https://uniswap.webtop.uz/#/swap","",""
"422020302009139210","lin2web","07/06/2021 2:10 pm","","https://cdn.discordapp.com/attachments/765222888617017365/851379997813374976/uni.png",""
"267300878736818176","_dsi","07/06/2021 7:52 pm","Hello guys, I am trying the uni v3 subgraph. Do you know where can I have more info about each field ? 

For example I am querying the feeTier which return 500, I guess it's the 0.05% ? But is there a doc about it ?","",""
"267300878736818176","_dsi","07/06/2021 7:52 pm","","https://cdn.discordapp.com/attachments/765222888617017365/851466190173503549/unknown.png",""
"485274047924535306","l0c4t0r","07/06/2021 7:53 pm","https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/schema.graphql there are comments about what each field is here","","🙏 (1)"
"485274047924535306","l0c4t0r","07/06/2021 7:54 pm","for the feeTier example that you gave, that's how the contracts store the data","",""
"267300878736818176","_dsi","07/06/2021 7:54 pm","Thank you so much","",""
"485274047924535306","l0c4t0r","07/06/2021 7:54 pm","so u could probably find that information in the uniswap dev docs","",""
"267300878736818176","_dsi","07/06/2021 8:00 pm","Ok, I am actually digging into it. As I'm kinda new to programming, I will probably come back here once in a while ^^ thank you very much 🙏","",""
"267300878736818176","_dsi","07/06/2021 8:09 pm","I have found this for the fee explanation I guess this is what I was searching for : 

But does any one know what a bip is ?","https://cdn.discordapp.com/attachments/765222888617017365/851470506477486150/unknown.png",""
"485274047924535306","l0c4t0r","07/06/2021 8:10 pm","basis points, i.e. 0.01%","","🙏 (1)"
"447487680511606785","reuptake","07/06/2021 9:11 pm","just keep in mind that some subgraphs are empty...","",""
"664226039723065354","movses#0956","07/06/2021 11:12 pm","Hi guys I'm querying the the subgraph api for my application and I think I have  an issue with my syntax","",""
"664226039723065354","movses#0956","07/06/2021 11:13 pm","In the graph explorer I write in this query and I recieve the desired response :","https://cdn.discordapp.com/attachments/765222888617017365/851516753632821268/Screenshot_2021-06-07_at_19.42.54.png",""
"664226039723065354","movses#0956","07/06/2021 11:14 pm","in my react app (using apollo) I query the subgraph with this","https://cdn.discordapp.com/attachments/765222888617017365/851517075087949864/Screenshot_2021-06-07_at_19.44.12.png",""
"664226039723065354","movses#0956","07/06/2021 11:15 pm","in my console I recieve this error","https://cdn.discordapp.com/attachments/765222888617017365/851517333003698246/Screenshot_2021-06-07_at_19.45.27.png",""
"664226039723065354","movses#0956","07/06/2021 11:16 pm","I'm reading the Graph QL on schema as variable declaration, but just thought I'd ask here in case. Thanks all!","",""
"664226039723065354","movses#0956","07/06/2021 11:19 pm","maybe this error is more helpful","https://cdn.discordapp.com/attachments/765222888617017365/851518342006964304/Screenshot_2021-06-07_at_19.49.30.png",""
"128704124408692737","ind.igo","08/06/2021 1:17 am","hey all, is there any reason the v2 subgraph doesn't have a pair attached to the PairDayData?","",""
"128704124408692737","ind.igo","08/06/2021 1:17 am","i need to get the daily price","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:22 pm","Hi! Could anyone say how derivedEth amount is calculated? I still can't understand how is it calculated the first time, because from the code perspective I see that it is zero from the start, but later it is calculated using derivedEth value as well, so how does it become a non-zero value?","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:22 pm","in Token object","",""
"485274047924535306","l0c4t0r","08/06/2021 2:33 pm","it's calculated from the derivedEth of the ""other"" token.  If the other token is  WETH, derivedEth is set to 1 here for WETH:
https://github.com/Uniswap/uniswap-v3-subgraph/blob/afbfe5a784edc1eae5cdd0a03b9bb7ca5d08c186/src/utils/pricing.ts#L65","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:36 pm","yes, but at the pair creation both derivedEth are equal to zero, how does it become non-zero for one of them at least?","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:36 pm","for both tokens I mean","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:37 pm","","https://cdn.discordapp.com/attachments/765222888617017365/851749149468000306/unknown.png",""
"440636562896584712","vladlensky#4788","08/06/2021 2:37 pm","because the only ways to set derivedEth are - to set it to zero and to use the other token's value, but they seem to be zero","",""
"485274047924535306","l0c4t0r","08/06/2021 2:40 pm","if token0 is WETH then findEthPerToken will return 1
if token1 is WETH then I guess token0 is ""temporarily"" 0 until ```token1.derivedETH = findEthPerToken()``` sets token1.derivedETH as 1
and the next time there is an interaction token0.derivedEth would be set properly?","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:41 pm","ohhh, I got it, really","",""
"485274047924535306","l0c4t0r","08/06/2021 2:42 pm","cool, and the Token entity is separate to the pool, so WETH only has to be initialised once","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:42 pm","yep, thank you!
and another little question - why is the other token's value being used in calculation for derivedEth for the first token?","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:46 pm","oh, yes, that's because the price is used for the other token's","",""
"440636562896584712","vladlensky#4788","08/06/2021 2:46 pm","thank you very much!","",""
"485274047924535306","l0c4t0r","08/06/2021 2:46 pm","np, I was stuck on this myself for a while as well 🙂","",""
"664226039723065354","movses#0956","08/06/2021 6:23 pm","Does anyone know what the untrackedVolumeUSD mean? what is untracked volume?","",""
"474605143753752576","fedeebasta","08/06/2021 8:01 pm","Probably it has been discussed many times but I could not find a final answer. I know there has been problems on Subgraph Uniswap V3... are they solved? I see many versions on the graph/explorer, is there anyone recommended? ☺️","",""
"421184475305607169","balachandra87","08/06/2021 10:53 pm","Is there any way to get the current v3 position details like token0 and token1 balance using graph api. I thought the positionSnapshot available at https://thegraph.com/explorer/subgraph/benesjan/uniswap-v3-subgraph would work. But not able to figure it out. Any help here would be appreciated. Thanks.","",""
"447487680511606785","reuptake","09/06/2021 11:50 am","Trying to figure out this now. But remember that this is not official.","",""
"447487680511606785","reuptake","09/06/2021 11:50 am","Unfortunately, no.","",""
"267300878736818176","_dsi","09/06/2021 7:24 pm","Hello guys, there is something I don't understand about a sqrtPrice query on the uni v3 subgraph.

how can I have the current price base on this value ?","https://cdn.discordapp.com/attachments/765222888617017365/852183922716573716/unknown.png",""
"267300878736818176","_dsi","09/06/2021 7:24 pm","basically, my question is, if  you may, what unit is it ?","",""
"546797109219819523","tipsynd","09/06/2021 7:28 pm","Uniswap hold the sqrtPrice in X96, so you have to take sqrtPrice and divide it by 2^96","",""
"546797109219819523","tipsynd","09/06/2021 7:28 pm","Then just do sqrtPrice^2 to get the price","",""
"267300878736818176","_dsi","09/06/2021 7:35 pm","Okkk I understand better. But when I make the computation, I have this last value.

The price look kind of good (the sqrtPrice come from the DAI/USDT pool so it should be around 1) but it's way too small isn't it ?

Or maybe I am missing something about the unit. Is it basis point or something ?","https://cdn.discordapp.com/attachments/765222888617017365/852186739568410644/unknown.png",""
"546797109219819523","tipsynd","09/06/2021 7:37 pm","Can you copy past me the pool id addresse? I'll check on my side","",""
"267300878736818176","_dsi","09/06/2021 7:38 pm","Yep, here it is : 0x6f48eca74b38d2936b02ab603ff4e36a6c0e3a77","",""
"843155325619535912","Etherscan Bot#5753","09/06/2021 7:38 pm","<https://etherscan.io/address/0x6f48eca74b38d2936b02ab603ff4e36a6c0e3a77>","",""
"546797109219819523","tipsynd","09/06/2021 7:47 pm","I get the same thing with my code not sure why the decimal is so skew though","",""
"546797109219819523","tipsynd","09/06/2021 7:48 pm","Might also need to invert the price ( 1 / Price) to get it for the opposite token","",""
"267300878736818176","_dsi","09/06/2021 7:51 pm","Yep it seems having eleven 0 too many, I'm searching inside de uni v3 whitepaper to find the answer","",""
"267300878736818176","_dsi","09/06/2021 7:51 pm","Thanks for your help mate ! It was helpful","","👍 (1)"
"267300878736818176","_dsi","09/06/2021 7:51 pm","I'm closer now","",""
"546797109219819523","tipsynd","09/06/2021 7:58 pm","I don't get it either, other pools work fine (USDC / USDT, DAI/ETH) but the DAI/USDT is the only one giving me a skewed number.","",""
"267300878736818176","_dsi","09/06/2021 7:59 pm","Oh really .. I was actually trying to calculate the price based on the current tick, and it gives me the same weird result.","",""
"267300878736818176","_dsi","09/06/2021 8:00 pm","I'll try with other pools like you said, but yeah I've not clue at the moment","",""
"267300878736818176","_dsi","09/06/2021 8:03 pm","Yep usdc-usdt works fine","",""
"267300878736818176","_dsi","09/06/2021 8:07 pm","If any one has an idea ... I tryed to calculate the MATIC price based on the MATIC tick.

Real Matic price is at 1.45$ based on coingeck but I still have this x10^12","",""
"267300878736818176","_dsi","09/06/2021 8:07 pm","","https://cdn.discordapp.com/attachments/765222888617017365/852194753851817994/unknown.png",""
"267300878736818176","_dsi","09/06/2021 8:14 pm","Basically I just have to multiply by 10^12 or divide by 10^11.

It's probably something dumb I'm forgetting","",""
"485274047924535306","l0c4t0r","09/06/2021 8:17 pm","it's because DAI, ETH has 18 decimals, but USDC and USDT has 6","",""
"485274047924535306","l0c4t0r","09/06/2021 8:17 pm","when both have the same number of decimals you don't need to correct for that","",""
"267300878736818176","_dsi","09/06/2021 8:18 pm","Geez, okok, these decimals numbers really must stay in the mind of developpers.

Thank you so much Loc, and TipsyND as well. Thank you guys","",""
"755735783658225725","jeffrey6680","10/06/2021 8:59 am","Hey! Does Uniswap deploy a test chain on Subgraph?Like ropsten","",""
"755735783658225725","jeffrey6680","10/06/2021 9:01 am","I want to query the pool data on the Ropsten chain, is there a quick way to do it? like via Subgraph","",""
"755735783658225725","jeffrey6680","10/06/2021 9:02 am","🙏 🙏 🙏 🙏 Especially hope to get an answer","",""
"267300878736818176","_dsi","10/06/2021 7:17 pm","I've only found uni v2 on ropsten https://thegraph.com/explorer/subgraph/dev-cnote/uniswap-ropsten","",""
"267300878736818176","_dsi","10/06/2021 7:18 pm","But there is a research bar on thegraph if you want to search deeper. Someone may have deployed an unoficial one on v3, idk","",""
"267300878736818176","_dsi","10/06/2021 9:00 pm","Hello guys, is it normal that some data aren't track on the uni v3 subgraph ? 

I was trying to get the ticks with volume for the past month, but it seems like some data are empty. Does someone know why ?","https://cdn.discordapp.com/attachments/765222888617017365/852570304299008070/unknown.png",""
"447487680511606785","reuptake","10/06/2021 9:02 pm","A week ago `TickDayData` was completely empty, so...","",""
"267300878736818176","_dsi","10/06/2021 9:02 pm","Ohh it just got added recently ?","",""
"447487680511606785","reuptake","10/06/2021 9:03 pm","which graph are you using?","",""
"267300878736818176","_dsi","10/06/2021 9:03 pm","This one https://thegraph.com/explorer/subgraph/benesjan/uniswap-v3-subgraph","",""
"447487680511606785","reuptake","10/06/2021 9:04 pm","in official (well, one of the official graphs) it's still empty. and this one is 3rd party, by @benesjan","",""
"267300878736818176","_dsi","10/06/2021 9:06 pm","I thought this one was the official one 🤦‍♀️","",""
"267300878736818176","_dsi","10/06/2021 9:08 pm","How do you find the official uni v3 subgraph ?","",""
"755189278761287701","spinninghorse","10/06/2021 11:21 pm","Hi, a noob question, how to calculate the asset locked in a tick? Is that from LiquidityNet and LiquidityGross?","",""
"332552128214073348","xavierlu#2315","11/06/2021 1:20 am","hi, im trying to understand how does it go from LP token to USD value. Like did it calculate it. Thanks","https://cdn.discordapp.com/attachments/765222888617017365/852635736401379368/Screen_Shot_2021-06-10_at_3.46.10_PM.png",""
"400733785227919361",".reformedape","11/06/2021 1:50 am","yeah the subgraph has 0 documentation, and is really, really hard to use","","🥲 (2)"
"398178392064655363","yekta","11/06/2021 2:55 am","Hey, is there a way to get exactly the info that is displayed in the interface for a position? Current token 0 and 1 amount for the position, unclaimed token 0 and 1 amount. I've looked into infura calls MetaMask is making but data part is confusing, also looked into the subgraph but I don't understand how do you extract that data from that info","",""
"398178392064655363","yekta","11/06/2021 2:56 am","Liquidity returns this, not sure what to make of it 😄 Is that an ETH value for the total?","https://cdn.discordapp.com/attachments/765222888617017365/852660126112415804/Screen_Shot_2021-06-11_at_00.25.40.png",""
"447487680511606785","reuptake","11/06/2021 3:04 am","https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3 tis is one of ""official"" subgraphs","",""
"755189278761287701","spinninghorse","11/06/2021 4:34 am","Hi, wondering where do I find this number in the V3 subgraph. Is is calculated from LiquidityNet and LiquidityGross? Thank you so much","https://cdn.discordapp.com/attachments/765222888617017365/852684662883090482/Screen_Shot_2021-06-11_at_7.00.52_AM.png",""
"400733785227919361",".reformedape","11/06/2021 5:02 am","+1 to this 👀","",""
"755735783658225725","jeffrey6680","11/06/2021 8:30 am","Thanks, It doesn't matter, now I don't need to go looking for the testnet data","",""
"755735783658225725","jeffrey6680","11/06/2021 8:33 am","Why is it that a query for pools returns only 100 pools, but a query factorys returns 2106 poolCount","https://cdn.discordapp.com/attachments/765222888617017365/852744725304049734/unknown.png",""
"755735783658225725","jeffrey6680","11/06/2021 8:33 am","","https://cdn.discordapp.com/attachments/765222888617017365/852744747528618034/unknown.png",""
"485274047924535306","l0c4t0r","11/06/2021 8:34 am","there's a limit with each query, you can set it to the max with first:1000","",""
"485274047924535306","l0c4t0r","11/06/2021 8:34 am","there's a section on thegraph docs about pagination","",""
"755735783658225725","jeffrey6680","11/06/2021 8:34 am","Is there a way to get all pools?","",""
"485274047924535306","l0c4t0r","11/06/2021 8:35 am","https://thegraph.com/docs/graphql-api#pagination","",""
"755735783658225725","jeffrey6680","11/06/2021 12:04 pm","Thanks a lot!!!!","",""
"447487680511606785","reuptake","11/06/2021 12:40 pm","there's also another limit, you can't easily get more than 5000 (if I remember correctly) records.","",""
"447487680511606785","reuptake","11/06/2021 12:41 pm","you have to use this ``` {
  query manyTokens($lastID: String) {
    tokens(first: 1000, where: { id_gt: $lastID  }) {
      id
      owner
    }
  }
}
```","",""
"755735783658225725","jeffrey6680","11/06/2021 12:44 pm","My query is pool data, so now I have to provide the pool ID to do that?","",""
"755735783658225725","jeffrey6680","11/06/2021 12:47 pm","Is there a way to get all pools associated with these tokens by providing the ID of token0 or token1?","",""
"447487680511606785","reuptake","11/06/2021 12:54 pm","I guess so, pools should have token as a field, right?","",""
"755735783658225725","jeffrey6680","11/06/2021 12:56 pm","Yep","",""
"755735783658225725","jeffrey6680","11/06/2021 12:58 pm","So I wonder if I can get some pools associated with one of the tokens based on its Address?","https://cdn.discordapp.com/attachments/765222888617017365/852811531074273300/unknown.png",""
"755735783658225725","jeffrey6680","11/06/2021 1:00 pm","","https://cdn.discordapp.com/attachments/765222888617017365/852812006003310612/unknown.png",""
"447487680511606785","reuptake","11/06/2021 1:01 pm","token {id} is address I think","",""
"267300878736818176","_dsi","11/06/2021 1:15 pm","Hello guys, I made a simple query of the current TVL on the pool and the yesterday's volume, but I get these huge USD values (I didn't have them on my previous query on the unofficial subgraph). So I'm a little bit confused, what is the unit of those USD data ?","https://cdn.discordapp.com/attachments/765222888617017365/852815886867628042/unknown.png",""
"852818852613849138","UniNovice#6879","11/06/2021 1:46 pm","hello guys .Can I  get the pool liquidity when use the subgraph API?  Or use algorithm? Pool seems haven't this attribute🤣","https://cdn.discordapp.com/attachments/765222888617017365/852823645323264040/unknown.png",""
"267300878736818176","_dsi","11/06/2021 1:49 pm","Yep it's the totalValueLockedUSD (https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/schema.graphql)","",""
"485274047924535306","l0c4t0r","11/06/2021 1:49 pm","which subgraph are you using?","",""
"267300878736818176","_dsi","11/06/2021 1:50 pm","I'm using this one https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3","",""
"485274047924535306","l0c4t0r","11/06/2021 1:51 pm","try this one:
https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","",""
"485274047924535306","l0c4t0r","11/06/2021 1:51 pm","this is the one the website uses for now","",""
"267300878736818176","_dsi","11/06/2021 1:51 pm","I am actually trying to divide this number by 2^128 as it's a uint128 and then dividing it by 10^12 because of the decimals between DAI and USDT, it's giving me 11.5 milions of volume while the volume was around 12.5m, idk if I'm on the right path or not","",""
"267300878736818176","_dsi","11/06/2021 1:51 pm","Ohh okay, what is the problem with the official one ?","",""
"267300878736818176","_dsi","11/06/2021 1:52 pm","Yep; the data is much better, thanks 👍","",""
"485274047924535306","l0c4t0r","11/06/2021 1:52 pm","it's probably still in development. I don't know tho I'm not part of the team","",""
"485274047924535306","l0c4t0r","11/06/2021 1:52 pm","but ianlapham is the dev working on the subgraph i believe","",""
"267300878736818176","_dsi","11/06/2021 1:53 pm","Oh okay nice, thank you 👍","",""
"852818852613849138","UniNovice#6879","11/06/2021 2:24 pm","hi canadacode Did you solve this problem?","",""
"267300878736818176","_dsi","11/06/2021 2:53 pm","You can convert sqrtPrice to number by dividing your value by 2^96, and then, you make need to multiply bu 10^something according to the decimal of the token","",""
"267300878736818176","_dsi","11/06/2021 2:54 pm","For liquidityGross and liquidityNet, I am trying to figure out myself 😅","",""
"267300878736818176","_dsi","11/06/2021 6:07 pm","Hello guys, there is something I don't really understand after reading uni v3 whitepaper.

I would like to know with The Graph how is distributed the liquidity between ranges. 

But if I query data, I have the liquidity per tick. But I don't think the liquidity is set on one tick, isn't it ? But rather between two tick right ? 
So with this query, what would be the upper tick and lower tick of this liquidity ? and what is the range of this returned liquidity ?

Here is my query on the DAI-USDT pair, ordered by liquidity from the biggest to the lowest :","https://cdn.discordapp.com/attachments/765222888617017365/852889233005477909/unknown.png",""
"267300878736818176","_dsi","11/06/2021 6:08 pm","Basically, the green liquidity should correspond from my understanding, but I am not really sure.","https://cdn.discordapp.com/attachments/765222888617017365/852889455538602035/unknown.png",""
"447487680511606785","reuptake","11/06/2021 6:19 pm","No, liquidity is ""in ticks"", not ""between ticks""","",""
"267300878736818176","_dsi","11/06/2021 6:26 pm","Ok so there is something I don't quite understand. For me, liquidity in ticks is, in this example liquidity between -276320 and -276330. So  you confirm this is not this ? What is liquidity ""in ticks"" then ? What does that mean on a concrete level ?","",""
"447487680511606785","reuptake","11/06/2021 6:28 pm","I think it's just a nomenclature choice","",""
"447487680511606785","reuptake","11/06/2021 6:31 pm","And I suppose when you convert tickIdx to price it gives the lower bound","",""
"447487680511606785","reuptake","11/06/2021 6:31 pm","But I'm not sure","",""
"267300878736818176","_dsi","11/06/2021 6:42 pm","Okok, with my calculs, it makes sense and I think you're right.

The only thing I'm wondering is, how to convert this liquidity gross in a USD value ? Because I try to makes sense of the first liquidityGross value by dividing it by 10**15, but then the two other following doesn't makes sense. It would result in a 54m$ tvl while the pool tvl is only 31m. Do you know how to convert it ? I don't find anything on the whitepaper, neither on the github for that","",""
"447487680511606785","reuptake","11/06/2021 7:25 pm","Liquidity is not in USD, I think you have to convert it using something like this library https://github.com/reuptaken/uni3","",""
"267300878736818176","_dsi","11/06/2021 7:27 pm","Okk thank you so much 🙏","",""
"707680320450986006","Anarcho#7001","11/06/2021 9:24 pm","Hey guys,

Is there any way we can get the pair address from the subgraph API for Ethereum and other token?

Any help is much appreciated","",""
"332552128214073348","xavierlu#2315","12/06/2021 2:37 am","hi guys, does anyone know when will v3 subgraph be ready?","",""
"332552128214073348","xavierlu#2315","12/06/2021 2:37 am","saw the github repo but not on thegraph.com","",""
"267300878736818176","_dsi","12/06/2021 9:24 am","Yes you can have the pair address, but what is the pair address for ethereum ?

If you would like the pair address for two tokens, here is the query : 

{
pools(first: 1, where: { 
  token0: ""token0_address""
  token1: ""token1_address""
}, orderBy: volumeUSD, orderDirection: desc) {
  id
}
}

This will give you the most traded pair from these two tokens, just remplace token0_address and token1_address by their address and make sure that token0 is in fact token0 on the pair","",""
"267300878736818176","_dsi","12/06/2021 9:24 am","This one is the one used on uniswap.org from what I've eared https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing","",""
"617127949480493077","yj_alt","12/06/2021 2:53 pm","https://ianlapham-blog.medium.com/uniswap-data-x-the-graph-7252695b77c8","","💯 (4),rainbowdoge (2)"
"852818852613849138","UniNovice#6879","13/06/2021 12:35 pm","hello  did you calculs how ticksIdx convert to price Or liquidityGross convert to liquidityUSD?","",""
"267300878736818176","_dsi","13/06/2021 1:08 pm","for ticksIdx, you can do 1.0001^(tickIdx)","",""
"267300878736818176","_dsi","13/06/2021 1:08 pm","You can check at 6.1 on the uni v3 whitepaper https://uniswap.org/whitepaper-v3.pdf","",""
"267300878736818176","_dsi","13/06/2021 1:09 pm","For liquidityGross, I have not figured out yet ...","",""
"267300878736818176","_dsi","13/06/2021 1:17 pm","Basically this will give you the price one token0/token1 I believe, but if you want the opposite, like token1/token0, you can do 1.0001 / (1.0001**(tickIdx))","",""
"852818852613849138","UniNovice#6879","13/06/2021 1:18 pm","👍 thank you  so much.","","👌 (1)"
"852818852613849138","UniNovice#6879","13/06/2021 2:24 pm","hello sovereign9999777 I have converted the ticksIdx to prices. but got another bug.the algorithm was work fine in USDC/USDT pool(id is 0x7858e59e0c01ea06df3af3d20ac7b0003275d4bf).but it got the wrong result in USDC/ETH pool such id is 0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8..the result price is (1.0001)**198840 = 431598305.941721045342388396093923 it's too large.","",""
"843155325619535912","Etherscan Bot#5753","13/06/2021 2:24 pm","<https://etherscan.io/address/0x7858e59e0c01ea06df3af3d20ac7b0003275d4bf>","",""
"843155325619535912","Etherscan Bot#5753","13/06/2021 2:24 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"852818852613849138","UniNovice#6879","13/06/2021 2:25 pm","that's my sql :","",""
"852818852613849138","UniNovice#6879","13/06/2021 2:25 pm","fragment PoolFields on Pool {
    id
    txCount
      sqrtPrice
    ticks(first:5,where:{
      pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""
    },orderBy:liquidityGross,orderDirection:desc){
        tickIdx
        liquidityGross
    }
    token0Price
      token1Price
   liquidityProviderCount
  } query {
    pools(first: 1, orderBy: totalValueLockedUSD, orderDirection: desc, where: { volumeUSD_gt:0 }) {
      ...PoolFields
    }
  }","",""
"843155325619535912","Etherscan Bot#5753","13/06/2021 2:25 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"799382295584833587","Dilara#7228","13/06/2021 2:25 pm","Hi, how can i get current amount of tokens in nft","https://cdn.discordapp.com/attachments/765222888617017365/853558240775897088/unknown.png",""
"267300878736818176","_dsi","13/06/2021 2:30 pm","Oh yeah, I forgot to say something, if both tokens don't have the same decimal,  you need to do extra calculation and basically divide or multipy by 10**(decimalDiff) where decimalDiff is the | token0.decimal - token1.decimal |","",""
"852818852613849138","UniNovice#6879","13/06/2021 2:37 pm","👍 👍 👍 It's well now.","",""
"799382295584833587","Dilara#7228","13/06/2021 6:00 pm","@dsi   ""how can i get current amount of tokens in nft
"" Do you have any idea about this question?","",""
"664226039723065354","movses#0956","13/06/2021 9:13 pm","Hi all I'm trying to call the swapExactTokensForTokens function on uniswap v2router.","",""
"664226039723065354","movses#0956","13/06/2021 9:13 pm","The last paramet asks for a unix time stamp for the deadline, is this given as just a regular integer?","",""
"664226039723065354","movses#0956","13/06/2021 9:14 pm","sorry wrong channel","",""
"267300878736818176","_dsi","13/06/2021 9:32 pm","From what I understand you would like to do something like that 

{
positions(where: {
  owner: ""...""
  pool: ""...""
}) {
  depositedToken0
  depositedToken1
}
}","","👍 (1)"
"267300878736818176","_dsi","13/06/2021 9:32 pm","where the owner is your address and the pool is the address of the pool","",""
"799382295584833587","Dilara#7228","13/06/2021 9:53 pm","With this structure, can we learn the token balances in the nft we have in v3? So how do I do this?","",""
"267300878736818176","_dsi","13/06/2021 9:54 pm","Why do you want to do that ? If you only want to know how many tokens your nft hold, and nothing more, this is written on your nft page, and this is it","",""
"267300878736818176","_dsi","13/06/2021 9:54 pm","But if you want to do something more, I don't get what you want to do exactly","",""
"799382295584833587","Dilara#7228","13/06/2021 9:57 pm","I will learn the token amounts in it and calculate with the current amounts. And I want to do this inside the contract if possible .","",""
"799382295584833587","Dilara#7228","13/06/2021 9:59 pm","I want to reach these amounts in the back structure","https://cdn.discordapp.com/attachments/765222888617017365/853672430903754793/unknown.png",""
"267300878736818176","_dsi","14/06/2021 8:58 am","Yes, you have to use the graph thegraph.com","",""
"799382295584833587","Dilara#7228","14/06/2021 9:52 am","So can you help me how to use it?","",""
"267300878736818176","_dsi","14/06/2021 10:17 am","If you have question, post them here, but I can't do the work for you lol, check de docs, start coding and resolve problems","",""
"799382295584833587","Dilara#7228","14/06/2021 10:29 am","It's ok. Can i do it for v3?","",""
"267300878736818176","_dsi","14/06/2021 10:31 am","You definitely have to do it for v3 as your tokens are stored in the nft, and the kind of query I showed you earlier works for v3","",""
"799382295584833587","Dilara#7228","14/06/2021 10:34 am","Ok, Thank you for your interest🙂","","👍 (1)"
"799382295584833587","Dilara#7228","14/06/2021 11:13 am","I'm looking at the documents, there is a link in v2 but no link in v3 for subgraph","",""
"267300878736818176","_dsi","14/06/2021 11:39 am","here is the subgraph I use for uni v3 : https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing

and here are the explanation of the values : https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/schema.graphql for additionnal questions about values, you can check the uni v3 whitepaper","",""
"799382295584833587","Dilara#7228","14/06/2021 11:43 am","Thanks @dsi","",""
"852818852613849138","UniNovice#6879","14/06/2021 1:32 pm","hello @dsi  do you know how to get the lock volume in each tick? for example. in the USDC/ETH pool such id is ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"". I want to get the ETH locked in USDC prices:0.0004 ETH Price 2504.9182 tick. when I query Sql, it's volumeUSD always get zero..","https://cdn.discordapp.com/attachments/765222888617017365/853907140526604288/unknown.png",""
"843155325619535912","Etherscan Bot#5753","14/06/2021 1:32 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"267300878736818176","_dsi","14/06/2021 1:40 pm","I believe you want to query the liquidityGross from the tick and not the volumeUSD, but I didn't looked into how to convert liquidityGross in a USD value yet, so Idk more","",""
"799382295584833587","Dilara#7228","14/06/2021 3:59 pm","I tried but I get the result like this.","https://cdn.discordapp.com/attachments/765222888617017365/853944326807355413/unknown.png",""
"799382295584833587","Dilara#7228","14/06/2021 4:00 pm","My code","https://cdn.discordapp.com/attachments/765222888617017365/853944536723750914/unknown.png",""
"799382295584833587","Dilara#7228","14/06/2021 4:01 pm","v2, because I wanted to try it first","",""
"267300878736818176","_dsi","14/06/2021 4:49 pm","yes, you don't receive exactly the data in an array, but you receive a promise which contain other property than just ids. You have to query the specific properties you want like queryData.data.pairs[0].id I guess","",""
"267300878736818176","_dsi","14/06/2021 4:49 pm","something like that. You can just console.log your promise and check this way how is your promise built","",""
"799382295584833587","Dilara#7228","14/06/2021 5:06 pm","I didn't understand exactly how to write a query?","",""
"267300878736818176","_dsi","14/06/2021 5:20 pm","No, but you don't understand how to work with the query. I mean, it's a simple javascript object, maybe you should dig there and try to understand how to work with javascript objects","",""
"799382295584833587","Dilara#7228","14/06/2021 5:55 pm","Ok, thanks.","",""
"398178392064655363","yekta","14/06/2021 8:59 pm","I was looking for an answer to the same question and couldn't find much but then looked into the Uniswap v3 whitepaper. You might want to read it as well, I got answers to some of my questions.","https://cdn.discordapp.com/attachments/765222888617017365/854019610352156672/Screen_Shot_2021-06-14_at_18.27.25.png",""
"799382295584833587","Dilara#7228","14/06/2021 9:07 pm","Thanks, @yekta  I couldn't look here in detail, I'll look again","",""
"799382295584833587","Dilara#7228","14/06/2021 9:10 pm","I want to get these values ​​in back-end. Do you have an idea about it?","",""
"398178392064655363","yekta","14/06/2021 9:53 pm","You would want to use the sdk or a subgraph to get the data probably. Uniswap seems to be using Infura directly when MetaMask isn't available, and MetaMask seems to be using Infura. Not sure if that's your question","",""
"398178392064655363","yekta","14/06/2021 9:54 pm","https://thegraph.com/explorer/subgraph/benesjan/uniswap-v3-subgraph?selected=playground","",""
"398178392064655363","yekta","14/06/2021 9:54 pm","This one has the positions, I don't know if everything is there though","",""
"799382295584833587","Dilara#7228","14/06/2021 10:12 pm","Thank you very much @yekta , I will look into it","",""
"398178392064655363","yekta","14/06/2021 10:45 pm","You're welcome","",""
"260263495604502531","beegfoig","15/06/2021 11:48 am","Hello everyone, noob question here: how would I get the User ID parameter for the V2 subgraph? I'm trying to make a tool to monitor some wallet liquidity positions, but the User ID field doesn't seem to be the wallet address that I'm monitoring, so just trying to figure out how to get that","",""
"848941373704372277","jktrader#2397","15/06/2021 7:28 pm","Does anyone know how to do a graphql query to get 7 days fees of a pool? I can retrieve each data for each day but would like to aggregate the data within one query😩  looks more complicated than in sql. Any help would be very much appreciated","",""
"396019781754683403","mario.revert.finance","15/06/2021 10:40 pm","@Ian (dev) 🦄 [No DMs] Hi, I read your latest post, and it has some good points on the community taking charge of subgraphs and evolving them for their own needs, which is great! However, right now there are at least 3 subgraphs being worked on by the uni team, also great! But it would be useful to have some document that explains the status of these subgraphs, things like which entities are complete, which are missing, should we expect breaking changes and on which one? Right now it feels like a cat and mouse game in figuring out which should be used. Noticed uniswap.info just switched to -alt, previously was using -testing, and -prod was also incomplete some weeks ago, no idea if that has changed. To summarize, as a dev working on v3 integrations, I have no idea which subgraph is recommended use, if that's going to change at some point, and how to monitor anything regarding this.","","👍 (10)"
"447487680511606785","reuptake","16/06/2021 2:28 pm","☝️","",""
"398178392064655363","yekta","17/06/2021 12:29 am","For the people that wanted to get current amounts for a position: https://playcode.io/780618/","","🙏 (2),👏 (3)"
"438779253098545152","0xblackjesus","17/06/2021 12:58 am","I'm having issues with my coin being picked up by subgraph . https://info.uniswap.org/#/tokens/0xd96e84ddbc7cbe1d73c55b6fe8c64f3a6550deea","",""
"438779253098545152","0xblackjesus","17/06/2021 12:58 am","What am I doing wrong?","",""
"396019781754683403","mario.revert.finance","17/06/2021 3:16 am","@BlackJesus the subgraph only indexes prices for a token if there's a pool with > 80 ETH value in reserves","",""
"396019781754683403","mario.revert.finance","17/06/2021 3:22 am","https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/src/utils/pricing.ts#L93","",""
"396019781754683403","mario.revert.finance","17/06/2021 3:22 am","(52 ETH now)","",""
"398178392064655363","yekta","17/06/2021 9:37 pm","For the people like myself that were trying to get a position's current token amount and uncollected fees, I tried to explain it as best as I can: https://playcode.io/780618/. Results match the results on Uniswap but for the unclaimed fees I just read the whitepaper and interpreted what I understood from the formulas so something might be wrong in there.","","😮 (1),💯 (1)"
"164011892598112256","__balou","17/06/2021 9:56 pm","Matches my data. I had found how to do it using the SDK but this makes it easier","",""
"164011892598112256","__balou","17/06/2021 9:56 pm","Wouldn't have to call node scripts to get my data","",""
"833291365164253214","jnp1","17/06/2021 10:45 pm","good job, indeed","",""
"398178392064655363","yekta","17/06/2021 10:47 pm","Thank you, I think a subgraph with these amounts precomputed in human readable form would be rather helpful but for that I need to learn how to create schemas and subgraphs first 😄","",""
"398178392064655363","yekta","17/06/2021 10:48 pm","Also the tokenURI so that the uniswap page for the token for be fully recreated just by making a simple call to the subgraph","",""
"833291365164253214","jnp1","17/06/2021 10:50 pm","i think is not a easy process but it is a good sugestion for team building the oficial graph","",""
"398178392064655363","yekta","17/06/2021 10:52 pm","I don't think anything about this process was particularly easy for me (especially compared to my initial expectation) either but worked out in the end 😄","",""
"833291365164253214","jnp1","17/06/2021 10:58 pm","sure everybode will apreciate a lot, just a kind warning😆","",""
"145767713095155712","opie42","18/06/2021 12:13 am","When querying Uniswap data via Subgraph library, is there any limitation on the frequency of requests sent?","",""
"852823899397423126","Albertzhong#7556","18/06/2021 6:22 pm","Hello everybody, does anyone know what is the average lag for data from subgraph API?","",""
"447487680511606785","reuptake","19/06/2021 2:06 pm","Seems like  Uniswap minions do not deserve an answer...","",""
"227105897241903105","airboom#0400","20/06/2021 10:06 pm","How to get the hourly data of liquidity between ticks as displayed in the Uniswap site?","https://cdn.discordapp.com/attachments/765222888617017365/856210944035127357/unknown.png",""
"427060228853334016","andrei_amosov","21/06/2021 2:19 pm","I have been trying to do this for over 3 days now. Is it possible to take the most favorable exchange rate (multi-hoops) with the help of API and SDK?
I managed to do it but without multi-hoops","",""
"427060228853334016","andrei_amosov","21/06/2021 2:20 pm","","https://cdn.discordapp.com/attachments/765222888617017365/856455973366267904/unknown.png",""
"427060228853334016","andrei_amosov","21/06/2021 2:20 pm","I would like to receive real information about the most profitable route","",""
"398178392064655363","yekta","21/06/2021 2:28 pm","Does anyone know if there is an alternative to etherjs's contract.callStatic which I can use on a subgraph codebase","",""
"447487680511606785","reuptake","21/06/2021 3:42 pm","if you need fee info I don't think there's an easy alternative","",""
"398178392064655363","yekta","21/06/2021 5:31 pm","For the ones that were wondering like myself, fee calculations formula is already used previously in the Uniswap UI. I thought my calculations were wrong but apparently not. After cross checking the values with the results coming from the subgraph and the contract, I realized that 1 value was wrong on the subgraph","",""
"398178392064655363","yekta","21/06/2021 5:33 pm","```import type { BigNumber } from ""ethers"";
import { Q128, Q256 } from ""../constants"";

export function getUnclaimedFeesFromValues(
  feeGrowthGlobalX128: BigNumber,
  feeGrowthOutsideLowerTickX128: BigNumber,
  feeGrowthOutsideUpperTickX128: BigNumber,
  feeGrowthInsideLastX128: BigNumber,
  liquidity: BigNumber,
  tickCurrentIdx: number,
  tickLowerIdx: number,
  tickUpperIdx: number
): BigNumber {
  // fee growth below
  let feeGrowthBelowX128: BigNumber;
  if (tickCurrentIdx >= tickLowerIdx) {
    feeGrowthBelowX128 = feeGrowthOutsideLowerTickX128;
  } else {
    feeGrowthBelowX128 = subIn256(
      feeGrowthGlobalX128,
      feeGrowthOutsideLowerTickX128
    );
  }

  // fee growth above
  let feeGrowthAboveX128: BigNumber;
  if (tickCurrentIdx < tickUpperIdx) {
    feeGrowthAboveX128 = feeGrowthOutsideUpperTickX128;
  } else {
    feeGrowthAboveX128 = subIn256(
      feeGrowthGlobalX128,
      feeGrowthOutsideUpperTickX128
    );
  }

  let feeGrowthInsideX128 = subIn256(
    subIn256(feeGrowthGlobalX128, feeGrowthBelowX128),
    feeGrowthAboveX128
  );

  return subIn256(feeGrowthInsideX128, feeGrowthInsideLastX128)
    .mul(liquidity)
    .div(Q128);
}

function subIn256(x: BigNumber, y: BigNumber): BigNumber {
  const difference: BigNumber = x.sub(y);
  return difference.lt(0) ? Q256.add(difference) : difference;
}
``` This is the script for calculating the unclaimed fee for 1 token at a time, token 0 or 1.","","👆 (2)"
"398178392064655363","yekta","21/06/2021 5:34 pm","Yet, it's not much of use currently because I couldn't find a subgraph with correct freeGrowtOutside for both upper tick and the lower tick","","👆 (1)"
"398178392064655363","yekta","21/06/2021 5:35 pm","So would recommend using the `.callStatic.collect` for now","",""
"447487680511606785","reuptake","21/06/2021 6:21 pm","Exactly, there's no subgraph which has current values of those.","",""
"447487680511606785","reuptake","21/06/2021 6:22 pm","The alternative is to use SDK","",""
"398178392064655363","yekta","21/06/2021 6:22 pm","Yeap, I found out bit too late so hopefully other people doesn't 😄","",""
"398178392064655363","yekta","21/06/2021 6:46 pm","do you think it has something to do with how the current subgraph codes are written or is there something else at play?","",""
"447487680511606785","reuptake","21/06/2021 8:12 pm","I don't know much about subgraph, how it works internally.","",""
"409886078783324160","jp4g","21/06/2021 8:42 pm","Hello I am trying to get hourly tick data for different token pairs and I have it *almost* working. The problem is that it appears for `pairHourData` there is not always an entry recorded for each hour. Wondering if anyone has an elegant solution to finding the closest existing timestamp for the pairHourData, idk if you can manipulate strings within graphql and am almost resigned to a linear search","",""
"409886078783324160","jp4g","21/06/2021 8:45 pm","i.e. if I am doing 
```
pairHourData(id: ""0xd78e04a200048a438d9d03c9a3d7e5154de643b1-451163"") {
  ...
}
```
and it returns null, how could I go about decrementing the hour identifier (in this case `451163`) to find the latest price before (or after for that matter)","",""
"843155325619535912","Etherscan Bot#5753","21/06/2021 8:45 pm","<https://etherscan.io/address/0xd78e04a200048a438d9d03c9a3d7e5154de643b1>","",""
"532017506223783936","anwu55","21/06/2021 9:06 pm","Hi does anyone know what the rate limits are for the subgraph? Thanks!","",""
"427060228853334016","andrei_amosov","22/06/2021 3:36 pm","","https://cdn.discordapp.com/attachments/765222888617017365/856837489494327316/unknown.png",""
"427060228853334016","andrei_amosov","22/06/2021 3:36 pm","what different","",""
"427060228853334016","andrei_amosov","22/06/2021 3:36 pm","?","",""
"833291365164253214","jnp1","22/06/2021 4:55 pm","Is there a place to propose improvements to the subgraph?? Maybe the GitHub ?","",""
"427060228853334016","andrei_amosov","23/06/2021 2:53 pm","","https://cdn.discordapp.com/attachments/765222888617017365/857189151563710484/unknown.png",""
"427060228853334016","andrei_amosov","23/06/2021 2:54 pm","","https://cdn.discordapp.com/attachments/765222888617017365/857189320456536094/unknown.png",""
"427060228853334016","andrei_amosov","23/06/2021 2:54 pm","","https://cdn.discordapp.com/attachments/765222888617017365/857189471896600586/unknown.png",""
"427060228853334016","andrei_amosov","23/06/2021 2:55 pm","what happen with subgraph and subgraph api?","","💩 (1)"
"154653607608844288","rb#6109","23/06/2021 7:00 pm","Hi there, using the following subgraph https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing and noticed that the aggregate sum of the `tvlUSD` of all pools in `PoolDayDatas` doesn't map 1:1 to the `tvlUSD` of `UniswapDayDatas` for each day. Is there anything that could explain this, maybe some system excess TVL that's outside the pools?","",""
"267300878736818176","_dsi","24/06/2021 9:58 pm","Hello guys, does any one knows what is the value of the liquidity ? 

Ofc I need to divide it by 10**18, but it then gives me 648, and I don't know what it represent as liquidity, it is neither the number of token0 or token1","https://cdn.discordapp.com/attachments/765222888617017365/857658359859380264/unknown.png",""
"791892652723273738","reto2487","25/06/2021 12:42 am","hey guys","",""
"791892652723273738","reto2487","25/06/2021 12:42 am","for some tokens the api does not return the price somehow...","",""
"791892652723273738","reto2487","25/06/2021 12:42 am","{
 tokenDayDatas(first:1, orderBy: date, orderDirection: desc,
  where: {
    token: ""0x29746166EAf410E99Eb6E538904eFc3A3bE145a8""
  }
 ) {
    date
    priceUSD
    dailyVolumeUSD
 }
}","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 12:42 am","<https://etherscan.io/address/0x29746166EAf410E99Eb6E538904eFc3A3bE145a8>","",""
"791892652723273738","reto2487","25/06/2021 12:43 am","anyone knows why???","",""
"791892652723273738","reto2487","25/06/2021 12:43 am","the price is correctly shown on uniswap: https://v2.info.uniswap.org/token/0x29746166eaf410e99eb6e538904efc3a3be145a8","",""
"791892652723273738","reto2487","25/06/2021 12:43 am","but not via graphQL... any ideas why and how we could get the price?","",""
"791892652723273738","reto2487","25/06/2021 12:57 am","subgraph url: https://api.thegraph.com/subgraphs/name/benesjan/uniswap-v2","",""
"267300878736818176","_dsi","25/06/2021 9:19 am","Yes, with The Graph you need to put the address with lower can only","",""
"267300878736818176","_dsi","25/06/2021 9:19 am","{
 tokenDayDatas(first:1, orderBy: date, orderDirection: desc,
  where: {
    token: ""0x29746166eaf410e99eb6e538904efc3a3be145a8""
  }
 ) {
    date
    priceUSD
    dailyVolumeUSD
 }
}","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 9:19 am","<https://etherscan.io/address/0x29746166eaf410e99eb6e538904efc3a3be145a8>","",""
"267300878736818176","_dsi","25/06/2021 9:19 am","This query works","",""
"351062741559279617","yabirgb","25/06/2021 3:08 pm","Hello! I wanted to ask why this graph https://thegraph.com/explorer/subgraph/uniswap/uniswap-v2 is not up to date with the code in the repo. We have been using https://api.thegraph.com/subgraphs/name/benesjan/uniswap-v2 but we would like to use the official uniswap v2 graph. Is there any other deployed?","",""
"833291365164253214","jnp1","25/06/2021 3:13 pm","anyone know why i keep getting this error on the univ3 subgraph?","",""
"833291365164253214","jnp1","25/06/2021 3:13 pm","502 Server Error: Bad Gateway for url: https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-prod","",""
"833291365164253214","jnp1","25/06/2021 3:13 pm","is the subgraph down??","",""
"833291365164253214","jnp1","25/06/2021 3:14 pm","it was working a half hour ago","",""
"852818852613849138","UniNovice#6879","25/06/2021 3:18 pm","@JNP | ranges.fi yes it alway return error before 10min.","",""
"833291365164253214","jnp1","25/06/2021 3:20 pm","seems like all uniswap.info is down also","",""
"852818852613849138","UniNovice#6879","25/06/2021 3:20 pm","😢  yeah","https://cdn.discordapp.com/attachments/765222888617017365/857920801964687380/unknown.png",""
"792375636403945522","pnf#9702","25/06/2021 3:24 pm","Facing the same issue here","",""
"792375636403945522","pnf#9702","25/06/2021 3:25 pm","Would be good to get this back up","",""
"833291365164253214","jnp1","25/06/2021 3:26 pm","sure they are working on it as it affects the interface","",""
"833291365164253214","jnp1","25/06/2021 3:26 pm","but i hear that subgraphs fix is slow","",""
"792375636403945522","pnf#9702","25/06/2021 3:29 pm","It seems like something more basic, the api request just gives 502 bad gateway","",""
"792375636403945522","pnf#9702","25/06/2021 3:30 pm","So hopefully they dont need to rebuild anything","",""
"460949180840673312","johnfriz","25/06/2021 8:46 pm","Is there any way to determine the relationship between mints and positions? The Position object has reference to Transaction, which links to the first mint event. However, if there are subsequent mints to increase liquidity in the position, there does not seem to be a way to associate these mints to the position. The position Id does not seem to be in the Mint (or burn or collect) Objects. Am I missing something here or is this not possible?","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 10:16 pm","<https://etherscan.io/address/0x1BBf25e71EC48B84d773809B4bA55B6F4bE946Fb>","",""
"843155325619535912","Etherscan Bot#5753","25/06/2021 10:16 pm","<https://etherscan.io/address/0x1BBf25e71EC48B84d773809B4bA55B6F4bE946Fb>","",""
"530466082318843935","buckyroid#0683","26/06/2021 2:52 am","Hi everyone, I was wondering when I should use graph and when I should use abis? Sometimes data from abi is a little bit different from graph? What should I do?","",""
"267300878736818176","_dsi","26/06/2021 5:45 pm","Yep getting issues with queries as well","",""
"138032024471601152","tzedn","26/06/2021 10:28 pm","Is there a way to scrape a token's price history?","",""
"138032024471601152","tzedn","26/06/2021 10:29 pm","price, volume etc at any given interval","",""
"138032024471601152","tzedn","26/06/2021 10:29 pm","So token/eth pair, you can pull accurate data from when liquidity was added up until present time","",""
"640543652300587009","lizgeorge","26/06/2021 11:24 pm","Hi, 
How can i get the volume (24 hrs)  percentage (eg: -100.00%) of a token from uniswap? Do i have to calculate it from my side. I can see the percentage in Uniswap interface.","",""
"838763996664168509","bolog#8476","28/06/2021 1:12 pm","Hi, does anyone know how to build the Uniswap-v3-subgraph environment","",""
"853993611926568973","rookie047","29/06/2021 3:43 pm","Hello there @chinca @Cindy @undoubted08  I'm new to Uniswap and I want to use nested field in the where clause.

for example,

query($tokenUsers: [String!]){
  users(where: {
      liquidityPositions: {
          pair: {
              token0: ""ANT""
          }
      }
  }) {
    id,
    liquidityPositions {
      pair {
        totalSupply
      }, 
      liquidityTokenBalance
    }
  }
}

I can filter with top level filters from User table like id and usdSwapped, but can't use the liquidityPositions nested field for filtering. Can you help me with that?","",""
"825562665446932500","undoubted08","29/06/2021 3:46 pm","Please don't cold mention people. Also, let's wait for the Devs to answer your question. 🙂","",""
"853993611926568973","rookie047","29/06/2021 3:47 pm","Got it. I'm sorry for that. Thanks.","",""
"825562665446932500","undoubted08","29/06/2021 3:47 pm","No worries. 🙂","",""
"838763996664168509","bolog#8476","29/06/2021 4:25 pm","","https://cdn.discordapp.com/attachments/765222888617017365/859386592896614430/unknown.png",""
"838763996664168509","bolog#8476","29/06/2021 4:25 pm","How can this problem be solved","",""
"838763996664168509","bolog#8476","29/06/2021 4:26 pm","I want to look it up sequentially","",""
"852818852613849138","UniNovice#6879","29/06/2021 6:46 pm","hello guys，how can I get the all mints in the pools like 0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8.","",""
"843155325619535912","Etherscan Bot#5753","29/06/2021 6:46 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"852818852613849138","UniNovice#6879","29/06/2021 6:49 pm","query mint
{
  mints(first:1000,
    where:{pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""},
  skip:1,orderBy:timestamp,orderDirection:asc)
  {
    id
    timestamp
  }
}
but It seems that it can only check up to 6000 data. 1000(first) + 5000(skip).","",""
"843155325619535912","Etherscan Bot#5753","29/06/2021 6:49 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"154653607608844288","rb#6109","29/06/2021 7:17 pm","Hi there, using the following subgraph https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing and noticed that the aggregate sum of the tvlUSD of all pools in PoolDayDatas doesn't map 1:1 to the tvlUSD of UniswapDayDatas for each day. Is there anything that could explain this, maybe some system excess TVL that's outside the pools?","",""
"658657300671889419","oxmarco","29/06/2021 11:12 pm","how can I get a pool id?","",""
"183309006767521792","jorropo","29/06/2021 11:44 pm","pools doesn't have id, they have an address (just so your next google searches will be more effective).
It's calculated that way :
```js
keccak256(abi.encodePacked(
  hex'ff',
  0x1F98431c8aD98523631AE4a59f267346ea31F984,
  keccak256(abi.encode(token0, token1, feeTier)),
  0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54
))
```
(*`CREATE2` op*)","",""
"843155325619535912","Etherscan Bot#5753","29/06/2021 11:44 pm","<https://etherscan.io/tx/0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54>","",""
"843155325619535912","Etherscan Bot#5753","29/06/2021 11:44 pm","<https://etherscan.io/address/0x1F98431c8aD98523631AE4a59f267346ea31F984>","",""
"658657300671889419","oxmarco","29/06/2021 11:45 pm","The playground you linked asks for a pool ID","",""
"183309006767521792","jorropo","29/06/2021 11:45 pm","ok ¯\_(ツ)_/¯","",""
"183309006767521792","jorropo","29/06/2021 11:45 pm","<https://github.com/Uniswap/uniswap-v3-periphery/blob/878a58a461ae30680acd84d44499058826bf5f3e/contracts/libraries/PoolAddress.sol#L33-L48>","",""
"658657300671889419","oxmarco","29/06/2021 11:45 pm","```
{
  poolHourData(id: ???) {
    id
    periodStartUnix
    liquidity
    open
    high
    low
    close
    txCount
  }
}
```","",""
"183309006767521792","jorropo","29/06/2021 11:46 pm","don't you have address filter instead ? Else try an address in this place","",""
"658657300671889419","oxmarco","29/06/2021 11:46 pm","I tried to use an address without success","",""
"658657300671889419","oxmarco","29/06/2021 11:54 pm","here's my code
```
{
  poolDayData(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    liquidity
    open
    close
  }
}
```
The address refers to the USDC/ETH pool","",""
"843155325619535912","Etherscan Bot#5753","29/06/2021 11:54 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"183309006767521792","jorropo","30/06/2021 12:22 am","dumb question but does 0, 1, 2, 3 works ? (if 1 or 0 is the WETH / UNI pool then this is just the incremental creation order)","",""
"853993611926568973","rookie047","30/06/2021 12:27 am","Hello there. Any ideas on this? It's disappointing to know that nested objects don't work with where filter.","",""
"658657300671889419","oxmarco","30/06/2021 12:30 am","I solved it, apparently some pools return null as data","",""
"658657300671889419","oxmarco","30/06/2021 12:30 am","the ID is the address","",""
"671402670308720684","OnlySmene#4184","30/06/2021 2:07 am","@Jorropo.eth I'm there.
How can I get my token's price? It's a simple address, not pair","",""
"183309006767521792","jorropo","30/06/2021 2:07 am","no idea, I don't use it, they have a nice playground, play with it I'm certain you will find","",""
"671402670308720684","OnlySmene#4184","30/06/2021 2:08 am","I'll wait for someone else so. I can't even use it!","",""
"763411251149668393","the_cake_is_a_lie_","30/06/2021 6:17 am","Can anyone point me in the right direction for dynamically pulling data from an LP position into an Excel workbook?","",""
"709312877278003230","Garik#0515","30/06/2021 3:07 pm","hello. How can i get token price in uniswap v3 with API?","",""
"710132892197453824","tobiwo","30/06/2021 7:46 pm","I'm also new to v3 and ""The Graph"" in general but I assume the best thing is to use, well, The Graph. It looks like the easiest way is to use something like (in the playground):
```{
  tokenHourData(id:id_with_timestamp) {
    priceUSD
  }
}```
I tried it but unfortunately the documentation on github is not really helpful. So my question would be how to concatenate the id with the date/timestamp. The comment on github states you need to concatenate with the date but I guess it is not the date but the unix timestamp for the start of the hour. See here: https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/schema.graphql. Search for type TokenHourData.

Would be nice if someone can clarify the concatenation stuff.","","👍 (1)"
"710132892197453824","tobiwo","30/06/2021 8:06 pm","Although it isn't clear how concatenation in my previous example works, you could use something like this (again with The Graph playground):
```
{
  token(id:<tokenAddress>){
    totalValueLocked
    totalValueLockedUSD
  }
}
```
You could then simply calculate: `totalValueLockedUSD/totalValueLocked`. This approach should give you the current token price.","",""
"415911244781060107","riptide#2458","30/06/2021 8:57 pm","Hey -- is there a way I can query the fees over time for a certain pool on Uniswap V2?","",""
"415911244781060107","riptide#2458","30/06/2021 9:12 pm","there seems to be no way to see the fees at some given point","",""
"212310996499431425","the_outsider6128","01/07/2021 7:46 pm","Hello guys, I was experimenting with the graph api of Uniswap for a week now. How do you guys get the current exchange price between two tokens as shown in app.uniswap.org. I just can't seem to figure it out. Nothing gives the current price, every query I made so far is static but on app.uniswasp.org it is changing rapidly almost every second.","",""
"164011892598112256","__balou","01/07/2021 8:49 pm","@The_Outsider Would this comment help you out? It has a Current Price (and Current Price Reversed) which are the ratio of tokenA to tokenB ratio for a liquidity pool","","ty (1)"
"164011892598112256","__balou","01/07/2021 8:50 pm","Not that much graph-api experience but I recalled seeing that code snippet pass here a bit ago","",""
"212310996499431425","the_outsider6128","01/07/2021 9:03 pm","Thank you for the response. I appreciate it. I am new  to this but can you explain why is it so complicated to get current price? Isn't that the most important info.","",""
"164011892598112256","__balou","01/07/2021 9:06 pm","No clue tbh. I'm also just a consumer that tries to get this kind of info :p","","ty (1)"
"485274047924535306","l0c4t0r","01/07/2021 9:07 pm","The  sqrtPrice is given in X96 fixed point integer, this is how it's stored in the v3 contracts.  You also need to take into account the different decimals for the two tokens.

The calculation is something like this:
```((sqrtPriceX96 ** 2) / 2 ** (96 * 2)) * 10 ** (decimal0 - decimal1)```","",""
"212310996499431425","the_outsider6128","01/07/2021 9:14 pm","Okay, I will try that. Thank you , both of you.","",""
"212310996499431425","the_outsider6128","01/07/2021 9:20 pm","Is there something equivalent for v2?","",""
"841332471102701589","ShwetaG#5661","02/07/2021 4:18 am","Does anyone know how to calculate slippage from the v3 subgraph query?","",""
"183309006767521792","jorropo","02/07/2021 4:21 am","yes, **don't**
You would need to implement the V3 logic in your client, the most simple solution is to use <https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/lens/QuoterV2.sol>.

If you really want to use arbitrary data, well the quoter could be addapted to be feeded a new pool that you would create and see the slippage.","","ty (1)"
"212310996499431425","the_outsider6128","02/07/2021 12:57 pm","Can someone help me with how to get current price from uniswap v2 subgraph? Does it have something to do with ""totalLiquidity"" ?","",""
"474605143753752576","fedeebasta","02/07/2021 9:14 pm","You just need to divide reserve0/reserve1","","ty (1)"
"474605143753752576","fedeebasta","02/07/2021 9:14 pm","you can find those in the pair subgraph","",""
"212310996499431425","the_outsider6128","02/07/2021 9:15 pm","thanks I will do that.","",""
"474605143753752576","fedeebasta","02/07/2021 9:18 pm","👍 ,good luck ☺️","",""
"474605143753752576","fedeebasta","02/07/2021 9:20 pm","i actually just noticed that in the same subgraph you have token0Price and token1Price already calculated for you","",""
"212310996499431425","the_outsider6128","02/07/2021 9:20 pm","yes but I am not sure if it is current price. It does not change very often.","",""
"474605143753752576","fedeebasta","02/07/2021 9:24 pm","you can double check it against https://v2.info.uniswap.org/","",""
"474605143753752576","fedeebasta","02/07/2021 9:24 pm","a quick test looks ok to me","",""
"212310996499431425","the_outsider6128","02/07/2021 9:26 pm","how much difference between the price from the two sources is it normal?","",""
"212310996499431425","the_outsider6128","02/07/2021 9:30 pm","I am checking for SPH-WETH and there is a difference of 360.","",""
"212310996499431425","the_outsider6128","02/07/2021 9:31 pm","","https://cdn.discordapp.com/attachments/765222888617017365/860550691818438676/Screenshot_2021-07-02_212959.png",""
"212310996499431425","the_outsider6128","02/07/2021 9:31 pm","","https://cdn.discordapp.com/attachments/765222888617017365/860550694784073728/Screenshot_2021-07-02_212933.png",""
"474605143753752576","fedeebasta","02/07/2021 9:41 pm","I'm not sure, you need to keep in consideration the slippage as well","",""
"474605143753752576","fedeebasta","02/07/2021 9:41 pm","Depends on size of your trade and size of the pool","",""
"212310996499431425","the_outsider6128","02/07/2021 9:42 pm","yeah that's what I figured. Thank you for  discussing it with me.","",""
"183309006767521792","jorropo","02/07/2021 11:15 pm","I belive thegraph doesn't include price impact.","",""
"212310996499431425","the_outsider6128","02/07/2021 11:21 pm","Would you happen to know a free api or source that can help me achieve the same goal? I am doing it for a project and does not have that much budget, so looking for free option.","",""
"183309006767521792","jorropo","02/07/2021 11:23 pm","does web3 is fine for you ?","",""
"212310996499431425","the_outsider6128","02/07/2021 11:24 pm","web3 has a 100,000 request per day limit, no?","",""
"183309006767521792","jorropo","02/07/2021 11:24 pm","😄 not at all, web3 is a protocol, infura is nothing special, you can setup your own ethereum node and get as many as you want","",""
"183309006767521792","jorropo","02/07/2021 11:25 pm","the goal of ethereum is decentralisation, if you were needed to pay a single entity to access it, well this wouldn't be very decentralised","",""
"212310996499431425","the_outsider6128","02/07/2021 11:26 pm","Is there a good guide for beginners you can point me to on how to setup a node and get everything started?","",""
"183309006767521792","jorropo","02/07/2021 11:26 pm","how much perf and free hard drive space do you have ? (because that condition what node you will run)","",""
"212310996499431425","the_outsider6128","02/07/2021 11:28 pm","Would renting a entry level VPS be enough?","",""
"183309006767521792","jorropo","02/07/2021 11:28 pm","how much entry ?","",""
"212310996499431425","the_outsider6128","02/07/2021 11:28 pm","120GB space, 4 cores, 8 gigs of ram","",""
"183309006767521792","jorropo","02/07/2021 11:32 pm","120 Gb seems low (but might work with prunning active (removing old blocks and keeping only the state)), 4 core, seems fine, 16 Gb of ram would be better, but 8 can work if you configure low caching spaces.

Openethereum is what you will want to run, it's not the fastest by any means, but it's the lighter one (without going into LES, openethereum still run the consensus)
<https://openethereum.github.io/FAQ#what-are-the-openethereum-disk-space-needs-and-overall-hardware-requirements>
<https://github.com/openethereum/openethereum>","",""
"183309006767521792","jorropo","02/07/2021 11:32 pm","> multi-core CPU, 8GB RAM and an SSD drive and at least 400GB free space","",""
"183309006767521792","jorropo","02/07/2021 11:32 pm","Is what they advise (but this is without prunning)","",""
"183309006767521792","jorropo","02/07/2021 11:34 pm","other options are geth, the legacy node (a middle ground that work), or erigon (also called turbo-geth 😄 ) it has very high requirement but have light speed speeds, scanning the whole chain takes like ~10s, this would take hours if not days with openethereum","",""
"212310996499431425","the_outsider6128","02/07/2021 11:37 pm","okay, all of this is very overwhelming but exciting stuff. I have to look into it. Thanks for all the help.","",""
"183309006767521792","jorropo","02/07/2021 11:38 pm","ah also, everything need ssd, with various degrees of fast one.

A really good FS is also needed (you can probably make this work with some not so good FS, but you will need faster SSDs to compensate the FS slow speed) (XFS or ZFS, maybe something else)","",""
"183309006767521792","jorropo","02/07/2021 11:39 pm","also idealy, you have 2 drives, 1 8 or 16 Gb drive for your linux install and everything else, and a single drive just for the eth chain, ethereum clients are really peaky in IOPS usage and require the smallest possible storage latency to work correctly (you can maybe make it work on the same file system as your linux, but this will be harder)","",""
"212310996499431425","the_outsider6128","02/07/2021 11:45 pm","okay got it. Thank you for all the help.","",""
"487994418318540810","ktl_xv","03/07/2021 12:47 am","Hello, we are analyzing Uniswap's v2 logs and came across some transactions where both amount0In and amount1In are > 0. 
We don't understand why this would happen and what does it mean for the user. Would you mind explaining it?

Example TX: https://etherscan.io/tx/0xffff65b0df7dc7f3dbcba0b72cd6db37c53fb38024520beacc33bc2bc36d5e7a#eventlog","",""
"183309006767521792","jorropo","03/07/2021 2:55 am","it's a flash loan, they are borrowing money, using it do to some stuff and returning it before the transaction end (without collateral).
And they needed both tokens to do whatever.","",""
"487994418318540810","ktl_xv","03/07/2021 3:08 am","I don't think that is the case, the transaction first called Metamask's Swap Router , I don't think that contract does flash loans. Could there be another reason for this to happen?","",""
"254336769422655498","coinspiracynut","06/07/2021 12:59 am","Hey Yall, can anyone point me to a code example to calculate the reserves of token0 and token 1 for a given nftID at a certain price (not current price)","",""
"267300878736818176","_dsi","07/07/2021 9:44 am","Hello guys, I think the totalSupply query is wrong. It gives the same result whatever the token i query","https://cdn.discordapp.com/attachments/765222888617017365/862184892467904532/unknown.png",""
"849837357254443069","jackie68#1932","07/07/2021 9:47 am","there can be some delay to fetch latest data.","",""
"838763996664168509","bolog#8476","07/07/2021 4:39 pm","hi   ， Mint or Burn transaction records How do I get the  history price of tokens","",""
"402528874891837460","eonrad2","08/07/2021 1:05 pm","Hello, can someone give me an example of how to get more than 5,000 datapoints using thegraph","",""
"402528874891837460","eonrad2","08/07/2021 1:05 pm","","https://cdn.discordapp.com/attachments/765222888617017365/862597767237730304/unknown.png",""
"402528874891837460","eonrad2","08/07/2021 1:05 pm","","https://cdn.discordapp.com/attachments/765222888617017365/862597842517884938/unknown.png",""
"402528874891837460","eonrad2","08/07/2021 1:06 pm","i tried following the examples in the docs but was not able to get it to work","",""
"456226577798135808","Deleted User","08/07/2021 11:53 pm","Hi all, can anyone tell me when Uniswap expects to deploy their subgraph to the decentralized network/migrate away from The Graph's hosted service?","",""
"456226577798135808","Deleted User","08/07/2021 11:53 pm","🙂","",""
"183309006767521792","jorropo","08/07/2021 11:55 pm","this is planned ?","",""
"183309006767521792","jorropo","08/07/2021 11:58 pm","BTW, thegraph is a convinience feature (not required for the protocol to work) and thus according to uniswap's guidelines it's ok if this is an external dependency or if it break. (see <https://github.com/Uniswap/uniswap-interface/blob/main/CONTRIBUTING.md#guidelines>)","",""
"183309006767521792","jorropo","08/07/2021 11:58 pm","I guess you can also propose this as a vote to the governance (or next UGP), if the governance is ok to pay someone to maintain it and the servers well then why not.","",""
"189095386328203264","nieldlr","09/07/2021 2:22 am","https://info.uniswap.org uses the subgraph. Might be totally wrong here, isn't that built & maintained by the Uniswap team?","",""
"862104632078630913","Grom#6288","09/07/2021 7:17 am","Is it possible to make subgraph api queries in POSTMAN or FE applications? E.g. is your `schema.graphql` allowed for public use? Or do I need authorization/API Key?

e.g. I'd like to use this endpoint in a FE app or REST https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2","",""
"183309006767521792","jorropo","09/07/2021 5:37 pm","https://info.uniswap.org/ is a convinience feature","",""
"183309006767521792","jorropo","09/07/2021 5:37 pm","you don't need https://info.uniswap.org/ to trade on uniswap","",""
"189095386328203264","nieldlr","09/07/2021 5:48 pm","Yep, fully aware of that. The question still stands though, they would have to migrate to The Graph mainnet as some point to continue using the subgraph, no? That is specifically for info.uniswap.org. Not the trading.","",""
"813882430939070526","Batsy#5679","10/07/2021 5:29 am","Hi everyone, quick question where can I get a CSV for the UNI-V2 token price since January this year to right now?","",""
"862104632078630913","Grom#6288","10/07/2021 7:10 am","Can somebody please provide me with `schema.json` for Uniswap-v2-subgraph.

e.g. https://github.com/Uniswap/uniswap-v2-subgraph

i see a `schema.graphql` but i need it in json.

I've tried using Appollo's CLI downloader to download it e.g.:

```apollo schema:download https://raw.githubusercontent.com/Uniswap/uniswap-v2-subgraph/master/schema.graphql```

but no luck, maybe I need a different URL for this command.

Any help greatly appreciated🙏","",""
"183309006767521792","jorropo","10/07/2021 7:11 am","what does ""no luck"" means, any issues ?","",""
"862104632078630913","Grom#6288","10/07/2021 7:13 am","error message is:

> request to http://localhost:4000/graphql failed, reason: connect ECONNREFU
> …
>     Error: Failed to connect to a running GraphQL endpoint at
>     http://localhost:4000/graphql
>     This may be because you didn't start your service.
>     By default, when an endpoint, Apollo API key, or localSchemaFile isn't
>     provided, Apollo tries to fetch a schema from
>     http://localhost:4000/graphql


Not sure why it says ""By default, when an endpoint, Apollo API key, or localSchemaFile isn't
    provided, Apollo tries to fetch a schema from
    http://localhost:4000/graphql""

because that url is raw text for the .graphql file","",""
"183309006767521792","jorropo","10/07/2021 7:14 am","well idk apollo but it seems to me that you need to indicate https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2","",""
"862104632078630913","Grom#6288","10/07/2021 7:15 am","you are a legend lol. I was stuck on this longer than I'd like to admit. This is the correct command:

`apollo schema:download --endpoint=https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 schema.json`","","party (1)"
"862909653893120002","SnowDragon#2744","11/07/2021 3:58 am","Hello, does anyone know when Uniswap will migrate their subgraph over the the graph main net?","",""
"862909653893120002","SnowDragon#2744","11/07/2021 3:58 am","Or who i can talk to to learn more?","",""
"183309006767521792","jorropo","11/07/2021 4:00 am","nothing is know for now","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:01 am","Sure, that is understandable. Do you know where I might be able to find out more on the release?","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:02 am","I would like to use it for my dApp frontend, but not the hosted service.","",""
"183309006767521792","jorropo","11/07/2021 4:03 am","Idk about thegraph, but if you are ready to do that, why not just query uniswap's pairs through web3 like the UI does ?","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:04 am","I am looking for historical metrics through GraphQL. Switching to web3 would be far more difficult considering I need lots of data over a large time frame.","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:05 am","For my dApp, time to market is very important to me, which is why I am reaching out to learn more on the official release of the subgraph on mainnet","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:05 am","😋","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:05 am","I'm happy to DM as well if it's a more private convo.","",""
"183309006767521792","jorropo","11/07/2021 4:06 am","There really just is no info, I can not give you information I don't have myself sorry 😄

You can watch <https://github.com/Uniswap/uniswap-v2-subgraph> and <https://github.com/Uniswap/uniswap-v3-subgraph> of you want to get the latest updates.","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:07 am","No it's okay!! I totally understand. Thank you for your help.","",""
"862909653893120002","SnowDragon#2744","11/07/2021 4:07 am","I will check those links out for updates.","",""
"183309006767521792","jorropo","11/07/2021 4:08 am","BTW, I meant activating the watch feature of github, so you will receive a notification if any push is made to thoses repos 🙂","",""
"736831753188147263","jacksonhblau","12/07/2021 1:00 am","Hi all! I’m a curator for The Graph Protocol. We recently launched our mainnet. I just wanted to reach out because I saw a subgraph with your projects name posted. Did you guys deploy this? If not I suggest deploying your own instead of using this forked version of your code so you maintain ownership (ownership cannot be transferred) and I’d be happy to assist you with getting it signaled and indexed so you can begin using it! If anyone has already reached out about this I’d love to get an estimate of when your think you’ll be ready to deploy. Again I’m here to assist as needed!","",""
"844675116088557568","veridelisi","12/07/2021 10:32 am","https://merkeziyetsizfinans.medium.com/uniswap-v3-most-traded-tokens-7d40c8f5e9d1?source=user_profile---------0----------------------------","",""
"95507078788947968","hmmdeif","13/07/2021 5:49 am","would be nice to know the roadmap and status of the v3 subgraphs. currently a few of the queries are quite useless - zero values for volumeusd, feesusd, volumeToken0, volumeToken1 on poolHourDatas. same for tick datas and other collections","","👍 (2)"
"95507078788947968","hmmdeif","13/07/2021 5:50 am","I might miss tomorrows community call, if anyone on it can try to get an answer that would be cool","",""
"315530255446179840","vgadde.eth","13/07/2021 7:58 am","Hi team, did you deploy subgraph to graph network mainnet ?","",""
"315530255446179840","vgadde.eth","13/07/2021 7:58 am","https://graphscan.io/subgraph?id=0xf87ab180af2c3ddeafede31e27d447ce79e0549a-0#subgraph-details","",""
"315530255446179840","vgadde.eth","13/07/2021 7:58 am","Wanted to verify if your team created this subgraph or another fake graph","",""
"825562665446932500","undoubted08","13/07/2021 4:28 pm","Hi AJ, I believe this answers your question: https://discord.com/channels/597638925346930701/597638926152499206/864439352969003008","","👍 (1)"
"532179008264208390","pet_sensei","13/07/2021 5:17 pm","Hello everyone.
I would like to know how to get unclaimed  fees on my pools.

is that correct below?
```
    pool{
      id
      feeGrowthGlobal0X128
      feeGrowthGlobal1X128
    }
```","",""
"470659682541895691","murathe_a","14/07/2021 5:22 pm","Hey people, am looking for resources to help play around with uni api at large: queries - users, lp, etc. Any leads? Be it on python or js. (first posted on the dev-chat channel )","",""
"382520120368693249","vkao#7226","15/07/2021 7:37 am","Hey, I just ran the following query to order pools by liquidity in a descending order:

'''
{
  pools(first: 50, orderBy: liquidity, orderDirection: desc){
    id
    liquidity
  }
}
'''

 and the first response is:

id           0x06bd1af522f43bc270203e96a019b4779195b870
liquidity                370222054922916232567263130009
token0       0x397cc4dfb5528dc31f73f55eb738ad7aa89651a4
token1       0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2

I checked the id on etherscan and the total value is: $116.76","",""
"382520120368693249","vkao#7226","15/07/2021 7:42 am","token0 only has a history of 3 transactions and the token 1 is WETH.","",""
"332552128214073348","xavierlu#2315","15/07/2021 8:54 am","hi, I am having trouble interrupting `liquidity` from the V3 subgraph. Is there a way to translate that to USD position","",""
"369922552140791809","mil7019","16/07/2021 6:58 pm","Hi, is there a way to obtain historical liquidity at different ticks through some subgraph queries or any other way?","","👍 (1)"
"722131972196925540","jojo2k_","16/07/2021 9:58 pm","is it possible to get the state of a liquidity pool at a given timestamp using the API ?","",""
"456226577798135808","Deleted User","17/07/2021 7:46 am","look at this query, maybe you can see how to filter: https://duneanalytics.com/queries/64519/128660","","👍 (2)"
"844675116088557568","veridelisi","17/07/2021 1:21 pm","I asked million times :)","",""
"291828960872890368","thanpolas","17/07/2021 11:01 pm","How can I get the current price / ratio for a UniV3 pool using theGraph? https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3

using this query:

```
{  
  pools(where: {
      token0:""0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0"",
    token1:""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""
  }) {
      id
      sqrtPrice
        liquidity
      volumeToken0
      volumeToken1
        volumeUSD
      token0 {
        id
        name
        symbol
        decimals
      }
      token1 {
        id
        name
        symbol
        decimals
      }
    }
  }
```","",""
"843155325619535912","Etherscan Bot#5753","17/07/2021 11:01 pm","<https://etherscan.io/address/0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0>","",""
"843155325619535912","Etherscan Bot#5753","17/07/2021 11:01 pm","<https://etherscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48>","",""
"291828960872890368","thanpolas","17/07/2021 11:13 pm","Trying to make sense of the properties...
```
""liquidity"": ""29224615949307564"",
""sqrtPrice"": ""71005183407125030462777"",
""volumeToken0"": ""260106.22859848298095276"",
""volumeToken1"": ""-374365.551004"",
""volumeUSD"": ""8789051.394389358968435088732833391""
```

What do each of those properties and values represent and mean?

I am still nowhere trying to figure out the current price for a given token pair and a Liquidity Pool, any help would be greatly appreciated","",""
"291828960872890368","thanpolas","18/07/2021 12:42 am","@Burtrico let's take this here","",""
"291828960872890368","thanpolas","18/07/2021 12:42 am","see what I pasted above","",""
"291828960872890368","thanpolas","18/07/2021 12:42 am","it's been figured out that this is an error, there is a PR to fix it, but has not yet been deployed to thegraph","",""
"291828960872890368","thanpolas","18/07/2021 12:43 am","so, right now I have:

* Managed to find Liquidity Pools for a given pair using the above query

* Cannot find a way to determine the ratio (price?) of that pair","",""
"291828960872890368","thanpolas","18/07/2021 12:52 am","I also tried querying the LP contract directly, as @Jorropo.eth   had suggested...  that I use the slot0() fn of LP contract https://github.com/Uniswap/uniswap-v3-core/blob/b2c5555d696428c40c4b236069b3528b2317f3c1/contracts/interfaces/pool/IUniswapV3PoolState.sol#L21-L32

and from there... use the `sqrtPriceX96` ... the values for USDC/MATIC are:

```
  sqrtPriceX96: BigNumber { _hex: '0x13c148468097ddfaca34', _isBigNumber: true },
  tick: -273057,
  observationIndex: 0,
  observationCardinality: 1,
  observationCardinalityNext: 1,
  feeProtocol: 0,
  unlocked: true

sqrtPriceX96 - numb: 9.329039277215806e+22
```

which do not make any sense to me...","",""
"183309006767521792","jorropo","18/07/2021 12:53 am","I've learnt a new way since, you can use this : <https://discord.com/channels/597638925346930701/607978109089611786/863785328816816158>","",""
"183309006767521792","jorropo","18/07/2021 12:53 am","which should be simpler","",""
"203036978999066624","burtrico","18/07/2021 12:54 am","I saw banteg (YFI) talking on Twitter about cardinality, related to storing data that an oracle could use","",""
"291828960872890368","thanpolas","18/07/2021 12:57 am","that's an SDK method...","",""
"203036978999066624","burtrico","18/07/2021 1:01 am","https://uniswap.org/docs/v2/API/queries/","",""
"203036978999066624","burtrico","18/07/2021 1:02 am","Did you already use that for V2 and/or see what could be used to access V3 pairs?","",""
"183309006767521792","jorropo","18/07/2021 1:02 am","and ? Just read the code.

I mean, if `priceOf` works, just read it, understand how it works, and do that in solidity.","",""
"291828960872890368","thanpolas","18/07/2021 1:03 am","that's what I am doing now...","","👍 (1)"
"291828960872890368","thanpolas","18/07/2021 1:03 am","V2 != V3 ... i've done this with V2","",""
"203036978999066624","burtrico","18/07/2021 1:05 am","Yes, I was just trying to make sense of some of the variables","",""
"291828960872890368","thanpolas","18/07/2021 1:05 am","* Where price is fetched from https://github1s.com/Uniswap/uniswap-v3-sdk/blob/aeb1b09/src/entities/pool.ts#L111-L122

* Source of price, the Class https://github1s.com/Uniswap/uniswap-sdk-core/blob/HEAD/src/entities/fractions/price.ts","",""
"291828960872890368","thanpolas","18/07/2021 1:06 am","https://tenor.com/view/nothing-speechless-castle-nathan-fillion-gif-7222166","","😋 (1)"
"203036978999066624","burtrico","18/07/2021 1:08 am","I'm new to solidity and coding in general, so I'm not much help at the moment","",""
"183309006767521792","jorropo","18/07/2021 1:17 am","Well it's just doing `(sqrtRatioX96 * sqrtRatioX96)/Q192`","",""
"291828960872890368","thanpolas","18/07/2021 1:18 am","yes","",""
"291828960872890368","thanpolas","18/07/2021 1:18 am","""just""","",""
"291828960872890368","thanpolas","18/07/2021 1:19 am","Happy I reached to a conclusion with this after weeks...","https://cdn.discordapp.com/attachments/765222888617017365/866043950430814218/unknown.png",""
"291828960872890368","thanpolas","18/07/2021 1:19 am","$tip @Jorropo.eth 1xtk","",""
"183309006767521792","jorropo","18/07/2021 1:20 am","😄 it's the same thing for everyone","",""
"291828960872890368","thanpolas","18/07/2021 1:20 am","... intention matters 😛","","👍 (1)"
"183309006767521792","jorropo","18/07/2021 1:20 am","It took me a week to fix an issue where I was dividing instead of multiplying with V2","",""
"291828960872890368","thanpolas","18/07/2021 1:20 am","I hope someday I get to understand what I am doing with this algo... (what Q192 is, why it's square rooted, etc)","",""
"183309006767521792","jorropo","18/07/2021 1:21 am","> Q192 
I belive it's just a ""maximum"" bound.
When you look about it it's just `(2**96)**2`","",""
"291828960872890368","thanpolas","18/07/2021 1:22 am","and on the above algo, we also need to multiply with the decimals scalar:

```
    this.scalar = new Fraction(
      JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(baseCurrency.decimals)),
      JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(quoteCurrency.decimals))
    )
```","",""
"183309006767521792","jorropo","18/07/2021 1:25 am","> why it's square rooted
This is so the difference gets exponentially written.

Let's assume ticks were just 100$ in size, so you have one from 0-100, 100-200, ...
A token that is price at 250$ would need to do `+20%` in price to cross a tick.
But a token priced 25050$ it's bearly `+0.2%`.

Having them SQRT makes the ratio constant.
So in any cases it's just let's say any `1%` of price change, cross a tick.","",""
"183309006767521792","jorropo","18/07/2021 1:25 am","This spreads them each 1% appart (so fewer and fewer ticks), instead of each 100$ appart.","","bigbrain (1)"
"203036978999066624","burtrico","18/07/2021 1:40 am","Glad you found some answers","",""
"844675116088557568","veridelisi","18/07/2021 11:18 am","I asked million times, and what is totalsupply?","",""
"478422369606696990","rlrahulkanojia","18/07/2021 5:54 pm","How to calculate gas cost mint using subgrapgh API","",""
"478422369606696990","rlrahulkanojia","18/07/2021 7:14 pm","What is the unit of the liquidity of the subgraph api?","",""
"125001847726538753","Thomas | 0xTracker.app#0242","19/07/2021 10:13 pm","@yekta sent you a friend request","",""
"768636642793226271","makesy","19/07/2021 10:36 pm","anyone know how to get failed v2 swaps data from the subgraph or elsewhere?","",""
"768636642793226271","makesy","19/07/2021 10:46 pm","it appears that the swaps entity only contains successful swaps","",""
"722131972196925540","jojo2k_","20/07/2021 8:16 pm","Hello, I'm new to theGraph, not sure to understand how this works. I'm wondering if it's suitable for querying a pair of token price every minute to get a near real time chart ? how can I estimate the price per query ? thx you","",""
"183309006767521792","jorropo","20/07/2021 8:57 pm","subgraph shouldn't be used for important data. It is only good for things where it's ok to go wrong.
It have a delay, and isn' real time, idk why but it seems to not be constant and vary a bit over time.","",""
"183309006767521792","jorropo","20/07/2021 8:57 pm","It's usefull for historical data tho","","👍 (1)"
"183309006767521792","jorropo","20/07/2021 8:57 pm","as this is hard to do with just the chain data","",""
"183309006767521792","jorropo","20/07/2021 8:58 pm","for real time, reading the chain is probably better","",""
"813792373854961725","cosmaph.blog","20/07/2021 9:05 pm","Hi, anyone knows where these 2 hardcoded hex numbers come from?","https://cdn.discordapp.com/attachments/765222888617017365/867067095962222612/Screen_Shot_2021-07-20_at_10.34.33_AM.png",""
"722131972196925540","jojo2k_","20/07/2021 9:05 pm","thx you","",""
"291828960872890368","thanpolas","21/07/2021 1:01 am","1. Can someone explain the difference between `volumeToken0` and `totalValueLockedToken0`? Also the negative value on `volumeToken1` must be a mistake right?","https://cdn.discordapp.com/attachments/765222888617017365/867126477208027136/unknown.png",""
"291828960872890368","thanpolas","21/07/2021 1:01 am","2. Is it a bug of the graph that it shows multiple liquidity pools per token pair or an issue with V3 in general? (if it's V3, what is the justification for having multiple LPs per token-pair?)

edit: I noticed the different LP-s have different `feeTier` values... how does this work on the frontend?","",""
"844675116088557568","veridelisi","21/07/2021 1:05 am","Polas, volume token0 must be real reserves, totalvaluelocked must be real+virtual reserves @Jorropo.eth ?","",""
"291828960872890368","thanpolas","21/07/2021 1:07 am","Also found this: https://github.com/Uniswap/uniswap-v3-subgraph/pull/24/files could it be related to the wrong `volumeToken1` values? It's been merged 22days ago..","",""
"183309006767521792","jorropo","21/07/2021 1:07 am","idk, I would guess that volume is the trade volume, but a negative trade volume doesn't make sense","",""
"183309006767521792","jorropo","21/07/2021 1:07 am","well, I really don't know then","",""
"291828960872890368","thanpolas","21/07/2021 1:08 am","are uni devs on another discord?","",""
"291828960872890368","thanpolas","21/07/2021 1:08 am","can I get an invite?","",""
"844675116088557568","veridelisi","21/07/2021 1:09 am","Sorry, yeah this doesnt make sense","",""
"844675116088557568","veridelisi","21/07/2021 1:10 am","Million times I asked @Hayden Adams 🦄 and his team, they dont response on graphql or other issues :)","",""
"291828960872890368","thanpolas","21/07/2021 1:12 am","we pleb","",""
"291828960872890368","thanpolas","21/07/2021 1:13 am","FYI the subgraph API is effectively undocumented... significant efforts have been and are being committed by the DAO for nothing...

**No documentation == no adoption**

Just spinning the wheels without moving an inch.","",""
"291828960872890368","thanpolas","21/07/2021 1:26 am","https://github.com/Uniswap/uniswap-v3-subgraph/issues/37","","💯 (1)"
"125001847726538753","Thomas | 0xTracker.app#0242","21/07/2021 5:30 am","anyone know how the price0 and price1 are calculated in tick object is calculated?","",""
"844675116088557568","veridelisi","21/07/2021 12:34 pm","I'm totally agree with Mr Polas (what is totalsupply?)","",""
"844675116088557568","veridelisi","21/07/2021 12:43 pm","https://mobile.twitter.com/VeriDelisi/status/1417744412608708609","",""
"533682398903402497","calebeverett","22/07/2021 5:42 am","You may be inquiring about a more nuanced issue, but with regard to liquidity the [whitepaper](https://uniswap.org/whitepaper-v3.pdf) defines it as the square root of the product of the aggregate quantity of each of token0 and token1 for the positions where the current tick is within the range of a position's ticks - that's in 6.2.1. It looked like it was a regular uint128 and not stored as a fixed-point number, but I haven't run the math yet so not certain.","",""
"692059649553334353","Oliver | Phuture#0686","22/07/2021 6:03 am","Hey!
Are you planning on deploying your subgraph on TheGraph mainnet?
Or will you be using the one that has already been deployed?","",""
"183309006767521792","jorropo","22/07/2021 6:04 am","no info for now","",""
"533682398903402497","calebeverett","22/07/2021 7:18 am","Here is a tick from the USDC WETH pool: 

```json
{'collectedFeesToken0': '0',
   'collectedFeesToken1': '0',
   'collectedFeesUSD': '0',
   'createdAtBlockNumber': '12379614',
   'createdAtTimestamp': '1620289029',
   'feesUSD': '0',
   'id': '0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8#200400',
   'liquidityGross': '467158546978336491',
   'liquidityNet': '-159780097400518163',
   'liquidityProviderCount': '0',
   'poolAddress': '0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8',
   'price0': '504459474.6569347705313360382886689',
   'price1': '0.000000001982319790266730531185145698864125',
   'tickIdx': '200400',
   'untrackedVolumeUSD': '0',
   'volumeToken0': '0',
   'volumeToken1': '0',
   'volumeUSD': '0'}
```

I was trying to calculate the price from the tick, which if I followed the paper is 1.0001 ** `tickIdx`. That does result in the value that is in `price0`, but I was having a hard time figuring out what that represented. `token0Price` on the pool, which had a tick of 200376 was 1987.046745. What is `price0` and how does it relate to `token0Price`?

that didn't work ~~Actually, now that I'm going back through the paper, that price isn't the price as of a point in time, it is actually the sum of log_1.0001(P) for every second in the history of the contract. I think that allows you to easily calculate geometric mean time-weighted average price over any period - see 5.5~~

More generally, how can I know what price of WETH / USDC a tick will have active liquidity for?","",""
"843155325619535912","Etherscan Bot#5753","22/07/2021 7:18 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"843155325619535912","Etherscan Bot#5753","22/07/2021 7:18 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"844675116088557568","veridelisi","22/07/2021 3:15 pm","1.0001^200400=504459474 and sqrt of 504459474 is 22460","",""
"844675116088557568","veridelisi","22/07/2021 3:18 pm","@Jorropo.eth ?","",""
"291828960872890368","thanpolas","22/07/2021 3:25 pm","If I have to read a white paper filled with higher mathematics to get the liquidity of an LP, the game is lost. And by “I”, I mean your average integrator.

There’s a concept called “developers UX” that DeFi in general and uniswap in particular are failing to grasp","",""
"291828960872890368","thanpolas","22/07/2021 3:27 pm","It is sad and disappointing that it’s only a single person (hero) dealing with the issues and questions of people that want to integrate with uniswap... to uniswap’s benefit.

All hail @Jorropo.eth 🤗","","💯 (2)"
"844675116088557568","veridelisi","22/07/2021 4:20 pm","Sub comandante @Jorropo.eth","",""
"533682398903402497","calebeverett","22/07/2021 6:51 pm","That's what I got, but haven't figured out yet how to get from there to something like 2000 that is close to current USD/ETH.","",""
"844675116088557568","veridelisi","22/07/2021 6:52 pm","@Jorropo.eth","",""
"533682398903402497","calebeverett","22/07/2021 9:02 pm","Here are the functions from the sdk that convert from tick to square root price and back https://github.com/Uniswap/uniswap-v3-sdk/blob/2c8aa3a653831c6b9e842e810f5394a5b5ed937f/src/utils/tickMath.ts#L41","",""
"844675116088557568","veridelisi","22/07/2021 11:43 pm","Then, you solved the problem?","",""
"224345938011881472","fuckthecops.eth#0238","22/07/2021 11:57 pm","helo sirs I am monke dev wanting to query exchange rate of USDC -> ETH for USDC inputs of 10,000, 100,000, and 1,000,000 

Would this be something I could query from the subgraph or something else? Please link to docs/api params if you know pls","",""
"224345938011881472","fuckthecops.eth#0238","22/07/2021 11:58 pm","purpose is to do a comparison of exchange rates between uni/sushi/curve/paraswap/matcha/etc","",""
"183309006767521792","jorropo","23/07/2021 12:10 am","you can't, subgraph doesn't support making estimations","",""
"183309006767521792","jorropo","23/07/2021 12:10 am","you need to use a quoter on chain likely","",""
"224345938011881472","fuckthecops.eth#0238","23/07/2021 12:11 am","ah so query the contract itself? hmm ok thanks","",""
"183309006767521792","jorropo","23/07/2021 12:13 am","yes, don't emit the TX tho, you can simulate it instead","",""
"224345938011881472","fuckthecops.eth#0238","23/07/2021 12:14 am","no idea how to do this 😅  Could I use alchemy api for this?","",""
"183309006767521792","jorropo","23/07/2021 12:15 am","idk alchemy","",""
"183309006767521792","jorropo","23/07/2021 12:15 am","@fuckthecops.eth using web3 you can use `.call` (instead of `.send`) or `estimate_gas`, thoses simulate the result of a TX without actually emiting one (and thus without costing gas)","",""
"224345938011881472","fuckthecops.eth#0238","23/07/2021 12:16 am","could I do it with web3 js lib?","",""
"533682398903402497","calebeverett","23/07/2021 12:17 am","not yet, but was thinking the math as in here to try figure it out","",""
"183309006767521792","jorropo","23/07/2021 12:17 am","yes","",""
"224345938011881472","fuckthecops.eth#0238","23/07/2021 12:17 am","thanks sir you've given me everything I need 🙏","",""
"844675116088557568","veridelisi","23/07/2021 1:08 am","I follow you. If you solve, please explain us.","",""
"533682398903402497","calebeverett","23/07/2021 1:11 am","absolutely - here is apparently a pool where the tick math works https://discord.com/channels/597638925346930701/607978109089611786/867848183550967849","",""
"533682398903402497","calebeverett","23/07/2021 2:31 am","ok - it turned out it was the difference in decimals between the two tokens https://discord.com/channels/597638925346930701/607978109089611786/867870536184102980","",""
"291828960872890368","thanpolas","23/07/2021 2:43 am","Awesome!! So we may calculate price either using the tick value or sqrt ratio! Do you know which is nominal?

Also, have you figured out how to calculate a pool’s liquidity?","",""
"291828960872890368","thanpolas","23/07/2021 2:44 am","I think sqrt ratio is derived from the tick... will confirm tomorrow","",""
"863852405955493968","kewen#5416","23/07/2021 3:07 am","Hello","",""
"533682398903402497","calebeverett","23/07/2021 3:30 am","here is what I was using for square root price to tick

```python
def sqrt_price_to_tick(sqrt_price: str, decimals0: str, decimals1: str) -> float:
    return 1 / (((int(sqrt_price)) ** 2) / 2**(96 * 2) ) * 10 ** (int(decimals1) - int(decimals0))
```
I'm not sure if these functions are as precise as the the ones in TickMath and on the chain itself, but I was just trying to get a handle on how the math worked so seemed good enough for that purpose.  I was going to move on to liquidity next - be good to compare notes","",""
"533682398903402497","calebeverett","23/07/2021 3:31 am","Conceptually I think the set up should allow for going back and forth between tick and price without any loss of precision up to the decimals specified on the tokens","",""
"291828960872890368","thanpolas","23/07/2021 3:32 am","This is what I am currently trying to figure out: https://github.com/Uniswap/uniswap-v3-sdk/issues/53","","👍 (1)"
"844675116088557568","veridelisi","23/07/2021 4:17 am","We wait","",""
"337064922313916417","miao1675","23/07/2021 1:49 pm","","https://cdn.discordapp.com/attachments/765222888617017365/868044668607266857/unknown.png",""
"337064922313916417","miao1675","23/07/2021 1:49 pm","Is there a bug on Uni v2 subgraph? It shows the hourly volume of USDC/ETH for last hour is only $18967 USDC","",""
"337064922313916417","miao1675","23/07/2021 1:51 pm","This is the subgraph I use: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2","",""
"291828960872890368","thanpolas","23/07/2021 3:52 pm","Hey Caleb, I implemented your calculation to JS and I get similar results to sqrtRatio... but the problem now is that since I used values directly from the subgraph, my results are 20decimals deep:

```
priceSqrt usdt/weth: 0.0000000000000000000020611
priceTick usdt/weth: 0.000000000000000000002061

priceSqrt usdc/susd: 0.000000000000000000000001009
priceTick usdc/susd: 0.0000000000000000000000010089
```

It is weird, as both the sqrtRatio and tick calcs produce the same results... Weirder even is I used test cases from the SDK itself: https://github1s.com/thanpolas/univ3prices/blob/tick-price/test/unit/univ3prices.test.js#L10-L16

The Tick calculation implementation is here: https://github1s.com/thanpolas/univ3prices/blob/tick-price/src/tick-price.js

The tick tests that produced the above results: https://github1s.com/thanpolas/univ3prices/blob/tick-price/test/unit/tickprices.test.js#L17-L45

The fixtures used: https://github1s.com/thanpolas/univ3prices/blob/tick-price/test/fixtures/subgraph-results.fix.js

Let me know if you see what's wrong","",""
"844675116088557568","veridelisi","23/07/2021 5:01 pm","Polas sqrt price is  =sqrt(1.0001^tick)","",""
"844675116088557568","veridelisi","23/07/2021 5:01 pm","?","",""
"844675116088557568","veridelisi","23/07/2021 5:02 pm","Then did you use  the following? 
    return 1 / (((int(sqrt_price)) ** 2) / 2**(96 * 2) ) * 10 ** (int(decimals1) - int(decimals0))","",""
"291828960872890368","thanpolas","23/07/2021 5:12 pm","I did not, I will try this too. However the values look ok, both for tick and sqrt. The issue are the 20 decimals","","👍 (1)"
"291828960872890368","thanpolas","23/07/2021 6:41 pm","I fixed the decimals issue for tick, it now calculates price correctly... working on sqrt..","",""
"844675116088557568","veridelisi","23/07/2021 7:20 pm","How, could you give us one sample?","",""
"291828960872890368","thanpolas","23/07/2021 7:24 pm","that's the fix: https://github.com/thanpolas/univ3prices/commit/b332af0d8535ca4b02a79daef59117886c1edc9a

And here is the entire working fn: https://github1s.com/thanpolas/univ3prices/blob/tick-price/src/tick-price.js#L10-L40","","👍 (2)"
"849837357254443069","jackie68#1932","23/07/2021 9:04 pm","hi everyone","",""
"849837357254443069","jackie68#1932","23/07/2021 9:04 pm","Where can I find the rinkeby uni v3 subgraph api?","",""
"849837357254443069","jackie68#1932","23/07/2021 9:04 pm","https://thegraph.com/legacy-explorer/subgraph/mtahon/uniswap-v3-rinkeby","",""
"849837357254443069","jackie68#1932","23/07/2021 9:05 pm","This one doesn't have positions schema","",""
"183309006767521792","jorropo","23/07/2021 9:16 pm","It's the same as mainnet I belive","",""
"243903842809282560","liga4131","23/07/2021 11:51 pm","Hello Sir, did you manage to do it?","",""
"141784946078384128","jayyunit","24/07/2021 7:41 pm","Hey guys, is it possible to retrieve the ratio of liquidity via subgraph? Or do I need to use nft position manager?","",""
"291828960872890368","thanpolas","25/07/2021 12:32 am","is there subgraph for optimism?","",""
"183309006767521792","jorropo","25/07/2021 12:33 am","yes because info.uniswap.org supports optimism","",""
"291828960872890368","thanpolas","25/07/2021 12:34 am","so, Optimism is indexed by thegraph and available here: https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 are you sure?","",""
"183309006767521792","jorropo","25/07/2021 12:34 am","@thanpolas I've found `https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-optimism` looking through the network tab of firefox with https://info.uniswap.org/#/optimism/ open","",""
"291828960872890368","thanpolas","25/07/2021 12:35 am","ah nice","",""
"291828960872890368","thanpolas","25/07/2021 12:35 am","https://thegraph.com/legacy-explorer/subgraph/ianlapham/uniswap-optimism","",""
"291828960872890368","thanpolas","25/07/2021 12:36 am","Did we have any updates on figuring out liquidity of pools btw?","",""
"183309006767521792","jorropo","25/07/2021 12:36 am","no idk sorry 😄","","🙏 (1)"
"849837357254443069","jackie68#1932","26/07/2021 8:24 am","it's not same","",""
"211868722380537856","kenchangh","27/07/2021 5:16 am","Hey all 👋  what's the best way to get historical daily fees for a Uniswap v2 pool?","",""
"211868722380537856","kenchangh","27/07/2021 5:19 am","I see we have daily data on https://thegraph.com/legacy-explorer/subgraph/ianlapham/uniswapv2, but we don't have the amount of fees accumulated","https://cdn.discordapp.com/attachments/765222888617017365/869365723032612874/Screenshot_2021-07-27_at_12.48.46_AM.png",""
"533682398903402497","calebeverett","27/07/2021 9:41 am","Can anybody help out with a query to return positions with a tickLower.tickIdx less than a specified value?","",""
"533682398903402497","calebeverett","27/07/2021 9:44 am","Or return all positions with active liquidity","",""
"753891531567398943","Vit#5366","27/07/2021 1:47 pm","Hello, does anyone have any information about in what time frame Uniswap legacy subgraph will be migrated to The Graph Network?","","👀 (3)"
"101116048870223872","SI_IP#9087","28/07/2021 11:40 am","anyone know if the v3 subgraph on the old legacy api.thegraph.com is stil working
? it stopped sending updated info as of like 4 hours ago","",""
"363993257442803712","qosmiof20","28/07/2021 1:26 pm","hey guys, is there any way i can get slippage information?","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:01 am","hi there, i am trying to create a set of uniswap users before a certain point in time, however, i don't see any fields for addresses, do i have to go through another api after i collect contract ids?","",""
"533682398903402497","calebeverett","29/07/2021 6:04 am","turns out the tick id is a concatenation of the pool id and the tick index so you can use use the filter keys like `where: {tickUpper_gte: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8#138180""}` to get all the positions for the USD WETH pool with an upper tick index greater than or equal to 13180.","",""
"843155325619535912","Etherscan Bot#5753","29/07/2021 6:04 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:12 am","maybe the simplest question to answer is how did uniswap do it's airdrop? that's basically what i need to get to in order to create a list of uses","",""
"533682398903402497","calebeverett","29/07/2021 6:14 am","Maybe you could query positions based on timestamp and get the address from the owner field?","",""
"533682398903402497","calebeverett","29/07/2021 6:16 am","actually I don't see a timestamp filter, but maybe you could query them all and then filter on that locally","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:19 am","hmm. ok. yeah i suppose that could work. would probably be pretty costly though. looking at those other fields, what is `flashes` and `collects`? i don't think i've ever run into that terminology on uniswap's site","",""
"533682398903402497","calebeverett","29/07/2021 6:20 am","Looks like there is a filter for transaction_lte - hopefully the transaction id sequential","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:20 am","oh i think that `_lte` is just a generalizable suffix","",""
"533682398903402497","calebeverett","29/07/2021 6:21 am","Yes, implemented in the graphql api to be able to filter on transaction id","",""
"533682398903402497","calebeverett","29/07/2021 6:21 am","If you are just hitting the subgraph api that should be free","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:22 am","sorry? where is this? i spent 2 hrs getting `grt` onto polygon today :/","",""
"533682398903402497","calebeverett","29/07/2021 6:23 am","I've been messing with this the last couple of day - give me a sec and I can post a quick colab that should get you started","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:23 am","thanks","",""
"533682398903402497","calebeverett","29/07/2021 6:29 am","https://colab.research.google.com/drive/1gj1aWxM8UNXWfktsV2zmoD9pkY34Lsa-#scrollTo=VtWhZalPwWfo","",""
"533682398903402497","calebeverett","29/07/2021 6:30 am","That guy built a cool graphql client that introspects the api to get the schema in json and then generates code like an sdk","","😯 (1)"
"533682398903402497","calebeverett","29/07/2021 6:35 am","you can add this to the where criteria to filter to low transaction ids `""transaction_lte"": '1000'`, changing up the `1000` to whatever your cutoff is after figuring out how ids correspond to timestamps","",""
"533682398903402497","calebeverett","29/07/2021 6:39 am","another thought is that maybe the position ids are sequential with time, in which case you could just filter on that and then get the mints from the transaction for each position","",""
"777311482144620545","mechanicalhugmill","29/07/2021 6:57 am","yeah i think my issue is more volume than anything else. too many transactions to pull down / filter by. limit of 1k is difficult to make full use of","",""
"533682398903402497","calebeverett","29/07/2021 7:07 am","Got it - looping through 1,000 at a time is kind of a bummer","",""
"533682398903402497","calebeverett","29/07/2021 7:12 am","It's actually not that bad - only 30,000 position through the end of May","",""
"533682398903402497","calebeverett","29/07/2021 7:14 am","And I think the first position on that pool has an id of 10023, to really only 20000","",""
"533682398903402497","calebeverett","29/07/2021 7:27 am","actually only 3,900  positions through the end of may - colab is updated to loop through 1,000 at a time based on position id","",""
"777311482144620545","mechanicalhugmill","29/07/2021 7:38 am","oh wait are there different limits for swaps vs txs? it looks like i'm only getting 100 back at a time","",""
"533682398903402497","calebeverett","29/07/2021 7:50 am","you have to put first=1000 to max it out, 100 is the default","",""
"533682398903402497","calebeverett","29/07/2021 7:50 am","","https://cdn.discordapp.com/attachments/765222888617017365/870128532708261908/unknown.png","👍 (2)"
"777311482144620545","mechanicalhugmill","29/07/2021 8:13 pm","yup. this was my problem. variables embedded in strings are hard","",""
"777311482144620545","mechanicalhugmill","29/07/2021 9:34 pm","anyone know why there is a #number on the back of a swap id? it's just the transaction, but with a hashtag at the end. wondering what that number refers to","",""
"777311482144620545","mechanicalhugmill","29/07/2021 9:57 pm","also, is the subgraph at `0x9bde7bf4d5b13ef94373ced7c8ee0be59735a298-2` not up to date? i got a reorg error, but the last swap i got was 2021-05-21","",""
"777311482144620545","mechanicalhugmill","29/07/2021 10:58 pm","and now i'm getting 502's","",""
"777311482144620545","mechanicalhugmill","29/07/2021 11:05 pm","looks like 8 out of 9 indexers are behind by > 100k blocks","",""
"475783245057884170","shilewen","30/07/2021 12:34 am","what is the formula on how to convert a ""price"" from something like ""375967313.65811956"" to ""2314"" (ETH price in terms of a dollar coin)

For reference this is the Tick.price0 field","",""
"183457452686049280","pucksan","30/07/2021 9:39 am","Does the subgraph api have a rate limit? Let's say there's 30 search results, and I concurrently fetch some data from the api at once. Would they all go through, or would a rate limit appearR?","",""
"777311482144620545","mechanicalhugmill","30/07/2021 10:32 am","only one way to find out i guess","",""
"183457452686049280","pucksan","30/07/2021 10:54 am","Yep. Well, it didn't rate limit anything but there was a huge delay getting 20 results. First 10 went through okay, then like a 10-15 sec delay for the rest. Fortunately a result this big usually never occurs.","",""
"853804440913838081","tfishman#4746","31/07/2021 5:34 am","Hi, how can I fetch the data for the amount locked by price for a given pool, as is shown on the info page under liquidity?","",""
"401842633464610837","_kfx","01/08/2021 12:05 am","I there a way to track fee growth over time for a position? I thought `PositionSnapshot` is going to be what I need, but apparently its not updated periodically. So, is it impossible?","",""
"844675116088557568","veridelisi","01/08/2021 2:04 am","team, I try to get ""token0Price, token1Price and EThlocked"" for each Tick I use the following code in graphql {
  poolDayDatas(where:{pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}) {
    token0Price
    token1Price
    volumeToken0
    volumeToken1
}
} and it didnt work","https://cdn.discordapp.com/attachments/765222888617017365/871128657949786193/Ekran_Goruntusu_-_2021-07-31_23-32-04.png",""
"844675116088557568","veridelisi","01/08/2021 2:06 am","this code gives cumulative data {
  pools(where:{id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}) {
    token0Price
    token1Price
    volumeToken0
    volumeToken1
}
}","",""
"301449891350315008","euki4524","01/08/2021 3:02 am","is there a breakdown of the information offered on the subgraph and what each piece of data means? Like i see volume and untracked volume, but that is a little confusing in that its tracking ""untracked"" volume....","",""
"301449891350315008","euki4524","01/08/2021 3:02 am","is there anyone here that might be able to point me towards a resource that breaks stuff like that down?","",""
"844675116088557568","veridelisi","01/08/2021 3:19 am","another question: token0price=2490 and token1price=0.00040 token0 is USDC and token1 is ETH, what do you think ?","https://cdn.discordapp.com/attachments/765222888617017365/871147618426839061/Ekran_Goruntusu_-_2021-08-01_00-14-32.png",""
"301449891350315008","euki4524","01/08/2021 3:22 am","Looks like token1 is usdc and token2 is Eth like you’re saying 🙂","",""
"844675116088557568","veridelisi","01/08/2021 3:22 am","token0 is USDC and token1 is ETH","",""
"844675116088557568","veridelisi","01/08/2021 3:23 am","","https://cdn.discordapp.com/attachments/765222888617017365/871148487490801724/Ekran_Goruntusu_-_2021-08-01_00-51-42.png",""
"301449891350315008","euki4524","01/08/2021 3:23 am","Or sorry, I meant first and second which meant token0 and token1","",""
"844675116088557568","veridelisi","01/08/2021 3:23 am","I think token0price must be 0.0004 and token1price must be 2490","",""
"301449891350315008","euki4524","01/08/2021 3:25 am","If you divide both by the Eth price it should give you the dollar price","",""
"301449891350315008","euki4524","01/08/2021 3:25 am","So yeah, I agree","",""
"844675116088557568","veridelisi","01/08/2021 3:26 am","do you agree my proposol or uniswap presentation?","",""
"301449891350315008","euki4524","01/08/2021 3:27 am","Oh no, sorry, didn’t read that part. I just thought you were trying to figure out the dollar price… my bad, you’re probably on top of that lol","","👍 (1)"
"844675116088557568","veridelisi","01/08/2021 3:55 am","https://twitter.com/VeriDelisi/status/1421593739194212352","",""
"291828960872890368","thanpolas","01/08/2021 3:56 am","Take a number :p https://github.com/Uniswap/uniswap-v3-subgraph/issues/37","","👍 (2)"
"844675116088557568","veridelisi","01/08/2021 3:57 am","@thanpolas what do you think on my question polas?","",""
"291828960872890368","thanpolas","01/08/2021 3:58 am","What is the question? Didn’t understand it","",""
"844675116088557568","veridelisi","01/08/2021 4:00 am","token0 is USDC but Token0price:2490.. I think this price must be 0.0004....","https://cdn.discordapp.com/attachments/765222888617017365/871157874259271680/Ekran_Goruntusu_-_2021-08-01_00-14-32.png",""
"291828960872890368","thanpolas","01/08/2021 4:04 am","No, that’s right. Token0 price is usdt/weth which is indeed 2,490.","",""
"844675116088557568","veridelisi","01/08/2021 4:07 am","but, this statistic says that 1 USDC is 0.0004 ETH ?","https://cdn.discordapp.com/attachments/765222888617017365/871159611011518524/Ekran_Goruntusu_-_2021-08-01_00-51-42.png",""
"291828960872890368","thanpolas","01/08/2021 4:08 am","It’s different way of presenting the information, don’t mind it","","👍 (1)"
"301449891350315008","euki4524","01/08/2021 7:27 am","Thanks for the info, ive been going through the source code, maybe ill contribute a bit","",""
"349130008876548097","mcmike313","01/08/2021 4:29 pm","Info.uniswap.org/#/optimism says the graph network which provides data is temp down, but the graph is processing data correctly","",""
"844675116088557568","veridelisi","01/08/2021 10:25 pm","https://mobile.twitter.com/VeriDelisi/status/1421593739194212352","",""
"401842633464610837","_kfx","02/08/2021 1:44 pm","Any thoughts?","",""
"870592408071598110","RxO.OxR#1324","02/08/2021 5:43 pm","hi all, I have a question about subgraph api key.  
Do I have to develop a backend service to call subgraph api with API Key? Because  if dApp UI call directly with api key is not safe. The API Key need pay.","",""
"799382295584833587","Dilara#7228","02/08/2021 6:23 pm","Hi @Jorropo.eth , How do I get results from Subgraph on-chain?","",""
"183309006767521792","jorropo","03/08/2021 1:28 am","Subgraph isn't accessible on chain.
Subgraph is centralised.

You can use the TWAP oracle to access similar data on chain.","",""
"814443445640364092","leek0407","03/08/2021 8:20 am","How to get the market value of LP through V3？help me","",""
"814443445640364092","leek0407","03/08/2021 1:49 pm","","https://cdn.discordapp.com/attachments/765222888617017365/872030803276759090/unknown.png",""
"814443445640364092","leek0407","03/08/2021 1:50 pm","Hi , What does zero liquidity mean？","",""
"183309006767521792","jorropo","03/08/2021 1:50 pm","that means the position is empty and everything has been removed","",""
"183309006767521792","jorropo","03/08/2021 1:51 pm","@Leek e.g. the owner pulled all the liquidity out","",""
"814443445640364092","leek0407","03/08/2021 1:53 pm","thanks","",""
"814443445640364092","leek0407","03/08/2021 1:53 pm","Why does V3 have multiple tokenids in the same LP because the previous tokenid of the owner is cleared?","",""
"183309006767521792","jorropo","03/08/2021 1:54 pm","the NFT manager just create a new token ID for each new position.
So if you don't reuse your position that will make a new ID.","",""
"183309006767521792","jorropo","03/08/2021 1:55 pm","@Leek you wouldn't reuse the position in case you have burnt the old token (the UI doesn't do this but other tools do it). Or if you want a different range.","",""
"183309006767521792","jorropo","03/08/2021 1:56 pm","Also there is only one owner per ID, so multiple people with the same position they all have an ID","",""
"183309006767521792","jorropo","03/08/2021 1:56 pm","And IDs are just handed out sequentially at creation.","",""
"814443445640364092","leek0407","03/08/2021 1:58 pm","Therefore, everyone can have multiple tokenids in the same LP pool at the same time?@Jorropo.eth","",""
"814443445640364092","leek0407","03/08/2021 1:59 pm","Multiple mobile tokenids are in the same pool","",""
"183309006767521792","jorropo","03/08/2021 2:00 pm","yes, you can create as many token ID as you want","",""
"183309006767521792","jorropo","03/08/2021 2:00 pm","(actually you are limited by gas cost, but it's a more pratical issue, nothing in uniswap limits you)","",""
"183309006767521792","jorropo","03/08/2021 2:01 pm","@Leek also the NFT is a higher layer, the pool doesn't care about the NFTs, the pool has mint and burn functions which result in liquidity at ticks.
The NFT manager is built on top of that and creates NFT you can transfer and use to track positions, but other protocols may not use it all and use their own position manager if they want.","",""
"183309006767521792","jorropo","03/08/2021 2:03 pm","I know charm finance calls the pool dirrectly for example.","",""
"814443445640364092","leek0407","03/08/2021 2:03 pm","okey,I got it. Thanks","",""
"814443445640364092","leek0407","03/08/2021 6:28 pm","Hi,How can I know how many tokens in the LP corresponding to a tokenid?","",""
"733005420896976946","tdelly","04/08/2021 2:19 am","Hi i have a few questions about the subgraph

1. IS there a max number of request per day?
2. the swaps query: What is the best way to loop through and get all TX for a token? I would like to aggregate this data and add it to my database to further analyze the data.
3. What parameters can i provide to the swaps query?","",""
"814443445640364092","leek0407","04/08/2021 11:13 am","","https://cdn.discordapp.com/attachments/765222888617017365/872354099830603796/unknown.png",""
"814443445640364092","leek0407","04/08/2021 11:14 am","","https://cdn.discordapp.com/attachments/765222888617017365/872354318748102706/unknown.png",""
"814443445640364092","leek0407","04/08/2021 11:16 am","the liquidityNet is deltaL?","",""
"609945394348032001","madhav_rai#8796","06/08/2021 3:08 am","The uniswap subgraphs for V2 and V3 for me are working great except for one thing.","",""
"609945394348032001","madhav_rai#8796","06/08/2021 3:08 am","High ,I am using the uniswap subgraph for v3. In the uniswap v3 subgraph graph protocol playground my query waspools(first:1 , orderBy:totalValueLockedUSD,orderDirection:desc)
{
totalValueLockedUSD
token1{
symbol
}
token0
{
symbol
}
id
ticks(first:5 , where:{tickIdx_gt:79000}, orderBy:tickIdx,orderDirection:asc)
{
tickIdx

}
}

It skips over tons of indexes around 79000, which is weird because the price of Ethereum is around 2696, 1.0001^79000 and on the analytics website, it displays lots of active liquidity in ticks 2700 to 1.0001^92040 range.

The results I get from this query on the graph protocol playground are below
""pools"": [
{
""id"": ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"",
""ticks"": [
{
""tickIdx"": ""92040""
},
{
""tickIdx"": ""92100""
},
{
""tickIdx"": ""105960""
},
{
""tickIdx"": ""115140""
},
{
""tickIdx"": ""120660""
}
],
""token0"": {
""symbol"": ""USDC""
},
""token1"": {
""symbol"": ""WETH""
},
""totalValueLockedUSD"": ""318379925.7999605472397433515988016""
}","",""
"843155325619535912","Etherscan Bot#5753","06/08/2021 3:08 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"609945394348032001","madhav_rai#8796","06/08/2021 3:11 am","Note: Most of the newly minted liquidity positions queried from the subgraph are showing tick idx for the lower range in the 180-190,000 range and for the upper tickidx shows up in the 190,000 - 210,000 range. This is weird because the subgraph shows the price is {
            ""liquidityGross"": ""131830471760289809"",
            ""price0"": ""310291384.8748397345953910469654995"",
            ""price1"": ""0.000000003222777198288517257666412087108313"",
            ""tickIdx"": ""195540"",
            ""volumeUSD"": ""0""
          },","",""
"609945394348032001","madhav_rai#8796","06/08/2021 3:12 am","very high at those indexes","",""
"671035046416875539","friedefuerst","06/08/2021 4:10 pm","Hello,
I don't know if this is the right place, but i would like to do a query for hypothetical UniV3 trades on the graph API. By that i mean that i want to check what my trade actual execution would look like atm, given my hypothetical trade volume of token0/1...
My initial guess was that I would have to work with the ""pool"" Schema and find token0 depth and token1 depth in the pool to see what my swap ratio would be, then calculating the fees that would be needed. 
Now I am not sure if TVLtoken0/1 represents that - as TVL indicates that its not the liq at current ""prices"" but the total liquidity in the portfolio... Can somebody help me understand the logic here so I can compute the right numbers?

Also - 100% confused by the sqrtPrice...

Thank you so much & Best,
Friedefürst","",""
"833291365164253214","jnp1","08/08/2021 1:09 am","is 'collects' data empty in the subgraph??","",""
"833291365164253214","jnp1","08/08/2021 1:09 am","","https://cdn.discordapp.com/attachments/765222888617017365/873651603700338748/unknown.png",""
"833291365164253214","jnp1","08/08/2021 1:10 am","iin my own queries i am not getting any result either","",""
"833291365164253214","jnp1","08/08/2021 2:10 am","kudos for this, working for me","",""
"703519206603227167","vdm4","09/08/2021 3:12 pm","Anyone know how liquidityGross queried from subgraph can be converted to what is shown circled in red here?","https://cdn.discordapp.com/attachments/765222888617017365/874226099335356416/unknown.png","👍 (1)"
"703519206603227167","vdm4","09/08/2021 3:13 pm","Not entirely sure what liquidityGross returns and couldn't figure it out with the code linked to the docs on it.","",""
"183309006767521792","jorropo","09/08/2021 4:13 pm","<https://github.com/thanpolas/univ3prices#univ3pricesgetamountsforcurrentliquiditydecimals0-decimals1-liquidity-sqrtprice-tickspacing-opttickstep>","",""
"703519206603227167","vdm4","09/08/2021 5:13 pm","Thanks Jorropo. I see this library does all the heavy lifting but my understanding is the problem. If I take liquidityGross and use the formula in the white paper (x = L/(sqrt(P)) I can get token0 virtual reserves. Great. But how do I get the actual ETH value that exists ready to market make at a single tick from liquidityGross?","","👍 (1)"
"731916034910715974","elijahf#4994","10/08/2021 2:08 am","What do y'all think would be the best/easiest way to get a list of 500 recent orders (w/ source token, target token and amount of exchange) from Uniswap?","",""
"844338578351849502","BearWhale#1776","10/08/2021 3:03 am","Did you ever figure this out?  I'm running across the same issue.","",""
"844338578351849502","BearWhale#1776","10/08/2021 3:10 am","Can someone point me in the right direction?  I'm trying to pull all of the liquidity between ticks for the USDC / WETH pool.  I'm using this subgraph query:
{
    ticks(where: { poolAddress: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"" }, first: 1000, orderBy: tickIdx, orderDirection:desc) {
       id
    poolAddress
    tickIdx
       liquidityGross
       liquidityNet
       price0
       price1
       volumeUSD
     pool {
         token0 {
             symbol
             }
          token1 {
          symbol
        }
         }
     }
}
However, the results seem strange.  The tick indices and corresponding prices seem way too high, and the liquidityGross figures at those ticks seem way off.  As madhav_rai pointed out, there are essentially no ticks between WETH price 1,661 to 9932.   Can someone tell me what I'm doing wrong?","",""
"616693963319017481","mikeb.522","10/08/2021 2:44 pm","Hey guys, maybe someone can help me. Looking at the profile of BXX token, volume is marked as untracked: https://v2.info.uniswap.org/token/0x54f9b4b4485543a815c51c412a9e20436a06491d

And when I click to open up an exact pair, the volume there shows 0: https://v2.info.uniswap.org/pair/0xc0d586ab88f45d6e02b155aa17e8e9e9b2df2097

Is this due to certain restrictions that Im not aware of, or that's problems with GraphQL?

Appreciate your help.","",""
"839593660315336797","anslume","10/08/2021 4:11 pm","Hello guys, questions about the subgraph v2, I'm trying to query from my node.js app and urql module but I got the following response CombinedError: [GraphQL] Type `Token` has no field `tokenDayData`
  [GraphQL] Type `Token` has no field `tokenDayData`] while it's clearly mentionned on the documentation and I can see the field on the graph explorer sandbox...","",""
"839593660315336797","anslume","10/08/2021 4:11 pm","any suggestions is welcome","",""
"844675116088557568","veridelisi","11/08/2021 1:02 am","I ask this question from june :)","",""
"703519206603227167","vdm4","11/08/2021 1:03 am","Did you figure it out? :)","",""
"844675116088557568","veridelisi","11/08/2021 1:03 am","Very simple question, how much eth or token  are Locked in each tick for any pool?","",""
"844675116088557568","veridelisi","11/08/2021 1:06 am","No man","",""
"703519206603227167","vdm4","11/08/2021 1:13 am","If you get it let me know!","",""
"844675116088557568","veridelisi","11/08/2021 2:03 am","Yes man. I m academician. I dont hide any information from public. Share it Like it!","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:20 am","Hi all, I am interested in querying the Uniswap API on the Graph decentralized mainnet for an application I'm writing. Does anyone know when the Uniswap team expects to migrate from the hosted service?","",""
"291828960872890368","thanpolas","12/08/2021 3:44 am","Why are you eager to pay for each query when you have exactly the same service for free?","",""
"291828960872890368","thanpolas","12/08/2021 3:45 am","And btw the same subgraph is also on the “decentralized” main net of thegraph","",""
"291828960872890368","thanpolas","12/08/2021 3:46 am","https://thegraph.com/explorer/subgraph?id=0x9bde7bf4d5b13ef94373ced7c8ee0be59735a298-2&view=Overview","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:46 am","I am hoping","",""
"291828960872890368","thanpolas","12/08/2021 3:46 am","For what?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:46 am","sorry","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:46 am","I am hoping to be able to market my application as fully decentralized","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:47 am","and I see that subgraph, which I am happy to query, but long term I would like to use the officially endorsed subgraph for the project","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:47 am","that I know will be upgraded etc","",""
"291828960872890368","thanpolas","12/08/2021 3:47 am","Are you aware of thegraph’s decentralization plans? So far it’s still very much centralized","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:48 am","i know the hosted service is currently centralized, but the decentralized network is active and running","",""
"291828960872890368","thanpolas","12/08/2021 3:49 am","The “decentralized” network, runs on a centralized domain name and a single gql gateway… I am still curious what the plans to decentralize that will be. Do you know them?","",""
"291828960872890368","thanpolas","12/08/2021 3:50 am","https://gateway.thegraph.com/api/[api-key]/subgraphs/id/0x9bde7bf4d5b13ef94373ced7c8ee0be59735a298-2

^ centralized domain name & gateway","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:50 am","i do not know but you sound kind of rude....the plan is to be decentralized, i would love to be as close to decentralized as possible","",""
"291828960872890368","thanpolas","12/08/2021 3:50 am","I sound rude?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:50 am","so i wasn't really looking for an argument about the tech, just wondering if anyone knew when the release was planned for.","",""
"291828960872890368","thanpolas","12/08/2021 3:51 am","I am asking if you know what the plan is","",""
"291828960872890368","thanpolas","12/08/2021 3:51 am","I gave you the decentralized url above","",""
"291828960872890368","thanpolas","12/08/2021 3:51 am","What more are you looking for?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:52 am","i am looking for an approximation of when the team expects to migrate their officially endorsed subgraph to the decentralized mainnet","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:52 am","which is what i said in my first message","",""
"291828960872890368","thanpolas","12/08/2021 3:52 am","Wait, doesn’t the url I gave you work for you?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:53 am","it is not the official subgraph","",""
"291828960872890368","thanpolas","12/08/2021 3:53 am","It’s on the front page of the graph protocol","",""
"291828960872890368","thanpolas","12/08/2021 3:53 am","It says “official”","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:53 am","it is not owned by the uniswap developers","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:53 am","LOL dude that one was from a known scammer","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:53 am","unaffiliated with uniswap","",""
"291828960872890368","thanpolas","12/08/2021 3:53 am","","https://cdn.discordapp.com/attachments/765222888617017365/875142471888289802/image0.png",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:53 am","yes. that one","",""
"291828960872890368","thanpolas","12/08/2021 3:53 am","That is a scam?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:54 am","it is not official","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:54 am","the deployer and controller of the subgraph does not work for uniswap","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:54 am","or is not part of the dev team","",""
"291828960872890368","thanpolas","12/08/2021 3:54 am","So why is thegraph endorsing it?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:54 am","They are not as far as I am aware","",""
"291828960872890368","thanpolas","12/08/2021 3:54 am","It’s on their webpage, featured","",""
"291828960872890368","thanpolas","12/08/2021 3:55 am","And they are very well aware of it","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:55 am","that webpage features any subgraph deployed by anyone","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:55 am","it's permissionless","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:55 am","the guy just wrote ""official"" as the name","",""
"291828960872890368","thanpolas","12/08/2021 3:55 am","Ah really?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:55 am","yeah","",""
"291828960872890368","thanpolas","12/08/2021 3:57 am","So, let’s recap… the subgraph of the decentralized network is a fake official subgraph by some random guy…

You don’t know what the plan is to make the graph really decentralized 

And I am rude.

Do I understand it well?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:59 am","i didn't mean to call you rude it just seemed like you were making assumptions based on things you weren't aware of","",""
"862909653893120002","SnowDragon#2744","12/08/2021 3:59 am","but yes otherwise...dude im just trying to write a decentralized app","",""
"291828960872890368","thanpolas","12/08/2021 3:59 am","What assumptions where those?","",""
"291828960872890368","thanpolas","12/08/2021 4:00 am","Looking for thegraph website on their GitHub but can’t find it… is it open source?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:01 am","i do not know","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:01 am","well one of the assumptions was that the site was permissionless","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:01 am","and that a subgraph was ""endorsed""","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:01 am","neither of which you knew","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:02 am","dude i'm just wondering when I can expect the official team to launch their subgraph on the network. Do you know that?","",""
"291828960872890368","thanpolas","12/08/2021 4:03 am","You called me rude before that statement. And you also just stated that you don’t even know if the website is open or closed source… so who is making assumptions now?","",""
"291828960872890368","thanpolas","12/08/2021 4:04 am","How do YOU know that it’s not endorsed?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:04 am","and you know what man you are rude. I came in here asking a question in good faith and you took it as an opportunity to quiz me about the network and tell me i don't know what i'm talking about","",""
"291828960872890368","thanpolas","12/08/2021 4:04 am","Do you work for the subgraph?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:04 am","multiple developers from both uniswap and the graph have come out and officially said it is not official.","",""
"291828960872890368","thanpolas","12/08/2021 4:05 am","Ok anon","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:07 am","what?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:08 am","nobody ""works for a subgraph"" do you even know what that means?","",""
"862909653893120002","SnowDragon#2744","12/08/2021 4:13 am","@serv.eth (support team) Sorry to bother you guys, but if you have any input on this I would appreciate it for my application.","",""
"183309006767521792","jorropo","12/08/2021 12:03 pm","@SnowDragon is right, it's not official, it's someone outside of uniswap who randomly added this.","",""
"183309006767521792","jorropo","12/08/2021 12:03 pm","@thanpolas it's not featured from thegraph team, it's just random things a program choose to show.","",""
"183309006767521792","jorropo","12/08/2021 12:07 pm","That the worst argument, you don't need to work for subgraph to know that, the goal of permissionless systems are to avoid this exact kind of sentences","",""
"291828960872890368","thanpolas","12/08/2021 2:32 pm","This has derailed quite a bit. Back to where we started. I am genuinely curious what thegraph's plans are for decentralizing the service. @SnowDragon seemed to care enough for a decentralized service that I thought I'd ask the question. I was not quizing you, I am genuinely curious as to their plans, and I still am not aware of them.

The fact is, that today, as it stands, thegraph service is not ""decentralized"". You cannot have a decentralized service built on a centralized database with a centralized gateway, under a centralized domain name, using GraphQL as your querying protocol. That's how it is, I don't make the rules, like it or not, I am not responsible for that state. 

The only thing that is currently decentralized on thegraph are the indexers, which is an offline, background process of walking through the blockchain and indexing the information as per the subgraphs provided by the protocols (i.e. uniswap in this case.).

GQL folks claiming that their service is decentralized is basically delusional. And I am not referring to ethwiz in this sentence, he is just repeating what he was told. The fact that they knowingly, have a subgraph named ""Official Uniswap V3"" on their private website, when they very well know that this is not the case, risking their reputation if something goes wrong, is, to me, shady at least and irresponsible at best.

I too care about having a decentralized indexed service and have a keen interest on how this can be achieved. I am trying to figure this out.

Now back to @SnowDragon's original question, as it was a question that I myself had for different reasons (I needed a subgraph that wasn't labeled as ""legacy""), the answer is simple: 

Use the existing ""hosted API"" subgraph. 

The only thing, you will be required to do, when and if uniswap moves to the paid service, is to change the endpoint. So make sure the graphql endpoint is stored on a single constant that you can easily change.","",""
"852818852613849138","UniNovice#6879","13/08/2021 3:04 pm","hello guys, in the v3 whitePaper we can see the tick's feeGrowthOutside{0,1}","https://cdn.discordapp.com/attachments/765222888617017365/875673701834694676/129177754-487c28e8-7029-483c-8127-907c49f686cd.png",""
"852818852613849138","UniNovice#6879","13/08/2021 3:04 pm","that means when priceNow is bewteen tickLower and tickUpper.
feeGrowthInside{0,1} = feeGrowthGlobal{0,1} - tickLower.feeGrowthOutside{0,1} - tickUpper.feeGrowthOutside{0,1}. like","",""
"852818852613849138","UniNovice#6879","13/08/2021 3:04 pm","but when I query the subgrah return wrong answer.","https://cdn.discordapp.com/attachments/765222888617017365/875673775717359616/129188821-8e5ecbf8-d0ba-45b0-948c-279a580a2786.png",""
"852818852613849138","UniNovice#6879","13/08/2021 3:05 pm","here is the query
{
ticks(where:{
pool_contains:""0x4e68ccd3e89f51c3074ca5072bbac773960dfa36""
tickIdx_in:[
-195660,
-195900]
}
block:{number:13010089}
)
{
tickIdx
feeGrowthOutside0X128
feeGrowthOutside1X128
pool
{
tick
feeGrowthGlobal0X128
feeGrowthGlobal1X128
}
}
}","",""
"843155325619535912","Etherscan Bot#5753","13/08/2021 3:05 pm","<https://etherscan.io/address/0x4e68ccd3e89f51c3074ca5072bbac773960dfa36>","",""
"852818852613849138","UniNovice#6879","13/08/2021 3:05 pm","here is the result:
{
""data"": {
""ticks"": [
{
""feeGrowthOutside0X128"": ""335883582520604181952009590658028448194028"",
""feeGrowthOutside1X128"": ""854216468588660062387455627429334"",
""pool"": {
""feeGrowthGlobal0X128"": ""337450237140301366713991986895478281593300"",
""feeGrowthGlobal1X128"": ""858801197364324603853037591152213"",
""tick"": ""-195807""
},
""tickIdx"": ""-195660""
},
{
""feeGrowthOutside0X128"": ""281801500759483248405854115923760248801301"",
""feeGrowthOutside1X128"": ""657493057862399273342033321023185"",
""pool"": {
""feeGrowthGlobal0X128"": ""337450237140301366713991986895478281593300"",
""feeGrowthGlobal1X128"": ""858801197364324603853037591152213"",
""tick"": ""-195807""
},
""tickIdx"": ""-195900""
}
]
}
}","",""
"852818852613849138","UniNovice#6879","13/08/2021 3:05 pm","as you see the current tick is -195807 and if I set the range in [-195900,-195660].
the feeInside0 = (feeGrowthGlobal0X128 - tickLower.feeGrowthOutside0X128 - tickUpper.feeGrowthOutside0X128)/(2^128);
but get feeInside0 = -823.53619 Less than 0.
is that have question?","",""
"773558050719531018","Hanna_mel#5113","13/08/2021 3:41 pm","@UniNovice  this may come from tickLower that is based on integer prices and that is expressed in basis points. Try to convert tickLower to the actual price by doing PRICE = 1.0001^tickLower and same for TickUpper. and then recompute the fees you're lookinig for","",""
"773558050719531018","Hanna_mel#5113","13/08/2021 3:41 pm","Not sure that this will work but it's the only reason I see here to explain those < 0 values for fee","",""
"773558050719531018","Hanna_mel#5113","13/08/2021 6:12 pm","I have a question. While using Uniswap V3 subgraph I noticed the field ""amount"" part of the mint function. Does anyone knows what it corresponds to ? (unit, interpretation)","https://cdn.discordapp.com/attachments/765222888617017365/875720878623719454/Screenshot_2021-08-13_at_14.40.05.png",""
"844675116088557568","veridelisi","14/08/2021 2:52 am","One day, we will find the code which indicates ETHlocked amount in each tick 🙂","https://cdn.discordapp.com/attachments/765222888617017365/875851950976016455/Ekran_Goruntusu_-_2021-08-13_23-59-17.png",""
"844675116088557568","veridelisi","14/08/2021 2:56 am","@UniNovice {
pools(where:{id:""0x60594a405d53811d3bc4766596efd80fd545a270""}) {
   ticks{tickIdx,liquidityNet,volumeUSD,volumeToken0,volumeToken1}
  }
}","",""
"843155325619535912","Etherscan Bot#5753","14/08/2021 2:56 am","<https://etherscan.io/address/0x60594a405d53811d3bc4766596efd80fd545a270>","",""
"844675116088557568","veridelisi","14/08/2021 2:58 am","can we find something from here ? any comments?","https://cdn.discordapp.com/attachments/765222888617017365/875853393959190588/Ekran_Goruntusu_-_2021-08-14_00-27-45.png",""
"844675116088557568","veridelisi","14/08/2021 3:01 am","alternative work but this is not answer to our question  https://dune.xyz/queries/69440","",""
"401842633464610837","_kfx","14/08/2021 12:55 pm","at this point I'm just thinking that the either the subgraph code or the indexing service is buggy","",""
"401842633464610837","_kfx","14/08/2021 12:55 pm","there have been bugs like this in the past, for example: https://github.com/Uniswap/uniswap-v3-subgraph/commit/b3a8d21457f1a821db149d1102decfde19a3cc8f","",""
"401842633464610837","_kfx","14/08/2021 2:40 pm","Ok, I'm looking at how the Uniswap info code is converting the tick liquidity to token amounts. Apparently the info pages are not using `liquidityNet` or `liquidityGross`  directly, but instead building their own variable `liquidityActive`","",""
"401842633464610837","_kfx","14/08/2021 2:40 pm","https://github.com/Uniswap/uniswap-v3-info/blob/master/src/data/pools/tickData.ts#L299","",""
"401842633464610837","_kfx","14/08/2021 2:41 pm","I still don't get how exactly it works and how to reproduce the results shown in the UI. Maybe some of the developers can enlighten us?","","💯 (1)"
"280121913064292352","thogard","16/08/2021 12:19 pm","you can just do the math","",""
"280121913064292352","thogard","16/08/2021 12:19 pm","by pulling the liquidity","",""
"280121913064292352","thogard","16/08/2021 12:19 pm","and solving for eth","",""
"280121913064292352","thogard","16/08/2021 12:20 pm","all the ticks other than the current one will only have one currency or the other.","",""
"280121913064292352","thogard","16/08/2021 12:20 pm","so for all of them but current, it's just 0","",""
"280121913064292352","thogard","16/08/2021 12:20 pm","and the graph shows the other currency","",""
"280121913064292352","thogard","16/08/2021 12:21 pm","the only thing it's unclear on is the secondary currency in the current tick. but you can math it out based on liquidity","",""
"844675116088557568","veridelisi","16/08/2021 12:41 pm","Mr gıard, could you give us  basic sample maths starting graphql codes? We cant solve it.","",""
"280121913064292352","thogard","16/08/2021 12:42 pm","oh idk about graphql codes","",""
"280121913064292352","thogard","16/08/2021 12:43 pm","i'd have to pull liquidity data from the contract","",""
"280121913064292352","thogard","16/08/2021 12:44 pm","and the tick numbers","",""
"280121913064292352","thogard","16/08/2021 12:45 pm","you basically figure out which tick is the tick at which you'd have 0 of the token","",""
"280121913064292352","thogard","16/08/2021 12:45 pm","and figure out the sqrtP at that tick","",""
"280121913064292352","thogard","16/08/2021 12:45 pm","then look at the current sqrtP","",""
"280121913064292352","thogard","16/08/2021 12:46 pm","find the ▲ between the two by subtracting","",""
"280121913064292352","thogard","16/08/2021 12:47 pm","and then find the corresponding ▲x or ▲y using either (1 / ▲sqrtP) * L = ▲x  or ▲sqrtP * L = ▲y","",""
"280121913064292352","thogard","16/08/2021 12:47 pm","where ▲y and ▲x = x or y in the tick","",""
"844675116088557568","veridelisi","16/08/2021 12:50 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876727142799532142/IMG_20210816_102022.jpg",""
"844675116088557568","veridelisi","16/08/2021 12:50 pm","Usdc/eth pool datas","",""
"844675116088557568","veridelisi","16/08/2021 12:53 pm","This code with sqrtprice","https://cdn.discordapp.com/attachments/765222888617017365/876727789502496789/IMG_20210816_102246.jpg",""
"280121913064292352","thogard","16/08/2021 12:53 pm","ok so","",""
"280121913064292352","thogard","16/08/2021 12:53 pm","sqrtP is a q64.96 number","",""
"280121913064292352","thogard","16/08/2021 12:53 pm","so step one is converting it","",""
"844675116088557568","veridelisi","16/08/2021 12:54 pm","How?","",""
"280121913064292352","thogard","16/08/2021 12:56 pm","how exact do you have to be","",""
"280121913064292352","thogard","16/08/2021 12:56 pm","the 64 part is easy, the 96 part i have no idea how to do (i'm a finance guy not a coder)","",""
"844675116088557568","veridelisi","16/08/2021 12:57 pm","Also I 'm finance academician:)","",""
"280121913064292352","thogard","16/08/2021 12:58 pm","this is what i do, but it loses all the decimals","",""
"280121913064292352","thogard","16/08/2021 12:58 pm","so it won't work for any decimal pair","",""
"280121913064292352","thogard","16/08/2021 12:58 pm","```_p = _sqrtP ** 2
    _ratio = _p >> 192
    _sRatio = _ratio ** (1/2)```","",""
"280121913064292352","thogard","16/08/2021 12:58 pm","im sure there's an easy way to convert the decimal part too","",""
"844675116088557568","veridelisi","16/08/2021 12:59 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876729252878377020/IMG_20210816_102851.jpg",""
"280121913064292352","thogard","16/08/2021 12:59 pm","i dont erally use this number for anything tho - you can keep it in that format for most contract stuff that interacts with v3","",""
"280121913064292352","thogard","16/08/2021 1:00 pm","that's basically what i'm doing","",""
"280121913064292352","thogard","16/08/2021 1:00 pm","that'll still miss the decimals","",""
"280121913064292352","thogard","16/08/2021 1:00 pm","i think","",""
"280121913064292352","thogard","16/08/2021 1:01 pm","try it for usdcEth and see if it comes back with a 0","",""
"844675116088557568","veridelisi","16/08/2021 1:04 pm","1384008877988895437397722157689959","",""
"844675116088557568","veridelisi","16/08/2021 1:04 pm","What is decimals' equivalent?","",""
"844675116088557568","veridelisi","16/08/2021 1:04 pm","And we need this number?","",""
"280121913064292352","thogard","16/08/2021 1:07 pm","i got 17457.976257287097","",""
"280121913064292352","thogard","16/08/2021 1:07 pm","for the .30 pool","",""
"280121913064292352","thogard","16/08/2021 1:08 pm","you should read the white paper","",""
"280121913064292352","thogard","16/08/2021 1:08 pm","it's all there","",""
"844675116088557568","veridelisi","16/08/2021 1:11 pm","Could you send us your calculation? From computer screen or directly here","",""
"280121913064292352","thogard","16/08/2021 1:12 pm","i did","",""
"280121913064292352","thogard","16/08/2021 1:12 pm","```_p = _sqrtP ** 2
    _ratio = _p >> 192
    _sRatio = _ratio ** (1/2)```","",""
"280121913064292352","thogard","16/08/2021 1:13 pm","TIME: 2021-08-16 00:36:05.574573   PAIR: USDC/ETH
0.05 Price: 304634509.0793186   tickLowerPrice: 304451792.3300622   tickUpperPrice: 304756381.1622394    L: 10986449416593871332  tick: 195356
0.30 Price: 304756381.1622394   tickLowerPrice: 304756381.1622394   tickUpperPrice: 306590324.08080024    L: 22134929104489340190  tick: 195360
0.30 Price: 304756381.1622394   tickLowerPrice: 304756381.1622394   tickUpperPrice: 306590324.08080024    L: 22134929104489340190  tick: 195360
17457.976257287097","",""
"280121913064292352","thogard","16/08/2021 1:13 pm","17457.976 ^2 = 304780935","",""
"844675116088557568","veridelisi","16/08/2021 1:19 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876734358004842496/IMG_20210816_104851.jpg",""
"280121913064292352","thogard","16/08/2021 1:19 pm","looks good","",""
"844675116088557568","veridelisi","16/08/2021 1:23 pm","Ok we have 17468. And then?","",""
"280121913064292352","thogard","16/08/2021 1:36 pm","Then you read the white paper 😛","",""
"280121913064292352","thogard","16/08/2021 1:36 pm","And the stuff I wrote up above earlier","",""
"844675116088557568","veridelisi","16/08/2021 1:40 pm","Million times I read it :)","",""
"844675116088557568","veridelisi","16/08/2021 1:45 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876741003074220082/IMG_20210816_111523.jpg",""
"844675116088557568","veridelisi","16/08/2021 1:49 pm","I understand that I leave this aim :)","",""
"844675116088557568","veridelisi","16/08/2021 1:49 pm","Nobody interest it","",""
"280121913064292352","thogard","16/08/2021 1:50 pm","that's v2","",""
"280121913064292352","thogard","16/08/2021 1:50 pm","have you read the v3 whitepaper?","",""
"280121913064292352","thogard","16/08/2021 1:51 pm","it explicitly spells out how to do what youre trying to do","",""
"280121913064292352","thogard","16/08/2021 1:52 pm","the next thing you need to do is get the sqrtP for the tick in the current tick at which the token's reserves is 0","",""
"280121913064292352","thogard","16/08/2021 1:55 pm","as i said before, you basically figure out which border of the tick is the tick at which you'd have 0 of the token
and figure out the sqrtP at that tick
then look at the current sqrtP
find the ▲ between the two by subtracting
and then find the corresponding ▲x or ▲y using either (1 / ▲sqrtP) * L = ▲x  or ▲sqrtP * L = ▲y
where ▲y and ▲x = x or y in the tick","",""
"280121913064292352","thogard","16/08/2021 1:56 pm","price is Y/X, so if you're looking for Y it'd be the lower tick, and X would be the higher tick","",""
"485274047924535306","l0c4t0r","16/08/2021 1:58 pm","@veridelisi I came across this the other day. not sure if you'll find it helpful:
https://github.com/JNP777/UNI_V3-Liquitidy-amounts-calcs","",""
"844675116088557568","veridelisi","16/08/2021 2:06 pm","Where to find all tick, ticklower and tick upper combinations? I understand we need 3 items for each function?","",""
"485274047924535306","l0c4t0r","16/08/2021 2:07 pm","tick is the current price, ticklower and tickupper are the lower and upper limit of the position","",""
"844675116088557568","veridelisi","16/08/2021 2:10 pm","@loc and @thogard, How could we pull all ticks informations of spesific pool in graphql?","",""
"280121913064292352","thogard","16/08/2021 2:11 pm","is what i use","",""
"280121913064292352","thogard","16/08/2021 2:12 pm","those tickUpper/LowerPrice aren't sqrtRt, so you'd want to sqrt them","",""
"280121913064292352","thogard","16/08/2021 2:12 pm","like that","",""
"844675116088557568","veridelisi","16/08/2021 2:17 pm","Tickspacing is normally 60?","",""
"280121913064292352","thogard","16/08/2021 2:18 pm","it's normally the fee * 2","",""
"280121913064292352","thogard","16/08/2021 2:18 pm","so 60 for the .3%, 10 for .05%, and 200 for 1%","",""
"844675116088557568","veridelisi","16/08/2021 2:25 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876750966760808448/IMG_20210816_115502.jpg",""
"844675116088557568","veridelisi","16/08/2021 2:26 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876751218276438036/IMG_20210816_115609.jpg",""
"844675116088557568","veridelisi","16/08/2021 2:28 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876751771056357427/IMG_20210816_115809.jpg",""
"844675116088557568","veridelisi","16/08/2021 2:28 pm","Oh ok we arrived here:)","",""
"844675116088557568","veridelisi","16/08/2021 3:07 pm","@thogard we found 17457 and 17479 and 17509 but USDC/Weth pool doesnt have these price numbers in liquidity graph","https://cdn.discordapp.com/attachments/765222888617017365/876761468677259284/IMG_20210816_123647.jpg",""
"844675116088557568","veridelisi","16/08/2021 3:17 pm","@loc this calculation is correct?","https://cdn.discordapp.com/attachments/765222888617017365/876764185969696768/IMG_20210816_124701.jpg",""
"844675116088557568","veridelisi","16/08/2021 3:36 pm","@loc","https://cdn.discordapp.com/attachments/765222888617017365/876768768892743700/IMG_20210816_130541.jpg",""
"844675116088557568","veridelisi","16/08/2021 3:36 pm","I think this works for calculation amount and amount1","",""
"844675116088557568","veridelisi","16/08/2021 3:38 pm","Last question is next tick number must be 195385+60?","",""
"401842633464610837","_kfx","16/08/2021 3:47 pm","the range will not include the current tick for ticks below zero, is this intentional?","",""
"401842633464610837","_kfx","16/08/2021 3:52 pm","Hi @veridelisi , I solved the liquidity problem for the current tick. The result is still slightly off compared with what the UI shows, which I believe is due to rounding errors. Regarding liquidity arbitrary ticks, I'm becoming convinced that there is no easy way to get that (of course, I'd be happy to be corrected!) The one way to do that seems to be what the SDK is doing - starting from the middle, and then iterating over all active ticks to reach the tick of the interest. Start with the pool's liquidity value, and in the iteration process add `liquidityNet` of each active tick to that value.","","👍 (1)"
"401842633464610837","_kfx","16/08/2021 3:53 pm","your calculation in the last screenshot is the same I'm doing","","👍 (1)"
"401842633464610837","_kfx","16/08/2021 3:54 pm","if you want to look at the complete code: https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-query-example.py","",""
"844675116088557568","veridelisi","16/08/2021 5:12 pm","@kfx @loc I found ticks and liquidity, but when I use these numbers to Formula, I get weird numbers","",""
"844675116088557568","veridelisi","16/08/2021 5:12 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876793158065848330/IMG_20210816_144110.jpg",""
"844675116088557568","veridelisi","16/08/2021 5:13 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876793174532694036/IMG_20210816_144133.jpg",""
"401842633464610837","_kfx","16/08/2021 5:25 pm","to my understanding, you need to start with the liquidity of the pool and then sum that with  `liquidityNet` of each tick as you iterate through the ticks. or you can start from top or bottom of the initialized tick list, and then sum `liquidityNet` of the ticks. It does not work as simply as taking the value and converting it to amounts.","",""
"401842633464610837","_kfx","16/08/2021 5:26 pm","and liquidityGross to my understanding is just the sum of liquidities of all positions that start and end at this tick. There may be other positions that overlap with this tick, but do not start or end there. so it is also useless when trying to get the total amounts in that tick","",""
"844675116088557568","veridelisi","16/08/2021 5:42 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876800659620495380/IMG_20210816_151224.jpg",""
"844675116088557568","veridelisi","16/08/2021 5:44 pm","For example tick is 171780 and its netliquidity is 96553173606062","",""
"401842633464610837","_kfx","16/08/2021 5:46 pm","do the amounts you get match the ones UI show? I don't think they should because current tick is 195340, and 171780 is pretty far from that","",""
"844675116088557568","veridelisi","16/08/2021 5:57 pm","Min - 1080 and max  179820:)","",""
"844675116088557568","veridelisi","16/08/2021 5:58 pm","","https://cdn.discordapp.com/attachments/765222888617017365/876804497240907776/IMG_20210816_152746.jpg",""
"844675116088557568","veridelisi","16/08/2021 6:01 pm","@ianlapham","",""
"401842633464610837","_kfx","16/08/2021 7:26 pm","max is 179820 because the query returs a limited number of ticks only. try `ticks(skip: 100)` or something like that to get the next portion of active ticks","","💯 (1)"
"401842633464610837","_kfx","16/08/2021 7:26 pm","at the tick 179820 the price is more than 15000 USDC for a single ETH - we're not there yet pricewise 😆","",""
"844675116088557568","veridelisi","16/08/2021 7:41 pm","I try it. Thank you","",""
"280121913064292352","thogard","16/08/2021 9:43 pm","Your q formatting numbers and then modifying them - don’t do that","",""
"280121913064292352","thogard","16/08/2021 9:44 pm","Only convert the current sqrtP to regular","",""
"280121913064292352","thogard","16/08/2021 9:44 pm","Don’t convert anything else","",""
"844675116088557568","veridelisi","16/08/2021 9:45 pm","please how?","",""
"844675116088557568","veridelisi","16/08/2021 9:46 pm","tick=195351
tickA=(int(tick/60))*60
tickB=tickA+60

liquidity=22193170512175628532

USDC=6
WETH=18
decimals=WETH-USDC

sqrtB=(1.0001**(tickB/2)*(2**96))
sqrtA=(1.0001**(tickA/2)*(2**96))

amount0=((liquidity*2**96*(sqrtB-sqrtA)/sqrtB/sqrtA)/10**6)
print(amount0)

amount1=liquidity*(sqrtB-sqrtA)/2**96/10**18
print(amount1)","",""
"844675116088557568","veridelisi","16/08/2021 9:47 pm","for example, what will we do now for calculating other ticks amounts?","",""
"280121913064292352","thogard","16/08/2021 10:38 pm","what's your sqrtP?","",""
"280121913064292352","thogard","16/08/2021 10:38 pm","for this part:
`sqrtB=(1.0001**(tickB/2)(296))
sqrtA=(1.0001(tickA/2)(2**96))`

dont multiply by 2^96","",""
"280121913064292352","thogard","16/08/2021 10:42 pm","remember that each other than the current one has only one type of coin in it","",""
"280121913064292352","thogard","16/08/2021 10:43 pm","so idk why kfx is trying to skip ticks","",""
"280121913064292352","thogard","16/08/2021 11:09 pm","maybe we're trying to solve for different things","",""
"280121913064292352","thogard","16/08/2021 11:26 pm","here","",""
"843155325619535912","Etherscan Bot#5753","16/08/2021 11:27 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"280121913064292352","thogard","16/08/2021 11:27 pm","right now that returns:
```TIME: 2021-08-16 10:55:04.901799   PAIR: USDC / ETH
fee: 3000   sqrtP: 17618.69055860849   tickLower: 195540   tickUpper: 195600   x in current tick: 3584093.26206925   y in current tick: 81.45445218083056```","",""
"280121913064292352","thogard","16/08/2021 11:29 pm","so in order to move to the next tick range, people would have to buy 3.58million usdc (to go to tick 195540) or buy 81.454 eth (to go to tick 195600)","",""
"844338578351849502","BearWhale#1776","17/08/2021 7:36 am","This is excellent.  So, you're calculating token0_real and token1_real...could we then use (2.2) in the whitepaper to calculate token0_virtual = token0_real + L / sb?  And conversely, token1_virtual = token1_real + L * sa?  Does L need to be divided by 10 ** (decimals1 - decimals0)?  Again - really great work.","",""
"280121913064292352","thogard","17/08/2021 9:25 am","start from the current tick. for token X (or 0) use the formula i linked above to get the X in the current tick, then go downwards.  Just use the L for the current tick, sum it with netLiquidity of the tick you're crossing (for X this is the closest initialized tick looking down), and then calculate the ▲sqrtP from that crossed tick to the next initialized one below it. then use formula 6.16. rinse and repeat until at the bottom.  Then go back to the middle and do the same thing for Y, but upwards and with formula 6.14","","😁 (1)"
"280121913064292352","thogard","17/08/2021 9:26 am","if you don't start in the current tick, or stop in the current tick, the whole thing will be off","",""
"280121913064292352","thogard","17/08/2021 9:30 am","easiest to start in the middle (current) and go down for X and up for Y and just keep going until liquidity +/- netLiquidity approaches 0","",""
"280121913064292352","thogard","17/08/2021 9:36 am","when someone deploys liquidity, it isn't spread evenly over the tick range they select.  Their X is put into ticks below the current one and their Y is put into ticks above the current one. a little bit of both is put in the current one.","",""
"280121913064292352","thogard","17/08/2021 9:36 am","no tick other than the current one has both X and Y","",""
"280121913064292352","thogard","17/08/2021 9:37 am","and by 'current one' i mean the range from closest initialized tick +/- tickSpacing","",""
"280121913064292352","thogard","17/08/2021 9:49 am","this allows you to calculate exactly how much real tokens are in each tick","",""
"401842633464610837","_kfx","17/08/2021 12:15 pm","you're right, good point","",""
"401842633464610837","_kfx","17/08/2021 12:17 pm","Thanks! The token0_virtual and token1_virtual formulas looks correct. I don't believe that liquidity (L) must be adjusted for decimals. The amounts of tokens and price should, but not liquidity","",""
"852818852613849138","UniNovice#6879","17/08/2021 12:54 pm","hi yekta,I found a Bug. let the exampleNFTid = '111088'; and we will get a negative uncollected fee","https://cdn.discordapp.com/attachments/765222888617017365/877090501088649276/unknown.png",""
"398178392064655363","yekta","17/08/2021 3:48 pm","I'm aware, if you read the rest of the chat you can see","",""
"398178392064655363","yekta","17/08/2021 3:48 pm","Subgraph data was simply wrong, nothing to do with the formula","",""
"398178392064655363","yekta","17/08/2021 4:07 pm","Subgraph data is wrong sometimes btw not always","",""
"398178392064655363","yekta","17/08/2021 4:09 pm","The solution I continued with is just doing a static collect on the contract itself. Didn't want to do that, but ended up doing it after hours of trying to figure out what's going on 😄","",""
"852818852613849138","UniNovice#6879","17/08/2021 5:25 pm","yeah and I found subgraph's result is difference with etherscan.","",""
"852818852613849138","UniNovice#6879","17/08/2021 5:25 pm","here is the subgrah query;

{
ticks(where:{
pool_contains:""0x11b815efb8f581194ae79006d24e0d814b7697f6""
tickIdx:-195240
}
)
{
tickIdx
poolAddress
feeGrowthOutside0X128
feeGrowthOutside1X128
liquidityNet
liquidityGross
liquidityProviderCount
pool
{
feeGrowthGlobal0X128
feeGrowthGlobal1X128
tick
}
}
}

result is
{
""data"": {
""ticks"": [
{
""feeGrowthOutside0X128"": ""186457579433653700929913524141218714628394"",
""feeGrowthOutside1X128"": ""459325821951671680232807424057021"",
""liquidityGross"": ""22413817657280222"",
""liquidityNet"": ""-22413817657280222"",
""liquidityProviderCount"": ""0"",
""pool"": {
""feeGrowthGlobal0X128"": ""187786006713277915876322719076763842494893"",
""feeGrowthGlobal1X128"": ""463522736213383582422368849416146"",
""tick"": ""-195389""
},
""poolAddress"": ""0x11b815efb8f581194ae79006d24e0d814b7697f6"",
""tickIdx"": ""-195240""
}
]
}
}

and this is the etherscan address:
https://etherscan.io/address/0x11b815efb8f581194ae79006d24e0d814b7697f6#readContract
and the result is :","https://cdn.discordapp.com/attachments/765222888617017365/877158762715172864/129720711-28b4ab57-5323-4893-8193-5ea56f778597.png",""
"843155325619535912","Etherscan Bot#5753","17/08/2021 5:25 pm","<https://etherscan.io/address/0x11b815efb8f581194ae79006d24e0d814b7697f6>","",""
"843155325619535912","Etherscan Bot#5753","17/08/2021 5:25 pm","<https://etherscan.io/address/0x11b815efb8f581194ae79006d24e0d814b7697f6>","",""
"844338578351849502","BearWhale#1776","17/08/2021 8:52 pm","Thanks for sharing - excellent work.  I don't know that I ever would have figured out _ratio = _p >> 192.  
My interest is in total x_virtual and y_virtual at a price...not really the change in both to get to a tick boundary.  Using equation (2.2) seems like an easy way to go from virtual to real, and vice-versa.  However, starting with your code to solve for x_virtual and y_virtual, I can't seem to recover sensible x_real and y_real numbers.  I did modify your code to make the decimal adjustments up front...not sure if this creates any numerical issues later...but here's the modified code:","",""
"844338578351849502","BearWhale#1776","17/08/2021 8:52 pm","```web3 = Web3(Web3.HTTPProvider(infuraurl))
usdcDecimals = 6
ethDecimals = 18
usdcEth30Address = Web3.toChecksumAddress('0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8')

myaddress = usdcEth30Address

contract = web3.eth.contract(address=myaddress, abi=v3Abi)
slot0 = contract.functions.slot0().call()
sqrtP = slot0[0]  # convert to a usable number - q6496 bs
tick = slot0[1]
tickSpacing = contract.functions.tickSpacing().call()
token0 = contract.functions.token0().call()  #token id
token1 = contract.functions.token1().call()  #token id
fee = contract.functions.fee().call()

liquidity = contract.functions.liquidity().call()
liquidity_star = liquidity / (10 ** (ethDecimals - usdcDecimals))  #convert liquidity into standard terms

p = sqrtP ** 2
ratio_star = (p >> 192) / (10 ** (ethDecimals - usdcDecimals))  # convert price into standard terms
sRatio_star = ratio_star ** (1/2)

tickPrice = 1.0001 ** (tick)                     # equation (6.1)
if tick < 0:
    tickLower = (int(tick / tickSpacing) - 1) * tickSpacing
    tickUpper = (int(tick / tickSpacing)) * tickSpacing
else:
    tickLower = (int(tick / tickSpacing)) * tickSpacing
    tickUpper = tickLower + tickSpacing
tickUpperPrice = 1.0001 ** (tickUpper)
tickLowerPrice = 1.0001 ** (tickLower)
tickUpperPrice_star = tickUpperPrice / (10 ** (ethDecimals - usdcDecimals))
tickLowerPrice_star = tickLowerPrice / (10 ** (ethDecimals - usdcDecimals))

x_virtual = (1 / sRatio_star) * liquidity_star     # equation (6.5)
y_virtual = sRatio_star * liquidity_star           # equation (6.6)

# if x_virtual * y_virtual = liquidity_star ** 2
# by equation (2.2):
# x_virtual = x_real + liquidity_star / tickUpperPrice ** (1/2)
# x_real = x_virtual - liquidity_star / tickUpperPrice ** (1/2)
# and:  y_real = y_virtual - liquidity_star * tickLowerPrice ** (1/2)

x_real = x_virtual - (liquidity_star / (tickUpperPrice_star ** (1/2)))
y_real = y_virtual - (liquidity_star * (tickLowerPrice_star ** (1/2)))```","",""
"843155325619535912","Etherscan Bot#5753","17/08/2021 8:52 pm","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"280121913064292352","thogard","17/08/2021 9:05 pm","I don’t quite understand what you’re trying to do","",""
"280121913064292352","thogard","17/08/2021 9:05 pm","The virtual numbers are pretty straightforward to get","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:08 pm","I'm sure it's me that's confused.  As I understand your code, per equations (6.5) and (6.6), you're calculating the virtual reserves for x and y.  I'm trying to determine how to get to real reserves from those values.  I *think* that's what's being show at:  https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8
--> go to liquidity, zoom into the current price -> shows current ETH locked of 1,180","",""
"280121913064292352","thogard","17/08/2021 9:09 pm","No I’m calculating real reserves","",""
"280121913064292352","thogard","17/08/2021 9:10 pm","Kk","",""
"280121913064292352","thogard","17/08/2021 9:11 pm","I see what you’re doing wrong","",""
"280121913064292352","thogard","17/08/2021 9:11 pm","Look at the bar one to the right of the one that’s 1180","",""
"280121913064292352","thogard","17/08/2021 9:11 pm","The difference between those two is what I’m calculating","",""
"280121913064292352","thogard","17/08/2021 9:11 pm","IE the real reserve in each tick","",""
"280121913064292352","thogard","17/08/2021 9:12 pm","That graph is showing cumulative reserves","",""
"280121913064292352","thogard","17/08/2021 9:12 pm","So to get that graph’s number you’d need to iterate over each tick","",""
"280121913064292352","thogard","17/08/2021 9:12 pm","And add them up","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:13 pm","yes - and again - I might be confused here, but I removed that difference in your code to try to get the virtual reserves at the current price.","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:14 pm","your code has this:  `((1/_sRatio) - (1/(_tickUpperPrice**(1/2)))) * _liquidity`","",""
"280121913064292352","thogard","17/08/2021 9:14 pm","Right","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:14 pm","so your taking the difference between the current price and the boundary","",""
"280121913064292352","thogard","17/08/2021 9:14 pm","That’s real reserve, not virtual","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:14 pm","and multiplying by liquidity","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:14 pm","really??","",""
"280121913064292352","thogard","17/08/2021 9:14 pm","Yes","",""
"280121913064292352","thogard","17/08/2021 9:15 pm","Because at the border tick, real reserve = 0","",""
"280121913064292352","thogard","17/08/2021 9:16 pm","So the delta X to go from that price to the current one is exactly equal to the real reserve","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:18 pm","ahh - I need to think that through.  So you're saying:  `((1/_sRatio) - (1/(_tickUpperPrice**(1/2)))) * _liquidity` get's you real reserves, but `(1/_sRatio) * _liquidity` is virtual reserves?","",""
"280121913064292352","thogard","17/08/2021 9:18 pm","I never solved for virtual reserves in my code","",""
"280121913064292352","thogard","17/08/2021 9:18 pm","Not once","",""
"280121913064292352","thogard","17/08/2021 9:19 pm","It’s a meaningless number imo","",""
"280121913064292352","thogard","17/08/2021 9:19 pm","I mostly do arbitrage, so slippage is what I’m focused on. I have to be really precise with it, which means knowing the real reserves in each tick","",""
"280121913064292352","thogard","17/08/2021 9:21 pm","Look at formula 6.7 and the paragraph above it","",""
"280121913064292352","thogard","17/08/2021 9:21 pm","It does a good job of explaining it","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:23 pm","ok - I appreciate it.  You've given me a few things to think through.  I'm interested in, at the point someone is setting their ranges, given a real amount of x or y, how much virtual liquidity they're providing throughout the range....and to estimate their cut of the fees, I need to know how much virtual liquidity is in there relative to the amount of virtual liquidity they are providing.","",""
"280121913064292352","thogard","17/08/2021 9:23 pm","Oh","",""
"280121913064292352","thogard","17/08/2021 9:23 pm","Well","",""
"280121913064292352","thogard","17/08/2021 9:24 pm","You’d have to break down their contribution into the respective ticks","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:24 pm","right","",""
"280121913064292352","thogard","17/08/2021 9:24 pm","And then find out what % of each tick they have","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:24 pm","exactly","",""
"280121913064292352","thogard","17/08/2021 9:24 pm","And then track volume per tick","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:24 pm","yep","",""
"280121913064292352","thogard","17/08/2021 9:24 pm","Idk how to do that last part","",""
"280121913064292352","thogard","17/08/2021 9:25 pm","🙂","",""
"280121913064292352","thogard","17/08/2021 9:25 pm","I’m sure there’s a way tho","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:27 pm","yeah - I'm trying to see what would have happened in the past...make some simplifying assumptions about the shape of the liquidity distribution, and then perhaps try to model trading volume as a function of price change, volatility, or something like that....then look at a simulation of the future using stochastic vol","",""
"844338578351849502","BearWhale#1776","17/08/2021 9:27 pm","but at this point, just trying to get my head around real vs. virtual liquidity","",""
"401842633464610837","_kfx","17/08/2021 9:56 pm","Ok, from reading your discussion @BearWhale if I think you are overcomplicating the code quite a lot. but conceptually, I think the main problem is that as you discussed - the code aims to produce something different from what the Uniswap UI code shows","","💯 (1),👍 (1)"
"401842633464610837","_kfx","17/08/2021 9:57 pm","the idea of getting the virtual reserves first is neat! very simple. but not sure how to convert it to real reserves in a way that would match the UI (this is your goal, right?)","",""
"401842633464610837","_kfx","17/08/2021 9:58 pm","so perhaps go the usual way and get real reserves first (with 6.29 and 6.30), and then convert them to virtual reserves simply by adding the extra terms","",""
"401842633464610837","_kfx","17/08/2021 9:58 pm","```x_virtual = x_real + liquidity / tickUpperPrice ** (1/2)
y_virtual = y_real + liquidity * ticLowerPrice ** (1/2)
```","",""
"280121913064292352","thogard","18/08/2021 12:04 am","no, if you want to get the real reserves that are shown on the UI then you'd need to use the formula i laid out and iterate through every possible tick, then sum them up","",""
"280121913064292352","thogard","18/08/2021 12:05 am","and then subtract each individual tick's reserves from the sum as you iterate outwards from the middle a second time","",""
"280121913064292352","thogard","18/08/2021 12:07 am","the UI is showing ""total real Y in all ticks above current"" and total real X in all ticks below current","",""
"280121913064292352","thogard","18/08/2021 12:08 am","so youd need to get all real X and Y first","",""
"280121913064292352","thogard","18/08/2021 12:08 am","there might be an easier way to do it but i can't think of it","",""
"280121913064292352","thogard","18/08/2021 12:08 am","there's no way to know how much real X or Y are in the farther away ticks until you get that tick's liquidity, and you won't know that until you iterate to it with netLiquidity","",""
"401842633464610837","_kfx","18/08/2021 12:11 am","I think we are talking about different things. With the numbers shown in the UI I mean not the 'Total tockens locked' but the values in the bins in the liquidity graph, for a single bin.","",""
"280121913064292352","thogard","18/08/2021 12:25 am","oh yeah we might be","",""
"280121913064292352","thogard","18/08/2021 12:44 am","actually i think the cod emight be wrong","",""
"280121913064292352","thogard","18/08/2021 12:44 am","i had altered it a little bit to take out some trade logic i use","",""
"280121913064292352","thogard","18/08/2021 12:45 am","i think i might've crossed the wires","",""
"280121913064292352","thogard","18/08/2021 12:50 am","oh","",""
"280121913064292352","thogard","18/08/2021 12:50 am","i know what it is","",""
"280121913064292352","thogard","18/08/2021 12:50 am","the center graph","",""
"280121913064292352","thogard","18/08/2021 12:50 am","err.. the center bin","",""
"280121913064292352","thogard","18/08/2021 12:50 am","i'm calculating the actual real reserves","",""
"280121913064292352","thogard","18/08/2021 12:51 am","sec","",""
"280121913064292352","thogard","18/08/2021 12:51 am","lemme make sure about this","",""
"280121913064292352","thogard","18/08/2021 1:00 am","ok","",""
"280121913064292352","thogard","18/08/2021 1:00 am","got it","",""
"280121913064292352","thogard","18/08/2021 1:01 am","0.30 Price: 145190855058.96057   tickLowerPrice: 144524544130.68475   tickUpperPrice: 145394254432.5852    L: 712730053269193816   x: 56.15682715919528   y: 814.0423302290312  tick: 257026","",""
"280121913064292352","thogard","18/08/2021 1:01 am","UI shows 810 eth","",""
"280121913064292352","thogard","18/08/2021 1:01 am","https://info.uniswap.org/#/pools/0xcbcdf9626bc03e24f779434178a73a0b4bad62ed","",""
"280121913064292352","thogard","18/08/2021 1:02 am","the UI is showing these numbers for the current tick","",""
"280121913064292352","thogard","18/08/2021 1:02 am","which is wrong, but that's what it's showing.. 
@kfx So the UI is showing this formula :","",""
"280121913064292352","thogard","18/08/2021 1:02 am","```_xMax = ( ( 1 / (_tickLowerPrice ** (1/2) ) ) - ( 1 / (_tickUpperPrice ** (1/2) ) ) ) * _liquidity
    
    _yMax = ( ( _tickUpperPrice ** (1/2) ) - ( _tickLowerPrice ** (1/2) ) ) * _liquidity```","",""
"280121913064292352","thogard","18/08/2021 1:02 am","they're calculating the total max eth in the tick rather than the actual eth in the tick","",""
"280121913064292352","thogard","18/08/2021 1:03 am","so for my previous formula, it's showing the *real* real reserves","",""
"280121913064292352","thogard","18/08/2021 1:03 am","the UI is showing the max real reserves for the tick","",""
"844675116088557568","veridelisi","18/08/2021 1:03 am","@thogard @kfx @BearWhale Team, please, we fix it and we show concentrated liquidity in python","",""
"280121913064292352","thogard","18/08/2021 1:06 am","wym?","",""
"844675116088557568","veridelisi","18/08/2021 1:06 am","this is my work with helping discord team","https://cdn.discordapp.com/attachments/765222888617017365/877274645047431188/concentrateduniswapv3.ipynb",""
"280121913064292352","thogard","18/08/2021 1:06 am","it's not broken","",""
"844675116088557568","veridelisi","18/08/2021 1:07 am","firstly I found center point, {'pools': [{'liquidity': '22326129932301853790', 'tick': '195725'}]}","",""
"844675116088557568","veridelisi","18/08/2021 1:08 am","2- I pulled all ticks and netliquidity","",""
"844675116088557568","veridelisi","18/08/2021 1:09 am","3-We found left limit  tick, it is 195720 and it is located in 326 in tickL","",""
"844675116088557568","veridelisi","18/08/2021 1:10 am","4- I pulled new serie for left side ticklower=tickL[0:326] liquiditylower=liquidityL[0:326]","",""
"844675116088557568","veridelisi","18/08/2021 1:11 am","5- I reversed this series (attention only these 2) ticklower.reverse() liquiditylower.reverse()","",""
"844675116088557568","veridelisi","18/08/2021 1:12 am","6-I found center point amounts","https://cdn.discordapp.com/attachments/765222888617017365/877276138563588096/Ekran_Goruntusu_-_2021-08-17_22-41-58.png",""
"280121913064292352","thogard","18/08/2021 1:12 am","i'm a finance guy, not a coder.. that's all going over my head, sorry 😦","",""
"280121913064292352","thogard","18/08/2021 1:12 am","what pool are you looking at?","",""
"844675116088557568","veridelisi","18/08/2021 1:13 am","7-I calculated left side","https://cdn.discordapp.com/attachments/765222888617017365/877276384995721226/Ekran_Goruntusu_-_2021-08-17_22-42-43.png",""
"844675116088557568","veridelisi","18/08/2021 1:14 am","8- I calculated right side","https://cdn.discordapp.com/attachments/765222888617017365/877276604705964042/Ekran_Goruntusu_-_2021-08-17_22-43-46.png",""
"844675116088557568","veridelisi","18/08/2021 1:14 am","ETH/USDC %3 un clasico","",""
"280121913064292352","thogard","18/08/2021 1:14 am","ok","",""
"844675116088557568","veridelisi","18/08/2021 1:15 am","dont go. I m also finance academician. we need to talk with developers 🙂","",""
"280121913064292352","thogard","18/08/2021 1:16 am","ok so i got 0.30 Price: 319453062.0251265   tickLowerPrice: 317828079.88298523   tickUpperPrice: 319740684.81088954    L: 22390572229607653285   xMax: 3761987.562260625   yMax: 1199.2574853089998  tick: 195831","",""
"280121913064292352","thogard","18/08/2021 1:17 am","and the UI shows 1.20k eth locked","",""
"280121913064292352","thogard","18/08/2021 1:17 am","so it works there too","",""
"401842633464610837","_kfx","18/08/2021 1:18 am","I'm somewhat a coder 🙂 ok, so up to 7 I think you are correct. The bit `tickA = tick / 60 * 60` is dodgy, but in Python 2 it will work (not in Python 3 though)","",""
"280121913064292352","thogard","18/08/2021 1:19 am","yeah for 7 and 8 your math is off","",""
"280121913064292352","thogard","18/08/2021 1:19 am","you don't need to multiply by 2**96","",""
"280121913064292352","thogard","18/08/2021 1:19 am","you only do that to q64.96 numbers","",""
"280121913064292352","thogard","18/08/2021 1:19 am","you did that on 6 also","",""
"280121913064292352","thogard","18/08/2021 1:20 am","i think there are other errors too but that's the first one i saw","",""
"401842633464610837","_kfx","18/08/2021 1:20 am","also the iterations look wrong - I think you want just one for loop, not two?","","😆 (1)"
"844675116088557568","veridelisi","18/08/2021 1:20 am","could you send us you LAST code ? it is working on web3, isnt it?","",""
"280121913064292352","thogard","18/08/2021 1:20 am","yeah i use web3py","",""
"280121913064292352","thogard","18/08/2021 1:20 am","sec lemme take the trad elogic back out","",""
"401842633464610837","_kfx","18/08/2021 1:21 am","something like `for tick, liquidity in zip(ticklower, liquiditylower):`","",""
"844675116088557568","veridelisi","18/08/2021 1:22 am","kfx, please take the control 🙂","",""
"844675116088557568","veridelisi","18/08/2021 1:23 am","@danrobinson help us, we are finance guys not developers. This is your code","",""
"280121913064292352","thogard","18/08/2021 1:25 am","no need for more help, it's all in the whitepaper","",""
"401842633464610837","_kfx","18/08/2021 1:25 am","what exactly you want to do? print the amount of assets in each bin? for one, as thogard said, only a single asset is locked in each bin, except the bin where the current price is","","😆 (1)"
"401842633464610837","_kfx","18/08/2021 1:26 am","If you want me to rewrite your code you can hire me for freelancing 😄","","😆 (1)"
"280121913064292352","thogard","18/08/2021 1:27 am","and the subgraph assumes only a single asset is in the current bin, too","","👍 (1)"
"280121913064292352","thogard","18/08/2021 1:27 am","hence the earlier confusion","",""
"280121913064292352","thogard","18/08/2021 1:31 am","what's the easiest way to get netLiquidity in web3py?","",""
"844675116088557568","veridelisi","18/08/2021 1:42 am","v3Abi is","https://cdn.discordapp.com/attachments/765222888617017365/877283797354295356/Ekran_Goruntusu_-_2021-08-17_23-12-23.png",""
"280121913064292352","thogard","18/08/2021 7:07 am","what's the second best way?","",""
"280121913064292352","thogard","18/08/2021 7:07 am","specifically i'm looking at scenarios where the the nearest tick that's divisible by tickSpacing isn't initialized","",""
"844675116088557568","veridelisi","18/08/2021 2:34 pm","@thogard @BearWhale @kfx what do you think? We pulled center point amount with this? ısnt it?","",""
"844675116088557568","veridelisi","18/08/2021 2:35 pm","tick=196158

liquidity=21362531309610627706

sqrtP=1439413135885479345492972881900329


liquiditystar=liquidity/(10**12)


p=sqrtP**2

ratio_star=(p>>192)/(10**12)

sRatio_star=ratio_star**(1/2)


tickPrice=1.0001**tick

s=60


if int(tick)<0:

        tickLower=((int(tick)/s)-1)*s

        tickUpper=(int(tick)/s)*s

else:

        tickLower=(int(tick)/s)*s

        tickUpper=tickLower+s



tickUpperPrice=1.0001**(tickUpper)

tickLowerPrice=1.0001**(tickLower)

tickUpperPrices_star=tickUpperPrice/(10**12)

tickLowerPrices_star=tickLowerPrice/(10**12)




xMax=(  ( 1 / (tickLowerPrice**(1/2)) ) -   ( 1 / (tickUpperPrice**(1/2)))   )  *liquidity

yMax= (   (tickUpperPrice**(1/2))  -    (tickLowerPrice**(1/2))        )        *liquidity


x_virtual=(1/sRatio_star)*liquiditystar

y_virtual=sRatio_star*liquiditystar


x_real=x_virtual- (liquiditystar/ (tickUpperPrices_star**(1/2)))

y_real=y_virtual-(liquiditystar/ (tickLowerPrices_star**(1/2)))


print(x_real)

print(y_real)","",""
"844675116088557568","veridelisi","18/08/2021 2:36 pm","x_real is 3516673 is consistent with graph","",""
"876340059790540810","0xSh#7533","18/08/2021 9:08 pm","When looking at a position, how do I turn tickLower and tickUpper to actual values? It seems to be returning the tick id","",""
"401842633464610837","_kfx","18/08/2021 11:33 pm","@veridelisi hello man, I have committed an example that shows how to go through all the ticks - check it out: https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py","","👍 (3)"
"401842633464610837","_kfx","18/08/2021 11:36 pm","example output: ```
...
tick=195660 price=3184.336897 USDC for WETH
        1193.68 WETH locked (potentially worth 3789699.28 USDC)
tick=195720 price=3165.289029 USDC for WETH
        1199.90 WETH locked (potentially worth 3786639.86 USDC)
tick=195780 price=3146.355100 USDC for WETH
        1218.77 WETH locked (potentially worth 3823192.07 USDC)
tick=195840 price=3127.534429 USDC for WETH
        Current tick, both assets present!
        1332170.50 USDC and 781.24 WETH remaining in the current tick range
        potentially 3770791.99 USDC or 1209.30 WETH in total in the current tick range
tick=195900 price=3108.826338 USDC for WETH
        3748424.25 USDC locked (potentially worth 1209.36 WETH)
tick=195960 price=3090.230154 USDC for WETH
        3782324.42 USDC locked (potentially worth 1227.64 WETH)
tick=196020 price=3071.745208 USDC for WETH
        3762895.47 USDC locked (potentially worth 1228.68 WETH)
tick=196080 price=3053.370833 USDC for WETH
        3740185.70 USDC locked (potentially worth 1228.62 WETH)
...
```","",""
"844675116088557568","veridelisi","19/08/2021 1:30 am","Totally I respect you. This is very clever and short code.  Thank you very much your kindly collaboration. Every information will be valuable if we share our knowledge on it.","",""
"828995301079121940","blkboxeconomist","19/08/2021 3:34 am","Question. I was trying to match the values from https://v2.info.uniswap.org/ with the values from https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v2. It looks like the website is actually still referencing an old subgraph built by a engineer at Uniswap (https://thegraph.com/legacy-explorer/subgraph/ianlapham/uniswapv2). The website lists yesterday's volume as 564M and the subgraph lists 529M (seemingly due to differences in the subraphs of what is tracked/not tracked).

Is this on purpose or have the website requests just not been updated?

(example query to match volume below)

```
{
  uniswapDayDatas (
    orderBy: date,
    orderDirection: desc,
    where: {
      date: 1629158400
    }
  ){
    id,
    date,
    dailyVolumeUSD,
  }
}
```","",""
"844675116088557568","veridelisi","19/08/2021 4:01 am","https://merkeziyetsizfinans.medium.com/uniswap-v3-the-concentrated-liquidity-python-483841c24bcf Thanks to uniswap subgraph-api discord team : @kfx  @loc and @thogard","","👏 (2)"
"280121913064292352","thogard","19/08/2021 6:51 am","Glad you got it working 🙂","",""
"401842633464610837","_kfx","19/08/2021 10:01 pm","Looking at the detailed output of the liquidity range of that pool - it's funny how there are some small peaks at around 2500 ETH for USDC and 3500 ETH for USDC. I think someone mixed their prices up 🙂","",""
"401842633464610837","_kfx","19/08/2021 10:01 pm","Also, there is a small peak at 1 USDC for 1 ETH price (someone living in 2015? 😆 )","",""
"317093111366942730","eric_tm","19/08/2021 11:40 pm","Has anyone calculated price impact for UniV3 using the Graph? 

I'm currently working on a query right now and would like help","",""
"844338578351849502","BearWhale#1776","20/08/2021 12:28 am","Awesome work - the only issue I'm struggling with is the reported Total Tokens Locked.  Wouldn't the Total Tokens Locked be the sum of your adjusted_amount0 and adjusted_amount1, respectively?  While your numbers appear to match exactly for each tick, when I sum these amounts (within the if statement), I get materially lower totals.  I get the same results within my code as well, so not sure what I'm missing or misinterpreting.
At the time, Uniswap reports 205.48m of USDC and 51.87k of ETH.  I get 168.96m of USDC and 37.04k of ETH","",""
"401842633464610837","_kfx","20/08/2021 1:00 am","interesting! I'll look more into this. One problem with using my code this way is that it does not actually process all ticks with some liquidity - just ticks with nonzero liquidityNet. This was done to make the output shorter. If you comment out the ""if"" block starting with `if liquidity_delta == 0:` the total amount will be higher","",""
"401842633464610837","_kfx","20/08/2021 1:00 am","on the other hand, I don't know what exact the total amounts in the UI show. Look at the liquidity distribution of a very simple pool like this: https://info.uniswap.org/#/pools/0x7cf12cef5ce9e5e068ebdef470ff8295e26c47b9","",""
"401842633464610837","_kfx","20/08/2021 1:02 am","the ""Total Tokens Locked"" in the UI is off by a factor of 20, compared with what you see in the liquidity tab of the UI","",""
"844338578351849502","BearWhale#1776","20/08/2021 1:21 am","yeah - very strange","",""
"399837248193036299","0udeis","20/08/2021 3:16 am","Hi. How do I calculate TVL in Uniswap V2 subgraph?","",""
"399837248193036299","0udeis","20/08/2021 7:11 am","another question, l have noticed that Pair contract template in https://github.com/Uniswap/uniswap-v2-subgraph/blob/master/subgraph.yaml  has ""network: rinkeby"" and  not mainnet (Factory in dataSources has ""network: mainnet""). Is it a bug and the deployed subgraph is indexing rinkeby pairs?","",""
"844675116088557568","veridelisi","21/08/2021 12:31 am","could we control from positions?","",""
"844675116088557568","veridelisi","21/08/2021 12:31 am","{
  positions( first:1000,  orderBy:id, orderDirection:desc,  where:{pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""})
  {
   depositedToken0
    withdrawnToken0
    withdrawnToken1
    depositedToken1
    tickLower{tickIdx}
    tickUpper{tickIdx}
   transaction{id}
  }
}","",""
"843155325619535912","Etherscan Bot#5753","21/08/2021 12:31 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"401842633464610837","_kfx","21/08/2021 1:53 pm","hmm, the problem is that the amount of deposited tokens will not match the amount of current tokens.","",""
"456226577798135808","Deleted User","21/08/2021 2:00 pm","Is the optimism subgraph dead?","",""
"471357824299958273","crypto_rachel","21/08/2021 2:05 pm","@Deleted User it is currently down","",""
"456226577798135808","Deleted User","21/08/2021 2:05 pm","It's been showing an indexing error for the past day or two any reason why?","",""
"456226577798135808","Deleted User","21/08/2021 2:05 pm","Maybe an upgrade or something?","",""
"471357824299958273","crypto_rachel","21/08/2021 2:06 pm","not sure I don't see anything","",""
"456226577798135808","Deleted User","21/08/2021 2:06 pm","So unknown failure?","",""
"471357824299958273","crypto_rachel","21/08/2021 2:08 pm","not sure","",""
"456226577798135808","Deleted User","21/08/2021 2:08 pm","Where can I raise this as an issue then?","",""
"471357824299958273","crypto_rachel","21/08/2021 2:09 pm","looks like an issue with subgraph, I'd check with them","",""
"471357824299958273","crypto_rachel","21/08/2021 2:09 pm","they have a discord","",""
"456226577798135808","Deleted User","21/08/2021 2:09 pm","Other optimism network subgraphs are doing fine","",""
"471357824299958273","crypto_rachel","21/08/2021 2:10 pm","https://discord.gg/ehWhvkz9rv","",""
"471357824299958273","crypto_rachel","21/08/2021 2:11 pm","yeah, but querying through the site returns error","",""
"456226577798135808","Deleted User","21/08/2021 2:12 pm","@Crypto_Rachel So optimism had an issue with block hashes recently. Ya'll need to trigger a resync of the subgraph","",""
"471357824299958273","crypto_rachel","21/08/2021 2:13 pm","I'll push this up to the team, tbh I don't use the graph","",""
"456226577798135808","Deleted User","21/08/2021 2:15 pm","ok","",""
"706141817007243274","chunrapeepat","22/08/2021 12:11 pm","Hello, is there any update on the optimism subgraph?","",""
"650090640612392960","gift#4544","24/08/2021 12:14 am","Hi, thank you for your awesome code! I tried to sum the amounts of locked USDC/WETH tokens and compare them with the amounts provided by uniswap.info and they didn't match. E.g. 228M/41.33k at uniswap.info vs 193M/26.99k returned by script. Can't find the cause of difference.
I summed the `adjusted_amount1` if `tick < current_range_bottom_tick`, `adjusted_amount0 `otherwise and both adjusted amounts at the current tick.","",""
"401842633464610837","_kfx","24/08/2021 12:45 am","This is something that @veridelisi pointed out earlier. So i was literally looking into it just now. What the UI shows is basically the value of `totalValueLockedToken0` and `totalValueLockedToken1` of that pool.","","👍 (1)"
"401842633464610837","_kfx","24/08/2021 12:46 am","To cross check whether my code is wrong or the totalValueLockedToken0/1 is wrong I crosschecked with position data as Veridelisi suggested.","",""
"401842633464610837","_kfx","24/08/2021 12:46 am","For a very simple pool like https://info.uniswap.org/#/pools/0x7cf12cef5ce9e5e068ebdef470ff8295e26c47b9","",""
"401842633464610837","_kfx","24/08/2021 12:46 am","The numbers from the position data are roughly the same as from the tick data","",""
"401842633464610837","_kfx","24/08/2021 12:47 am","So I suspect that the totalValueLockedToken0/1 is wrong","",""
"291828960872890368","thanpolas","24/08/2021 2:35 am","I want to figure this problem out too, didn't have the time yet, but I found this which might be helpful: https://docs.google.com/spreadsheets/d/1VH-lbF9RDUpVozGeA3BtWwypjW66MjcD1DnOYzcHmzk/edit#gid=0","",""
"799382295584833587","Dilara#7228","24/08/2021 9:02 pm","Hi @yekta I have question for subgraph api v3. Could you help me?","",""
"799382295584833587","Dilara#7228","24/08/2021 9:15 pm","token(id: ""tokenId"") {
      derivedETH
    }","",""
"799382295584833587","Dilara#7228","24/08/2021 9:15 pm","The derivedETH value cannot be read from this query because it sometimes returns null for the token. Do you have any idea?","",""
"799382295584833587","Dilara#7228","24/08/2021 9:18 pm","Actually this is the case for v2 and v3","",""
"399707578680082434","pantsparty.","24/08/2021 11:43 pm","is the optimism graph/pool/info site going to be fixed at all?  pretty tough to know where to add liquidty with zero info on anything","",""
"650090640612392960","gift#4544","25/08/2021 12:24 am","Hi, I crosschecked the position data with another small pool (AAVE/ETH, https://info.uniswap.org/#/pools/0x5ab53ee1d50eef2c1dd3d5402789cd27bb52c1bb).
It looks like that the script misses some ticks with open positions. Displaying the full range solves this problem and the total amounts of tokens locked are much closer to those provided by uniswap.info but still don't match. No solution yet, as all this V3 liquidity math looks counterintuitive for me at least for the moment.
Other confusing issue is decreasing liquidity at some ticks towards the current tick range. For example, it looks odd that there is more liquidity in the 2505 USD/ETH range than in the 2520 USD/ETH range, as one should expect that the total liquidity could increase towards the current market price.","",""
"401842633464610837","_kfx","25/08/2021 1:37 am","There must be at least one pool where the token is paired with a whitelisted token that has at least 52 ETH of value locked in that pool. Otherwise the UI does not shows the price as zero.","",""
"401842633464610837","_kfx","25/08/2021 1:38 am","the script as is it skips ticks with liquidityNet equal to zero. If you comment our that `if` statement you should get closer results for sure","",""
"401842633464610837","_kfx","25/08/2021 1:39 am","Feel free to crosscheck that closer result with position data. The query is: ```{
  positions(where: {pool:""0x5ab53ee1d50eef2c1dd3d5402789cd27bb52c1bb""})
  {
    id
    withdrawnToken0
    withdrawnToken1
    depositedToken0
    depositedToken1
    tickLower{tickIdx}
    tickUpper{tickIdx}
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","25/08/2021 1:39 am","<https://etherscan.io/address/0x5ab53ee1d50eef2c1dd3d5402789cd27bb52c1bb>","",""
"650090640612392960","gift#4544","25/08/2021 10:03 am","Skipping ticks with zero liquidityNet omits the ticks marked with green in a screenshot below:","https://cdn.discordapp.com/attachments/765222888617017365/879946439017525308/20210425-01.png",""
"650090640612392960","gift#4544","25/08/2021 10:07 am","While Uniswap displays these ticks in the liquidity chart. Tick_mapping is a result of a tick_query without subsequent calculation, so is it possible that the query returns not all ticks for some reason?","",""
"799382295584833587","Dilara#7228","25/08/2021 11:01 am","So, I will not be able to read the devidedETH value (ie eth equivalent - price) without a pool that meets the conditions for the token. Did I get right? Then how can I read price from uniswap?","",""
"799382295584833587","Dilara#7228","25/08/2021 11:26 am","@kfx , I noticed that;
for example ""0x514910771af9ca656af840dff83e8264ecf986ca"" I didn't get results for this token yesterday, I can get it today. What is the reason of this?","",""
"843155325619535912","Etherscan Bot#5753","25/08/2021 11:26 am","<https://etherscan.io/address/0x514910771af9ca656af840dff83e8264ecf986ca>","",""
"401842633464610837","_kfx","25/08/2021 2:00 pm","Chainlink should have more than enough paired ETH locked, so I cannot answer that","",""
"799382295584833587","Dilara#7228","25/08/2021 2:03 pm","I get it, this was just an example. I was wondering if we can actually find out the token price on the testnet.","",""
"764772084001407009","mubashirali.","25/08/2021 4:51 pm","Hey Guys i'm making a subgraph in which i'm binding nonFungiblePositionManager contract and i'm calling try_positions with the token id coming in the IncreaseLiquidity event of NFT_Manager contract. The issue is that many calls to try_positions are getting reverted even. Can anyone tell me why is it happening on the tokenId coming from the nft contract of uniswap??","",""
"799382295584833587","Dilara#7228","25/08/2021 6:12 pm","Hi @kfx , Does Uniswap have subgraph working for testnet?","",""
"844338578351849502","BearWhale#1776","26/08/2021 3:38 am","So, looking at the USDC/WETH pool again.  The minimum tick is -887,220.  The next tick is -887,160...in line with expected tick spacing.  The following tick is -759,900.  And there are a number of big tick increases until you get closer to the prevailing price.

So - while a number of the ticks are not initialized in the tails of the liquidity distribution, and thus they have no reported ""liquidityNet"", do they actually have zero liquidity?  I haven't done it yet, but if we assume liquidityNet is zero in these uninitialized ticks, thus positive liquidity in those ticks (albeit small), would we get closer to the reported numbers?  If V3 allows you to select ""full range"" now to emulate V2, as long as one person chose that option, wouldn't you have liquidity within every single tick space?","","👍 (1)"
"401842633464610837","_kfx","26/08/2021 12:51 pm","@BearWhale you are correct, zero liquidityNet does not mean that the total liquidity locked in the is zero. The v3 whitepaper clearly says that. When we sum up the liquidities, we need to include. Still, even with those liquidities included, the total value is still far from the numbers reported in the UI.","",""
"844338578351849502","BearWhale#1776","26/08/2021 8:29 pm","@kfx ahh - ok...I was just iterating over the ticks extracted from the subgraph...in looking at your code, you appear to be iterating over the full domain...min_tick to max_tick with increments of tick_spacing.

It's interesting that, of the 800 or so ticks queried from the subgraph, there are quite a few ticks that show liquidityNet of 0.  Yet there are around 30,000 possible ticks between -887220 and +887220 with spacing of 60...of which, many we assume have liquidityNet of 0.  I don't know why certain ticks have stated liquidityNet of 0...vs. thousands of other ticks where we assume, because they're not in query results from the subgraph, that have liquidityNet of 0.","",""
"650090640612392960","gift#4544","26/08/2021 10:18 pm","I'm trying to understand the same issue, namely (i) why there are tick ranges with zero tokens locked, as in you post above and (ii) why the script returns different amounts of tokens locked by skipping some tick ranges compared to uniswap.info.","",""
"650090640612392960","gift#4544","26/08/2021 10:20 pm","The whitepaper states that some tick ranges may have zero net liquidity while containing positions (""Since Δ𝐿 is a net value, it’s
necessary to track a gross tally of liquidity referencing the tick,
liquidityGross. This value ensures that even if net liquidity at
a tick is 0, we can still know if a tick is referenced by at least one
underlying position or not, which tells us whether to update the
tick bitmap.""), but I can't still answer both questions above.","",""
"650090640612392960","gift#4544","26/08/2021 10:29 pm","Since the script queries liquidityNet directly from the graph, so it may be that the query response is inaccurate or incomplete. I wonder if it is possible to query all ticks, recalculate the net liquidity and compare it to that returned by the query.","",""
"401842633464610837","_kfx","27/08/2021 1:54 am","I think that only ticks that have ever been initialized (active) are in the results returned by the subgraph query. It is possible to get the ticks directly from Web3, but again, you're not going to get info about ticks that are not initialized (even the tick has some liquidity).","",""
"401842633464610837","_kfx","27/08/2021 1:55 am","I have crosschecked the active ticks from a web3 query for a smaller pool, and indeed they match the non-zero ticks returned by a subgraph query","",""
"401842633464610837","_kfx","27/08/2021 1:56 am","https://info.uniswap.org/#/pools/0x7cf12cef5ce9e5e068ebdef470ff8295e26c47b9 - this pool","",""
"401842633464610837","_kfx","27/08/2021 1:58 am","you can also see that the ""Total Tokens Locked"" is clearly wrong for that particular pool. At the current price, there should be no DAI locked, but the UI shows 415.99 DAI locked","",""
"844338578351849502","BearWhale#1776","27/08/2021 2:07 am","So, a liquidityNet of 0 would imply that someone previously set that tick as a boundary, yet subsequently removed their liquidity?  Based on the whitepaper, it would seem that the tick would become uninitialized, but perhaps it still resides in the graph as liquidityNet of 0?

This is from the whitepaper:   An initialized
tick can become uninitialized again if all of the liquidity for which
it is an endpoint is removed, in which case that tick’s position on
the bitmap is zeroed out.","",""
"401842633464610837","_kfx","27/08/2021 2:23 am","the whitepaper talks about the smart contract itself. subgraph is a different story. it looks like they do not remove uninitialized ticks, if they once had been initialized","",""
"401842633464610837","_kfx","27/08/2021 2:26 am","I mean, the contract is constrained by by gas fees, but the subgraph database isn't. they can afford to keep the list of old ticks in their database.","",""
"401842633464610837","_kfx","27/08/2021 2:27 am","liquidityNet can also be zero in other cases - for example, if one position ends at that tick and a different position with the same liquidity starts","",""
"844338578351849502","BearWhale#1776","27/08/2021 2:37 am","seems possible, but highly unlikely.  Not sure how you do it, but for an individual, I derive their virtual liquidity (as a function of their selected range, current price, and an actual/real amount to one of the tokens).  I then use that virtual liquidity to derive how their actual tokens are distributed across the liquidity range by tick / tick spacing.  It would seem that a lot of variables would need to align for the aggregate liquidityNet to be zero from that scenario, although possible, I guess.","",""
"379449105757503498","mrhavercamp","27/08/2021 7:46 am","I can get the LP token balance using liquidityTokenBalance but how do I get the number of tokens the user has in each LP? It seems that pairs only has the total liquidity of each token but not the user's own share?","",""
"207347119927853061","awitk","27/08/2021 12:58 pm","Yeah hopefully this gets fixed soon","",""
"844675116088557568","veridelisi","27/08/2021 11:52 pm","https://t.co/8Ha2SY4BFd?amp=1","","👍 (1)"
"650090640612392960","gift#4544","28/08/2021 4:04 pm","I'm still comparing the script and uniswap.info outputs for a small AAVE/ETH pool. The script returned 24.28 ETH locked at -21840 tick and 24.14 ETH at the adjacent -21960 tick. However, uniswap.info liquidity graph returns 24.28, 24.21 and 24.14 ETH locked.","",""
"650090640612392960","gift#4544","28/08/2021 4:05 pm","","https://cdn.discordapp.com/attachments/765222888617017365/881124779019603988/20210828-01.png",""
"650090640612392960","gift#4544","28/08/2021 4:07 pm","","https://cdn.discordapp.com/attachments/765222888617017365/881125367585325056/20210828-02.png",""
"650090640612392960","gift#4544","28/08/2021 4:08 pm","","https://cdn.discordapp.com/attachments/765222888617017365/881125689892429834/20210828-03.png",""
"650090640612392960","gift#4544","28/08/2021 4:09 pm","","https://cdn.discordapp.com/attachments/765222888617017365/881125909938196510/20210828-04.png",""
"650090640612392960","gift#4544","29/08/2021 1:28 am","So the -21900 tick is missing in the script output. Checking the tick_mapping shows that it is included with 0 net liquidity.","",""
"401842633464610837","_kfx","29/08/2021 7:06 pm","Ah ok, but by default the script does skip ticks with 0 net liquidity, so that's as expected. If you modify the script to calculate the total value locked, you need to include those ticks. The `if liquidity_delta == 0:`  line is relevant, if you comment out that, it will go through all ticks","",""
"650090640612392960","gift#4544","29/08/2021 9:47 pm","Commenting out this line would go through all possible ticks. It looks like that the script should iterate through all ticks returned by the Graph query even if their net liquidity is zero.
I am not sure yet and will try to check it out.","",""
"749264487218937888","0xnoahc","30/08/2021 11:37 am","Guys, why are all fees and volumes 0 in uniswap v3 official subgraphs?","https://cdn.discordapp.com/attachments/765222888617017365/881782098619408394/unknown.png",""
"749264487218937888","0xnoahc","30/08/2021 12:06 pm","It's pool hour data","",""
"749264487218937888","0xnoahc","30/08/2021 12:06 pm","this is my query","https://cdn.discordapp.com/attachments/765222888617017365/881789549481701416/unknown.png",""
"319325089369817089","boka44","30/08/2021 8:50 pm","Is volumes in v3 similar to reserves in v2? Or is it totalValueLockedToken?","",""
"617127949480493077","yj_alt","31/08/2021 12:09 am","Volume is the trade volume. That metric is measured in a similar way in both v2 and v3, ie it's just the trade amount volume. Nothing to do with reserves or TVL.","",""
"401842633464610837","_kfx","31/08/2021 12:47 am","Hi man - I updated the code on github with total value calculation and fixed some bugs showing up when running it with other pools.","",""
"650090640612392960","gift#4544","31/08/2021 12:48 am","Hi, thanks a lot, I'm already testing it 🙂","",""
"401842633464610837","_kfx","31/08/2021 12:48 am","regarding the ""Total tokens locked"" I created an Issue on uniswap github, asking for clarification","","👍 (2)"
"650090640612392960","gift#4544","31/08/2021 12:52 am","Uniswap.info displays same amounts of tokens locked as returned by the pool smart contracts.","",""
"749264487218937888","0xnoahc","31/08/2021 8:19 am","Guys no tick datas are being provided. How can I get tick datas?","https://cdn.discordapp.com/attachments/765222888617017365/882094802747940874/unknown.png",""
"749264487218937888","0xnoahc","31/08/2021 10:44 am","Who is the person in charge of uniswap v3 official subgraph? I want direct communication. The subgraph is not properly providing the data that I want even though it has to.","",""
"844675116088557568","veridelisi","31/08/2021 10:54 am","@Noah Zinsmeister","",""
"401842633464610837","_kfx","31/08/2021 12:26 pm","which function you use to read that?","",""
"617127949480493077","yj_alt","31/08/2021 3:31 pm","There is no ""volumeUSD by tick"". See: https://github.com/Uniswap/uniswap-v3-subgraph/blob/main/src/utils/tick.ts","",""
"319325089369817089","boka44","31/08/2021 4:06 pm","Thanks. How would you get reserves in v3 though?","",""
"617127949480493077","yj_alt","31/08/2021 8:37 pm","You mean the liquidity/locked tokens? Have a look at github repo for uniswap-v3-info and uniswap-v3-sdk. I haven't looked into the details much myself..","",""
"650090640612392960","gift#4544","31/08/2021 10:37 pm","I checked pool smart contract token balances, but they don't match the Uniswap.info locked token amounts after all. I'll try to crosscheck a couple of smaller pools with your new script.","",""
"617127949480493077","yj_alt","31/08/2021 10:48 pm","@0xsharma please stick to one message/channel, and not cross-post duplicates too much. Thanks.","",""
"542758572162023426","0xsharma","31/08/2021 10:50 pm","Yes I posted it here again.. as this was a dedicated subgraph channel.. my apologies !","","np (1)"
"749264487218937888","0xnoahc","01/09/2021 11:14 am","Guys, I queried mint and burn datas of the pool and got -ticks from the response. What does -tick mean?","https://cdn.discordapp.com/attachments/765222888617017365/882501130217746462/image.png",""
"401842633464610837","_kfx","01/09/2021 2:00 pm","anyone knows what's the subgraph API URL for uniswap on Arbitrum?","",""
"455337717383954432","mwamedacen","01/09/2021 2:14 pm","Hi folks, the candlesticks chart is broken on Uniswap Info. I did a bit of investigation and it seems like the subgraph is the one to blame (tokenHourDatas). Do you know anything about this problem ?","",""
"650090640612392960","gift#4544","01/09/2021 6:02 pm","if you mean negative ticks, then price=1.0001^(tick).","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","01/09/2021 11:15 pm","Hi, I wonder what is the calculation to get the uncollectedFees of a position. When calling the subgraph I get
```
""feeGrowthInside0LastX128"": ""946473287707704477165742195067358332049286"",
""feeGrowthInside1LastX128"": ""24104081653194999825509743111198""
```","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","01/09/2021 11:16 pm","What does the `lastX128` means? Is it a Q notation?","",""
"749264487218937888","0xnoahc","02/09/2021 6:45 pm","Guys this is amount sum of ETH/USDC 0.05% pool that I got from mint/burn datas in uniswap v3 official subgraph. amount0 is USDC liquidity added, and amount1 is ETH liquidity added. How can net liquidity of USDC negative?","https://cdn.discordapp.com/attachments/765222888617017365/882977068332249088/image.png",""
"749264487218937888","0xnoahc","02/09/2021 6:46 pm","I think there is an error in the subgraph","",""
"749264487218937888","0xnoahc","02/09/2021 6:47 pm","Can somebody please handle this problem?","",""
"617127949480493077","yj_alt","02/09/2021 8:28 pm","I think `mint` and `burn` only (without considering `swap`) can indeed result in negative sums, since it depends on when/how LPs put in and take out the tokens at different prices.

I highly doubt it's a problem with the subgraph data itself. You need to check what you are trying to do, and how you are doing it.","","👍 (1)"
"542758572162023426","0xsharma","02/09/2021 10:04 pm","Hello everyone..

I am integrating Uni V3 with my defi dashboard project using the Graph Protocol.. 
I am able to get a user's liquidity percent in any pool and the total liquidity in USD..

How can I get a user's liquidity position in USD in a particular pool..??

{I tried doing **LiquidityPercent*totalLiquidityUSD** but it's not giving me the correct results}.

Thank you !","",""
"617127949480493077","yj_alt","02/09/2021 10:40 pm","I think we've been through this previously. V3 doesn't naturally have the idea/metric of ""user's liquidity percent"".","",""
"617127949480493077","yj_alt","02/09/2021 10:41 pm","We've asked you before, how you arrived at such a ""user's liquidity percent"", but you never really said anything more.

Unfortunately, asking the same question again, without any additional new info, isn't likely to get you any new answer...","",""
"542758572162023426","0xsharma","02/09/2021 11:28 pm","Hi @yj ,

If I add liquidity in a pool..
I would like to know how much value of liquidity **(in USD)** is in the pool.

For example if I add 100 DAI and Equivalent ETH..

How can I see that I have 200USD worth liquidity in DAI/ETH pool?","",""
"617127949480493077","yj_alt","02/09/2021 11:41 pm","The position manager will show you. For v3 you can see it from: https://app.uniswap.org/#/pool","",""
"542758572162023426","0xsharma","02/09/2021 11:44 pm","If I want to use Uniswap Subgraph for that, what will be the way.. I am integrating Uni V3 with our Organisation's dashboard.","",""
"542758572162023426","0xsharma","03/09/2021 1:57 am","Can this be solved?","",""
"617127949480493077","yj_alt","03/09/2021 3:25 am","You can probably ask for the Position data (for the position ID) from subgraph, and work out the rest","",""
"617127949480493077","yj_alt","03/09/2021 3:26 am","Eg it'll give you what was the token amounts deposited (token0 and token1), what is the price range (lower and upper ticks)","",""
"617127949480493077","yj_alt","03/09/2021 3:26 am","The rest will just follow (from maths)","",""
"542758572162023426","0xsharma","03/09/2021 3:27 am","Thank you for your help,

What about fees garnered over time?","",""
"617127949480493077","yj_alt","03/09/2021 3:28 am","It's also in the Position subgraph data. Have a look at the sdk docs, subgraph data schema, and cross reference with v3 whitepaper","",""
"399617942087532545","_connormartin","03/09/2021 8:04 pm","☕ Uniswap Labs Developer Office Hours #1  ☕ 
Friday (September 3rd) at 13:00 EST
agenda:
----------------------------------------------------
Open question format!

This is an open office hours where developers in the community can ask any technical questions on their mind, and developers at Uniswap labs will be available to answer live. 

The forum will be in a live chat in the #uniswap-developers channel group.
 
Come hang out on Friday! anyone is welcome to listen, learn, and ask questions. No requirements to participate, all we ask is that all those attending be respectful of everyones time - so that all questions can be answered.
----------------------------------------------------","",""
"650090640612392960","gift#4544","04/09/2021 11:33 am","Hi @kfx,
I compared the script output with uniswap.info data on YGG/USDC pool (0x7ec0b75a98997c927ace6d87958147a105147ea0), as it is small and does have a handy liquidity distribution. As printing tick with non-zero `liquidity_delta` skips some ticks with liquidity, I changed `should_print_tick = PRINT_ALL_TICKS or liquidity_delta != 0` to `should_print_tick = True if tick in tick_mapping else False or PRINT_ALL_TICKS` to calculate liquidity for all ticks returned by `tick_query`.
However:
1. some of ticks displayed in the uniswap.info liquidity chart are still missing in the script output. I’ll try to get through all ticks a bit later, but it is unclear whether the `tick_query` is accurate.
2. amounts of token0 locked seem to be shifted by one tick spacing compared to uniswap.info chart. E.g., at the time of writing uniswap.info displayed 13260 YGG locked @8.6046 price, while the script displayed that this amount is locked at the next tick, namely 8.78 YGG/USDC and it was so for all token0 values.","",""
"843155325619535912","Etherscan Bot#5753","04/09/2021 11:33 am","<https://etherscan.io/address/0x7ec0b75a98997c927ace6d87958147a105147ea0>","",""
"553752663142039553","burnso","04/09/2021 7:58 pm","I have api like for sub-graph
https://gateway.thegraph.com/api/YOUR-GRAPH-API-KEY-HERE/subgraphs/id/UNISWAP-V3-SUBGRAPH-ADDRESS
Where i can found UNISWAP-V3-SUBGRAPH-ADDRESS?","",""
"650090640612392960","gift#4544","04/09/2021 8:59 pm","https://thegraph.com/explorer/subgraph?id=0x9bde7bf4d5b13ef94373ced7c8ee0be59735a298-2&view=Overview ?","",""
"650090640612392960","gift#4544","04/09/2021 9:11 pm","I checked the same YGG/USDC pool with PRINT_ALL_TICKS set to True and the values calculated matched those displayed in the Uniswap.info chart, except for the issue (2) above. So I have no idea how the total values of tokens locked are calculated by Uniswap.info.","",""
"401842633464610837","_kfx","05/09/2021 2:37 am","Thanks for checking. I suspected that the boundaries to use for calculating one of the amounts could be wrong and your check seems to prove that.","",""
"401842633464610837","_kfx","05/09/2021 2:38 am","regarding printing, the `should_print_tick` does not affect the total values of the tokens the script sums up. It's just an option to decrease the size of the text output, nothing else","",""
"401842633464610837","_kfx","05/09/2021 2:40 am","now that I check the total values with Etherscan, sometimes they match the values from the Uniswap UI but not my script... 😅  and sometimes the values are different between all three sources (script, UI, and etherscan)","",""
"401842633464610837","_kfx","05/09/2021 2:46 am","still, I haven't found any pools where the error between the scripts results and Etherscan data is larger than a few %. The errors between the Uniswap UI data and Etherscan data sometimes are very large","",""
"401842633464610837","_kfx","05/09/2021 2:52 am","I updated the script with some bugfixes and output changes, including handling the problem you discovered with token0 values. Check out the latest version on github.","","👍 (3)"
"617127949480493077","yj_alt","05/09/2021 2:25 pm","Besides the couple of minor fixes I submitted PRs for, I haven't actually had time to look any deeper, eg at comparison with other viz. Will try to verify what you and @gift talked about, later this month.","",""
"650090640612392960","gift#4544","05/09/2021 11:24 pm","Thank you. Now the token0 values do match the uniswap.info chart output. Total amounts of tokens locked differ significantly, but I can't explain the total amounts provided by Uniswap.info, as the amounts in chart seem to match those returned by script. How do you check the total values with Etherscan?","",""
"401842633464610837","_kfx","06/09/2021 1:21 am","I simply look at the amounts of tokens locked in the pool's address","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 1:50 am","@kfx Are you the author of https://github.com/atiselsts/uniswap-v3-liquidity-math ?","",""
"401842633464610837","_kfx","06/09/2021 1:51 am","that's correct","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 1:54 am","Thank you for the code, it helps a lot","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 1:55 am","Are you planning to do the same thing with fees? For instance calculating the uncollected fees in a position","",""
"401842633464610837","_kfx","06/09/2021 1:59 am","you're welcome!","",""
"401842633464610837","_kfx","06/09/2021 2:01 am","the fee information in subgraph is quite limited, so probably no. I'm interested in the fee evolution over time, but it's not possible to get that from the subgraph unless you run such a fee query periodically and store the results in a database. Using something like the flipside database seems to be an easier approach","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 2:06 am","so with subgraph, it's impossible to get the unclaimed fees from https://app.uniswap.org/#/pool/80595 ?","",""
"401842633464610837","_kfx","06/09/2021 2:08 am","it is possible - the UI is doing that! But it's not possible to do some more advanced things like look at ""how many fees did this position collect in the last week?"" as far as I know","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 2:10 am","ok got it. I am more interested in getting what the UI is showing. But I have a hard time to figure out the equation from the whitepaper","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 2:11 am","with your code I managed to calculate the amount of token0 and token1 in a position based on the liquiditity","","👍 (1)"
"401842633464610837","_kfx","06/09/2021 2:12 am","yeah, sorry. it should be possible to show the fee information in human readable way but I don't have code for that.","",""
"401842633464610837","_kfx","06/09/2021 2:12 am","try looking at the uniswap-info github repository, check how its doing that","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","06/09/2021 2:14 am","I will try to reverse engineer the maths from https://github.com/Uniswap/uniswap-interface","",""
"194360837169872896","alllowercase","06/09/2021 4:39 am","Hey I'm trying to get a response from the v3 subgraph. Can anyone tell me why I'm getting an empty array back for this query on the WETH contract

```
{
  tokenDayDatas(where:{ token:""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2""}) {
    id
    open
    close
    high
    low
    priceUSD
    token { 
      id
    }
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","06/09/2021 4:39 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"194360837169872896","alllowercase","06/09/2021 4:52 am","im willing to tip whoever helps me 💯","",""
"813792373854961725","cosmaph.blog","06/09/2021 8:48 am","""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"" insted of ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"" (must be lower case)","","👍 (1)"
"843155325619535912","Etherscan Bot#5753","06/09/2021 8:48 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"843155325619535912","Etherscan Bot#5753","06/09/2021 8:48 am","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"850324420907761704","thirtymonday#4165","06/09/2021 4:26 pm","👍","",""
"319325089369817089","boka44","06/09/2021 8:46 pm","Quick question, what is the observationIndex stored on Pools in V3?","",""
"650090640612392960","gift#4544","06/09/2021 11:14 pm","A ""how many fees did this position collect in the last week?"" script would be a great thing.","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","07/09/2021 1:33 am","The following query contains all the data to calculate the uncollected fees:
```
{
  positions(where: {
    id_in: [110423]
    pool_contains: ""0x84383fb05f610222430f69727aa638f8fdbf5cc1""
  }) {
    pool {
      feeGrowthGlobal0X128
      feeGrowthGlobal1X128
    }
    tickLower {
      tickIdx
      feeGrowthOutside0X128
      feeGrowthOutside1X128
    }
    tickUpper {
      tickIdx
      feeGrowthOutside0X128
      feeGrowthOutside1X128
    }
    liquidity
    feeGrowthInside0LastX128
    feeGrowthInside1LastX128
  }
}
```
For `tickLower` and `tickUpper` the response does not match what I get from the contract using etherscan https://etherscan.io/address/0x84383fb05f610222430f69727aa638f8fdbf5cc1#readContract
```
""tickLower"": {
  ""feeGrowthOutside0X128"": ""20137756608822915175067362527687200405525653"",
  ""feeGrowthOutside1X128"": ""1047278122419227003080261022212018"",
  ""tickIdx"": ""-246400""
}
```
Etherscan:
```
feeGrowthOutside0X128   uint256 :  18311889769954943894395667209888067169617979
feeGrowthOutside1X128   uint256 :  287527891247722076773035800597929
```
I have the issue for some positions. Is it a know issue?","",""
"843155325619535912","Etherscan Bot#5753","07/09/2021 1:33 am","<https://etherscan.io/address/0x84383fb05f610222430f69727aa638f8fdbf5cc1>","",""
"844675116088557568","veridelisi","07/09/2021 1:36 am","it works for ether token                                                 {
  tokenDayDatas(where:{ token:""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2""}) {
    date
    open
    close
    high
    low
    priceUSD
    token{name}
   
  }
}","",""
"843155325619535912","Etherscan Bot#5753","07/09/2021 1:36 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"844675116088557568","veridelisi","07/09/2021 1:37 am","","https://cdn.discordapp.com/attachments/765222888617017365/884530220911173642/Ekran_Goruntusu_-_2021-09-06_23-07-02.png",""
"844675116088557568","veridelisi","07/09/2021 1:51 am","https://veridelisi.medium.com/uniswap-v3-tokendaydata-30ed43e35e63","",""
"194360837169872896","alllowercase","07/09/2021 7:15 am","I see","",""
"194360837169872896","alllowercase","07/09/2021 7:15 am","Can someone explain to me why open, close, priceUSD are all 0 in the response for this query? Obviously there is a price since I can swap.

```
{
      tokenHourDatas(
        where: {
          periodStartUnix_gt: 1630519354, 
          token: ""0x010077fc828d7716d77d4082c2b246859fb625e1""
        }
      ) {
        id
        periodStartUnix
        open
        close
        high
        low
        priceUSD
        untrackedVolumeUSD
      }
}

```","",""
"843155325619535912","Etherscan Bot#5753","07/09/2021 7:15 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"194360837169872896","alllowercase","07/09/2021 9:06 am","thanks in advance for the help","",""
"194360837169872896","alllowercase","07/09/2021 9:25 am","I've also noticed that not every hour is recorded for this token, is this normal? For example this query for Tue Aug 31 2021 09:00:00 GMT+0000 returns nothing, but 8:00:00 and 10:00:00 are present:
```
{
      tokenHourDatas(
        orderDirection: desc,
        first:500,
        where: {
          periodStartUnix: 1630400400
          token: ""0x9ff4f50efd40c915f7d1476bf36acb8908e0c56d""
        }
      ) {
        id
        periodStartUnix
        open
        close
        high
        low
        priceUSD
        untrackedVolumeUSD
      }
}
```","",""
"843155325619535912","Etherscan Bot#5753","07/09/2021 9:25 am","<https://etherscan.io/address/0x9ff4f50efd40c915f7d1476bf36acb8908e0c56d>","",""
"860159631799091241","AndsIns#8509","08/09/2021 12:40 am","Hi, I am new to the Graph API. I have been given this URL: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql As I have understand, this URL holds ALL information for ALL Pools on Uniswap V3 in realtime? When I enter this URL, it just shows ""Loading..."" Is it possible to download the entire information as a .txt file from this URL somehow?","",""
"194360837169872896","alllowercase","08/09/2021 1:02 am","You need to query for all the data you need and save it to a textfile yourself.","",""
"860159631799091241","AndsIns#8509","08/09/2021 1:04 am","I am not sure where I will begin. Where will I query the data. Should I do that on Uniswaps website somewhere or from the Graph website. Can I use Visual Studio to query the Uniswap Graph on this URL and C# somehow? I have this URL  https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql but don't know how to start? (I think I would need a step by step of how to set this up)","",""
"860159631799091241","AndsIns#8509","08/09/2021 5:16 am","I wonder if the Playground where we can test queries on gives actual realtime results or is it a sandbox with not correct values. Can I use this for realtime info? https://thegraph.com/legacy-explorer/subgraph/graphprotocol/uniswap","",""
"183309006767521792","jorropo","08/09/2021 5:19 am","it's hitting the endpoint as the real one","",""
"183309006767521792","jorropo","08/09/2021 5:19 am","@AndsIns it's the latest value","",""
"860159631799091241","AndsIns#8509","08/09/2021 5:24 am","That is great. This would be a great start to understand this. I am quite new to Graph Queries. What I am trying to get is all locked token1 and all locked token2 for the entire pool where the results also shows which price range each position has. I found an image further up which shows about what I mean. How is it possible to write a query that return this information?","https://cdn.discordapp.com/attachments/765222888617017365/884949880336957460/unknown.png",""
"183309006767521792","jorropo","08/09/2021 5:26 am","This is WAYYYYYYY easier without thegraph.
Just do :
```
token1.balanceOf(pool)
token2.balanceOf(pool)
```","",""
"183309006767521792","jorropo","08/09/2021 5:26 am","also V2 or V3 ?","",""
"860159631799091241","AndsIns#8509","08/09/2021 5:28 am","I use the V3. I am not sure how you mean without thegraph. It is very important to know on what ranges X amount of token1 and token2 are placed. So I just don't want the entire balance but need to know for all ticks/price ranges in the pool?","",""
"183309006767521792","jorropo","08/09/2021 5:29 am","I've missed the part about ranges sorry, well thegraph is easier than the chain I think","",""
"183309006767521792","jorropo","08/09/2021 5:30 am","> How is it possible to write a query that return this information?
Idk thegraph very well, idk but I know others have done it 😄","",""
"183309006767521792","jorropo","08/09/2021 5:31 am","@AndsIns scroll a bit up here, other peoples asks about this all the time, you probably can find an answer here (I guess we should make a tutorial about that)","",""
"860159631799091241","AndsIns#8509","08/09/2021 5:32 am","Yes, I will try to understand how to write such query. To be honest it is the first day I heard about GraphQL but I have worked with SQL before so I should understand something if looking at an example 🙂","",""
"860159631799091241","AndsIns#8509","08/09/2021 5:32 am","You are right, we should do a tutuorial about that. It should help alot. I will try to scroll up and see again","",""
"860159631799091241","AndsIns#8509","08/09/2021 6:02 am","I am trying to put this code in the ""Playground"" (https://thegraph.com/legacy-explorer/subgraph/graphprotocol/uniswap) but I get the error: 'Type `Query` has no field `pool'. I am not sure what could be wrong? 
{  
  pool(id: ""0xf1b63cd9d80f922514c04b0fd0a30373316dd75b"") 
{
    id
    token0Price
    token1Price
    volumeToken0
    volumeToken1
}
}","",""
"843155325619535912","Etherscan Bot#5753","08/09/2021 6:02 am","<https://etherscan.io/address/0xf1b63cd9d80f922514c04b0fd0a30373316dd75b>","",""
"183309006767521792","jorropo","08/09/2021 6:11 am","this uniswap V1, use https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 for v3","","👍 (1)"
"860159631799091241","AndsIns#8509","08/09/2021 6:50 am","Thank you! I used the wrong one. I will try with this one then. Thanks!","",""
"860159631799091241","AndsIns#8509","08/09/2021 7:36 am","I wonder if this code is correct to do in order to show All currently locked positions in the pool (notice this code only seem to show 100 results?)

The image shows one returned position. ""tickIdx"": ""189600"" and ""tickIdx"": ""194000"" doesn't seem to be correct values? Price of OHM: 362$ and ETH: 3500$. So either it should be: 362/3500 = 0.103 or 3500/362 = 9.66 ?

I also can see that  **depositedToken0 **and **depositedToken1** are the **INITIAL **deposited tokens. Since the ratio between the 2 tokens changes when current price change, - those will also change. I am then after the current Ratio of those 2 tokens and wonder how to return this?

`{
  positions(where: {pool:""0xf1b63cd9d80f922514c04b0fd0a30373316dd75b""})
  {
    id
    liquidity
    depositedToken0
    depositedToken1
    tickLower{tickIdx}
    tickUpper{tickIdx}
  }
}`","",""
"860159631799091241","AndsIns#8509","08/09/2021 7:39 am","This is one position returned by above code.","https://cdn.discordapp.com/attachments/765222888617017365/884983772762742804/unknown.png",""
"650090640612392960","gift#4544","08/09/2021 9:06 am","Use this script - https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py","",""
"860159631799091241","AndsIns#8509","08/09/2021 9:12 am","I tried to look at that code but I don't know python. I use C# and visual studio. Is there any other way to do this. Is it possible to understand the basics from queries as in my question where I can code this myself after that?","",""
"884988465308114964","crypyellow#0547","08/09/2021 9:19 am","I am trying to query the Uniswap V3 pool data using GraphGL in thegraph (https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql):

  poolDayDatas{
    pool (first: 10) {
      token0 {
        symbol
      }
      token1 {
        symbol
      }
    }
    volumeUSD
  }
}
however what I get are duplicated pool pairs,

{
  ""data"": {
    ""poolDayDatas"": [
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BCZ""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""0.1849193372604300017804758202164034""
      },
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BUSD""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""298.1129935718988207060480551561013""
      },
      {
        ""pool"": {
          ""token0"": {
            ""symbol"": ""BUSD""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""volumeUSD"": ""1275.903410423489251841851495730017""
      },
........
}
I suspect that's because of the different Ticks with same pair, How could I query the whole pair data which includes all ticks sub pool?","",""
"650090640612392960","gift#4544","08/09/2021 9:26 am","The Graph queries in this script are rather simple, the tricky part is handling all the liquidity math (http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf). But it should be easy to rewrite the script in C#.
There is documentation, some articles and code explaining Uniswap Graph queries, e.g. https://docs.uniswap.org/protocol/V2/reference/API/queries (V2!),
https://towardsdatascience.com/graphql-walkthrough-how-to-query-crypto-with-uniswap-defi-e0cbe2035290
https://medium.com/coinmonks/get-uniswap-data-using-the-graph-79d0c6f7b9f2
https://github.com/Uniswap/uniswap-info/blob/71388b0c0e9fcd88ee61595b5d741d35f212b4da/src/apollo/queries.js#L373
etc.","",""
"884988465308114964","crypyellow#0547","08/09/2021 9:49 am","sounds good, thanks","",""
"884988465308114964","crypyellow#0547","08/09/2021 9:49 am","let me take a look","",""
"860159631799091241","AndsIns#8509","09/09/2021 5:58 am","Yes, I will try to really understand this script and see if I can rewrite it in C# https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py I have 3 questions there. 

1. The code says: ""***Example that shows the full range of the current liquidity distribution in the 0.3% USDC/ETH pool using data from the Uniswap v3 subgraph.***"" Does this mean that the code will return for each pricetick how much USDC and how much ETH tokens that exists there and by this, it will be possible to choose a range within the full range and SUM those liquidities to get the liquidity in that range?

2. How accurate could we say that this code is?

3. Does it cost a fee to run a query on https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 and if so. How much **will it cost in fees **to run this script and get all liquidity for the **0.3% USDC/ETH pool ** ?

The code have a while True loop where it creates many queries to mention(proably for each pricetick):
`while True: response = client.execute(gql(tick_query.replace(""%NUM_SKIP"", 
                       str(num_skip)).replace(""%POOL_ID"", POOL_ID)))
                       if len(response[""ticks""]) == 0: break`","",""
"650090640612392960","gift#4544","09/09/2021 9:32 am","1. yes, if you save the values for each tick
2. values for each tick do match those provided by Uniswap.info. However, total values of tokens locked are different and it is not clear why. Please scroll up for a discussion with the author of this script (kfx).
3. queries are free at the moment, not sure about the future. I think the Graph returns max 1000 entries, so the tick_query loop is for every thousand, not every single tick.","","👍 (1)"
"884988465308114964","crypyellow#0547","09/09/2021 6:29 pm","Anybody know how to determine the tick space based on the query result? The liquidity math says the tick space is depended on fee rate (0.3% space is 60), where do we find the authentic details about tick space range?","",""
"650090640612392960","gift#4544","09/09/2021 6:39 pm","try
`query {
  pools (where: {id: ""POOL_ID""}){
    feeTier
}`","",""
"884988465308114964","crypyellow#0547","09/09/2021 6:41 pm","ok, after i get the fee tier, how to determine the tick space?","",""
"650090640612392960","gift#4544","09/09/2021 6:46 pm","It should be 200 ticks per 1%, so 60 ticks for 0.3% pools etc.","",""
"884988465308114964","crypyellow#0547","09/09/2021 6:52 pm","yeah, thx","",""
"860159631799091241","AndsIns#8509","09/09/2021 7:39 pm","Thank you gift for your answers. I will really try and dig deep into that python code and see if I can translate it to C# then. It was good it was free to make queries with the API. I was reading on the API that you had to have GRT coins in your wallet but perheps then it is not needed in order to do API query calls at the moment. Yes I thought it had to be an array of X entries like 1000 then in each query that was returned.","","👍 (1)"
"844675116088557568","veridelisi","09/09/2021 9:36 pm","https://github.com/veridelisi/uniswap-v2-graphql","","👍 (1)"
"860159631799091241","AndsIns#8509","10/09/2021 12:03 am","When I try to make a query request in C# to: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 I get an error: **The remote server returned an error: (400) Bad Request**. In the request I have not provided an API key. I wonder if that is the problem? At the same time I then wonder about this image. I heard that it was free to make API calls at the moment and then wonder why GRT is still needed. Do I need an API key for the **query requests** and will it cost GRT?","",""
"860159631799091241","AndsIns#8509","10/09/2021 12:18 am","I tried to add the ID for the https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 Graph but it says it is not valid?","https://cdn.discordapp.com/attachments/765222888617017365/885597636219011152/unknown.png",""
"844675116088557568","veridelisi","10/09/2021 12:20 am","Peter you dont need api key for my files","",""
"860159631799091241","AndsIns#8509","10/09/2021 12:21 am","I am sorry, I ment I am trying to call queries from this API which is the Uniswaps own V3 API ? https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 I am not sure it is a must to Authorize subgraphs? (Though I get error: **(400) Bad Request** on my API calls)","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","10/09/2021 12:26 am","it's the correct one: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","10/09/2021 12:26 am","400 error are not about authorization (it's 401 or 403). Your query is most likely wrong","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","10/09/2021 12:27 am","try it first in the graph explorer","",""
"860159631799091241","AndsIns#8509","10/09/2021 12:39 am","I am not sure if this code will be to much in the forum but this is my C# code. I did test the query in the graph explorer and it works. I am not sure why this code returns a (**400 Bad Request**) ?","https://cdn.discordapp.com/attachments/765222888617017365/885602712278958130/unknown.png",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","10/09/2021 12:45 am","check tutorial on how to call graphQL in C#","","👍 (1)"
"860159631799091241","AndsIns#8509","10/09/2021 12:52 am","Thanks I will try to do that","",""
"401842633464610837","_kfx","10/09/2021 1:41 am","@AndsIns the server expects a JSON object `{""query"": query, ""variables"" : variables}` (where the variables is optional). You are passing the `query` string directly.","","👍 (1)"
"401842633464610837","_kfx","10/09/2021 1:42 am","you need to put in a dictionary as above, and then use JSON API to convert that dictionary to string","",""
"401842633464610837","_kfx","10/09/2021 1:45 am","**to all **: by the way, I saw a message about the subgraph being deployed here: https://thegraph.com/explorer/subgraph?id=0xa42d4eb2b3ef2cc77bab70b2356afde93ff62e31-0&view=Overview","",""
"401842633464610837","_kfx","10/09/2021 1:46 am","does that change anything for us?","",""
"860159631799091241","AndsIns#8509","10/09/2021 2:07 am","Thank you kfx, now when I did put in a dictionary and converted it to a JSON object it worked out well. Many thanks to you. I was really stuck there!!","",""
"853804440913838081","tfishman#4746","10/09/2021 3:42 am","Is L2 data like Arbitrum and Optimism available on The Graph?","",""
"884988465308114964","crypyellow#0547","10/09/2021 1:31 pm","inside Pool there are properties volumeToken0 and volumeToken1, are their scales decimal 1 or it has to be divided by token's decimal, ie., if token0's decimal is 8, then the actual volume of token0 has to be divided by 100000000?","",""
"884988465308114964","crypyellow#0547","10/09/2021 1:31 pm","currently what I queried the volume number is too high","",""
"401842633464610837","_kfx","10/09/2021 8:32 pm","there are subgraphs deployed on Optimism and Arbitrum, yes. The optimism subgraph has had a lot of issues so far, don't rely on its data without double checking","",""
"401842633464610837","_kfx","10/09/2021 8:33 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-optimism-dev","",""
"401842633464610837","_kfx","10/09/2021 8:33 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-arbitrum-one","",""
"860159631799091241","AndsIns#8509","11/09/2021 5:09 am","I have managed to run the script now on https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py with C# and wonder about the values. I beleive many questions at once to be sure:

1. In the red rectangle. There are Negative ticks. How are negative ticks possible? 
2. It says bottom tick price=2099621696910248251.... USDC, a very large number. How is this possible that this happens?
3. In the orange rectangle. We see [195600, 195660]. 558.80 WETH locked. Is this on: >= 195600 and < 195660 or only on == 195600 ? (Which statement will be true here?)
4. In the blue triangle it shows: 97,558,511.55 USDC and 31574.14 WETH. This I beleive is the whole pool. On the website(as in the image) it says: 139.64m and 45.99k ETH which is about 45% more than the code gives. Is this true and how is that possible. It would be a big difference?

Thank you!","https://cdn.discordapp.com/attachments/765222888617017365/886033201313771610/unknown.png",""
"860159631799091241","AndsIns#8509","11/09/2021 9:44 pm","Looking at the YGG/USDC pool 0x7ec0b75a98997c927ace6d87958147a105147ea0 there are YGG: 0.81m and USDC  0.88m locked. When running the https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py script, it sums up the tokens to this. For example looking at USDC, it is way off here compared to Uniswap UI ?

Script sum are: ""In total: 549304.33 YGG and 80051.42 USDC""","https://cdn.discordapp.com/attachments/765222888617017365/886283562553315408/unknown.png",""
"843155325619535912","Etherscan Bot#5753","11/09/2021 9:44 pm","<https://etherscan.io/address/0x7ec0b75a98997c927ace6d87958147a105147ea0>","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","11/09/2021 10:30 pm","I try to calculate the uncollected fees for a position. I get the following data:
```
{
  ""data"": {
    ""positions"": [
      {
        ""feeGrowthInside0LastX128"": ""16274216963188243619254805739795850680279387"",
        ""liquidity"": ""3622577239626865"",
        ""pool"": {
          ""feeGrowthGlobal0X128"": ""39340854311411786986634169944936341419229207"",
          ""tick"": ""-249015""
        },
        ""tickLower"": {
          ""feeGrowthOutside0X128"": ""20271294099179179281186780834526419137980500"",
          ""tickIdx"": ""-246400""
        },
        ""tickUpper"": {
          ""feeGrowthOutside0X128"": ""33202322739999248608871964720434447409215846"",
          ""tickIdx"": ""-245200""
        }
      }
    ]
  }
}
```
Based on the whitepaper, the uncollected fees for token0 should be 
```
fu = l * (fr(t1) - fr(t0))
fu = l * ((fg - fb(-253200) - fa(-230200)) - fr(t0))
fu = l * ((fg - (fg - f0(-253200)) - f0(-230200)) - fr(t0)) since the position is out of range
with
l = 3622577239626865
fg = 39294871511804015706000275589056373798436751
fb(-253200) = 39294871511804015706000275589056373798436751 - 20271294099179179281186780834526419137980500 = 19023577412624836424813494754529954660456251
fa(-230200) = 33202322739999248608871964720434447409215846
fr(t1) = 39294871511804015706000275589056373798436751 - 19023577412624836424813494754529954660456251 - 33202322739999248608871964720434447409215846 = -12931028640820069327685183885908028271235346
fr(t0) = 16274216963188243619254805739795850680279387
fu = l * (fr(t1) - fr(t0)) = 3622577239626865 * (-12931028640820069327685183885908028271235346 - 16274216963188243619254805739795850680279387) = -46843650039197914984019015649962988114191158769988319449677
```
The term fr(t1) is negative which is not possible. What am I doing wrong?","",""
"860159631799091241","AndsIns#8509","12/09/2021 12:50 am","I have found this formula in Green to calculate estimated $fee earned each 24 hours. My question is for how to calculate: ""totLiquidity""

Assuming we put this range position: 
**currentPrice = 3200, lowerPriceRange = 2800, upperPriceRange = 3600**

Isn't it true that we must sum all amount0 and amount1 which are within the Span: **>= lowerPriceRange and < upperPriceRange?** 

(The image shows: lowerPriceRange <= currentPrice which is confusing)

**Simply put:** What is ment by totalLiquidity. Is it all liquidity inside the Range that we put as a position?","https://cdn.discordapp.com/attachments/765222888617017365/886330285216661574/unknown.png",""
"351120161635434499","mfaizan1","12/09/2021 6:22 am","hello guys what would be a way to calculate token price from graphql subscriptions? 

i am listening to Transacions, get swaps of eact transaction and i get swaps like this one
`{
  amount0: '-199.516367582204878815',
  amount1: '0.0495625',
  amountUSD: '104.2443873583960475656156114672366',
  origin: '0xf7eb6b8a8fd0661b31c701b5ae48852a35382f4f',
  recipient: '0x74de5d4fcbf63e00296fd95d33236b9794016631',
  sender: '0xdef1c0ded9bec7f1a1670819833240f027b25eff',
  sqrtPriceX96: '1242808887595149472680250394',
  timestamp: '1624938805',
  token0: {
    id: '0x0f5d2fb29fb7d3cfee444a200298f468908cc942',
    name: 'Decentraland MANA'
  },
  token1: {
    id: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',
    name: 'Wrapped Ether'
  }
}`

i am  using this formula but it is not giving me right value
`        const token0Price = amountUSD / token0Amount;
        const token1Price = amountUSD / token1Amount;`

any help would be appreciated
token 0 price comes out to be
0.5224853911569195  where as actual price is 0.81","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 6:22 am","<https://etherscan.io/address/0xf7eb6b8a8fd0661b31c701b5ae48852a35382f4f>","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 6:22 am","<https://etherscan.io/address/0x74de5d4fcbf63e00296fd95d33236b9794016631>","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 6:22 am","<https://etherscan.io/address/0xdef1c0ded9bec7f1a1670819833240f027b25eff>","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 6:22 am","<https://etherscan.io/address/0x0f5d2fb29fb7d3cfee444a200298f468908cc942>","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 6:22 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"401842633464610837","_kfx","12/09/2021 2:51 pm","Hi Peter,","",""
"401842633464610837","_kfx","12/09/2021 2:51 pm","1. negative ticks mean the price is less than 1.0","",""
"401842633464610837","_kfx","12/09/2021 2:53 pm","2. The prices can be very large (or very small) because either someone made a mistake when providing their liquidity or, more likely, its part of their strategy. LP in a bigger range reduces impermanent loss, for example.","",""
"401842633464610837","_kfx","12/09/2021 2:53 pm","3. The amount is for the tick range from bottom tick to top tick.","",""
"401842633464610837","_kfx","12/09/2021 2:55 pm","4. It's a known problem. Try to ask uniswap devs directly, they haven't answered me yet on Github. You can also read the values of the tokens in the pool's address and compare them to the scripts output and the UI numbers. Or cross check by using the data from all open positions in the pool. The UI is an outlier in all cases.","",""
"401842633464610837","_kfx","12/09/2021 3:08 pm","totalLiquidity is the total liquidity of all positions. Its defined for a specific tick range, it does not make sense to talk about the total liquidity without having a specific reference tick (or tick range). The total liquidity at the active price can be read directly form the subgraph. (`liquidity` for a pool) and is the sum of the liquidities of the positions active at the current price","",""
"860159631799091241","AndsIns#8509","12/09/2021 8:43 pm","Thanks kfx for the answers, it is very helpful. Yes it is strange it differs so much. That is true to compare between those, I have not done this yet. 
1. Have you been able to see or how we can know which one of all those sources are the ""most accurate/closest to the actual liquidity"" if we don't have anything to compare to?
2. How many % of an outliar*(always showing more?)* is the UI compared to the actual liquidity on average, if it is possible to say?

That is a good idéa. I will try to ask uniswaps devs also and give you a message if they give me an answer.","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 9:05 pm","<https://etherscan.io/address/0xf1b63cd9d80f922514c04b0fd0a30373316dd75b>","",""
"843155325619535912","Etherscan Bot#5753","12/09/2021 9:07 pm","<https://etherscan.io/address/0xf1b63cd9d80f922514c04b0fd0a30373316dd75b>","",""
"351120161635434499","mfaizan1","13/09/2021 2:19 am","Hello guys any idea what i might be understading wrong or doing wrong here ?","",""
"650090640612392960","gift#4544","13/09/2021 12:19 pm","The liquidity in the UI chart matches the script output, but it is unclear how the total values provided by the UI are calculated.","","👍 (1)"
"650090640612392960","gift#4544","13/09/2021 12:20 pm","Your formulas look good, did you try to check it with other pools?","",""
"351120161635434499","mfaizan1","13/09/2021 1:51 pm","other pools ?","",""
"456226577798135808","Deleted User","13/09/2021 5:56 pm","ive noticed a strange discrepency between the uniswap interface and croco finance. Uniswap says my uncollected fees are around $1.8k whereas croco.finance says around $2k. The answer given by croco finance agrees with the answer i get when i pull from thegraph","",""
"456226577798135808","Deleted User","13/09/2021 5:56 pm","Has anyone else experienced this?","",""
"860159631799091241","AndsIns#8509","13/09/2021 11:34 pm","Hello guys

I wonder how it is possible to get the Total Liquidity that is crossing the Current Price Tick using: https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3
Example Pool: https://info.uniswap.org/#/pools/0xf1b63cd9d80f922514c04b0fd0a30373316dd75b

I beleive that would be all open positions that is crossing the *Current Price Tick* but don't know how to do that. How can this be done?

What I want to do is to compare **my Positions Liquidity with the Total Liquidity**. I use the below formulas to calculate my Liqudity so I beleive I would need to get Total Liquidity from the subgraph which will be directly comparable with below formula. Or how it would be possible to manually calculate a positions liquidity with another formula which will be how it is calculated in the Graph data and instead compare those?

**The lowest Liquidity of those 2 calculations is your Liquidity in the pool (In this case, I got 19)**
Liquidity = tokenAmount0 * (sqrt(upperprice) * sqrt(currentprice)) / (sqrt(upperprice) - sqrt(currentprice))
Liquidity = tokenAmount1 / (sqrt(currentprice) - sqrt(lowerprice))

Thank you!","",""
"853804440913838081","tfishman#4746","14/09/2021 6:46 am","All I get is a Loading... message","",""
"401842633464610837","_kfx","14/09/2021 3:18 pm","you need to query it with a program! send a correctly formated graphQL query to this URL, you'll get an answer","",""
"401842633464610837","_kfx","14/09/2021 3:19 pm","I already answered to you how to get the total liquidity at the current price using subgraph - see my last message above","","👍 (1)"
"860159631799091241","AndsIns#8509","14/09/2021 5:36 pm","Yes, thanks. I was just not sure about the liquidity numbers that are returned how they are calculated. But I suppose I could get all Positions from the pool and check for positions with **Liquidity > 0 and currenttick >= lowertick and currenttick < uppertick** for Each position. (I want to find all positions that are crossing the currentprice and are elible for fees at that particular moment and Sum this to a Total Liquidity.

Calculating each positions liquidity by taking the **depositedToken0 **and **depositedToken1 **and the upper/lower price(tick) for each position and ""recalculate"" the liquidity with the formulas in my previous post so it will be possible to compare a new positions liquidity against the complete Liquidity that are active at the currentprice?

However when I do that, I get half of the Total Liquidity which is crossing the current price than this calculator gets: https://uniswapv3.flipsidecrypto.com/ Again one wonder about if the Graph is returning all liquidity.","",""
"749264487218937888","0xnoahc","15/09/2021 6:48 pm","How is amountUSD in subgraph calculated here?","https://cdn.discordapp.com/attachments/765222888617017365/887688796433440828/unknown.png",""
"749264487218937888","0xnoahc","15/09/2021 6:57 pm","simply calculated based on current price?","",""
"401842633464610837","_kfx","15/09/2021 7:57 pm","liquidity of a position is already in its subgraph data. liquidity constant as long as tokens are not added or removed to the position by its owner","",""
"401842633464610837","_kfx","15/09/2021 7:57 pm","I checked with the good old ETH/USDC pool and got liquidity from active positions: 9515026991458519592, from the pool: 9970779898059762344","",""
"401842633464610837","_kfx","15/09/2021 7:58 pm","there's around 4% difference, so I suspect some positions are indeed missing from the subgraph or their liquidities are off","","👍 (1)"
"401842633464610837","_kfx","15/09/2021 7:58 pm","in smaller pools the values match perfectly","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","15/09/2021 11:19 pm","I want to check the tick values from etherscan but it does not work anymore. Do you know how to do it? https://etherscan.io/address/0x84383fb05f610222430f69727aa638f8fdbf5cc1#readContract","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","15/09/2021 11:19 pm","","https://cdn.discordapp.com/attachments/765222888617017365/887757117145116703/unknown.png",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","15/09/2021 11:21 pm","I want to compare the actual value on the blockchain and what is returned by the subgraph because when I calculate the fees of a position, the number does not match although I think I have the correct formulas","",""
"887409572040540241","dfxharry#0013","16/09/2021 1:10 am","Does anyone know how many queries uniswap's subgraphs gets a day?","",""
"183309006767521792","jorropo","16/09/2021 1:11 am","I don't belive there is an actual limit, don't DOS it but you should be fine","",""
"183309006767521792","jorropo","16/09/2021 1:12 am","just read the message your responded too","",""
"887409572040540241","dfxharry#0013","16/09/2021 1:12 am","lololololol","",""
"887409572040540241","dfxharry#0013","16/09/2021 1:18 am","@Jorropo.eth are you a subgraph developer? do you mind if i DM you some questions?","",""
"183309006767521792","jorropo","16/09/2021 1:20 am","no","",""
"183309006767521792","jorropo","16/09/2021 1:20 am","> do you mind if i DM you some questions?
I don't, you can if you want tho","",""
"887409572040540241","dfxharry#0013","16/09/2021 1:20 am","Okay cool thanks! 🙂","",""
"887409572040540241","dfxharry#0013","16/09/2021 1:36 am","Just sent you a DM @Jorropo.eth","",""
"749264487218937888","0xnoahc","16/09/2021 5:57 am","Then will there be no updates related to this problem?","",""
"860159631799091241","AndsIns#8509","16/09/2021 7:18 am","I wonder if it is possible to get the `""Unclaimed fees""` from the subgraph for a position in a pool somehow and how many tokens that currenty exists for `token0 `and `token1 `in the actually Liquidity for the position?","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:19 am","for the number of tokens in the position at the current price, use the same logic as the number of token in a tick","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:19 am","a position is just one or more ticks","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:21 am","for the unclaimed fees, I looked at the contract but I can't make the number match. Here is the code I wrote in Python:
```
def get_fees(tickLower, tickUpper, tick,
             feeGrowthGlobal0X128, feeGrowthGlobal1X128,
             positionFeeGrowthInside0LastX128, positionFeeGrowthInside1LastX128, positionLiquidity,
             lowerFeeGrowthOutside0X128, lowerFeeGrowthOutside1X128,
             upperFeeGrowthOutside0X128, upperFeeGrowthOutside1X128,
             decimals0, decimals1):
    inside_fees = get_inside_fees(tickLower, tickUpper, tick,
                                  feeGrowthGlobal0X128, feeGrowthGlobal1X128,
                                  lowerFeeGrowthOutside0X128, lowerFeeGrowthOutside1X128,
                                  upperFeeGrowthOutside0X128, upperFeeGrowthOutside1X128)
    tokensOwed0 = (inside_fees[0] - positionFeeGrowthInside0LastX128) * positionLiquidity / (2 ** 128) / (
                10 ** decimals0)
    tokensOwed1 = (inside_fees[1] - positionFeeGrowthInside1LastX128) * positionLiquidity / (2 ** 128) / (
                10 ** decimals1)
    return [tokensOwed0, tokensOwed1]

```","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:22 am","```
def get_inside_fees(tickLower, tickUpper, tick,
                    feeGrowthGlobal0X128, feeGrowthGlobal1X128,
                    lowerFeeGrowthOutside0X128, lowerFeeGrowthOutside1X128,
                    upperFeeGrowthOutside0X128, upperFeeGrowthOutside1X128):
    # calculate fee growth below
    if tick >= tickLower:
        feeGrowthBelow0X128 = lowerFeeGrowthOutside0X128
        feeGrowthBelow1X128 = lowerFeeGrowthOutside1X128
    else:
        feeGrowthBelow0X128 = feeGrowthGlobal0X128 - lowerFeeGrowthOutside0X128
        feeGrowthBelow1X128 = feeGrowthGlobal1X128 - lowerFeeGrowthOutside1X128

    # calculate fee growth above
    if tick < tickUpper:
        feeGrowthAbove0X128 = upperFeeGrowthOutside0X128
        feeGrowthAbove1X128 = upperFeeGrowthOutside1X128
    else:
        feeGrowthAbove0X128 = feeGrowthGlobal0X128 - upperFeeGrowthOutside0X128
        feeGrowthAbove1X128 = feeGrowthGlobal1X128 - upperFeeGrowthOutside1X128

    feeGrowthInside0X128 = feeGrowthGlobal0X128 - feeGrowthBelow0X128 - feeGrowthAbove0X128
    feeGrowthInside1X128 = feeGrowthGlobal1X128 - feeGrowthBelow1X128 - feeGrowthAbove1X128

    return [feeGrowthInside0X128, feeGrowthInside1X128]


if __name__ == '__main__':
    fees = get_fees(-253200, -230200, -249002,
                    39294871511804015706000275589056373798436751, 39294871511804015706000275589056373798436751,
                    19533131308242164359132793935874840055830646, 19533131308242164359132793935874840055830646,
                    11440249420578398,
                    4122039194203309389301320269092371174429589, 4122039194203309389301320269092371174429589,
                    1620036405174924735344562666820047129216469, 1620036405174924735344562666820047129216469,
                    16, 6)
    print(fees[0])
```","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:25 am","I based the code on https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/UniswapV3Pool.sol#L439 and https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/Tick.sol#L68 and https://github.com/Uniswap/uniswap-v3-core/blob/main/contracts/libraries/Position.sol#L61","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 11:28 am","I wonder if I get incorrect results because of graph data or wrong maths, anyway I saw that PR https://github.com/Uniswap/uniswap-v3-subgraph/pull/55","",""
"436060414166695936","wfwang","16/09/2021 2:50 pm","Hi there, i am doing some stuff to integrate Subgraph. I need to know our token-usdt pair address, does the address contained in this url is the pair address?
```https://info.uniswap.org/#/pools/0x479745658a6aec2de6318273944d9549457ba813```","",""
"401842633464610837","_kfx","16/09/2021 4:04 pm","Oh, so there's a bug with the collect events missing. That would explain why the TVL of the token is off so much in the uniswap UI","",""
"887985661200711680","cofresi#9481","16/09/2021 5:13 pm","Then y can i not be reimbursed","",""
"887985661200711680","cofresi#9481","16/09/2021 5:13 pm","My fees","",""
"860159631799091241","AndsIns#8509","16/09/2021 7:10 pm","> `""for the number of tokens in the position at the current price, use the same logic as the number of token in a tick""`
> Thanks, if I try to start with how to caluclate current amount of `token0 `and `token1`. I am trying to follow the equation 3.2.3 in http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf but I can't figure out how they get to the `Lx = 219.0882` they show.
> Is there any code function to use which are able to plug in values or any straight forward way to calculate this with a formula.
> 
> I have this example and wonder how to caluculate what `amount0 `and `amount1 `is at the new CurrentPrice: 322.54 ?
> initialDepositToken0: 510.5829
> initialDepositToken1: 1.360090
> Lower bound: 249.57, Upper bound: 350.62, CurrentPrice: 322.54","",""
"617127949480493077","yj_alt","16/09/2021 8:02 pm","@kfx I've just submitted a new PR to your repo. I think it was double-adding the tick increment, and thus wrongly calculating and reporting numbers for the next tick range?","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 10:40 pm","@AndsIns  This is the code I use for the amounts:
```
def get_amounts(lower_tick, upper_tick, liquidity, pool):
    sa = tick_to_price(lower_tick // 2)
    sb = tick_to_price(upper_tick // 2)

    # Compute the real amounts of both tokens potentially present in the range
    amount0 = liquidity * (sb - sa) / (sa * sb)
    amount1 = liquidity * (sb - sa)

    if lower_tick < pool.tick < upper_tick:
        # print('current: ' + str(pool.tick))
        current_sqrt_price = tick_to_price(pool.tick / 2)
        amount0 = liquidity * (sb - current_sqrt_price) / (current_sqrt_price * sb)
        amount1 = liquidity * (current_sqrt_price - sa)
    elif lower_tick < pool.tick:
        amount0 = 0
    elif lower_tick > pool.tick:
        amount1 = 0

    adjusted_amount0 = amount0 / (10 ** pool.token0_decimals)
    adjusted_amount1 = amount1 / (10 ** pool.token1_decimals)

    return [adjusted_amount0, adjusted_amount1]
```","","👍 (1)"
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 10:41 pm","liquiditity is the position liquidity","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 10:41 pm","if you want at a specific price, I think you should change pool.tick to the tick of your price","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","16/09/2021 10:42 pm","this is how I would do it, never tested it","",""
"860159631799091241","AndsIns#8509","17/09/2021 12:26 am","@0xee880c14ec045c847625ddec58d4 Thank you so much, you are a lifesaver. I tested the code once and it returned the correct amount for both `amount0 `and `amount1` in realtime. I will keep trying this code for different positions and see how it returns. Thank you for your help!","",""
"401842633464610837","_kfx","17/09/2021 12:36 am","after a very brief look at PR I'm pretty sure that code is in fact intentional - I added this code after someone here reported that the script's output does not match uniswap's UI.","",""
"617127949480493077","yj_alt","17/09/2021 12:48 am","Hmm.. I'll need to double check. It looked strange, in that the printed output for those ticks (above current price tick) seems to be for the range above..?","",""
"883354415115952140","dory.__.","17/09/2021 3:21 am","Hello. I just want to retrieve some info from GraphQL via HTTPS.
I just post ""https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3"" with ""query"" parameter as ""{tokens{symbol,name}}"" but it only shows ""GraphQL server error (client error): expected value at line 1 column 1"". Is there something missing? I want 'inline' querying.","",""
"860159631799091241","AndsIns#8509","17/09/2021 4:12 am","`for the unclaimed fees, I looked at the contract but I can't make the number match` 
I have runned this code also. I get the same problem, the unclaimed fees in the result are slighly wrong for me also. It seems to be close but the difference is to big anyway. I try to understand the logic what could be wrong in the original code but has so far not found anything. Still searching...
Any idéas from anyone that can find the problem in the code would be great?","",""
"853804440913838081","tfishman#4746","18/09/2021 1:51 am","Do these require a premium subscription or are they free to use like the mainnet subgraph?","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","18/09/2021 2:40 am","@AndsIns I finally found a way to get the unclaimed fees but not using the subgraph but calling directy the smartcontract, see dev-chat channel","",""
"860159631799091241","AndsIns#8509","18/09/2021 6:45 am","That is interesting. I try to follow what you mentioned. I have written more on the dev-chat.","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","18/09/2021 12:04 pm","I can confirm by calling the ticks function that the feeGrowthOutside0X128 values are wrong in the subgraph which make the calculation of fees from subgraph incorrect.","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","18/09/2021 12:04 pm","only alternative call directly the smartcontract","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","18/09/2021 12:05 pm","until subgraph is fixed","",""
"401842633464610837","_kfx","18/09/2021 2:38 pm","the links I shared are free to use","",""
"848941373704372277","jktrader#2397","18/09/2021 5:47 pm","Has anyone managed to use the tickdaydata table to retrieve historical liquidity curves? No sure that the data from subgraph is correct tbh😩 .the query only returns 128 ticks for latest day for usdc with pool. When you add all the liquiditynet values, the values and ahpe of curve very different from UI.","",""
"860159631799091241","AndsIns#8509","18/09/2021 9:44 pm","Really, wow that was good to know so is why we got that wrong numbers there. Then we can wait if they fix that. Thanks for looking into that.","",""
"860159631799091241","AndsIns#8509","19/09/2021 6:45 am","The Symbol ""`ATRI`"" returns 0 for the price: `derivedETH` What can that depend on? (Current price is: $0.062053)

`  bundles { ethPriceUSD }  
   a1: token(id: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"") { symbol derivedETH }
   a2: token(id: ""0xdacd69347de42babfaecd09dc88958378780fb62"") { symbol derivedETH }  
}`","",""
"843155325619535912","Etherscan Bot#5753","19/09/2021 6:45 am","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"843155325619535912","Etherscan Bot#5753","19/09/2021 6:45 am","<https://etherscan.io/address/0xdacd69347de42babfaecd09dc88958378780fb62>","",""
"401842633464610837","_kfx","19/09/2021 10:39 pm","Peter, the token has to be locked in a pool with at least 52 ETH, or in a pool with at least 52 ETH worth of a another whitelisted asset (there are a few, such as USDC, WBTC and 10 or so others). Otherwise its price is reported as zero","","👍 (1)"
"401842633464610837","_kfx","20/09/2021 12:01 am","with more checking I now agree with you - the extra code should be removed. looks like the uniswap UI has an error, so the script should have been left unchanged","","👍 (1)"
"401842633464610837","_kfx","20/09/2021 12:04 am","after removing the code, the accuracy is quite good. I checked it in a small pool, by manually adding the uncollected fees and comparing with the token balances in the pool's address as shown by etherscan.","",""
"401842633464610837","_kfx","20/09/2021 12:05 am","the script does not account for uncollected fees, because they do not contribute to the liquidity, as seen by Uniswap","",""
"401842633464610837","_kfx","20/09/2021 12:09 am","In a pool with ~500k USD worth of assets the total assets value correct to a single USD. So that's good. The one remaining problem is that the proportion of the tokens still does not match Etherscan. Token0 calculated value is ~2000 USD more than the true value, and token1 value is ~2000 USD less than true value. In that particular pool, this can be fixed by adjusting the current price by 0.635 ticks","",""
"401842633464610837","_kfx","20/09/2021 12:10 am","could this be caused a rounding error at some point, maybe in the subgraph itself?","","🤔 (1)"
"401842633464610837","_kfx","20/09/2021 12:14 am","FYI @gift - see above","","👍 (1)"
"617127949480493077","yj_alt","20/09/2021 12:27 am","As always, this is great work. Thanks for the update.

Are you able to query the pool contract on-chain to confirm whether the discrepancy/error is in the subgraph data?","",""
"401842633464610837","_kfx","20/09/2021 12:53 am","I have Infura login, and experimented with some code for getting the total liquidity and such, but haven't really got to working with the tick data yet","",""
"813526040890179597","dddk#5406","20/09/2021 7:51 pm","@kfx, I am trying to reconcile the output of example1.py with what I see in the Uniswapv3 UI. I read thru the Uniswap papers and this forum's post but still can't figure it out. I am hoping you can help. The example script says there is 364 ETH and 408510 USDC locked at the current price for the ETH/USDC pool, while the UI says there is 497 ETH. That's quiet a large difference. Am I interpreting the numbers incorrectly? Thanks for your help.","https://cdn.discordapp.com/attachments/765222888617017365/889516553702375444/Screenshot_2021-09-20_at_10.15.20.png",""
"813526040890179597","dddk#5406","20/09/2021 7:51 pm","@kfx","https://cdn.discordapp.com/attachments/765222888617017365/889516646421639218/Screenshot_2021-09-20_at_10.15.06.png",""
"401842633464610837","_kfx","20/09/2021 11:26 pm","the UI is wrong in this instance. The current tick range has both ETH and USDC, unless the price is exactly at one end of the tick range - for example tick 196020 or 195960","",""
"813526040890179597","dddk#5406","21/09/2021 2:08 am","@kfx thanks for the response. Is anyone speaking to the uniswap team or filled github issues to highlight all these errors?","",""
"401842633464610837","_kfx","22/09/2021 12:18 am","could be worth reporting on https://github.com/Uniswap/v3-info/issues","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","22/09/2021 1:29 am","@kfx I tried to change the value for example 3 as follows p = 2900 a = 3000 b = 4000 x = 1 y = 0. I want to know the x' and y' when price reach 4000 or 4500.
```
Amount of ETH x=0.00 amount of USDC y=3464.10
delta_x=-1.13 delta_y=3840.47
Amount of ETH x=-0.13 amount of USDC y=3840.47

Amount of ETH x=-0.37 amount of USDC y=5032.56
delta_x=-1.50 delta_y=5408.92
Amount of ETH x=-0.50 amount of USDC y=5408.92
```
the results seem wrong as I assume the value of x' should be 0 and y' should be the same at 4000 or 4500 since out of range. Am I missing something?","",""
"401842633464610837","_kfx","22/09/2021 2:13 pm","The functions `calculate_x`  and `calculate_y` currently assume that price is within the range, as in the examples provided. To remove this assumption the logic if these functions should be updated. Probably I'll update it later today. The same applies to the ""alternative way"" code in the example","","👍 (1)"
"235825204293533697","caronfire","22/09/2021 9:19 pm","How do you call the ticks() function? Entering the tick (-250136) just gives me invalid BigNumber error and entering 250136 gives me nothing...","",""
"199962711851794432",".exnihilo","22/09/2021 10:08 pm","hello; where can I find the contract address for a uniswap pool","",""
"889478324940853248","finquant","22/09/2021 10:19 pm","","https://cdn.discordapp.com/attachments/765222888617017365/890278691677011978/unknown.png",""
"889478324940853248","finquant","22/09/2021 10:19 pm","Hi, can anyone help me in calculating the number of tokens locked for each range? Similar to this liquidity distribution graph on the website.","",""
"889478324940853248","finquant","22/09/2021 10:20 pm","","https://cdn.discordapp.com/attachments/765222888617017365/890278968115224656/message.txt",""
"889478324940853248","finquant","22/09/2021 10:20 pm","For eg : This is the data I've retrieved specific to the lower price being 2675.811. On the website, it shows 1.04m USDC is locked, how do I calc this number from the above data? Thanks 🙂","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","22/09/2021 11:34 pm","@0xAthanase  https://github.com/atiselsts/uniswap-v3-liquidity-math","","👍 (1)"
"693549216529907733","whendingo","24/09/2021 1:52 am","I feel like this has been asked before but I didn't find it an answer.
I'm trying to find the basic amounts/rewards for a V3 LP I am in.
I'm not sure what the Pool ID is.  It's not the contract address,   I think it doesn't seem to be the token address either .  I'd guess needs to be token ID + address somehow. Or I'm 100% looking in the wrong place.
maybe i should be looking position instead.","",""
"693549216529907733","whendingo","24/09/2021 2:02 am","Got it.  use the NFT token ID  to find the position , then get down to owner , tokens, etc,.  Now to find uncollected rewards","",""
"177610452744798208","nakamoto_","24/09/2021 4:59 pm","Uniswap v2 pool fees earned are not working for our project; https://v2.info.uniswap.org/account/0xe269D07aCE139330f0832456aC641f2062Aa19B5","",""
"177610452744798208","nakamoto_","24/09/2021 5:00 pm","","https://cdn.discordapp.com/attachments/765222888617017365/890923255941169182/unknown.png",""
"177610452744798208","nakamoto_","24/09/2021 5:01 pm","This information is quite crucial to us.","",""
"349740324504993804","0xjames","24/09/2021 8:07 pm","Hey @yj yeah I was curious as to some of the concepts I touched on yesterday","",""
"349740324504993804","0xjames","24/09/2021 8:07 pm","Gave the paper a full read over this morning again and I have a question or two if you have a minute","",""
"617127949480493077","yj_alt","24/09/2021 8:07 pm","yeah just ask here. I'm sure you'll get some useful answers, one way or another! hah","",""
"349740324504993804","0xjames","24/09/2021 8:15 pm","God aha not too sure where to start. So off yesterday's conversation, I was touching on how the above excerpt is possible. Maybe I'm confusing different parts of the paper but we're told that (will screenshot after this msg) we can split our liquidity ranges into two, one for x where P < pb and y for pa < P. My question is, say someone had 1.65M to trade and sucked up all the USDC liquidity. This will definitely move the price more than the 0.01%, outside the tick range, into another tick range. Does liquidity get spread along? Do we suck up all available liquidity and jump to the next tick with an appropriate boundary for the change in price? What critical concept am I missing here aha","https://cdn.discordapp.com/attachments/765222888617017365/890972317377769512/unknown.png",""
"349740324504993804","0xjames","24/09/2021 8:15 pm","","https://cdn.discordapp.com/attachments/765222888617017365/890972327876116560/unknown.png",""
"349740324504993804","0xjames","24/09/2021 8:17 pm","I notice in your liquidity math @yj you and @kfx outline the scenario also in the paper, is this also related in some capacity?","https://cdn.discordapp.com/attachments/765222888617017365/890972807687725147/unknown.png",""
"401842633464610837","_kfx","24/09/2021 9:19 pm","Thanks yj for putting the code in notebooks, I'm mostly use the command line, but I realize it's the old fashioned way 😄","","np (1),👍 (1)"
"401842633464610837","_kfx","24/09/2021 9:20 pm","Hi Swampy. One thing to keep in mind is that a tick and a tick range are two different things","","☝️ (1)"
"401842633464610837","_kfx","24/09/2021 9:21 pm","A tick range has 10 to 200 ticks depending on the fee tier","",""
"401842633464610837","_kfx","24/09/2021 9:23 pm","Liquidity is constant within in the tick range. When you cross the range boundary, the liquidity can changes (`liquidityNet` variable of the end tick is added to the current liquidity). See Fig. 4 in the whitepaper on how multi-tick range swaps are done.","",""
"349740324504993804","0xjames","24/09/2021 9:56 pm","Cheers for getting back to me, yeah makes sense. Does this mean all the liquidity must be used in a given tick range before it's used up?","",""
"813526040890179597","dddk#5406","25/09/2021 3:14 am","Does anyone know how to query the graph to get all burns for a specific position? I can query for all burns in a pool for an owner (origin), but there seem to be no way to filter for a specific position.","",""
"617127949480493077","yj_alt","25/09/2021 3:24 pm","Yes. A ""large"" swap will use up liquidity in the current range, then cross into the next initialized tick.","",""
"349740324504993804","0xjames","25/09/2021 3:44 pm","Yeah I understand this but say in the next 4 ticks there's 10m worth of value but this only accounts for a 0.04% move in price. A trade of this size will move the price significantly more. I'm wondering what's the missing link here?","",""
"349740324504993804","0xjames","25/09/2021 4:05 pm","the numbers there were just an example but I tried using a 0.05% pool and looked to see how price would change when drawing all the x asset to drive the price up (~2/300k)","",""
"617127949480493077","yj_alt","25/09/2021 4:05 pm","Sorry, not thinking very clearly, might be BS ☝️","","😂 (2)"
"617127949480493077","yj_alt","25/09/2021 4:08 pm","Actually, that can't be right. Ignore that haha.","",""
"617127949480493077","yj_alt","25/09/2021 4:14 pm","For each range you can solve for x, y, and L. So you can get the effect of a swap, no?","",""
"349740324504993804","0xjames","25/09/2021 4:16 pm","so my goal was to see if we can calculate an x or y delta to reach a price. Ie, we're 4m from the swap rate being worth some value z for say eth-usdt given a pool (and its respective fee).","",""
"349740324504993804","0xjames","25/09/2021 4:18 pm","So in effect, I think it's calculatable but I can't get my head around how it's applied properly","",""
"349740324504993804","0xjames","25/09/2021 4:18 pm","ik we can do it for v2 since it's just total liquidity for x and y","",""
"349740324504993804","0xjames","25/09/2021 4:18 pm","but with v3 and active liquidity I'm not able to get my expected result trying live on the uniswap v3 app","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","25/09/2021 11:41 pm","@yj and @kfx  in DAI/WETH pool (0xc2e9f25be6257c210d7adf0d4cd6e3e881ba25f8), token0 is DAI and token1 is WETH. I used example 3 but it seems that x and y are reversed. The position at the moment is 0 DAI and 1 WETH as it's out of range (< lower tick). The goal is to check x1 and y1 when reaching the upper tick and above.
```
    a = 2920.8
    b = 3803.2
    x = 0
    y = 1
    p=a
    P1=b
    Amount of ETH x=0.00 amount of USDC y=1.00
```
If I set x=1 and y=0, I get Amount of ETH x=0.00 amount of USDC y=3332.92 which seems correct but I was expecting x to be 3332.92 and y=0","",""
"843155325619535912","Etherscan Bot#5753","25/09/2021 11:41 pm","<https://etherscan.io/address/0xc2e9f25be6257c210d7adf0d4cd6e3e881ba25f8>","",""
"401842633464610837","_kfx","26/09/2021 12:02 am","In the whitepaper, price is defined of x in terms of y. See equation 6.4. In my examples, I stick with this convention.","",""
"401842633464610837","_kfx","26/09/2021 12:03 am","If for a particular pool ETH is the second token, than simply means you need to use the price of token0 (DAI) in terms of ETH. That would be p=1 / 2920.0 a=1/3803 b=1/2920 and I think then math should work out then","","👍 (2)"
"177610452744798208","nakamoto_","27/09/2021 8:32 pm","Any help on this? Uniswap info v2 fee calculation is non-functional","https://cdn.discordapp.com/attachments/765222888617017365/892063767532298250/unknown.png",""
"267300878736818176","_dsi","27/09/2021 9:41 pm","Hey guys, I have a question concerning a variable. On the uniswap whitepaper it says that the _liquidity_ variable is the liquidity for one tick (see picture attached).

But in the subgraph explanation and inside the contracts, it says that _liquidity_ is the liquidity within the range (which I assume is the smallest range possible). 

So when I query the liquidity() do you know if this is the liquidity within one tick ? https://etherscan.io/address/0xc2e9f25be6257c210d7adf0d4cd6e3e881ba25f8#readContract","https://cdn.discordapp.com/attachments/765222888617017365/892081076376313907/unknown.png","🧐 (1)"
"491458813178806272","salty#7507","28/09/2021 6:20 am","@dsi Each contract has a mandatory tick spacing (which depends on the fee tier), which defines a range between which the liquidity is fixed per the constant product relationship. For instance, on a 0.30% contract, this is 60, so liquidity may adjust due to swaps only when the current tick crosses some bound corresponding to a tick divisible by 60. When you query liquidity(), I believe you're getting the liquidity corresponding to the current tick, which is also the liquidity of a range of nearby ticks within those bounds.","",""
"267300878736818176","_dsi","28/09/2021 10:56 am","and do we agree that current tick is really 1 tick and not the smallest range of 60 ticks right ? liquidity() return the amount of liquidity of the current tick between lets say tick -80230 and -80229","",""
"324892965074108417","alberto#5463","28/09/2021 7:45 pm","hi, I'm new to the v3 subgraph. Is there any documentation anywhere? Thanks 🙂","",""
"803232744771158026","gsofter","28/09/2021 8:12 pm","@here I am deploying with Uniswap-v2 subgraph to mumbai testnet.
While walking through the codebase, I have some issues.","https://cdn.discordapp.com/attachments/765222888617017365/892420898051751996/unknown.png",""
"803232744771158026","gsofter","28/09/2021 8:12 pm","As you can see above, there is import statement from `../types/schema` but I can't find that resource.","",""
"803232744771158026","gsofter","28/09/2021 8:13 pm","I think I am missing some generation step or ...","",""
"491458813178806272","salty#7507","29/09/2021 2:50 am","I agree that the current tick (the tick variable on the pool) is a single tick corresponding to the tick closest to the price. The thing I'm trying to emphasize is that, by construction, liquidity within that 60 tick range is equal at all ticks in that range. So the distinction you're trying to draw about liquidity on a current tick versus liquidity within the smallest  range that can be initialized is, I think, the source of your confusion.","",""
"779328945183129640","cryptoBangin#3118","29/09/2021 7:26 pm","hi, I am trying to figure out the following:
I want to swap X amount of tokens for ethereum using uniswap v3. how much ethereum am I going to receive?
I have read http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf and I can query current tick,its liquidity and derive current price of token. however, how do i proceed? how can i check liquidity of other ticks (if my trade is big enough, ticks will cross and therefore liquidity will change I assume). is there an example code you guys could provide? appreciate it in advance","",""
"617127949480493077","yj_alt","30/09/2021 3:27 am","If you just want to swap, app.uniswap.org will tell you what output token amount you can expect to get. So just use app.uniswap.org","",""
"779328945183129640","cryptoBangin#3118","30/09/2021 1:32 pm","yes, but id like to know those amounts within my code. any clue how to estimate that?","",""
"773558050719531018","Hanna_mel#5113","30/09/2021 1:55 pm","I'm having the exact same question here about querying liquidity() and understanding to what the output exactly corresponds to. @dsi  @salty  did you ended up to any conclusion on wether it's current tick or liqudity within the ""current range"" ?","",""
"425230872791482369","iksent","30/09/2021 5:39 pm","Hello! I am trying to find API of the UniSwap to retrieve all swap pairs for specific Coin (Free TON - TONToken). 

But there are some problems:
1) API From your docs is not accessible now: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql (Loading... forever and console errors)
2) And I found another playground here: https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 - BUT I couldn't find TON Token there for some reason...

0x6a6c2ada3ce053561c2fbc3ee211f23d9b8c520a - TON
0xdb3c2515da400e11bcaf84f3b5286f18fff1868f - WTON

Could you please help, how can I fetch swap pairs for TON from UniSwap - so it can be similar to the result of the https://tonswap.io/pairs","",""
"843155325619535912","Etherscan Bot#5753","30/09/2021 5:39 pm","<https://etherscan.io/address/0x6a6c2ada3ce053561c2fbc3ee211f23d9b8c520a>","",""
"843155325619535912","Etherscan Bot#5753","30/09/2021 5:39 pm","<https://etherscan.io/address/0xdb3c2515da400e11bcaf84f3b5286f18fff1868f>","",""
"183309006767521792","jorropo","30/09/2021 5:41 pm","> API From your docs is not accessible now: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql
This is thegraph not uniswap, it's not ""our"" API.

> And I found another playground here: https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 - BUT I couldn't find TON Token there for some reason...
Thegraph only index the biggest 6000 tokens.","",""
"183309006767521792","jorropo","30/09/2021 5:44 pm","@Ilya Iksent https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 works for me, you need to send a POST request with your graphql in the body of your request","",""
"425230872791482369","iksent","30/09/2021 5:45 pm","So this page shouldn't open any playground? Need to send POST manually?","",""
"183309006767521792","jorropo","30/09/2021 5:46 pm","the playground just send the POST requests to the endpoint you shown","",""
"183309006767521792","jorropo","30/09/2021 5:46 pm","@Ilya Iksent just open your browser dev tools network tab and send a request in the playground, you will see the requests","",""
"183309006767521792","jorropo","30/09/2021 5:47 pm","@Ilya Iksent inside the playground","https://cdn.discordapp.com/attachments/765222888617017365/893109290406133821/Capture.PNG",""
"425230872791482369","iksent","30/09/2021 5:50 pm","Web playground not working for me. But I've managed to send a request with Postman to https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3.","https://cdn.discordapp.com/attachments/765222888617017365/893110094466805780/unknown.png",""
"183309006767521792","jorropo","30/09/2021 5:50 pm","that not the playground","",""
"183309006767521792","jorropo","30/09/2021 5:50 pm","@Ilya Iksent that the endpoint","",""
"183309006767521792","jorropo","30/09/2021 5:51 pm","@Ilya Iksent I belive ""Loading ..."" while sending the GET to the endpoint is just a honey pot so automated scanners don't attempt to POST it (which would use lots of CPU power)","",""
"183309006767521792","jorropo","30/09/2021 5:51 pm","@Ilya Iksent https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 is the playground","",""
"425230872791482369","iksent","30/09/2021 5:54 pm","Yes. Understand that, thanks. But is there any way to request information about the token, that is outside of 6000 biggest? TONToken is accessible through the CoinGecko token list on the UniSwap interface","https://cdn.discordapp.com/attachments/765222888617017365/893111162932195369/unknown.png",""
"425230872791482369","iksent","30/09/2021 5:54 pm","","https://cdn.discordapp.com/attachments/765222888617017365/893111177100558346/unknown.png",""
"183309006767521792","jorropo","30/09/2021 5:55 pm","Yes call the chain","",""
"183309006767521792","jorropo","30/09/2021 5:55 pm","@Ilya Iksent use web3 (or ethers.js) and the ABI of the interfaces and just call it","","ty (1)"
"819822585143361536","mfw78","04/10/2021 3:27 pm","Hi, just wondering if anyone has a link to the Arbitrum Uniswap V3 graph?","",""
"183309006767521792","jorropo","04/10/2021 3:29 pm","it's broken","",""
"819822585143361536","mfw78","04/10/2021 3:31 pm","😢","",""
"819822585143361536","mfw78","04/10/2021 3:32 pm","Any github issue for it that I may monitor?","",""
"183309006767521792","jorropo","04/10/2021 3:35 pm","no ETA sorry","",""
"819822585143361536","mfw78","04/10/2021 3:41 pm","Not even github issue for discussion?","",""
"878693192294342757","jevelin1987","04/10/2021 4:50 pm","#🌐│subgraph-api","",""
"843155325619535912","Etherscan Bot#5753","04/10/2021 10:56 pm","<https://etherscan.io/tx/0xdf16be6ac97cd1c21eb863e70dd8e4556fc620fc5458cabeab691aebb3624dfd>","",""
"650090640612392960","gift#4544","04/10/2021 10:59 pm","Hi, probably it is a basic question, but I am confused - does a negative amount0 in the swaps query mean that the user bought this amount of tokens and the pool balance decreased by this amount?

Below is a Graph output for a random UOS for WETH swap (https://etherscan.io/tx/0xdf16be6ac97cd1c21eb863e70dd8e4556fc620fc5458cabeab691aebb3624dfd):
`{""data"": {""swaps"": [{
        ""amount0"": ""-0.294327148573697726"",
        ""amount1"": ""1742.9422"",
        ""amountUSD"": ""986.85725344156695482441177441473"",
        ""id"": ""0xdf16be6ac97cd1c21eb863e70dd8e4556fc620fc5458cabeab691aebb3624dfd#2407"",
        ""timestamp"": ""1633367727"",
        ""token0"": {""symbol"": ""WETH""},
        ""token1"": { ""symbol"": ""UOS""},
      }]}} `","",""
"843155325619535912","Etherscan Bot#5753","04/10/2021 10:59 pm","<https://etherscan.io/tx/0xdf16be6ac97cd1c21eb863e70dd8e4556fc620fc5458cabeab691aebb3624dfd>","",""
"471357824299958273","crypto_rachel","04/10/2021 11:03 pm","so it was a swap from UOS to WETH, the token0 is weth (amount0) and tokens 1 ins the UOS (amount1)
so it's received 1742... UOS
and took out of pool 0.29... so it's a - from the pool","","👍 (1)"
"650090640612392960","gift#4544","04/10/2021 11:11 pm","so a user bought 0.29 WETH and the query returned a -0.29 WETH from the pool?","",""
"471357824299958273","crypto_rachel","04/10/2021 11:13 pm","actually sorry sold UOS for WETH, I don't know the graph that well , but it's likely a way they track the pool token QTY","",""
"471357824299958273","crypto_rachel","04/10/2021 11:14 pm","miss read the last bit","",""
"650090640612392960","gift#4544","04/10/2021 11:28 pm","Thank you","","np (1)"
"397878672301752320","Crielz#8356","05/10/2021 5:54 pm","https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2/graphql
graphQL is not responding","",""
"397878672301752320","Crielz#8356","05/10/2021 5:54 pm","Does someone have more information?","",""
"826856147226198016","heptx","05/10/2021 9:40 pm","poolHourDatas seem to be available now, but still no tickHourDatas","",""
"826856147226198016","heptx","05/10/2021 9:40 pm","anyone know why this data is missing or how to get indexers to add this?","",""
"846191615290245160","ino5684","08/10/2021 10:26 am","Hi, I have a question about your license policy. who can answer for me?","",""
"617127949480493077","yj_alt","08/10/2021 10:39 am","Answered in your ticket #deleted-channel","",""
"803638936613945374","dmitrii4935","10/10/2021 5:35 am","Hello, can somebody explain me what is the meaning for the whitelistPools of token entity for the Uniswap 3.0 API which is accessible via the Graph - https://thegraph.com/legacy-explorer/subgraph/uniswap/uniswap-v3 ? 
Is it just avaliable pools for the token or something more?","",""
"485274047924535306","l0c4t0r","10/10/2021 5:37 am","I think it's related to how the USD value is calculated
https://github.com/Uniswap/v3-subgraph/blob/be1d1f5506b02606a32c17aa9098e82b8fee7d12/src/utils/pricing.ts#L104-L109","","👍 (1),😂 (1)"
"803638936613945374","dmitrii4935","10/10/2021 5:43 am","@loc, Thank you","",""
"803638936613945374","dmitrii4935","10/10/2021 6:26 am","And have one more question. Is it possible to achieve via the graph current fee tiers for the Uniswap v3? As I know, currently, there are 500, 3000 and 10000 tiers. But it can be added more in the future by the governance.","",""
"240545990090817538","alphax#0723","10/10/2021 5:19 pm","@Dmitrii @loc i am also not 100% clear on the meaning of the whitelist for token prices. This looks like it will always return 0 if it's not one of the whitelisted ones: 
```
export function findEthPerToken(token: Token): BigDecimal {
  if (token.id == WETH_ADDRESS) {
    return ONE_BD
  }
  // loop through whitelist and check if paired with any
  for (let i = 0; i < WHITELIST.length; ++i) {
    let pairAddress = factoryContract.getPair(Address.fromString(token.id), Address.fromString(WHITELIST[i]))
    if (pairAddress.toHexString() != ADDRESS_ZERO) {
      let pair = Pair.load(pairAddress.toHexString())
      if (pair.token0 == token.id && pair.reserveETH.gt(MINIMUM_LIQUIDITY_THRESHOLD_ETH)) {
        let token1 = Token.load(pair.token1)
        return pair.token1Price.times(token1.derivedETH as BigDecimal) // return token1 per our token * Eth per token 1
      }
      if (pair.token1 == token.id && pair.reserveETH.gt(MINIMUM_LIQUIDITY_THRESHOLD_ETH)) {
        let token0 = Token.load(pair.token0)
        return pair.token0Price.times(token0.derivedETH as BigDecimal) // return token0 per our token * ETH per token 0
      }
    }
  }
  return ZERO_BD // nothing was found return 0
}
```
But how can I get a derivedEth price of a token which is not on the whitelist or not above min liquidity threshold?","",""
"803638936613945374","dmitrii4935","10/10/2021 6:39 pm","@alphax, as I understand mentioned function searching within the token's pool whitelist and compute `priceSoFar` if considering whitelistPools contain tokens as token0 or token1. So, it returns the maximum `priceSoFar` or `ZERO_BD`","",""
"803638936613945374","dmitrii4935","11/10/2021 6:44 am","To clarify this we can start from this point:","",""
"803638936613945374","dmitrii4935","11/10/2021 6:44 am","{
  tokens(first:1000,
  where: {derivedETH_gt:0}) {
    id
    symbol
    derivedETH
  }
}","",""
"803638936613945374","dmitrii4935","11/10/2021 6:47 am","Then","",""
"803638936613945374","dmitrii4935","11/10/2021 6:47 am","{
  tokens(first:1000,
  where: {derivedETH:0}) {
    id
    symbol
    derivedETH
  }
}","",""
"803638936613945374","dmitrii4935","11/10/2021 6:58 am","{
  pools (first:1000, where:{
    totalValueLockedETH_lt:52
  }) {
    id
    totalValueLockedETH
    totalValueLockedToken0
    totalValueLockedToken1
    token0 {
      id
      symbol
      tokenDayData (first:1, orderBy:date, orderDirection:desc) {
        priceUSD
      }
    }
    token1 {
      id
      symbol
      tokenDayData (first:1, orderBy:date, orderDirection:desc) {
        priceUSD
      }
    }
    
  }
}","",""
"813367423230017566","cp3co","12/10/2021 6:02 pm","Hi all, i am getting weird data on UniswapV2 subgraph, sometimes i query a pool which gets reserves that don't match at all with blockchain reserves when i query on same block on a node... 
For example see pool address : 0x269b2c76765d483cbb047568587f49a508b3c02b, i got [""80"", ""12668""] on node, and [ ""132966338840965581847"",""21338111465758189934527""] on the subgraph... 
Is there an explanation i can find somewhere ? something i'm missing ? 
Thanks !","",""
"843155325619535912","Etherscan Bot#5753","12/10/2021 6:02 pm","<https://etherscan.io/address/0x269b2c76765d483cbb047568587f49a508b3c02b>","",""
"813367423230017566","cp3co","12/10/2021 6:12 pm","Same issue with 0x7d7e813082ef6c143277c71786e5be626ec77b20 : 
Subgraph query on reserves result : 
```js
{
  ""data"": {
    ""_meta"": {
      ""block"": {
        ""number"": 13403684
      }
    },
    ""pairs"": [
      {
        ""id"": ""0x7d7e813082ef6c143277c71786e5be626ec77b20"",
        ""reserve0"": ""796859.058495282423470671"",
        ""reserve1"": ""8443.802146967467293691""
      }
    ]
  }
}
``` 
And node (etherscan for example) : 
``` 
  _reserve0|uint112 :  1121948357413710194599
  _reserve1|uint112 :  9185295042511528678
```
And i dont mean decimals issue, but real one 😉","",""
"843155325619535912","Etherscan Bot#5753","12/10/2021 6:12 pm","<https://etherscan.io/address/0x7d7e813082ef6c143277c71786e5be626ec77b20>","",""
"843155325619535912","Etherscan Bot#5753","12/10/2021 6:12 pm","<https://etherscan.io/address/0x7d7e813082ef6c143277c71786e5be626ec77b20>","",""
"819822585143361536","mfw78","12/10/2021 11:57 pm","Just confirming Arbitrum Uniswap subgraph is online again?","",""
"803638936613945374","dmitrii4935","13/10/2021 1:45 am","Yep, for the first view it looks strange","",""
"803638936613945374","dmitrii4935","13/10/2021 1:47 am","And constants are different too","",""
"803638936613945374","dmitrii4935","13/10/2021 1:53 am","https://www.dextools.io/app/ether/pair-explorer/0x7d7e813082ef6c143277c71786e5be626ec77b20","",""
"803638936613945374","dmitrii4935","13/10/2021 2:01 am","It seems like we ommited something.","",""
"888537922410774558","Mirko#0924","13/10/2021 4:41 am","Hi, I am pretty new here, could someone point me to the encoding of pool liquidity and liquidityNet as a BigInt when I query the subgraph API. I'd just like to convert it to some human-readable floating-point format - I don't care about precision etc atm...","",""
"325714340642684930","Sarper#0364","13/10/2021 11:00 am","Hi, I am trying to fetch range data for all liquidity provisions on for the WETH-USDT pair at  address ""0x4e68ccd3e89f51c3074ca5072bbac773960dfa36"" the from the subgraph. I use this query:","",""
"843155325619535912","Etherscan Bot#5753","13/10/2021 11:00 am","<https://etherscan.io/address/0x4e68ccd3e89f51c3074ca5072bbac773960dfa36>","",""
"325714340642684930","Sarper#0364","13/10/2021 11:00 am","{
  Pools1:
  pool(id: ""0x4e68ccd3e89f51c3074ca5072bbac773960dfa36""){
    id
    token0 {
      symbol
    }
    token1 {
      symbol
    }
    tick
    mints(orderBy:timestamp, orderDirection:desc){
      timestamp
      tickLower
      tickUpper
      amount0
      amount1
    }
    burns(orderBy:timestamp, orderDirection:desc){
      timestamp
      tickLower
      tickUpper
      amount0
      amount1
    }
  }
}","",""
"843155325619535912","Etherscan Bot#5753","13/10/2021 11:00 am","<https://etherscan.io/address/0x4e68ccd3e89f51c3074ca5072bbac773960dfa36>","",""
"325714340642684930","Sarper#0364","13/10/2021 11:01 am","and get sth like this 

  ""data"": {
    ""Pools1"": {
      ""burns"": [
        {
          ""amount0"": ""0"",
          ""amount1"": ""0"",
          ""tickLower"": ""-198840"",
          ""tickUpper"": ""-191640"",
          ""timestamp"": ""1634096537""
        },

I don't understand what these ticks mean. Can you help me?","",""
"860159631799091241","AndsIns#8509","13/10/2021 7:26 pm","I wonder how to iterate all ""Uniswap V3: Positions NFT"" from the **Newest positions** and back in time.
The information that I try to collect would be the below. *(The below code starts from the very beginning 169 days ago)*
`{
  positions(first:3) {
    id
    transaction{id}
  }
}`","",""
"617127949480493077","yj_alt","13/10/2021 7:54 pm","Ticks etc are described in Uniswap v3 whitepaper","",""
"177610452744798208","nakamoto_","14/10/2021 3:11 pm","Why does the fee tracker work for https://v2.info.uniswap.org/account/0xa81598667ac561986b70ae11bbe2dd5348ed4327 but not https://v2.info.uniswap.org/account/0xe269D07aCE139330f0832456aC641f2062Aa19B5 ?","",""
"177610452744798208","nakamoto_","14/10/2021 3:12 pm","","https://cdn.discordapp.com/attachments/765222888617017365/898143791016472586/unknown.png",""
"177610452744798208","nakamoto_","14/10/2021 3:13 pm",":cringex100long:","",""
"177610452744798208","nakamoto_","14/10/2021 3:15 pm","They both point over to the same subgraph;","https://cdn.discordapp.com/attachments/765222888617017365/898144461090070558/unknown.png",""
"183309006767521792","jorropo","14/10/2021 4:37 pm","both work for me","",""
"860159631799091241","AndsIns#8509","14/10/2021 5:01 pm","I can't find a solution how to start iterating the newest ""Uniswap V3: Positions NFT"". It just starts from the beginning 169 days ago. How is this possible to do?
This code skips the first 5000 which is the maximum to skip which is not enough either and it is not a solution either:
I use: https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
`{
  positions(first:3, skip:5000) {
    id
    transaction{id}
  }
}`","",""
"177610452744798208","nakamoto_","14/10/2021 5:53 pm","Did you click on the dropdown for the position? The default liquidity chart shows, but not the fees chart.","",""
"177610452744798208","nakamoto_","14/10/2021 5:54 pm","","https://cdn.discordapp.com/attachments/765222888617017365/898184484137095188/unknown.png",""
"183309006767521792","jorropo","14/10/2021 6:03 pm","ok I see, that a thegraph issue for some reason","",""
"177610452744798208","nakamoto_","14/10/2021 6:03 pm","Indeed. The second screenshot I provided above may shed some light on the issue. Looks like CORS issues of some sort.","",""
"119138350991933442","LazyFrank#9795","15/10/2021 9:57 am","Is it possible to retrieve a tokens value with python?","",""
"803638936613945374","dmitrii4935","15/10/2021 12:33 pm","Sure. There are many approaches.","",""
"813367423230017566","cp3co","15/10/2021 3:29 pm","Hi, any intel on this please ? Issue is still present...","",""
"798743146460086312","Inzamam#5491","15/10/2021 3:33 pm","Hi there, 

I'm forking Pancakeswap Analytics, I have changed Factory_Address, USDT_WBNB_Pair Address, 

my Query giving BNB price but Not providing Other Token Price.

Can anyone help me that what are the steps to get id done mate. 

I'll be very Thankful for that mate.","",""
"190495907953901568","yuusf#8164","16/10/2021 2:29 am","hello, is there a subgraph v2 api for rinkeby?","",""
"183309006767521792","jorropo","16/10/2021 2:32 am","no","",""
"190495907953901568","yuusf#8164","16/10/2021 2:33 am","i see, do you know a way to fetch spot prices for rinkeby network?","",""
"183309006767521792","jorropo","16/10/2021 3:49 am","web3.js / ethers.js","","👍 (1)"
"860159631799091241","AndsIns#8509","17/10/2021 12:12 am","I wonder if there is any API to see what a specific position has currently earned in Token Rewards? For example below has the ID: 141826
The SubGraph API is said to not give the correct amounts as I have tested myself also.
https://etherscan.io/tx/0xf81d4229421efaed0915645af89b2420273243ff796ec6e5cfb275b838bb9e07","",""
"389550108003270666","cryptovkng","17/10/2021 4:51 pm","Hey guys, I'm playing around with the API and have one question. Why do I see multiple pools with the same tokens, but different address? Here is an example with two USDC-WETH pools in the API response when sorted by highest volume.

The pool listed on Uniswap.org is the first one (0x88e...): https://info.uniswap.org/#/pools/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640

So what is actually the second pool (0x8ad....) ?","https://cdn.discordapp.com/attachments/765222888617017365/899255798629273640/unknown.png",""
"389550108003270666","cryptovkng","17/10/2021 4:57 pm","Kind of figured it out now. Wasn't aware that there are multiple pools with the same tokens on v3.","",""
"813367423230017566","cp3co","18/10/2021 2:48 pm","Yep it's the different fee tier that applies on different pools","","☝️ (1)"
"803638936613945374","dmitrii4935","18/10/2021 3:46 pm","Good day. Does anybody know about requests limits to subgraph api?","",""
"705175215520481380","ryedawg123","19/10/2021 5:40 am","hello, do we have any idea when the subgraph for arbitrum will come back online?","",""
"705175215520481380","ryedawg123","19/10/2021 5:41 am","actually, it looks like just the liquidity data is not available for both L2's, arbitrum and optimism","",""
"705175215520481380","ryedawg123","19/10/2021 7:02 am","nevermind, I guess it's because the subgraphs can't keep up","",""
"342761185294286849","c3hlito","19/10/2021 5:22 pm","I have a quick question: If I want to make a subgraph that tracks the protocol fees of each pair, which subgraphs should I look into?","",""
"839505340521381986","end5#8971","20/10/2021 8:20 am","i have one question: whats the url of uniswap-v3-subgraph on the arbitrum network","",""
"456226577798135808","Deleted User","20/10/2021 5:16 pm","How do i get flash data","",""
"853804440913838081","tfishman#4746","21/10/2021 9:49 am","Anyone else access the subgraph using python? Just in the last couple hours I started getting an error:
graphql.error.base.GraphQLError: Field ""burns"" argument ""subgraphError"" of type ""_SubgraphErrorPolicy_!"" is required but not provided.","",""
"617127949480493077","yj_alt","21/10/2021 10:05 am","What's ""flash data""?","",""
"900774967594082405","Sergey_VS#0423","21/10/2021 10:13 pm","Hi All! I’m new here and I very appreciate it if you can share any tips on how can I retrieve the proper historical netLiquidity values from GraphQL.  I’ve been exploring the reconstruction of swaps using GraphQL data. I use TickDailyData assuming it gives 00:00:00 GMT snapshot of tick netLiquidity values. But when I'm trying to process the swaps (also uploaded using GraphQL + etherscan API for liquidity values), I see the contradiction between the liquidity change in etherscan API and the relevant netLiquidity from TickDailyData. For example, for the pool “0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8” (ETH-WUSD 0.3%) we have a swap https://etherscan.io/tx/0xb678b802074564fa0240865d4ec323b84c4a8b708e663df70ca7aee404e057c8#eventlog that is changing liquidity to 24781562554378302298 from 21401939705667353561
(https://etherscan.io/tx/0xfa4738e34d0f7b1a6d57629cf6caaf00d4c5ddcea0ebba3a44ff410081a9248f#eventlog) on 1630454548 timestamp when crossing 194940 tick from left to the right. So the change is 3379622848710948737. But according to the GraphQL query, the netLiquidity at this tick was -108676247100103188 as of 1630454400 (2.5 minutes prior to the swap, no mints/burns during this period).","",""
"325714340642684930","Sarper#0364","24/10/2021 8:07 pm","Hi All! I am trying to get the tick data for the USDC-WETH pool. The tick index to relative price relationship is 𝑝(𝑖) = 1.0001^i according to the uniswap v3 whitepaper. But when I get the pool data like this:
{
  pools(first:1,orderBy:totalValueLockedETH,orderDirection:desc)
  {
    id
    token0 {
      symbol
    }
    token1 {
      symbol
    }
    sqrtPrice
    tick
    token0Price
    token1Price
    liquidity
  }
}

this is what I get:
{
  ""data"": {
    ""pools"": [
      {
        ""id"": ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"",
        ""liquidity"": ""17633413076793977309"",
        ""sqrtPrice"": ""1245090556272194303173216026819934"",
        ""tick"": ""193257"",
        ""token0"": {
          ""symbol"": ""USDC""
        },
        ""token0Price"": ""4049.088687564927531175703397695982"",
        ""token1"": {
          ""symbol"": ""WETH""
        },
        ""token1Price"": ""0.0002469691521134321666242135375140961""
      }
    ]
  }
}

Tick is 193257. -> 1.0001 ^193257 = 246,959,219.91781157774399883678729 -> This is not the relative price in the pool. Am I missing something or is the tick here being reported false?

Thank you in advance","",""
"382520120368693249","vkao#7226","24/10/2021 11:14 pm","Hey, did you end up figuring this out?","",""
"705175215520481380","ryedawg123","25/10/2021 2:13 am","You need to adjust by the decimals. USDC is a 6 decimal ccy. WETH is a 18.
formula for adjusted price is 1.0001  ^ tick / (10 ^ (decimals1 - decimals0))
you can query what decimals to use inside the brackets of token0 and token1 after you have 'symbol'
check out this helpful paper for a rundown https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","","👍 (3)"
"705175215520481380","ryedawg123","25/10/2021 2:16 am","did you figure this out? i'm curious about this as well.","",""
"705175215520481380","ryedawg123","25/10/2021 2:17 am","I don't believe it's working. i get an indexing error. apparently hasnt' been updating for months?","",""
"705175215520481380","ryedawg123","25/10/2021 2:17 am","*weeks","",""
"183457452686049280","pucksan","25/10/2021 2:59 pm","subgraph is offline","",""
"183457452686049280","pucksan","25/10/2021 2:59 pm","https://cdn.discordapp.com/emojis/546246764680970259.png?size=64","",""
"803638936613945374","dmitrii4935","26/10/2021 12:26 am","Hello. Does  anybody know is there not-free uniswap the graph version?","",""
"803638936613945374","dmitrii4935","26/10/2021 12:28 am","Yep, today we had data retreiving issue. To be more precisely, data was inconsisent.","",""
"183457452686049280","pucksan","26/10/2021 12:29 am","When I was trying to use it, it was completely offline. Returned an internal server error. But it seems to be fixed? I think. Working fine on my end now","",""
"803638936613945374","dmitrii4935","26/10/2021 12:30 am","Yes, for now it working good enougth","",""
"352282921056468993","shmoji","26/10/2021 7:01 am","Is there a Subgraph for testnet Uniswap V3?","",""
"382520120368693249","vkao#7226","26/10/2021 7:08 am","Can someone please let me know that I have not lost my mind: 

Looking at the core.ts file in the Uniswap V3 sub-graph: https://github.com/Uniswap/v3-subgraph/blob/main/src/mappings/core.ts, the first few import statements read: 

import { ... } from '../types/schema'

If I move up to the parent directory v3-subgraph/src/, I don't see any types child directory.","","👍 (1)"
"183309006767521792","jorropo","26/10/2021 7:18 am","no","","👍 (1)"
"860159631799091241","AndsIns#8509","26/10/2021 7:53 am","How is it possible to return the ""Unclaimed Fees"" programatically for a position like this one: https://app.uniswap.org/#/pool/140749 Is it possible to retreive this somehow without scraping the website which is very slow?","",""
"839505340521381986","end5#8971","26/10/2021 11:48 am","when i deploy the subgraph of using official code to arbitrum-rinkeby network.i get an indexing error","",""
"839505340521381986","end5#8971","26/10/2021 11:55 am","the same code deploy to arbitrum-one network,i works","",""
"839505340521381986","end5#8971","26/10/2021 11:55 am","it works","",""
"839505340521381986","end5#8971","26/10/2021 12:08 pm","i guess i found the reason.when i deploy the subgraph, i using the code of 'main' branch.","",""
"839505340521381986","end5#8971","26/10/2021 12:08 pm","maybe i will be success when i using the code of 'arbitrum' branch.","",""
"839505340521381986","end5#8971","26/10/2021 12:08 pm","let me try","",""
"487216703928008707","lukrach#0300","27/10/2021 1:00 am","Is there any way to fetch historical token composition for a uniswap v3 LP position?","",""
"839505340521381986","end5#8971","27/10/2021 1:57 pm","","https://cdn.discordapp.com/attachments/765222888617017365/902835847567642634/unknown.png",""
"839505340521381986","end5#8971","27/10/2021 1:57 pm","it that what your talking about?","",""
"487216703928008707","lukrach#0300","27/10/2021 2:00 pm","No like knowing how much eth and BTC i have at any point if I deposited eth/btc in some range","",""
"839505340521381986","end5#8971","27/10/2021 2:06 pm","my English is no good.i dont know what are you talking about","",""
"839505340521381986","end5#8971","27/10/2021 2:07 pm","Can you speak Chinese","",""
"753456871171555348","yoffie#8162","27/10/2021 3:47 pm","hello","",""
"753456871171555348","yoffie#8162","27/10/2021 3:47 pm","I want to use your API to get the price of a certain coin, but I don’t seem to be able to get the price of weth","",""
"396019781754683403","mario.revert.finance","27/10/2021 7:22 pm","Something went wrong with the v3 subgraph, USDC is at $3.74 https://info.uniswap.org/#/tokens/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","","👍 (2)"
"396019781754683403","mario.revert.finance","27/10/2021 7:22 pm","MKR too https://info.uniswap.org/#/tokens/0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2","",""
"826856147226198016","heptx","28/10/2021 12:32 am","I believe that certain state data in the v3 subgraph isn't correct. who should i get in touch with to discuss/get this fixed?","",""
"826856147226198016","heptx","28/10/2021 2:03 am","Concretely, feeGrowthOutside doesn't always get updated when a tick was crossed, and even if it does, the figures don't seem to be accurate","",""
"396019781754683403","mario.revert.finance","28/10/2021 6:51 am","@hepto Yeah, I'm trying to fix that https://github.com/Uniswap/v3-subgraph/pull/60","","👍 (2)"
"396019781754683403","mario.revert.finance","28/10/2021 6:52 am","Message on info.uniswap.org says the graph hosted service is experiencing issues https://info.uniswap.org/#/","",""
"386209854928191488","derekdatanexus","28/10/2021 7:29 am","Looks like I can query data in the playground:","https://cdn.discordapp.com/attachments/765222888617017365/903100709745078372/unknown.png",""
"386209854928191488","derekdatanexus","28/10/2021 7:30 am","Although I see a pending version that was deployed 3 hours ago.","",""
"396019781754683403","mario.revert.finance","28/10/2021 7:31 am","Yeah, hosted service is running. Some bogus prices reported though, see above","","👍 (1)"
"836620728198758491","caesar5081","28/10/2021 7:45 am","Came here to report the same thing that @mario | revert.finance reported. I think there are a lot more tokens affected.","",""
"836620728198758491","caesar5081","28/10/2021 7:47 am","Sample query for the playground:
```{
  transaction(
    id: ""0xb66f4a364ef60d8ac62c6e8e09000a3fc83742e3371928426fe72ca7bd2bcca0""
  ) {
    swaps {
      token0 {
        id
        symbol
        name
      }
      token1 {
        id
        symbol
        name
      }
      amount0
      amount1
      amountUSD
    }
  }
}
```","",""
"836620728198758491","caesar5081","28/10/2021 7:47 am","Obviously, `amount_usd` should be pretty much in line with `amount1` (USDT).","",""
"396019781754683403","mario.revert.finance","28/10/2021 7:47 am","Where do you see the pending versions?","",""
"386209854928191488","derekdatanexus","28/10/2021 7:53 am","","https://cdn.discordapp.com/attachments/765222888617017365/903106616453386280/unknown.png",""
"386209854928191488","derekdatanexus","28/10/2021 7:53 am","Doesn't appear to be ingesting blocks however","",""
"396019781754683403","mario.revert.finance","28/10/2021 7:57 am","@Derek | Data Nexus Yeah, that's the linked subgraph on info, but the official one is https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"396019781754683403","mario.revert.finance","28/10/2021 7:58 am","They are both wrong on those prices tho","",""
"386209854928191488","derekdatanexus","28/10/2021 8:07 am","Ahh thank you.","",""
"498617462586081281","Sebastian_Pereira#7623","28/10/2021 7:31 pm","It disabled since yesterday I guess. Any exprected fixing period based on last issues?","https://cdn.discordapp.com/attachments/765222888617017365/903282438279663716/unknown.png",""
"183309006767521792","jorropo","28/10/2021 7:32 pm","30 feb 2022","",""
"498617462586081281","Sebastian_Pereira#7623","28/10/2021 7:37 pm","nice support style @Micah","",""
"396019781754683403","mario.revert.finance","28/10/2021 8:00 pm","Any idea what's causing the wrong prices?","",""
"396019781754683403","mario.revert.finance","28/10/2021 8:00 pm","Was there a new faulty version deployed?","",""
"396019781754683403","mario.revert.finance","28/10/2021 8:01 pm","(Ahh, that's not it)","",""
"836620728198758491","caesar5081","29/10/2021 12:15 am","@mario | revert.finance Looks like a fix is coming: https://github.com/Uniswap/v3-subgraph/commit/ff07a11ec5aa9112585f72ff052c3b2fce87c14c","",""
"860159631799091241","AndsIns#8509","29/10/2021 8:45 pm","I am running this query in the subgraph to know how much the symbol 1inch is worth in ETH and it returns: **0.00471** which is about **20$** but 1inch price is **5$**. How is this possible?
`//Query
{
  token(id: ""0x111111111117dc0aa78b770fa6a738034120c302"") { symbol derivedETH }
}

//Result
""data"": {
    ""token"": {
      ""derivedETH"": ""0.004719789320446221749642536486662438"",
      ""symbol"": ""1INCH""
    }
  }`","",""
"650090640612392960","gift#4544","30/10/2021 11:20 am","looks like tokenDayData, tokenHourData queries return the same error","",""
"860159631799091241","AndsIns#8509","30/10/2021 8:56 pm","okay yes it seems to be some error there","",""
"650090640612392960","gift#4544","31/10/2021 12:06 pm","@AndsIns which Graph endpoint do you use?","",""
"98352395007840256","laktek.eth | seedle.finance#9888","02/11/2021 1:01 am","How do I convert Q128x128 values to Fractions? For example, a feeGrowth value like `1019361162986911596025124066185961557409` which is returned as a string by the API.","",""
"471357824299958273","crypto_rachel","02/11/2021 2:26 am","So I don't really know the full math for V3. but the docs https://docs.uniswap.org/protocol/reference/core/libraries/FixedPoint128
point to this wiki
https://en.wikipedia.org/wiki/Q_(number_format)","",""
"174992046912700416","alpguneysel","02/11/2021 6:28 am","hi. i want to get all pools for a given token through V3 subgraph, what's the best way to do this?","",""
"174992046912700416","alpguneysel","02/11/2021 6:30 am","``` {        pools( orderBy: totalValueLockedUSD, orderDirection: desc where: {
            token0: ""x""  
                    }) {
        token0{
          symbol
        },
        token1{
          symbol
        },
id
        }        
  }```

i'm using this query, but want to make it like `token0 = x or token1 = x`

endpoint: https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-alt","",""
"174992046912700416","alpguneysel","02/11/2021 6:32 am","could not find anything like  
```where: {
            token0: ""x""  or token1: ""x"" 
          
}```","",""
"174992046912700416","alpguneysel","02/11/2021 6:42 am","or should I do two separate requests?","",""
"650090640612392960","gift#4544","03/11/2021 8:22 pm","try something like  `where:{token_in:[""x1"", ""x2""]}`","",""
"174992046912700416","alpguneysel","03/11/2021 8:25 pm","that's not what i want, i want  `token0: ""x""  or token1: ""x"" `, this is `token0: ""x1""  or token0: ""x2"" `","",""
"650090640612392960","gift#4544","03/11/2021 8:42 pm","Did you check for `an `or operator?","",""
"174992046912700416","alpguneysel","03/11/2021 8:42 pm","yes but seems to be not supported.","",""
"835951062250553363","archerabi","04/11/2021 7:06 am","Hi, what's the correct subgraph URL  ? The docs mention https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3
but the uniswap app uses https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-subgraph","",""
"835951062250553363","archerabi","04/11/2021 7:08 am","And related, why does uniswap/uniswap-v3 graph return incorrect prices for USDC whereas /ianlapham/uniswap-v3-subgraph returns the right one ? 
```
{
    ""data"": {
        ""tokens"": [
            {
                ""id"": ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"",
                ""symbol"": ""USDC"",
                ""totalValueLocked"": ""664308336.441767"",
                ""totalValueLockedUSD"": ""2831695859.535862349961784340190228""
            }
        ]
    }
}
```","",""
"835951062250553363","archerabi","04/11/2021 7:12 am","you could get the token first using 
```
tokens( where : {symbol: ""USDC""}) {
        id
        }
```
Then use the id to get the pools 
```
pools(where: { token0: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}) {
            id
            token0 {
                symbol
            }
            token1{
                symbol
            }
        }
```","",""
"471357824299958273","crypto_rachel","04/11/2021 9:56 am","@Abhi Reddy
<https://thegraph.com/explorer/subgraph/uniswap/uniswap-v3> < -- is mentioned in the docs, but yeah I think it was updated to that one
not sure why but ians isn't loading for me
the TVL is not the price that is the Total Value Locked

here is an example of calling a token price from a pools address (the token area has no price)(btw i'm no graph expert)
```
{
  pool(id: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""){
    token0Price
    token1Price
  }
}
```","",""
"397514983677624320","_thoth_","05/11/2021 4:12 am","Hey guys, I need to retrieve data from Uniswap v3 in Kovan or Rinkeby, but I am not finding the subgraph. Does it exist? If not, any advice?","",""
"471357824299958273","crypto_rachel","05/11/2021 10:50 am","not on testnets afaik","",""
"740375745762689136","anyharris","08/11/2021 6:41 am","Hello. I've been working on some automation for managing my uni-v3 position but I'm stuck on one part. Is there an easy way to query the liquidity available between two tickIdx?","",""
"740375745762689136","anyharris","08/11/2021 6:42 am","I looked everywhere in discord and tried

`query MyQuery {
  ticks(where: {tickIdx_in: [ , ], poolAddress: """"}) {
    liquidityGross
    liquidityNet
  }
}`

but I don't think it's giving me what I want","",""
"548435317330280468","izhelyazkov","08/11/2021 9:12 pm","Hey guys. Is there a Uniswap V3 Kovan subgraph ?","",""
"209904824366399489","bigboywillis","09/11/2021 4:11 am","Hello, Does anyone know which subgraph is used to populate the data in https://info.uniswap.org/#/arbitrum/ ? Many Thanks!","",""
"183309006767521792","jorropo","09/11/2021 4:18 am","~~You could just press f12 go to the network tab and see there. 😉 ~~ Actually this is now illegal in Missouri, mb you might live there.

Anyway it's : https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal","",""
"209904824366399489","bigboywillis","09/11/2021 4:19 am","cheers!!","",""
"738900782824292474","AinZ#8586","09/11/2021 4:01 pm","Thanks! The feesUSD and volumeUSD data is missing for this subgraph. Am I looking in the wrong place?

Or is there an easy way to derive from the other fields?","",""
"183309006767521792","jorropo","09/11/2021 6:12 pm","Take the raw values of the tokens and just convert them using the price.","","👍 (1)"
"738900782824292474","AinZ#8586","09/11/2021 7:36 pm","Does anyone have an easy way to convert Arbitrum block numbers to timestamps and viceversa?","",""
"738900782824292474","AinZ#8586","10/11/2021 2:55 pm","Hi all, getting some strange TVL and volume data using this query...","https://cdn.discordapp.com/attachments/765222888617017365/907923957297057802/unknown.png",""
"738900782824292474","AinZ#8586","10/11/2021 2:57 pm","The dates after 27th October don't match the chart here: https://info.uniswap.org/#/

Volume: $4bn vs $2.5bn
TVL: $6.8bn vs £3.42bn","https://cdn.discordapp.com/attachments/765222888617017365/907924518503325716/unknown.png",""
"738900782824292474","AinZ#8586","10/11/2021 2:58 pm","(this is using https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3)","",""
"738900782824292474","AinZ#8586","10/11/2021 3:03 pm","All the data for dates prior seem to match perfectly","",""
"738900782824292474","AinZ#8586","11/11/2021 5:02 am","Hey all, I think gasUsed in transactions on https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal and https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph are actually gasLimit (as per etherscan / arbiscan.

Does anyone know if there is a way to calculation the correct transaction fees on these subgraphs?","",""
"738900782824292474","AinZ#8586","11/11/2021 5:05 am","Example query for the arbitrum subgraph","https://cdn.discordapp.com/attachments/765222888617017365/908137715663511552/unknown.png",""
"460478830763835412","melenxyz","11/11/2021 7:06 pm","Hi here! I'm trying to use TheGraph to access data from UniV3 pools, but it seems that I can access some pools but not many/definitely not all, is this normal?","",""
"460478830763835412","melenxyz","11/11/2021 7:07 pm","for example, using this querry : 
```
{  pool(id: ""0x8ad599c3A0ff1De082011EFDDc58f1908eb6e6D8"") {
    tick
    token0 {
      symbol
      id
      decimals
    }
    token1 {
      symbol
      id
      decimals
    }
    feeTier
    sqrtPrice
    liquidity
  }
}
```
it returns a pool: null","",""
"460478830763835412","melenxyz","11/11/2021 7:08 pm","(it's the WETH/USDC 0.3% pool)","",""
"460478830763835412","melenxyz","11/11/2021 7:09 pm","maybe I'm querying it wrongly and synthax isn't that, I'm no TheGraph expert, that's why I'm asking here","",""
"738900782824292474","AinZ#8586","11/11/2021 7:24 pm","Case senstitive, try this: 0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8","",""
"460478830763835412","melenxyz","11/11/2021 7:55 pm","Thanks a ton mate I love you","","👍 (1)"
"179972866564030464","rz5859","12/11/2021 7:13 pm","Is the TVL on Uniswap UI or Etherscan correct?","",""
"325714340642684930","Sarper#0364","12/11/2021 8:02 pm","Hi all! I am trying to calculate the swap fee and slippage for a given swap using the subgraph. Below is my query and result:
{
  swap(id: ""0xce7c3c307d820785caa12938012372fc9366a614a6aacf8ba9ddb2b6497b7ff5#3"") {
    timestamp
    token0 {
      decimals
    }
    token1 {
      decimals
    }
    amount0
    amount1
    tick
    pool {
      feeTier
    }
  }
}
result:
{
  ""data"": {
    ""swap"": {
      ""amount0"": ""-0.329608"",
      ""amount1"": ""0.0001"",
      ""pool"": {
        ""feeTier"": ""3000""
      },
      ""tick"": ""195285"",
      ""timestamp"": ""1620179783"",
      ""token0"": {
        ""decimals"": ""6""
      },
      ""token1"": {
        ""decimals"": ""18""
      }
    }
  }
}
Are the fees taken from amount1 here or is amount1 the amount to be swapped after the fees are taken?","",""
"98352395007840256","laktek.eth | seedle.finance#9888","12/11/2021 9:51 pm","Looks like Optimism subgraph is down since the regenesis? https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-optimism-dev","","morganFreemanThis (1)"
"631532256107954198","snatch6329","13/11/2021 4:03 am","Hi all. Am I able to execute sell orders using the subgraph API?","",""
"456226577798135808","Deleted User","13/11/2021 6:55 am","Hey - I have a quick question 

If you are tying to recreate the infopage with another router and factory adress on another EVM chain 

after deploying on the other chain you just clone the subgraph repo 

then enter the new factory and pair address and enter the new networks RPC point 

is that it?","",""
"617127949480493077","yj_alt","13/11/2021 8:35 am","No. Subgraph is only to **read** the data. It does not send any transactions (that **write** data on chain).","",""
"617127949480493077","yj_alt","13/11/2021 8:37 am","I guess you need to have a subgraph indexer (server) to index data from that chain. And then an infopage instance (web server) getting and showing the indexed data from your subgraph indexer. Don't really know the details, but what you said is probably right, as first steps.","","👍 (1)"
"813367423230017566","cp3co","13/11/2021 2:02 pm","Hi, is there anything we can do when subgraph is down ? 
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
Relying on this looks pretty unstable, should we fork the subgraph on our server to be -maybe- more reliable ? Thanks ! 🙏","","👍 (1)"
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 2:30 pm","Any status update from Graph about the hosted subgraphs being down?","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 2:33 pm","The issue is marked as resolved, but Uniswap graph still not syncing https://status.thegraph.com/incidents/2pkk50cwz8qb","","👍 (1)"
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 2:37 pm","I asked in Graph's discord, will see if there's any update https://discord.com/channels/438038660412342282/791444347823980604/909005952001380352","",""
"860159631799091241","AndsIns#8509","13/11/2021 3:18 pm","Hello, The Graph return ""indexing_error"". Does the Graph has any error. What is the timeframe for this to be working again?
`{
  ""errors"": [
    {
      ""message"": ""indexing_error""
    }
  ]
}`","",""
"320651112271314964","k.ugurerdem#0902","13/11/2021 6:03 pm","Hi there, I need to write a data tracker for different DeFi apps including UniswapV2, thus, I need to retreive the apy infos related to particular pools on your platform. My question is this: Which API do you guys use to get APY/APR infos for a pool, I have realized that there is a disrepancy between the dailyVolumeUSD value returned by the subgraph and volume for 24hours that is shown on v2.info site. 

For example dailyVolumeUSD for ETH-USDT is now shown as #43,590,422 and Volume 24hrs for is $78,358,083, shall I retreive the hourlyData for a pair and then sum up their volume? Which way is healthier to get a correct estimation for an APY.","",""
"833291365164253214","jnp1","13/11/2021 7:09 pm","i am having this error too","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:22 pm","Hey folks, I believe the new fee tier broke all the subgraphs. Made a pr here https://github.com/Uniswap/v3-subgraph/pull/71","","👍 (2),cheers (1)"
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:26 pm","Thanks for picking that up!","","🙌 (1)"
"396019781754683403","mario.revert.finance","13/11/2021 8:30 pm","I think mainnet-minimal was not the correct branch, making another pr against main","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:30 pm","also was told by graph protocol team the Optimism subgraph needs to be deployed","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:30 pm","https://discord.com/channels/438038660412342282/791444347823980604/909043450874306580","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:32 pm","so a resync with the fix gonna take at least a week :/","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:32 pm",":/","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:33 pm","I think we should be able to launch a sync from the block where the new fee tier was activated","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:33 pm","that should be quick","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:39 pm","was looking into that, `startBlock` in `subgraph.yml` is the only thing I could find. That probably needs to be set to the first block Uni v3 contracts were deployed.","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:40 pm","@laktek.eth | seedle.finance I think it should be good from the block where the new fee tier was launched","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:41 pm","Hmm maybe not, not sure how it works","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:43 pm","""dataSources.source.startBlock: the optional number of the block that the data source starts indexing from. In most cases we suggest using the block in which the contract was created.""","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:43 pm","yeah, according to docs Graph basically creates a new copy: 
""Depending on the amount of data and the number of events that need to be extracted from historical Ethereum blocks, starting with the genesis block, syncing can take from a few minutes to several hours.""
https://thegraph.com/docs/hostedservice/deploy-subgraph-hosted","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:44 pm","Seems my idea wont work, I guess there's no way to tell it like ""fork from this deployed subgraph and start running the new subgraph code from some block number""","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:45 pm","yeah, I wish it was possible. I see you asked about it in  Graph's discord - will see if there's an undocumented config option or something 🙂","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:45 pm","Cool 🙂","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:46 pm","either way, we need to prep the Subgraphs when there's a contract upgrade in the future.","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:46 pm","Yeah","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:47 pm","I guess currently they are maintained by the Labs. Would be cool if we can manage them as a community.","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:49 pm","Graph also have a decentralized version - worth investigating if that's better than having the hosted graph. (I see it currently only supports Mainnet though)","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:50 pm","Yeah! Let's do it.","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:50 pm","I'm unsure if I should be syncing main or mainnet-minimal so will try both","","👍 (1)"
"396019781754683403","mario.revert.finance","13/11/2021 8:52 pm","minimal fork is syncing here https://thegraph.com/hosted-service/subgraph/mariorz/uniswap-v3-minimal","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:54 pm","I have a mainnet fork  syncing here with your fix https://thegraph.com/hosted-service/subgraph/laktek/uniswap-v3-mainnet?version=pending","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:54 pm","Cool, also have that one here https://thegraph.com/hosted-service/subgraph/mariorz/uniswapv3?version=pending","",""
"396019781754683403","mario.revert.finance","13/11/2021 8:55 pm","I guess we'll see how it goes","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/11/2021 8:59 pm","Thanks again for picking it up @mario | revert.finance !","",""
"396019781754683403","mario.revert.finance","13/11/2021 9:01 pm","NP, thanks for helping out","",""
"396019781754683403","mario.revert.finance","13/11/2021 9:01 pm","I think in the future gov should not approve subgraph-breaking changes without a fix ready for the subgraph","","💯 (1)"
"650090640612392960","gift#4544","13/11/2021 10:02 pm","Hi, I tried a query below and the timestamp of last trade returned is 1620278796, or 05:26 GMT:
`query trades{
swaps(orderBy: timestamp, orderDirection: desc, first:1000,)
  {
    id
    timestamp
    token0{symbol}
    token1{symbol}
    amount0
    amount1
    amountUSD
    transaction{blockNumber}
  }
}`","",""
"396019781754683403","mario.revert.finance","13/11/2021 10:03 pm","@gift It's still syncing and at 91% so it will take a few days","",""
"650090640612392960","gift#4544","13/11/2021 10:05 pm","I see, thank you. So no fresh data from the Graph for a couple of days?","",""
"396019781754683403","mario.revert.finance","13/11/2021 10:06 pm","yeah, seems so unfortunately, maybe more than a couple. It's possible that someone has a subgraph fork that did not break but I have not found one","",""
"860159631799091241","AndsIns#8509","13/11/2021 10:09 pm","I use the API in a webrequest like this. But this doesn't seem to work. Do I need a specific API key for this URL: https://api.thegraph.com/hosted-service/subgraph/laktek/uniswap-v3-mainnet?version=pending
(I have an API key for the original url: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"650090640612392960","gift#4544","13/11/2021 10:11 pm","You should probably use https://api.thegraph.com/subgraphs/id/Qme89TggZdfzy8rTrxdNV23GmZXrojn3rfsfqNhACeEaZZ","",""
"650090640612392960","gift#4544","13/11/2021 10:12 pm","as you quote the playground URL","",""
"860159631799091241","AndsIns#8509","13/11/2021 10:14 pm","Thank you, however the API key that I have doesn't work with that URL as I can notice now. Should I do something for it to work?","",""
"650090640612392960","gift#4544","13/11/2021 10:17 pm","Did you try it without any API key?","",""
"860159631799091241","AndsIns#8509","13/11/2021 10:21 pm","I am sorry you are right, I didn't use the API key even for the original API url. So yes I don't even use the API key in my webrequest","",""
"396019781754683403","mario.revert.finance","13/11/2021 10:33 pm","https://twitter.com/ianlapham/status/1459566554916524039","",""
"396019781754683403","mario.revert.finance","13/11/2021 10:46 pm","https://twitter.com/ianlapham/status/1459570276568637444?s=20","","👍 (5)"
"860159631799091241","AndsIns#8509","14/11/2021 5:07 pm","Is there any update on when the Graph will start working again. None of the above forks seem to return accurate data? For example `ethPriceUSD `shows 2493$","",""
"256210656695549953","kaseyriver11","14/11/2021 5:37 pm","Which fork are you using? Just note they appear to be very outdated","",""
"860159631799091241","AndsIns#8509","14/11/2021 5:48 pm","I tried with this one and all of the last ones posted above. Yes they seem outdated. I wonder when uniswap will have it fixed and synced?
https://api.thegraph.com/subgraphs/id/Qme89TggZdfzy8rTrxdNV23GmZXrojn3rfsfqNhACeEaZZ","",""
"406983464773222410","kyoronut","14/11/2021 7:22 pm","yay","https://cdn.discordapp.com/attachments/765222888617017365/909440738230681620/unknown.png","RunningUnicorn (5)"
"382721529345081344","0r21h90n3","14/11/2021 9:34 pm","but https://info.uniswap.org/#/  is still not working","","😢 (1)"
"396019781754683403","mario.revert.finance","14/11/2021 10:40 pm","Looks like the subgraphs are fully synced","",""
"403204367345254402","ondrejmeca","14/11/2021 10:40 pm","maybe info.uniswap is pointing to old version ?","",""
"321261913067618305","max_laaf","14/11/2021 11:11 pm","hi guys, am i right that difference between amount1 and amount0 is a fee earned by LPs + slippage?
it's swap's data in a screenshots","https://cdn.discordapp.com/attachments/765222888617017365/909498339056320522/unknown.png",""
"321261913067618305","max_laaf","14/11/2021 11:13 pm","i've calculated percent difference and it's 0.05659101 that is really close to pool tier fee (=0.05)","",""
"805547470728724540","domrom.eth","15/11/2021 3:28 am","Hey all, the uniswap subgraphs for optimism are not working for me, I believe they need to have been redeployed post regenesis cc @Ian (dev) 🦄 [No DMs]","",""
"617127949480493077","yj_alt","15/11/2021 9:00 am","Yeah that's still being sorted.","","heart (1)"
"260263495604502531","beegfoig","16/11/2021 6:26 am","Is there an entity reference guide for the V3 subgraph? I see one for the V2, but nothing for V3 aside from the examples","",""
"262272496600875009","Zomdies#2250","16/11/2021 10:12 am","How do you sync subgraph : https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3, can i skip block 13605881 or when can i look fix in code ?","",""
"306023335303839745","ibaibasabe","16/11/2021 4:31 pm","Could Uniswap index the entire UniswapV3 Subgraph at The Graph?","",""
"617127949480493077","yj_alt","16/11/2021 4:56 pm","The hosted instance of the current uni-v3 subgraph is done by Uniswap team. So yeah, I guess it can?","",""
"306023335303839745","ibaibasabe","16/11/2021 4:57 pm","So far it starts on a block from May 8th but there is previous data. Could the team index it please?","",""
"617127949480493077","yj_alt","16/11/2021 4:59 pm","v3 launched on May 8th.. 😂","","🙏 (1)"
"306023335303839745","ibaibasabe","16/11/2021 5:00 pm","Oh, really? 😂","",""
"306023335303839745","ibaibasabe","16/11/2021 5:00 pm","No worries then, I thought it was in March.","",""
"306023335303839745","ibaibasabe","16/11/2021 5:04 pm","The Graph team just told me it was in March. 🤦 I didn't check.","",""
"456226577798135808","Deleted User","16/11/2021 8:16 pm","I think some Data is missing","",""
"456226577798135808","Deleted User","16/11/2021 8:17 pm","Can't find swap with ID ""...#1245"" for the Pool 0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640","",""
"843155325619535912","Etherscan Bot#5753","16/11/2021 8:17 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"456226577798135808","Deleted User","16/11/2021 8:42 pm","https://etherscan.io/tx/0xf28727ba8aff74f16dbb5c22694a421b128139d3cc2482c00c00e73b7bf85399 it somehow interacts with the pool","",""
"805547470728724540","domrom.eth","17/11/2021 4:37 am","Is there any rough eta on it being fixed?","",""
"617127949480493077","yj_alt","17/11/2021 8:24 am","I don't know about ETA. Maybe follow the github issue? https://github.com/Uniswap/v3-info/issues/178","","thank_you (1)"
"333428951399792640","loque_","17/11/2021 10:56 am","hey guys, how can i get usd price for a token using the api  ?","",""
"617127949480493077","yj_alt","17/11/2021 11:01 am","You were talking about v2, so: https://docs.uniswap.org/protocol/V2/reference/API/queries#pair-data","",""
"333428951399792640","loque_","17/11/2021 8:17 pm","hi guys, is the graph API https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 updated with new tokens added to the blockchain ?","",""
"333428951399792640","loque_","17/11/2021 8:17 pm","i mean does it update everytime a token is added ?","",""
"882574308742950922","Ken1989#2975","18/11/2021 11:03 am","Hi guys, Im at the playground and was executing a query and got this error message, can sb elaborate for me this? Thx
```
{
  ""errors"": {
    ""message"": ""No suitable indexer found for subgraph deployment""
  }
}
```","",""
"333428951399792640","loque_","20/11/2021 10:59 am","Hi guys, does anyone know why graph api returns a wrong total supply of the token ?","",""
"350618266542276608","deeks#2995","21/11/2021 2:39 am","Anybody else got the problem for not working v2 pool fees?","https://cdn.discordapp.com/attachments/765222888617017365/911725051940864020/Bildschirmfoto_2021-11-20_um_01.09.06.png",""
"471357824299958273","crypto_rachel","21/11/2021 6:16 am","Have you tried a hard refresh (CRTL+SHIFT+R)","",""
"333428951399792640","loque_","21/11/2021 11:26 am","what are ticks ?","",""
"350618266542276608","deeks#2995","21/11/2021 12:41 pm","Jeah i tried, also deleted cache, restarted, tired different CORS Settings. Is it working for everybody else?","",""
"471357824299958273","crypto_rachel","21/11/2021 1:43 pm","yeah , we have no outage afaik... Did you delete cookies too? I seems something is sticking from the graph update","",""
"350618266542276608","deeks#2995","21/11/2021 3:32 pm","Yeah i also deleted cookies. It seems it is working for most addresses but not mine.","",""
"319907792284680192","proksimanius","21/11/2021 9:20 pm","hey guys Im new on web programming(asp .net core), can someone help me about how can i get datas from uniswap pools to a website. I just need what should I learn to do it","",""
"690731283944570931","thenateway","22/11/2021 2:46 am","the subgraph broke","",""
"333428951399792640","loque_","22/11/2021 2:47 am","Ahhhh fuck, so where i Should get tolens data then?","",""
"690731283944570931","thenateway","22/11/2021 2:48 am","hm","",""
"333428951399792640","loque_","22/11/2021 4:29 am","no idea ?","",""
"617127949480493077","yj_alt","22/11/2021 7:27 am","What do you mean? Where? What token? What numbers are you getting, versus what you think you should be getting? Links?","",""
"617127949480493077","yj_alt","22/11/2021 7:27 am","You mentioned `ticks`. Presumably you are talking about uni-v3?","",""
"617127949480493077","yj_alt","22/11/2021 7:28 am","Have a look at #🔗│helpful-links-archive ?","",""
"795563227262091284","Web3Nav#1047","24/11/2021 12:45 pm","https://docs.uniswap.org/sdk/subgraph/subgraph-examples
could anyone give me a example about how query ticks info in uniswap v3 subgraph?","",""
"835951062250553363","archerabi","25/11/2021 7:57 pm","According to the whitepaper, when a position is in range
> uncollected fees = liqudity( feeGrowthGlobal - feeGrowthOutSidelowerTick - feeGrowthOutsideUpperTick - feeGrowthInside)
But for stable coins `feeGrowthGlobal - feeGrowthOutsideLowerTick - feeGrowthOutsideUperTick` seems negative, resulting in negative uncollected fees. 
Example 
```
 {
        ""id"": ""149982"",
        ""liquidity"": ""70751535817529022692995"",
        ""pool"": {
          ""feeGrowthGlobal0X128"": ""1218682304163016184766177108699434636279""
        },
        ""tickLower"": {
          ""feeGrowthOutside0X128"": ""1145577432605598277662216874263285465942""
        },
        ""tickUpper"": {
          ""feeGrowthOutside0X128"": ""1125981180184479101654443162252506477054""
        },
        ""token0"": {
          ""symbol"": ""DAI""
        },
        ""token1"": {
          ""symbol"": ""WETH""
        }
      },
```","",""
"805547470728724540","domrom.eth","28/11/2021 4:05 am","Any update on the state of the optimism subgraph? Even in a more limited variation? I'm primarily interested in finding all events where users added positions and made a trade with a given token (sUSD). I could scrape events from every single pool contract; but the subgraph makes the work much simpler","",""
"349130008876548097","mcmike313","28/11/2021 10:45 am","I also want to know this","",""
"385309493266743297","grawfin","29/11/2021 3:24 pm","For the last 2 weeks or so, I am getting this ""indexing error"" whenever I am making queries on the UniV3 subgraph. I am also getting it in the web-based ""playground"" on https://thegraph.com/explorer/subgraph?id=0x9bde7bf4d5b13ef94373ced7c8ee0be59735a298-2&view=Playground . Has anyone found a way around this, or know what this is about? Anyone know when this will be resolved or what I can do to get access to Uni data again? Thank you in advance!","https://cdn.discordapp.com/attachments/765222888617017365/914816602967539742/GraphError.png",""
"835951062250553363","archerabi","29/11/2021 7:23 pm","try https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"851776666019037195","hcLABS#0864","29/11/2021 11:20 pm","I am a noob, apols in advance - how ""real time"" are the subgraph queries?","",""
"803638936613945374","dmitrii4935","30/11/2021 2:31 am","Hello for everybody. At one web spot I noticed token liquidity parameter, separated from pair. It seems like they computed sum of all existing pairs (with an token) liquidity...","",""
"718927756921929778","ape-ron#9334","30/11/2021 9:32 am","did you end up finding how to extract this? I'm looking at analysing positions and their returns... and a jupyter notebook would be what I'd need...","",""
"895675116720119888","karlygach#8497","30/11/2021 12:26 pm","hello. At first I would like to clarify what is ""Collect"" entity in subgraph? 
It contains such fields like Pool, Transaction and etc.
I am interested in ""Collect"" because I have to get amount of fees of every transaction created in some date range, so I suppose that I can get ""Collects"" in some date range and take from here Pool, and from Pool take such field as 'feeUSD'.
will my query return the data I need? I tried it, but even I get only several amount of Collect's id it returns me empty array, after that I suspect I don't need Collect to get info I need. So please can you hint me approach I should follow to get amount of fees of every transaction created in some date range?","",""
"895675116720119888","karlygach#8497","30/11/2021 4:48 pm","what is difference between position and positionSnapshot?","",""
"839067502742601728","yashablack","30/11/2021 6:02 pm","Hey guys, do you know how to get the number of all txs for October?","",""
"803638936613945374","dmitrii4935","30/11/2021 6:41 pm","Good day. Does anybody know is there wss protocol for the Uniswap graph? Actually, I investigating about subscription possibility.","",""
"861047063444455494","Jack Ma#9573","01/12/2021 7:55 am","On the v2 version, why the reserve's value I get from the graph different from the reserve's value read from the contract? the pair address is 0x2e333b4252497bb73ed6ed64e09177630c699db6!","",""
"843155325619535912","Etherscan Bot#5753","01/12/2021 7:55 am","<https://etherscan.io/address/0x2e333b4252497bb73ed6ed64e09177630c699db6>","",""
"617127949480493077","yj_alt","01/12/2021 11:27 am","Are the info definitely from the same block?","",""
"861047063444455494","Jack Ma#9573","01/12/2021 11:29 am","yes!","",""
"861047063444455494","Jack Ma#9573","01/12/2021 11:30 am","I got it at the same time, you can try t","",""
"617127949480493077","yj_alt","01/12/2021 11:58 am","Yeah, I'm not sure why, but the subgraph seems to have stopped tracking the pair's reserves correctly, starting from around block `11654000`, and just got stuck at those numbers.","",""
"617127949480493077","yj_alt","01/12/2021 12:00 pm","I don't actually know/remember if there is a minimum liquidity (eth-equivalent) requirement for the subgraph to index and track the numbers for a pair","",""
"861047063444455494","Jack Ma#9573","01/12/2021 12:40 pm","Do other pairs have these problems? Is the data in the graph credible?","",""
"861047063444455494","Jack Ma#9573","01/12/2021 12:40 pm","😢","",""
"349130008876548097","mcmike313","01/12/2021 3:33 pm","","https://cdn.discordapp.com/attachments/765222888617017365/915543544402432030/unknown.png",""
"617127949480493077","yj_alt","01/12/2021 9:20 pm","Hard to say. Prudent to spot check data points against actual on-chain data state.","",""
"617127949480493077","yj_alt","01/12/2021 9:20 pm","I sometimes get that when I switch between windows/tabs. Normally not a problem.","",""
"582955818983489547","unbelifable","02/12/2021 12:00 am","Hi! Uniswap Support was able to tell me that in order for a price to show up on info.uniswap.org for a specific token the token has to be locked in a pool with at least 52ETH or in a pool with 52ETH worth of another whitelisted asset. They were also able to tell me the 52ETH is a fixed amount and not linked to a fiat amount. I have two questions for which they directed me to this channel:
1. What is the reason it has to be 52ETH? Why could it not be just any amount?
2. Where can I find the list of ‘whitelisted assets’?","",""
"428317811803291648","abelamt","02/12/2021 1:59 pm","Hi, dev guy here and need some help. not sure if this is the right channel to post or if it would be better in the dev chat so please advise if so.

I'm trying to obtain the balances for both tokens of an LP Token for a particular account at a given time/block either through subgraphs / bitquery.io or any other method if available. Example:

Take: 0x811beEd0119b4AfCE20D2583EB608C6F7AF1954f which is SHIB/ETH LP on Uni V2

Take: 0xE691782AfbF60fa66aF442185607fB5aeA6B7E89 this address which has some LP Balance for the above.

I would like to be able to see the values of SHIB & ETH this account's SHIB/ETH LP Balance represents at a point in time, say as of 30-09-2021","",""
"843155325619535912","Etherscan Bot#5753","02/12/2021 1:59 pm","<https://etherscan.io/address/0x811beEd0119b4AfCE20D2583EB608C6F7AF1954f>","",""
"843155325619535912","Etherscan Bot#5753","02/12/2021 1:59 pm","<https://etherscan.io/address/0xE691782AfbF60fa66aF442185607fB5aeA6B7E89>","",""
"895675116720119888","karlygach#8497","03/12/2021 2:01 pm","hello everyone. Please can anyone explain me why I can't fetch more than 1000 rows if even I added this parameter to query ""skip: $skip""?","",""
"617127949480493077","yj_alt","03/12/2021 2:18 pm","Each query returns max 1000. You then need to use skip: 1000 for the next one","",""
"617127949480493077","yj_alt","03/12/2021 2:18 pm","etc","",""
"895675116720119888","karlygach#8497","03/12/2021 2:18 pm","or can anyone please show me example of usage of skip","",""
"617127949480493077","yj_alt","03/12/2021 2:18 pm","Until you get <1000 (or nothing), then you know it's done","",""
"895675116720119888","karlygach#8497","03/12/2021 2:21 pm","in docs it looks like this: skip: $skip. what shoudl i write instead of $skip?","",""
"617127949480493077","yj_alt","03/12/2021 2:47 pm","The number you wanna skip. So if you got 1000 records back in your first query, the next one you'll skip `1000`, and the next one skip `2000`, etc","",""
"582955818983489547","unbelifable","03/12/2021 4:12 pm","@Ian (dev) 🦄 [No DMs] I found the whitelist and I also found a PR to increase the 52ETH minimum to 60ETH. Could you please explain why this minimum exists and why it is being raised?","",""
"883186945734344744","2ndLastKnight#0802","04/12/2021 3:24 am","Hey all, how do I get the amount of exposure I have to each coin from a `Position`?","",""
"883186945734344744","2ndLastKnight#0802","04/12/2021 3:25 am","I assume I can check the current tick is within `[tickLower, tickUpper]`","",""
"883186945734344744","2ndLastKnight#0802","04/12/2021 3:25 am","And then there must be a formula?","",""
"803638936613945374","dmitrii4935","04/12/2021 3:48 am","But there is one trick for for example 60000 possible results, since skip is limited. More info in the graph docs.","",""
"749264487218937888","0xnoahc","06/12/2021 11:06 am","Hey guys, what's wrong with uniswap v3 official subgraph api? Where can I get the datas for alternative?","",""
"749264487218937888","0xnoahc","06/12/2021 3:14 pm","Any admin here?","",""
"319325089369817089","boka44","06/12/2021 5:24 pm","Hey guys! Is there a V3 subgraph for Kovan?","",""
"484638364461563915","earthtojake","07/12/2021 8:15 am","Any update on the uniswap subgraph for optimism? I've been tracking this issue but see no updates: https://github.com/Uniswap/v3-info/issues/178","",""
"749264487218937888","0xnoahc","07/12/2021 11:58 am","@yj Hi, do you know any other source to get datas of uniswap? Think there's still an indexing error in official subgraph.","",""
"617127949480493077","yj_alt","07/12/2021 6:35 pm","The only ones I know are The Graph subgraphs and directly querying the data on-chain (either via a provider eg Infura or on your own node)... 🙏","",""
"571043256394317844","nickeof#5598","07/12/2021 8:06 pm","can you tell us what is the trick to load more than 6000 results? or help with link? I cannot find anything in the docs","",""
"830799529875472414","CoderPrompt#7347","07/12/2021 9:04 pm","Hi, what is and where to find “index in mints transaction array”? Thanks!      type Mint @entity { 
 # transaction hash + ""#"" + index in mints Transaction array 
 id: ID!","",""
"803638936613945374","dmitrii4935","08/12/2021 1:05 am","Hello. The trick is apply `order by` and `where` simultaneously - https://thegraph.com/docs/developer/graphql-api","","👏 (1)"
"803638936613945374","dmitrii4935","08/12/2021 1:06 am","More precisely, you can retrieve, for example the first batch  with 1000 results ordered by token id","",""
"803638936613945374","dmitrii4935","08/12/2021 1:08 am","The second batch would be queried using additional `where : {id_gt:$previous_batch_last_token_id}`","",""
"571043256394317844","nickeof#5598","08/12/2021 2:04 am","that makes sense, thanks!","",""
"803638936613945374","dmitrii4935","09/12/2021 8:53 pm","You are welcome😀","",""
"385309493266743297","grawfin","09/12/2021 9:02 pm","Anyone know where I can find the arbitrum V3 subgraph?","",""
"803638936613945374","dmitrii4935","09/12/2021 10:01 pm","You can check it out on thehraph web page.","",""
"803638936613945374","dmitrii4935","09/12/2021 10:02 pm","https://thegraph.com/explorer","",""
"397514983677624320","_thoth_","09/12/2021 10:02 pm","Hey guys, is there a way to retrieve transaction Uniswap v3 data from a particular user?
Meaning, historical add liquidity and remove liquidity from a particular user","",""
"803638936613945374","dmitrii4935","09/12/2021 10:43 pm","I'm guessing, you need pool burns and mints.","",""
"397514983677624320","_thoth_","09/12/2021 10:44 pm","I was thinking the same... do you know if mints are including adding liquidity on top of an existing position?","",""
"803638936613945374","dmitrii4935","09/12/2021 10:47 pm","Not sure what exactly you want, but it comprises Transaction details among others.","",""
"397514983677624320","_thoth_","09/12/2021 10:47 pm","I want to track each time a user adds liquidity to a pool","",""
"397514983677624320","_thoth_","09/12/2021 10:48 pm","I want these transactions to play with them, filtering a particular user","",""
"397514983677624320","_thoth_","09/12/2021 10:48 pm","I believe if I retrieve mints, I will get this information, I believe mints are including each time a user adds liquidity to an existing position","",""
"397514983677624320","_thoth_","09/12/2021 10:48 pm","you see my point?","",""
"803638936613945374","dmitrii4935","09/12/2021 10:50 pm","I see.","",""
"803638936613945374","dmitrii4935","09/12/2021 10:50 pm","By the way, I think you need web socket connection aka subscription.","",""
"397514983677624320","_thoth_","09/12/2021 10:53 pm","what for?","",""
"397514983677624320","_thoth_","09/12/2021 10:53 pm","I didn' know the graph requires subscription","",""
"803638936613945374","dmitrii4935","09/12/2021 11:00 pm","I mean about continuous connection via web socket (wss) - it called suscription.","",""
"803638936613945374","dmitrii4935","09/12/2021 11:00 pm","Check this - https://docs.uniswap.org/protocol/reference/periphery/base/LiquidityManagement","",""
"803638936613945374","dmitrii4935","09/12/2021 11:01 pm","Then you can investigate contract source and watch which events emmiting while mint or burn.","",""
"654815213341638656","ialberquilla","10/12/2021 12:11 am","Hi, I've been analizyng some data from the v2 subgraph and there are some tx that are in the subgraph response that are not showed in the `https://v2.info.uniswap.org/` page. Is there any filter in this page to filter txs?  For example this tx `0x2b73b73d9ae4f38f1ae03bd9722f2c59ebe7abdf1daca29f44580d2c33ed3114` in ethereum, is shown in the subgraph with about 1M usd worth, but I can't find this tx in this pool `https://v2.info.uniswap.org/pair/0xf5800c669397e9bfba1ed5f4eb00a0fb25196077` is there any filter? or I'm missing anything","",""
"749264487218937888","0xnoahc","10/12/2021 12:20 am","How can I run my own server then?? Think https://github.com/Uniswap/v3-subgraph is source code of subgraph, but I can't find any guide to run my own node","",""
"397514983677624320","_thoth_","10/12/2021 12:24 am","Thank you man, will check this","",""
"397514983677624320","_thoth_","10/12/2021 4:47 pm","question: how can I calculate uncollected fees of a particular position using this subgraph?","",""
"397514983677624320","_thoth_","10/12/2021 4:48 pm","I suspect I will have to use feeGrowthInside0Last, but not sure how to use it to get uncollected fees","",""
"803638936613945374","dmitrii4935","10/12/2021 7:56 pm","👍","",""
"397514983677624320","_thoth_","10/12/2021 9:42 pm","nobody? I believe any Uniswap admin knows how to calculate Unclaimed fees..","",""
"397514983677624320","_thoth_","10/12/2021 9:42 pm","it is a basic KPI shown in the main page","",""
"373350890792288257","justshpleatit","11/12/2021 11:11 am","Is it possible to get the price of all coins on uniswap with the subgraph-api? I have never used GraphQL so I'm really lost here","",""
"749264487218937888","0xnoahc","11/12/2021 1:30 pm","Hi @yj , sorry for asking again, but can you please answer my question?","",""
"617127949480493077","yj_alt","11/12/2021 5:22 pm","I've never run a Graph indexer before. I guess you'll need to look at the ""Hosted Service"" part of this link: https://thegraph.com/docs/developer/quick-start

Between that, and the github repo you linked, hopefully you can figure out how to run your own subgraph indexing server. Not 100% sure though (as I said, I've not done it before)","",""
"917177657815339058","batmanswap#0989","12/12/2021 6:14 am","Hey, quick question about subgraph, how live is the data ? I get some token price for some pairs but wondering how often does it update ?","",""
"865601060844339220","Duggy#6961","13/12/2021 1:57 am","Hi 🙂 I'm trying to get hourly tick and volume data but getting 0 results when adding a volumeUSD_gt: 0 clause","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","Please could someone advise where I should be looking for that data?","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","Here's my ql","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","{poolHourDatas (where: {volumeUSD_gt: 0} first: 5) {
id
periodStartUnix
pool {
  id
}
liquidity
sqrtPrice
token0Price
token1Price
tick
feeGrowthGlobal0X128
feeGrowthGlobal1X128
tvlUSD
volumeToken0
volumeToken1
volumeUSD
feesUSD
txCount
open
high
low
close
}}","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","And","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","{tickHourDatas (where: {volumeUSD_gt: 0} first: 5) {
id
periodStartUnix
pool {
  id
}
tick {
  id
}
liquidityGross
liquidityNet
volumeToken0
volumeToken1
volumeUSD
feesUSD
}}","",""
"865601060844339220","Duggy#6961","13/12/2021 1:58 am","Thanks in advance!","",""
"813792373854961725","cosmaph.blog","13/12/2021 6:54 am","I think you cant use poolHourDatas, just poolHourData with an Id","",""
"813792373854961725","cosmaph.blog","13/12/2021 6:54 am","@Duggy","",""
"865601060844339220","Duggy#6961","13/12/2021 7:24 am","Thanks @Cosmaph. I assume the same then applies to TickHourDatas?","",""
"749264487218937888","0xnoahc","13/12/2021 12:45 pm","hmm, what I wanted to do is to find a way to direct query to the chain like indexers did. Since indexers are behind the head about 0.19m blocks from the head, how are other people getting datas?

Are all people only getting data until one month before?","",""
"397514983677624320","_thoth_","13/12/2021 5:02 pm","Hey guys, anyone knows why ""tokensOwed0"" is not available in the Position schema of the subgraph?","",""
"397514983677624320","_thoth_","13/12/2021 5:03 pm","it is available in the smart contract, but not in the subgraph... which is a pity because I need this value in the snapshot object","",""
"813792373854961725","cosmaph.blog","13/12/2021 9:56 pm","yes, you are right.","",""
"865601060844339220","Duggy#6961","13/12/2021 10:15 pm","Ok cool. Thanks @Cosmaph","",""
"415497683017662464","_grimac","13/12/2021 11:53 pm","g","",""
"95507078788947968","hmmdeif","14/12/2021 1:44 am","when looking at poolDayData how do you know if price (open, high, etc) is in 1.0001^tick or 1/1.0001^tick?","",""
"95507078788947968","hmmdeif","14/12/2021 2:28 am","it looks like it's always 1/1.0001^tick, is that correct?","",""
"95507078788947968","hmmdeif","14/12/2021 2:37 am","hold on why is the open and close the same for every day","",""
"95507078788947968","hmmdeif","14/12/2021 2:45 am","hmm this needs to be merged https://github.com/Uniswap/v3-subgraph/pull/80","",""
"95507078788947968","hmmdeif","14/12/2021 2:46 am","funny that daydata has incorrect closes and hourdata is missing volume data","",""
"865601060844339220","Duggy#6961","14/12/2021 2:54 am","Yeah the hour data is a real shame. I'd love to get hold of that","",""
"865601060844339220","Duggy#6961","14/12/2021 2:55 am","Also struggling with tickHourData","",""
"865601060844339220","Duggy#6961","14/12/2021 2:57 am","I need to pass it an id but I don't know how to get the id","",""
"865601060844339220","Duggy#6961","14/12/2021 2:58 am","I tried getting from tickHourDatas","",""
"865601060844339220","Duggy#6961","14/12/2021 2:58 am","But this gives me no results","",""
"865601060844339220","Duggy#6961","14/12/2021 2:58 am","{tickHourDatas (first: 100){
id
}}","",""
"865601060844339220","Duggy#6961","14/12/2021 2:58 am","Any help here would be very much appreciated","",""
"691581396514504804","hq5392","15/12/2021 9:08 am","Hi, I want to know the rinkeby network subgraph api of uniswapv3, does anyone know?","",""
"617127949480493077","yj_alt","15/12/2021 7:31 pm","There is no hosted uniswap subgraph for testnets","",""
"865601060844339220","Duggy#6961","15/12/2021 11:41 pm","Hi. Apologies for the noob question but I'm trying to access this using some middlewear and hitting a bit of a brick wall","",""
"865601060844339220","Duggy#6961","15/12/2021 11:42 pm","I'm assuming this is my endpoint?","",""
"865601060844339220","Duggy#6961","15/12/2021 11:42 pm","","https://cdn.discordapp.com/attachments/765222888617017365/920740091553538088/unknown.png",""
"865601060844339220","Duggy#6961","15/12/2021 11:42 pm","This is my API key?","",""
"865601060844339220","Duggy#6961","15/12/2021 11:42 pm","","https://cdn.discordapp.com/attachments/765222888617017365/920740218640928889/unknown.png",""
"865601060844339220","Duggy#6961","15/12/2021 11:43 pm","And using this as my test query body","",""
"865601060844339220","Duggy#6961","15/12/2021 11:43 pm","","https://cdn.discordapp.com/attachments/765222888617017365/920740401562919012/unknown.png",""
"865601060844339220","Duggy#6961","15/12/2021 11:44 pm","Then, in postman, I've configured the following","",""
"865601060844339220","Duggy#6961","15/12/2021 11:44 pm","","https://cdn.discordapp.com/attachments/765222888617017365/920740738835292241/unknown.png",""
"865601060844339220","Duggy#6961","15/12/2021 11:45 pm","Endpoint as URL","",""
"865601060844339220","Duggy#6961","15/12/2021 11:45 pm","ID as Key","",""
"865601060844339220","Duggy#6961","15/12/2021 11:45 pm","And","",""
"865601060844339220","Duggy#6961","15/12/2021 11:45 pm","","https://cdn.discordapp.com/attachments/765222888617017365/920740977575084082/unknown.png",""
"865601060844339220","Duggy#6961","15/12/2021 11:46 pm","In the body tab, I've set language to GraphQL","",""
"865601060844339220","Duggy#6961","15/12/2021 11:46 pm","And pasted the query as the body","",""
"865601060844339220","Duggy#6961","15/12/2021 11:47 pm","Sending returns the url scripts and html etc","",""
"865601060844339220","Duggy#6961","15/12/2021 11:47 pm","Obviously I'm missing sometthing","",""
"865601060844339220","Duggy#6961","15/12/2021 11:47 pm","If anyone could point me in the direction of the reading I need to do here, I'd be super greatful!","",""
"865601060844339220","Duggy#6961","15/12/2021 11:47 pm","Many thanks","",""
"865601060844339220","Duggy#6961","16/12/2021 2:57 am","Ok, I've managed to get that working in postman, now trying to hook up an etl","",""
"865601060844339220","Duggy#6961","16/12/2021 2:57 am","And I'm getting this error","",""
"865601060844339220","Duggy#6961","16/12/2021 2:57 am","GraphQL server error (client error): Invalid subgraph name ""uniswap/uniswap-v3;id=QmZeCuoZeadgHkGwLwMeguyqUKz1WPWQYKcKyMCeQqGhsF""","",""
"865601060844339220","Duggy#6961","16/12/2021 2:58 am","Is there an obvious syntax error?","",""
"865601060844339220","Duggy#6961","16/12/2021 2:58 am","I've tried using ""key"" instead of ""id""","",""
"865601060844339220","Duggy#6961","16/12/2021 2:58 am","And get the same","",""
"865601060844339220","Duggy#6961","16/12/2021 2:58 am","Thanks in advance!","",""
"148687491648585730","PerineumConnoisseur#0646","16/12/2021 3:52 am","Hi All, bit of a noob question, I'm querying the subgraph for a trading pair and am looking at the fields ""reserve0"" ""reserve1"" and ""reserveUSD"". If I understand correctly, ""reserve0"" is the amount of token0 in the liquidity pool, and ""reserve1"" is the amount of token1 in the liquidity pool? I'm not sure if this is the right interpretation, since when you do the calculation reserve0 * price_of_token_0_USD + reserve1 * price_of_token_1_USD you don't get reserveUSD","",""
"865601060844339220","Duggy#6961","16/12/2021 6:18 am","Can't help you but 11/10 on your choice of username","",""
"691581396514504804","hq5392","16/12/2021 7:00 am","I want to know how to get all the LP NFT of the address on rinkeby testnet?","",""
"749264487218937888","0xnoahc","16/12/2021 2:52 pm","Guys, how can I query to hosted service?","",""
"749264487218937888","0xnoahc","16/12/2021 3:44 pm","Hi @yj , how can we use hosted service? Can you tell us the form of the uri?","",""
"617127949480493077","yj_alt","16/12/2021 5:30 pm","Have a look at the gql queries in: https://github.com/atiselsts/uniswap-v3-liquidity-math

Notebook implementations of the code above is in https://github.com/uniyj/uni-v3-peri/tree/main/atiselsts-uniswap-v3-liquidity-math","",""
"851256610416492594","thlfranklin","17/12/2021 1:57 am","Hey, there! 
I'm querying some mints on Uniswap pools and notice `gasUsed` brings `gasLimit` on transactions. Does anyone knows how to get the actual `gasUsed`? 
Thanks!","",""
"749264487218937888","0xnoahc","17/12/2021 8:01 am","Thanks fren! I thought that I should provide api key for it, but it wasn't!","","👍 (1)"
"867731505803296768","yblue19","19/12/2021 3:01 am","Hi from a noob. Is there any examples I can learn to enumerate all the v3 open positions for a specific address in JS? Thanks!","",""
"436032666496794624",".leozzzzzzzz","22/12/2021 1:46 pm","hi , how can I get a daily fee for a pair through thegraph ?","",""
"95507078788947968","hmmdeif","24/12/2021 1:08 am","the graph doesn't support gasUsed yet, so it will only return gasLimit","",""
"95507078788947968","hmmdeif","24/12/2021 1:08 am","iirc they're working on it","",""
"148687491648585730","PerineumConnoisseur#0646","24/12/2021 3:52 am","Hi all how do we query what the most recent block indexed by the subgraph is?","",""
"148687491648585730","PerineumConnoisseur#0646","24/12/2021 4:00 am","and what is the difference between liquidityPosition and liquidityPositionSnapshot, would the most recent block indexed be the most recent liquidity position updated?","https://cdn.discordapp.com/attachments/765222888617017365/923704194446286918/unknown.png",""
"851256610416492594","thlfranklin","24/12/2021 5:15 am","Thank you very much!","",""
"95507078788947968","hmmdeif","24/12/2021 6:03 am","what subgraph is that, the official subgraph doesn't have that schema","",""
"691581396514504804","hq5392","24/12/2021 9:14 am","Hi, is poolHourDatas accurate? how does the price in it convert to a usable price?","",""
"879602051963813910","mikhailvidishev","24/12/2021 7:23 pm","Hi all. Has anyone already found the pools of a polygon network on the subgraph?","","😋 (1)"
"867731505803296768","yblue19","24/12/2021 11:16 pm","Anyone could give a tip or Perhaps I asked in the wrong channel?","",""
"394239005719396354","Baden#2259","27/12/2021 2:31 am","I see that the Uniswap subgraph page shows query and subscribe.  How do we subscribe to graph events, i.e. price updates via Postman, as I don't see any ws/wss address to bind to?","",""
"394239005719396354","Baden#2259","27/12/2021 2:34 am","You don't need a key to connect.  Just make sure you set your request type to POST.","",""
"394239005719396354","Baden#2259","27/12/2021 2:37 am","The request type in your image is GET.  Change it to POST:","https://cdn.discordapp.com/attachments/765222888617017365/924770370236608572/unknown.png",""
"344854713956565005","ysalama","29/12/2021 12:05 am","Hey! I was trying to pull some data on uniswap pools and noticed that it is claiming SHIBA INU price as a really big number but it should be around Ξ0.000000009321
Why is this the case? Is this a buffer overflow? If so, what is a better way to ensure the token price data I obtain doesn't contain this buffer overflow?","https://cdn.discordapp.com/attachments/765222888617017365/925456850504253510/Screen_Shot_2021-12-28_at_8.34.25_PM.png",""
"344854713956565005","ysalama","29/12/2021 12:18 am","And now that I think about it why is the price of WETH above at ""token1Price"" close to zero? Why is it not close to 1 instead?","",""
"297788993800765441","johnnyq","29/12/2021 1:28 am","I wish there was an easy way to calculate off-chain the amountOut given amountIn for a token","",""
"297788993800765441","johnnyq","29/12/2021 1:29 am","Maybe there is, I'm having difficult understanding how to extrapolate given small bits of information how much a swap results in","",""
"716642408686944266","falconstakepool","29/12/2021 10:15 am","hi everyone. does anybody know what's the best way to obtain OHLC from uniswap subgraph? I don't understand exactly the query i need to do. do i need to look at the pairHourData on each pair?","",""
"95507078788947968","hmmdeif","29/12/2021 6:54 pm","Prices are in relation to each other. 1 eth = that many shib","",""
"95507078788947968","hmmdeif","29/12/2021 6:55 pm","You can use the quoter contract not the subgraph","",""
"95507078788947968","hmmdeif","29/12/2021 6:56 pm","The poolhourdata and pooldaydata has this info although it's not complete on the official subgraphs","",""
"716642408686944266","falconstakepool","30/12/2021 4:30 am","ok. i'm indexing a defi protocol that's a fork of uniswap in iotex blockchain. what else should i do in order to have the complete data for OHLC?","",""
"95507078788947968","hmmdeif","30/12/2021 4:34 am","well if it's a fork maybe they have the correct info","",""
"716642408686944266","falconstakepool","30/12/2021 4:43 am","the protocol is a fork, but i'm indexing the contracts myself with uniswap subgraph","",""
"496672526135459880","Paradox#2074","01/01/2022 9:38 pm","I am trying to query for all pools that involve a certain token, however, I can't seem to figure out how to apply the filter on a property within `token1` or `token2`.

```gql
{
  pools(where:{ token0: { id: ""0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"" } }) {
    id
    feeTier
    token0 {
      id
      symbol
      name
    }
    token0Price
    token1 {
      id
      symbol
      name
    }
    token1Price
  }
}
```

How can this be done?","",""
"218713751937875968","mxkerem","02/01/2022 3:01 am","hello, I am using vanilla js, do I need to install anything other than nodejs, graphql and uniswap v3 sdk in order to receive data from uniswap with the subgraph?","",""
"853804440913838081","tfishman#4746","03/01/2022 5:28 am","Does anyone know how to get historical liquidity for a pool? I figure worst case I could start with most recent liquidity and work backwards using mints and burns, but hoping there's an easier way.","",""
"853804440913838081","tfishman#4746","03/01/2022 5:30 am","You can filter directly on token0 or token1's id
{
  pools(where:{token0:""0xtokenid""}) {
    id
  }
}","","👍 (1)"
"840919253220720661",".oooly.","03/01/2022 6:02 am","Hi guys! 
Apologies - very new and very noob.
Nonetheless a question - this works fine:
`{
 pools(where:{volumeUSD_gt:20000000000}) {
  id
 }
}`
It gives me all pools with total USD Volume greater than 2 billion.

But I would like to find out all pools where the daily volume is greater than, say, 20 million.
I guess, I have to use *poolDayData* but I'm not sure of the notation.

Could anyone point me into the right direction?
Thanks a lot!","",""
"835951062250553363","archerabi","03/01/2022 6:59 am","Hello, I built a library to query the sub-graph API. https://www.npmjs.com/package/gurram-swap
* It supports the Ethereum mainnet as wells as L2 networks like Polygon and Optimism.
* injects summaries for positions (liquidity in fiat, uncollected fees etc).
* uses bignumber.js to represent big numbers. Handles two's complement where necessary.

There are still bugs and issues with it. I'll try to address them as I find them.","","👍 (3),ty (1)"
"840919253220720661",".oooly.","03/01/2022 7:10 am","Never mind - I figured it out:

`{
  poolDayDatas(
    where: 
      {date_gt:1641153600,
      volumeUSD_gt:6000000}) {
    pool {
      id
    }
    date
    volumeUSD
  }
}`

This gives me all pool-IDs after 3.1.2021 00:00 AND the 24h volume in USD is greater than 6 million

Might help someone down the line - but feel free to delete","","🙌 (1)"
"840919253220720661",".oooly.","03/01/2022 7:12 am","Looks excellent","","🙏 (1)"
"799194686426185730","walker9607","03/01/2022 4:31 pm","If anyone is familar with supgraphs / how to create them please add me as a friend and dm me. Will pay a large sum to have one set up","",""
"840919253220720661",".oooly.","04/01/2022 6:06 am","Hi guys, I think this was asked before and it is even flagged as an issue in uniswap-v3-subgraph github (https://github.com/Uniswap/v3-subgraph/issues/37) but I never found an answer and wanted to check if there had been an update:
**Is there any documentation for the schema of the subgraph?**
In other words - what exactly are e.g.:
- Factory
- Bundle
- Collect
- Flash
- .... and many many more....

I would highly appreciate a link or any explanation. Thanks!","",""
"456226577798135808","Deleted User","04/01/2022 11:10 am","@walker hi","",""
"605389887352602624","onchainsai","04/01/2022 2:52 pm","How to extract the current value of the LP in uniswap v3?","",""
"851256610416492594","thlfranklin","04/01/2022 8:58 pm","I miss a documentation as well at the start, but it's much clear now. 
I'm using an analogy for databases here - that's my background - where you need to aggregate similar info in one table, use another table for more specific details in one aspect of one register of the first table and use a column as key to join both tables. 
As you deep dive how a swap works in uniswap and querying the schema, you start understand  how the information is stored and captured in the subgraph. For example, Collect is probably storing details about the fees collected in each swap. If you need to query all collected fees for a given pool, the amount collected is not in the Pool table, it's in the Collect table. But you'd need first to select the pool id in Pool and maybe would need some info from Transaction table (such as gasUsed that's in the Transaction table and not in the Pool table). Then you can notice in Collect table there are two columns to join with this tables (`pool: Pool!` and `transaction: Transaction!`)
I'm only sharing based on my experience. Hope it'll help you out!","",""
"851256610416492594","thlfranklin","04/01/2022 9:01 pm","Gm! 
Does anyone know how to query different networks transactions other than Ethereum Mainnet, e.g. Polygon? 
I mean, is there a way to specify what network I want to query in the subgraph? 
Thank you!","",""
"485274047924535306","l0c4t0r","04/01/2022 10:09 pm","Different chains will have separate subgraphs. the polygon one seems to be here:
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"851256610416492594","thlfranklin","05/01/2022 12:04 am","Ok!! Thank you very much! 😇","",""
"840919253220720661",".oooly.","05/01/2022 3:44 am","Thanks a lot! 
> ...where you need to aggregate similar info in one table, use another table for more specific details in one aspect of one register of the first table and use a column as key to join both tables. 
That is exactly what I've just implemented. Rather painful, though, and it doesn't help with getting information about a few obscure parameters (**feeGrowthGlobal0X128, observationIndex, totalValueLockedUSDUntracked**, etc...) 
Well... will try to fight through.... How nice it would be to have a few explaining docs...
Thank you very much for sharing your method! Much appreciated.","",""
"851256610416492594","thlfranklin","05/01/2022 6:41 pm","You’re welcome!  
I understand. We could manage to create a doc ourselves with the conclusions we make… even though not “oficial”. I’m sure everyone here already did some progress and could help others, since Uniswap is a DAO.","",""
"840919253220720661",".oooly.","06/01/2022 5:17 am","Good point - even if it is just a Google Doc or so 👍","",""
"799194686426185730","walker9607","06/01/2022 9:17 am","Dm","",""
"456226577798135808","Deleted User","06/01/2022 11:42 am","@walker dm","",""
"799194686426185730","walker9607","07/01/2022 3:47 pm","You have to add me as friend","",""
"913107753491386429","sunbreather_","10/01/2022 2:43 am","Hello everyone, is there a V3 subgraph for kovan or only main net?","",""
"851256610416492594","thlfranklin","10/01/2022 5:46 am","@[sunbreather] maybe this answer can help you out!","",""
"851256610416492594","thlfranklin","10/01/2022 5:47 am","I queried polygon and it was the same experience from main net!","",""
"913107753491386429","sunbreather_","10/01/2022 5:47 am","Is there a kovan one though?","",""
"913107753491386429","sunbreather_","10/01/2022 5:48 am","I dont need main or polygon","",""
"810173983604867092","fededaff","10/01/2022 7:00 pm","Gm all! Does anyone know where I can find data related to UNI release schedule? There's a graph on your website but I can't pull data from it","",""
"810173983604867092","fededaff","10/01/2022 8:04 pm","This is the graph I'm looking to get data for","https://cdn.discordapp.com/attachments/765222888617017365/930107309873561646/Release_Schedule.png",""
"363955106850275331","eaoe","11/01/2022 3:22 pm","So i built a rest api in java, when i use it in local host `http://localhost:8080/hello` it works fine, but when i try it via port forwarding `http://193.176.87.163:8080/hello` it fails, anyone know why?

I am 100% sure port forwarding is set properly, and yes i own that public ip address","",""
"385309493266743297","grawfin","11/01/2022 9:51 pm","Does anyone know how to see if an LP position has been closed or collected (on arbitrum minimal subgraph) ?","https://cdn.discordapp.com/attachments/765222888617017365/930496729172807740/unknown.png",""
"385309493266743297","grawfin","11/01/2022 9:52 pm","So far, for my wallet, I can get a list of burns, and a list of mints, but there seems to be no way to associate which burns are from which mints. Has anyone else run into this?","",""
"450933227448696832","mintpodo9183#1075","12/01/2022 7:09 am","I'm studying about uni token, and I found out that 430,000,000 Uni was distributed for 4 years.
Can you tell me how to get the uni token?","https://cdn.discordapp.com/attachments/765222888617017365/930637081695359076/unknown.png",""
"869135275471798302","ldur.","13/01/2022 7:50 am","https://api.thegraph.com/subgraphs/name/way2rach/talisman  is the graph API of Uniswap V2 mining. But it seems the code of this graph is not included in ""uniswap-v2-subgraph"" repo. Who knows where is the respective graph code?","",""
"838687621643108352",".kfujita","13/01/2022 2:26 pm","Hello, sorry for basic question, but does anyone educate me how to query Uniswap V3 by sugraph?","",""
"838687621643108352",".kfujita","13/01/2022 2:27 pm","I have noticed this is the V3 graph and i can play around on this UI
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3/
However, when i tried to call it by normal node-fetch by post, it won't return anything.","",""
"838687621643108352",".kfujita","13/01/2022 2:28 pm","This is hosted service so it should not need any api-key etc...should it?","",""
"838687621643108352",".kfujita","13/01/2022 3:48 pm","Also, when i tried to call via usql, i face following issue
""name"":""CombinedError"",
      ""message"":""[Network] fetch is not defined"",","",""
"838687621643108352",".kfujita","13/01/2022 3:49 pm","can you kindly help me?","",""
"838687621643108352",".kfujita","13/01/2022 9:24 pm","This has been solved by importing ""isomorphic-unfetch"" module. so please forget about it. Thank you","",""
"755189278761287701","spinninghorse","13/01/2022 11:45 pm","Hi, I'm trying to calculate the unclaimed fees for position. But I found that for some position the feeGrowthInside0LastX128 could be significant greater than feeGrowthGlobal0X128 and feeGrowthOutside0X128. This result a number that is negative and extremely large ( 10 to the power of ~30) which is way off from what it should be. Could anyone help me on this?","",""
"755189278761287701","spinninghorse","13/01/2022 11:54 pm","for example, position 180860 returns these numbers from the subgraph:
```{
  ""data"": {
    ""position"": {
      ""feeGrowthInside0LastX128"": ""115792089237316195423570985008687907849164478614343923546169916274620875793323"",
      ""feeGrowthInside1LastX128"": ""115792089237316195423570985008687907853269984665636462102558751357869054259317"",
      ""id"": ""180860"",
      ""liquidity"": ""6292349553439669785478"",
      ""pool"": {
        ""feeGrowthGlobal0X128"": ""316683603481562986212327616112709345350569"",
        ""feeGrowthGlobal1X128"": ""315663141677286982135218863817"",
        ""tick"": ""-276327""
      },
      ""tickLower"": {
        ""feeGrowthOutside0X128"": ""197622762076248700272686774043616178976492"",
        ""feeGrowthOutside1X128"": ""196022960695615458909576415071"",
        ""tickIdx"": ""-276340""
      },
      ""tickUpper"": {
        ""feeGrowthOutside0X128"": ""193682492612769828039361566352204357440225"",
        ""feeGrowthOutside1X128"": ""192086115358553693919577912541"",
        ""tickIdx"": ""-276330""
      },
      ""token0"": {
        ""decimals"": ""18""
      },
      ""token1"": {
        ""decimals"": ""6""
      }
    }
  }
}```
feeGrowthInside0LastX128 is around 10^77
while feeGrowthGlobal0X128 is around 10^41
so why the feeGrowthInside0LastX128 is significant greater?","",""
"755189278761287701","spinninghorse","13/01/2022 11:56 pm","And my code trying to calculate the unclaimed fee:
```function getUnclaimedFeesFromValues(
  feeGrowthGlobalX128,
  feeGrowthOutsideLowerTickX128,
  feeGrowthOutsideUpperTickX128,
  feeGrowthInsideLastX128,
  liquidity,
  tickCurrentIdx,
  tickLowerIdx,
  tickUpperIdx
){
  // fee growth below
  let feeGrowthBelowX128;
  if (Number(tickCurrentIdx) >= Number(tickLowerIdx)) {
    feeGrowthBelowX128 = BigInt(feeGrowthOutsideLowerTickX128);
  } else {
    feeGrowthBelowX128 = subIn256(feeGrowthGlobalX128 , feeGrowthOutsideLowerTickX128)
  }

  // fee growth above
  let feeGrowthAboveX128;
  if (Number(tickCurrentIdx) < Number(tickUpperIdx)) {
    feeGrowthAboveX128 = BigInt(feeGrowthOutsideUpperTickX128);
  } else {
    feeGrowthAboveX128 = subIn256(feeGrowthGlobalX128, feeGrowthOutsideUpperTickX128)
  }

  let feeGrowthInsideX128 = subIn256 (subIn256(feeGrowthGlobalX128, feeGrowthBelowX128) , feeGrowthAboveX128)
  return parseInt(subIn256(feeGrowthInsideX128, feeGrowthInsideLastX128) *(BigInt(liquidity)) /(BigInt(2**128)));
}

function subIn256(x, y) {
  if(typeof x != ""bigint"") x = BigInt(x)
  if(typeof y != ""bigint"") y = BigInt(y)
  const difference = x - y;
  return difference < BigInt(0) ? BigInt(2**256)+(difference) : difference;
}
```","",""
"862377421214449687","arbie#1436","14/01/2022 12:08 am","Hi! I'm trying to use Uniswap V3's graph endpoint https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3 to monitor my position. I was able to find everything I need but the only remaining bit of information I am looking for (and I cannot find) is my current share of my 2 tokens. So, for example, if I have a position in Uni V3 ETH/DAI 30bp - what is my current positions's balance of DAI and ETH?","",""
"716642408686944266","falconstakepool","14/01/2022 11:58 am","Hi everyone! Can someone explain to me what are these 2 fields in the Token type exactly:

- totalLiquidity
- derivedETH

I understand the totalLiquidity is the quantity of that specific token that the protocol is holding in LPs and the derivedETH should be the value of that represented in ETH?","",""
"209249765916016640","bryde_","15/01/2022 6:30 am","Is it not possible to do a where based on a sub query? Like if I look at pairs. I might want to fetch all pairs based on USDC only. But I keep getting invalid something. This is for the V2 subgraph","",""
"402572811400380416","mxz#3080","15/01/2022 6:49 am","hi, in the subgraph schema for v2 (https://github.com/Uniswap/v2-subgraph/blob/master/schema.graphql), there is a field ""from"" for the Swap entity representing ""the EOA that initiated the txn"", added in a PR in nov 2020, but on https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2 this field does not appear. does anyone know why?","",""
"370646949692702732","someusername999#5885","23/01/2022 1:13 am","Probably not the best solution since you would have to run the query for `token1` as well.","https://cdn.discordapp.com/attachments/765222888617017365/934533768675491911/pairs-where-filter.png",""
"370646949692702732","someusername999#5885","23/01/2022 1:20 am","From what I found the `swap.from` is a new field added on Nov 2020. However, the hosted service on The Graph is older and it might not contain all the commited improvements. Just my two gwei.","https://cdn.discordapp.com/attachments/765222888617017365/934535458657030244/uni-swap-from.png",""
"370646949692702732","someusername999#5885","23/01/2022 1:28 am","","https://cdn.discordapp.com/attachments/765222888617017365/934537546266976287/uni-derived-field.png",""
"209249765916016640","bryde_","23/01/2022 1:33 am","That might work. 🤔","",""
"817982837760065556","cryptickoan#5267","23/01/2022 11:00 am","hi everyone

is there a subgraph for arbitrum univ3 i can use?","",""
"817982837760065556","cryptickoan#5267","23/01/2022 11:01 am","https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal is blocking requests and this other one i found is broken","",""
"817982837760065556","cryptickoan#5267","23/01/2022 11:01 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one","",""
"370646949692702732","someusername999#5885","24/01/2022 1:03 am","How about this one: https://thegraph.com/hosted-service/subgraph/imdsc/defil-uniswap-v3-arbitrum","",""
"716642408686944266","falconstakepool","24/01/2022 3:40 am","Thanks for your reply. What can I do to get all the information complete?","",""
"817982837760065556","cryptickoan#5267","24/01/2022 6:29 am","thanks for answering ^_^","",""
"817982837760065556","cryptickoan#5267","24/01/2022 6:29 am","i noticed its not keeping track of amounts","",""
"817982837760065556","cryptickoan#5267","24/01/2022 6:29 am","is there any other you might know about?","",""
"817982837760065556","cryptickoan#5267","24/01/2022 6:30 am","i was hoping i could find something more similar to the eth subgraph where you can get a list of pools per given token","",""
"325605069775044611","berthje","24/01/2022 10:56 pm","Hey, I recently forked the uniswap-info repo, and adjusted the subgraphs to mine but I wanted the interface so I did it succesfully without errors, but the thing is, the page keeps loading forever (preloader), see images:","https://cdn.discordapp.com/attachments/765222888617017365/935223946910007317/unknown.png,https://cdn.discordapp.com/attachments/765222888617017365/935223947232964608/unknown.png",""
"325605069775044611","berthje","24/01/2022 10:56 pm","Please help","",""
"882574308742950922","Ken1989#2975","27/01/2022 8:11 am","Hey guys, Im browsing the uniswap subgraph and I find that in the subgraph there is no info about the tickSpacing of the pools, I know it's in the smart contract and was predefined already but maybe it would be more convenient to include it in the subgraph?","",""
"659771272573616128",".buzz17","28/01/2022 5:35 pm","Hey guys is their any API  I can get pair graph of all time such as WETH/WPE ?","",""
"282733463080009728","richradd","29/01/2022 4:47 am","I'm looking for a way to export pool information on the polygon network on uniswap to a CSV or similar

Tokens, TVL, Volume 7 days and Fee tier

Is subgraph the best way to do it? (knowing I have no JS knowledgee)","",""
"367311102444568578","fl1tzz","01/02/2022 12:48 am","Hi, how can I calculate the slippage which depends on the actual amount of the token? Is there any option to to that through subgraph api?","https://cdn.discordapp.com/attachments/765222888617017365/937788857548673204/unknown.png,https://cdn.discordapp.com/attachments/765222888617017365/937788857745821766/unknown.png",""
"401842633464610837","_kfx","01/02/2022 5:56 pm","1) Check the figure 4 in the whitepaper for the logic; 2) get tick data from the subgraph and compute it","",""
"367311102444568578","fl1tzz","01/02/2022 5:58 pm","thanks, I will check this out later","",""
"575779309155909642","iosonntag","03/02/2022 3:43 pm","Is it just me or is polygon pools api down? cant view pools","",""
"575779309155909642","iosonntag","03/02/2022 3:45 pm","Nvm.. switching to Etheruem and back solved the problem, dunno why it was stuck","",""
"773154578597806081","oskin#0564","03/02/2022 5:21 pm","Hi everyone, where can I find API description for analytics module (Uniswap Info) ?","",""
"254019075469082625","clonescody","04/02/2022 3:47 am","Hey guys, anyone managed to query pool infos on Arbitrum ? Using this subgraph gets me an `indexing_error`
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one?selected=playground","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 4:14 am","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"843155325619535912","Etherscan Bot#5753","04/02/2022 4:23 am","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"604318871880466433","taeheeevankim","04/02/2022 9:07 am","Can I use subgraph-api in other network rather than mainnet?","",""
"605389887352602624","onchainsai","04/02/2022 12:20 pm","Did you figure this out?","",""
"717377244057829426","Nico - Fiat24#3021","04/02/2022 7:18 pm","Is there a subgraph for Arbitrum Mainnet and Arbitrum Testnet?","",""
"412236684717981705",".bakeiro","04/02/2022 11:16 pm","Hi there!
here David just a question regarding the subgraph api...

I don't know if I'm not aware of something obvious but, I don't understand why this query I'm writing doesn't work","https://cdn.discordapp.com/attachments/765222888617017365/939215398010765312/unknown.png",""
"412236684717981705",".bakeiro","04/02/2022 11:17 pm","I'm not familiar with graphql, but I found this example in google which seems to work fine, so, not sure what's wrong with my query, maybe there are different graphql versions??","https://cdn.discordapp.com/attachments/765222888617017365/939215586691514408/unknown.png",""
"412236684717981705",".bakeiro","04/02/2022 11:18 pm","not working with `_eq` neither `_similar`","",""
"755189278761287701","spinninghorse","05/02/2022 2:36 am","Nope, eventually I used ""collect"" function in uniswap v3 position NFT contract to get the unclaimed fees","",""
"315298865089740801","0xMajikGirl#3274","05/02/2022 6:46 am","hey I was wondering if someone can help me understand the uniswap v2 gql endpoint found here: https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2, I am trying to see if I can get a single token's total liquidity in any time range interval  whether it be 1 hr, 1 day or 1 month. I cant seem to find anything in the docs about this specific query?","",""
"367311102444568578","fl1tzz","05/02/2022 7:58 pm","I need to find lower and upper tick of given tick in the pool. How could I do it?","",""
"370646949692702732","someusername999#5885","06/02/2022 5:02 pm","There can be many tokens with the same name. A safer way is to search by token address (aka id). Here is a snippet: ```{
  pools(first: 5, where: {token0: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2""}) {
    id
  }
}```","","👍 (1)"
"843155325619535912","Etherscan Bot#5753","06/02/2022 5:02 pm","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"401842633464610837","_kfx","06/02/2022 11:45 pm","get the nearest multiple of `tickSpacing` to find the bottom tick. Then add `tickSpacing` to result to get the top tick","",""
"401842633464610837","_kfx","06/02/2022 11:46 pm","code for the bottom tick in javascript: `Math.floor(currentTick / tickSpacing) * tickSpacing`","","❤️ (1),💯 (1)"
"367311102444568578","fl1tzz","06/02/2022 11:47 pm","thanks","",""
"838687621643108352",".kfujita","07/02/2022 12:59 pm","hello, may i know the subgraph URL for polygon? 
I found this. is this official one? 
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"370646949692702732","someusername999#5885","07/02/2022 2:05 pm","I am not sure if it's official, but it's reliable.","",""
"471357824299958273","crypto_rachel","07/02/2022 2:06 pm","most likely is, ian is the one who manages that","",""
"838687621643108352",".kfujita","07/02/2022 2:06 pm","@someusername999 @Crypto_Rachel 
Noted. Thank you very much for your kind response.","","np (2)"
"383800835483893780","pynotional","07/02/2022 8:33 pm","Is there a way to get the PriceUSD variable for Ticks in V3's subgraph?","",""
"717431823038414908","paxthemax","07/02/2022 9:30 pm","I'm not sure if this question was asked before but I can't seem to find a definitive answer... I'm trying to get the ETH value of all the liquidity in-range (for UniV3 incentives). I was querying the uniswap subgraph and I select the `liquidity` field for a pool, but I'm not sure how to parse it.","",""
"717431823038414908","paxthemax","07/02/2022 9:31 pm","This is the query:
```
{
  pool(id: ""0xc763b6b3d0f75167db95daa6a0a0d75dd467c4e1"") {
    liquidity
  }
}
```
and it returns:
```
{
  ""data"": {
    ""pool"": {
      ""liquidity"": ""62774970746970876311068""
    }
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","07/02/2022 9:31 pm","<https://etherscan.io/address/0xc763b6b3d0f75167db95daa6a0a0d75dd467c4e1>","",""
"659771272573616128",".buzz17","08/02/2022 11:37 am","Hey guys I just find out that uniswap v2 giving wrong liquidity between thrm pairs its totally wrong","",""
"617127949480493077","yj_alt","09/02/2022 1:47 am","https://twitter.com/uniswapgrants/status/1489632389617836035","","👀 (3)"
"246729029581930506","invnn","09/02/2022 9:54 am","anyone able the query the uniswap on polygon network subgraph?","",""
"246729029581930506","invnn","09/02/2022 9:56 am","where you able to query anything from that? i keep running into problems","",""
"668468755474677811","sergei_lym","10/02/2022 11:06 am","Hi, 
does anyone know why the prices for token0 and token1 are reversed?
I thought, that token0Price - it is a price for 1 token. It means that if token0 = USDC, than 1 USDC costs 0.0003157706636239728410828570640739022 WETH.

` ""poolDayDatas"": [
      {
        ""token0Price"": ""3166.855301006757238029129999962526"",
        ""token1Price"": ""0.0003157706636239728410828570640739022"",
        ""pool"": {
          ""token0"": {
            ""symbol"": ""USDC""
          },
          ""token1"": {
            ""symbol"": ""WETH""
          }
        },
        ""date"": 1644451200
      },`","",""
"370646949692702732","someusername999#5885","10/02/2022 6:04 pm","It works well for me. What query are you trying to run?","",""
"884853969770393610","dustyoast#9416","10/02/2022 9:19 pm","If you found out what the unit of liquidity value is I would like to know also? I've tried a few calculations but can't get anything meaningful out of it","",""
"367311102444568578","fl1tzz","10/02/2022 11:33 pm","yup, u're right, that prices are the ratio of the available liquidity of tokens in a current tick","",""
"367311102444568578","fl1tzz","10/02/2022 11:34 pm","token1Price is 1/token0Price","",""
"641527324969533441","v_for_vincent","11/02/2022 5:28 am","Hey guys, question about the subgraph entities: why does the Uniswap v2 subgraph have a LiquidityPositionSnapshot type: https://github.com/Uniswap/v2-subgraph/blob/7c82235cad7aee4cfce8ea82f0030af3d224833e/schema.graphql#L114

Can't I use time travel queries to get that snapshot on LiquidityPosition of a given block? Was wondering if I'm missing something here.","",""
"659771272573616128",".buzz17","14/02/2022 3:28 pm","Is their subgraph available for uniswap v2 kovan ?","",""
"908893013634338827","._o_z_.","14/02/2022 5:38 pm","Hi, Is there an up-to-date subgraph for Polygon? it seems all are not synced?","",""
"851256610416492594","thlfranklin","14/02/2022 11:42 pm","Hey there, gm!
Just noticed UniswapV3 subgraph does not show swaps if it were initialized by aggregators, e.g. 1inch. 
Does anyone know why or how to get those missing transactions?
Thankss!","",""
"882574308742950922","Ken1989#2975","15/02/2022 10:28 am","hey guys, I notice that there are two uniswap v3 hosted subgraph:
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
and this one:
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph
which is the official one now?
appreciate your help!","",""
"471357824299958273","crypto_rachel","15/02/2022 10:39 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?selected=playground
official","",""
"254019075469082625","clonescody","15/02/2022 2:49 pm","Reposting here just in case, 
> Hello guys, quick question but is there any ETA for liquidity depth graph on Arbitrum ? Even an official hosted subgraph ? Thx
Mostly interested in the depth ( ticks ) graph but maybe that requires a subgraph to be done","",""
"254019075469082625","clonescody","15/02/2022 2:50 pm","Stumbled upon this, figured out that the liquidity must be giga tight but can't see that straight up without the depth graph. Also wondering why uniswap.info quotes 1.60 and swap quotes 1.2 ? Looks like info is off","https://cdn.discordapp.com/attachments/765222888617017365/943074288649515008/Capture_decran_le_2022-02-15_a_01.22.47.png,https://cdn.discordapp.com/attachments/765222888617017365/943074288913768448/Capture_decran_le_2022-02-15_a_01.23.05.png",""
"617127949480493077","yj_alt","16/02/2022 9:58 pm","~2days left till Round 1 submission deadline (Feb 18) for Unigrants Analytics bounties!

→ https://unigrants.notion.site/Unigrants-Community-Analytics-b09bbb16579d4a569b7e2d393afc4459
→ https://unigrants.notion.site/Unigrants-Community-Analytics-Round-1-114dcd96a2bc49bc8a4ca1745a37aa2b","",""
"129391253090598912","baeoftheday","17/02/2022 1:40 am","where is a good resource to learn how to use this to get price data in my subgraph?","",""
"129391253090598912","baeoftheday","17/02/2022 7:12 pm","hey given i know the token I want how can i get the price in subgraph code","",""
"129391253090598912","baeoftheday","18/02/2022 10:26 am","not yet","",""
"508391840525975553","Tickets#6981","18/02/2022 10:26 am",":no_entry: Uniswap staff would never DM you first and never ask for your information or send you links to ""fix"" your account. 
:woman_construction_worker: No ""moderator"" or ""customer support"" will ever ask you for your seed!

:warning: Be suspicious of anyone who reaches out to you in private!
:selfie: Never trust dodgy direct messages!
:performing_arts: If you receive unsolicited messages offering help use the #⚠│report-scams channel to expose the fraudsters.

:warning: Never share your private keys or passwords with ANYONE (even if they claim to be from the Uniswap Team) 
:closed_lock_with_key: Never give/type out your seed (or share the encrypted .JSON)

:warning: Do not click on any links or download any files sent to you in a private message, this will result in loss of assets! 
:envelope_with_arrow: Turn off direct messages to disable the ability of the spammers to contact you directly.

:moneybag:There is no airdrop, giveaway nor promotion

:hot_face:Try to include the user ID of the scammer, this will prevent them from hiding by changing their nickname. 
https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID-","",""
"471357824299958273","crypto_rachel","18/02/2022 10:27 am","@Bae of the day 👆","","👍 (1)"
"129391253090598912","baeoftheday","18/02/2022 10:33 am","he stopped messaging me 😦","",""
"129391253090598912","baeoftheday","18/02/2022 10:33 am","i wanted to have a fun chat again","",""
"471357824299958273","crypto_rachel","18/02/2022 10:33 am","😊  did he say anything questionable?","",""
"129391253090598912","baeoftheday","18/02/2022 10:34 am","not yet but most likely scammer. he just asked if i been attended by the team","",""
"129391253090598912","baeoftheday","18/02/2022 10:34 am","and asked me to private ping him","",""
"471357824299958273","crypto_rachel","18/02/2022 10:36 am","yeah I saw that, those actions worry me, so I dropped that, and he probably realized we were onto him","","👍 (1)"
"129391253090598912","baeoftheday","18/02/2022 10:36 am","exactly","",""
"471357824299958273","crypto_rachel","18/02/2022 10:36 am","they get pretty ballsy in the main public rooms","",""
"471357824299958273","crypto_rachel","18/02/2022 10:36 am","😄","",""
"129391253090598912","baeoftheday","18/02/2022 10:36 am","your fast and great with these responses","",""
"129391253090598912","baeoftheday","18/02/2022 10:36 am","thanks","",""
"471357824299958273","crypto_rachel","18/02/2022 10:37 am","😊  ty just happened to be here","",""
"725324983181770884","oioioi#6617","21/02/2022 8:41 pm","Hey, Can I get `Unclaimed fees` amounts from V3 The Graph?","",""
"725324983181770884","oioioi#6617","21/02/2022 8:44 pm","And if so how? Thanks 🙂","",""
"717377244057829426","Nico - Fiat24#3021","22/02/2022 5:19 pm","Is there a Uniswap V3 subgraph for the Arbitrum Rinkeby network?","",""
"370646949692702732","someusername999#5885","22/02/2022 11:09 pm","https://thegraph.com/hosted-service/subgraph/fr0ntenddev/arbitrum-rinkeby","",""
"411864736913686538","ArtMined#5627","23/02/2022 7:06 am","How Can I get token USD price? Do I have to use binance api?","",""
"456226577798135808","Deleted User","23/02/2022 6:04 pm","The dev should help you with that , Don’t take DM from no one","",""
"717377244057829426","Nico - Fiat24#3021","23/02/2022 9:18 pm","Thank you very much @someusername999 !!","",""
"702946452699349082","itsjjp","23/02/2022 9:30 pm","hey, I did the same but the return fees dont match uniswap-ui, im using `ethers.utils.formatUnits(bigNumber, decimals)` to convert the value, what did you do? 🙂","",""
"548979707161346048","ursulaslover","24/02/2022 6:20 pm","hey is there a way to calculate a price quote using a read only smart contract method? i noticed there is a method called `getAmountOut()` but i dont quite understand the parameters","",""
"548979707161346048","ursulaslover","24/02/2022 6:22 pm","what are `reserveIn`/`reserveOut`?","",""
"717377244057829426","Nico - Fiat24#3021","25/02/2022 2:18 pm","https://thegraph.com/hosted-service/subgraph/fr0ntenddev/arbitrum-rinkeby
How can I get the accrued uncollected fees of a position?","",""
"717377244057829426","Nico - Fiat24#3021","25/02/2022 4:46 pm","I have the exact same question.","",""
"766885581875445762","spike#3859","26/02/2022 11:59 pm","Hey! Is there any endpoint which return list of all tokens which have liquidity in uniswap?","",""
"129391253090598912","baeoftheday","27/02/2022 4:27 am","anyone know how to get price of a token from a pool?","",""
"129391253090598912","baeoftheday","27/02/2022 4:27 am","not from a query ^ but from code","",""
"586150977007255553","bigchiano","27/02/2022 9:30 pm","It’s easy divide one supply by the other","",""
"129391253090598912","baeoftheday","27/02/2022 9:55 pm","what do you mean? do you have an example?","",""
"586150977007255553","bigchiano","27/02/2022 10:34 pm","Eth-Btc liquidity pool
100 Eth
10 Btc

EthPriceinBtc = 10 btc / 100 eth","",""
"129391253090598912","baeoftheday","27/02/2022 10:40 pm","What if my pool is matic-usdt pool","",""
"129391253090598912","baeoftheday","27/02/2022 10:40 pm","What do you mean by supply? Like total supply?","",""
"586150977007255553","bigchiano","27/02/2022 10:46 pm","I mean the amount of each token in the pool","",""
"129391253090598912","baeoftheday","28/02/2022 9:28 am","still unsure if this is right if anyone can explain ?","",""
"508391840525975553","Tickets#6981","28/02/2022 9:44 am","https://dontasktoask.com/","",""
"471357824299958273","crypto_rachel","28/02/2022 9:45 am","need more specifics. V2 or V3","",""
"129391253090598912","baeoftheday","28/02/2022 9:46 am","v3","",""
"471357824299958273","crypto_rachel","28/02/2022 9:47 am","the answer lies in #💻│dev-chat 
https://discord.com/channels/597638925346930701/607978109089611786/943374038162616370","",""
"819227050270654466","0x8699","01/03/2022 1:23 pm","https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3 Is this official uniswap-v3 subgraph?","",""
"819227050270654466","0x8699","01/03/2022 1:24 pm","I found some data error on this subgraph, so just want to make sure I am questing on the right service.","",""
"396019781754683403","mario.revert.finance","01/03/2022 10:05 pm","@0x8699 it is. is your error related to feeGrowths?","",""
"396019781754683403","mario.revert.finance","01/03/2022 10:06 pm","Looks like the polygon subgraph just went into sync failure https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon?selected=logs","",""
"396019781754683403","mario.revert.finance","01/03/2022 10:06 pm","No error messages though","",""
"396019781754683403","mario.revert.finance","01/03/2022 10:48 pm","nvm all good now","",""
"819227050270654466","0x8699","02/03/2022 6:36 am","@mario | revert.finance Thanks. It's related to liquidity and tick. Liquidity and tick data on this pair: 0xb6c8fd6d1322228e00eb7624ce44fc6f59f78808 does not match the ones on etherscan. And looks like data on uniswap subgraph is wrong.","",""
"398010837605810176","ian lapham#0103","04/03/2022 11:12 pm","That is the official subgraph","",""
"398010837605810176","ian lapham#0103","04/03/2022 11:13 pm","There may be some issues with the tick data on it though, some have been reported","",""
"398010837605810176","ian lapham#0103","04/03/2022 11:13 pm","taking a look","",""
"186596856254431232","eltonite","06/03/2022 5:37 am","hey guys, quick question. Is there an official v3 subgraph for polygon?","",""
"664402754596503574","Airon#0489","08/03/2022 1:15 pm","Hey, guys","",""
"664402754596503574","Airon#0489","08/03/2022 1:16 pm","Can anybody tell me what the object `factory` means in graph api?","",""
"367311102444568578","fl1tzz","08/03/2022 10:38 pm","```The currently in range liquidity available to the pool
This value has no relationship to the total liquidity across all ticks
```
Does it mean that value of liquidity in theGraph is current liquidity in defined tickSpacing?","",""
"854926519562666014","Jakin#9388","09/03/2022 9:10 am","I'd like to ask why the uniswap data in the graph is so strange these two days","",""
"712580902651297842","blade#6807","10/03/2022 12:40 pm","+1. poolDayDatas queries have been failing since last Friday","",""
"942784684318945362","Zohan412#7799","10/03/2022 11:10 pm","For many pools, token0Price and token1Price are wildly inaccurate. There are some that are as large as 10^38, others that are off by a factor of 10, and others that are still off by a few percent. It varies widely, but almost all of the token prices are inaccurate. Does anybody know of a workaround to get accurate prices for the top 1000 pools by totalValueLockedETH?","",""
"743116470124544091","BelovEugen#0226","11/03/2022 10:09 am","Hello everyone I am interested in creating a graph like this so that it allows us to consider the liquidity between ticks within pools on Uniswap V3 Optimism.

How can I get liquidity data between ticks using The Graph?

I will be glad of any help!)","",""
"743116470124544091","BelovEugen#0226","11/03/2022 10:09 am","","https://cdn.discordapp.com/attachments/765222888617017365/951700790081355817/2022-03-11_07.38.43.png",""
"498674844272164865","steegecs#2390","11/03/2022 10:35 pm","Can multiple LP token mints occur in a single transaction in Uniswap v2? the subgraph I see seems to support this, but how would this occur?","",""
"498674844272164865","steegecs#2390","11/03/2022 10:36 pm","","https://cdn.discordapp.com/attachments/765222888617017365/951888809677692938/Screenshot_2022-03-11_113440.png",""
"498674844272164865","steegecs#2390","11/03/2022 10:36 pm","","https://cdn.discordapp.com/attachments/765222888617017365/951888850668646430/Screenshot_2022-03-11_113658.png",""
"401842633464610837","_kfx","11/03/2022 10:43 pm","Query `ticks` from the graph and use the `liquidityNet` values.","",""
"401842633464610837","_kfx","11/03/2022 10:43 pm","If you look at the Uniswap SDK source code, you can see how to do that in TypeScript. And my scripts here have Python (user yj also had Jupyter notebook version): https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-range-example.py","",""
"98352395007840256","laktek.eth | seedle.finance#9888","13/03/2022 3:01 am","There's an indexing error with the Arbitrum subgraph https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one?selected=logs cc: @ian lapham","","🤖 (1)"
"398010837605810176","ian lapham#0103","14/03/2022 2:34 am","@laktek.eth | seedle.finance I think this was just an issue with the hosted indexer ^^ Seems to be running now","",""
"398010837605810176","ian lapham#0103","14/03/2022 2:35 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"317510894554841088","aprimadi#9790","14/03/2022 11:48 am","Spot price calculation seems wrong when using GraphQL","https://cdn.discordapp.com/attachments/765222888617017365/952812944087998484/Screen_Shot_2022-03-14_at_13.17.35.png",""
"317510894554841088","aprimadi#9790","14/03/2022 11:50 am","Any idea why?","",""
"456226577798135808","Deleted User","14/03/2022 7:27 pm","Hmmm","",""
"456226577798135808","Deleted User","14/03/2022 7:27 pm","Try vscode","",""
"317510894554841088","aprimadi#9790","14/03/2022 9:02 pm","My question is 1 USDC is about 0.048 ENS but `token1Price` is a really big number. This seems like a bug to me.","",""
"398010837605810176","ian lapham#0103","14/03/2022 9:09 pm","Could you share the pool address for this?","",""
"942784684318945362","Zohan412#7799","15/03/2022 5:48 am","I have had this same issue. Many tokens are the wrong price, some are off by a few percent, others are off by double, and even others are 10^26. I have asked questions about this on their github issues, eth stackexchange, and here, and have not received any answers.  As far as I can tell, they are calculating the price based on the sqrtPriceX96 in the smart contract, so something must be wrong with that value.","",""
"942784684318945362","Zohan412#7799","15/03/2022 5:55 am","However when running this query, the sqrtPrice from the pool and the sqrtPriceX96 from the individual swaps appear to be identical {
  swaps(first:100
  orderBy:timestamp
  orderDirection:desc){
    id
    token0 {
      symbol
    }
    token1{
      symbol
    }
    pool{
      sqrtPrice
    }
    sqrtPriceX96
  }
}","",""
"471357824299958273","crypto_rachel","15/03/2022 5:59 am","that pool is off due to a bad price, and being out of range in the provided liquidity
some one would need to make a trade on that specific pool fee tier to fix it","https://cdn.discordapp.com/attachments/765222888617017365/953087505484382278/unknown.png",""
"942784684318945362","Zohan412#7799","15/03/2022 6:33 am","Oh, so if the pool has more worth of token0 than token1 or vice versa, it will mess up the price, but making a trade for the token with larger value locked will begin to normalize the price? Is there any way in the subgraph to discard pools like this?","",""
"471357824299958273","crypto_rachel","15/03/2022 6:36 am","its about the pools balance and liquidity ranges
trading on that pool would bring it back into range","","👍 (1)"
"943832264956076073","Kyleryke#7683","15/03/2022 12:24 pm","In case anyone is struggling with adding ""Matic"" to the custom linking, check out this article: https://medium.com/dongle-space/custom-linking-to-matic-in-uniswap-d47f036258cf","",""
"398010837605810176","ian lapham#0103","15/03/2022 8:12 pm","This is correct - those pools are very illiquid and few to no swaps are being made against them, so the rates are not updated","",""
"398010837605810176","ian lapham#0103","15/03/2022 8:13 pm","The rates are still ""accurate"" if you looked at current rates reflected in the contracts","",""
"398010837605810176","ian lapham#0103","15/03/2022 8:14 pm","Lastly, remember that for a given token (ENS in this case), there exists a different rate on every pool - if you check the rate on more liquid pools youll see a more ""normal"" price","",""
"791180746239901706","filipz#1496","18/03/2022 9:37 pm","hi uniswap team, I am looking at calculating actual slippage for transactions executed in a certain pool. So not what the user-defined setting for acceptable slippage is, but the actual trade execution metric","",""
"791180746239901706","filipz#1496","18/03/2022 9:37 pm","how would you advise best to calculate that, given the subgraph data?","",""
"791180746239901706","filipz#1496","18/03/2022 9:43 pm","from the swaps entity?","",""
"791180746239901706","filipz#1496","18/03/2022 9:47 pm","as in, the price at the start/before a swap takes place (for example from the last swap executed in that pool before the current one) vs the actual execution price of the current swap?","",""
"831719129663668276","PurpleFlame#3827","19/03/2022 8:59 pm","Anyone know where to query the TVL for uniswap v3, I tried dune analytics but it is throwing an error. 

Looking to find a work around to the flatlined TVL on uniswap info.","",""
"281472157324673024","bevanzog","20/03/2022 12:15 pm","Sorry for basic question about subgraph... If I run this general pool query (Found ing the uniswap subgraph docs) should I be able to replace the Pool: id with another pool address? if so, are there limited pools we can query on the MATIC network? Thanks! 

{
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    tick
    token0 {
      symbol
      id
      decimals
    }
    token1 {
      symbol
      id
      decimals
    }
    feeTier
    sqrtPrice
    liquidity
  }
}","",""
"281472157324673024","bevanzog","20/03/2022 12:16 pm","let me know if I should provide more details... thanks!","",""
"281472157324673024","bevanzog","20/03/2022 12:18 pm","Nvm sorry, I was on ETH not MATIC subgraph...","",""
"281472157324673024","bevanzog","20/03/2022 12:18 pm","❤️","",""
"704528189086629958","keithers98","22/03/2022 6:44 am","Hello everyone, does anyone know if there is a subgraph for Energyweb? Specifically I need to know what pools exist on Energyweb and search through them.","",""
"471357824299958273","crypto_rachel","22/03/2022 8:51 am","#🌱│start-here-archive 
&
#📌│faq-troubleshooting","",""
"471357824299958273","crypto_rachel","22/03/2022 9:29 am","get last pool?","",""
"471357824299958273","crypto_rachel","22/03/2022 11:26 am","not sure how or if you can from the graph
you can call the factory contract for pool creation events and get the latest","","☝️ (1)"
"791180746239901706","filipz#1496","23/03/2022 5:27 pm","hi uniswap team, I'm looking at the subgraph and more specifically the Swap entity (swap events)","",""
"791180746239901706","filipz#1496","23/03/2022 5:28 pm","I have a question regarding sqrtPriceX96, I saw on GitHub in the schema a comment that it is the market price after a swap","",""
"791180746239901706","filipz#1496","23/03/2022 5:28 pm","From my analysis and somewhere else I think it is market price just before a swap though","",""
"791180746239901706","filipz#1496","23/03/2022 5:28 pm","Could you please confirm either way? cheers","",""
"734566580268040277","DolbyS#0863","24/03/2022 6:47 am","Hi all, I am trying to get historical price data for the v3 USDC-WETH pool (hourly and daily), is there a sample graph query that I can see that shows how it can be retrieved? my query doesn't seem to be working, I am using the PoolHourData object but not too familiar with this","",""
"471357824299958273","crypto_rachel","24/03/2022 7:04 am","sqrtPriceX96 is the price at the current block and can change every tx/block with trade","",""
"471357824299958273","crypto_rachel","24/03/2022 7:05 am","not sure what the day/hour data format is in but try
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?version=current
```java
{
  pool (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    token0Price,
    token1Price,
    poolHourData(first:1) {
      id
    },
    poolDayData(first:1) {
      id
    }
  }
}```","",""
"734566580268040277","DolbyS#0863","24/03/2022 7:13 am","Thanks, really appreciate it. This gives me the current price for the tokens but under poolHourData or poolDayData, how can I get functionality to get historical price for past 30 days","",""
"734566580268040277","DolbyS#0863","24/03/2022 7:14 am","I tried adding token0price and token1price under poolHourData but it returns ""0""","",""
"471357824299958273","crypto_rachel","24/03/2022 7:14 am","not sure don't know the graph to well","",""
"471357824299958273","crypto_rachel","24/03/2022 7:15 am","not sure how far that pools data goes back","",""
"734566580268040277","DolbyS#0863","24/03/2022 7:16 am","np, the poolHourData and poolDayData objects are the ones giving me issues, havent seen any examples and UNI docs also dont provide those in examples","",""
"471357824299958273","crypto_rachel","24/03/2022 7:40 am","so don't use the first pool id for the hourly data I used the second and got price
```
{

  pool (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    token0Price,
    token1Price,
    poolHourData(first:2) {
      id
    },
    poolDayData(first:2) {
      id
    }
  }
  poolHourData (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8-450049""){
    pool {
      id
    },
    token0Price,
    token1Price,
    open,
    close
  }
}```","",""
"734566580268040277","DolbyS#0863","24/03/2022 8:06 am","thanks, what does the 450049 infront of the pool address refer to?","",""
"734566580268040277","DolbyS#0863","24/03/2022 8:09 am","is that the timestamp","",""
"471357824299958273","crypto_rachel","24/03/2022 8:09 am","that's the pools hourly data id","",""
"471357824299958273","crypto_rachel","24/03/2022 8:10 am","so like if you change first:2 to first:5, you will get more ids for hourly data","",""
"734566580268040277","DolbyS#0863","24/03/2022 8:11 am","hmm interesting, some how it shows a 3306 price under HourData which is way off but shows the current price for the pool object on the top","",""
"734566580268040277","DolbyS#0863","24/03/2022 8:12 am","is it possible to expand the HouseData to show hourly for past 30D","",""
"734566580268040277","DolbyS#0863","24/03/2022 8:12 am","HourData*","",""
"471357824299958273","crypto_rachel","24/03/2022 8:26 am","not sure tbh, you would probably have to use the pool object -> pool hour data, grab as many as are there, and the take a average of them all","",""
"471357824299958273","crypto_rachel","24/03/2022 8:29 am","something like this only goes to 100 I think
```
{

  pool (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    token0Price,
    token1Price,
    poolHourData(first:100) {
      id
    }
  }

}```
grab each id and then call the poolHourData object like above","",""
"956545273344167986","Z3h#4210","24/03/2022 8:42 pm","How do I get `PositionSnapshot` to work
as described in the graphql docs?
https://github.com/Uniswap/v3-subgraph/blob/bf03f940f17c3d32ee58bd37386f26713cff21e2/schema.graphql#L229

What # means in token id>#<block number> as seem below?

I keep getting no data back 

type PositionSnapshot @entity {
  # <NFT token id>#<block number>
  id: ID!


Here is an example of my query:

```{
      positionSnapshot(id:""POOLID#14449543"", 
        block:{number:14449543}
      )
      {
        collectedFeesToken0
        timestamp
      }
}
```","",""
"734566580268040277","DolbyS#0863","25/03/2022 8:37 pm","I can query the current tick and current liquidity but how can I find historical prices? I would need to know which tick I am looking for? I am looking to get virtual reserves historically based on whichever tick the price was at.","",""
"734566580268040277","DolbyS#0863","26/03/2022 12:41 am","the liquidity number that you get when querying a pool, its a long number, what is that in? how can that be converted into USD?","",""
"412609129136390165","0xAM#8312","26/03/2022 1:27 am","Hi, I am working on a research about Graph Protocol and I read Uniswap is also using its subgraph, so I wanted to ask if it is better than other centralized services and is it cost effective?","",""
"206980947298615297","lawlzer","26/03/2022 7:41 am","Hello! I am trying to get price of a token pair from 12h ago. 

So far, I have gotten the current price from the uniswap-v2 graphql API (https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2)
```{
  pairs(where: { token0: ""0x1381f369d9d5df87a1a04ed856c9dbc90f5db2fa"" token1: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2""}) {
    token0Price
    token1Price
  }
}```

but, I *do not see* a way to change the date, to get information from before (from, say, 12h ago)? Is there a way to do this, or a better way overall?","",""
"401842633464610837","_kfx","26/03/2022 4:35 pm","liquidity is not in USD, it's in some abstract units","",""
"401842633464610837","_kfx","26/03/2022 4:36 pm","to get old prices, you can query poolDayData and poolHourData for a pool","",""
"755724747085578281","taylor0341","26/03/2022 6:17 pm","how do i fromat graphql data fromWei to ETH in thegraph.com online
i want 9405.236287869474354814 not 9405236287869474354814","",""
"406463668763492352","largenumber_","27/03/2022 1:04 am","where can i find the address for v3 factory on rinkeby","",""
"406463668763492352","largenumber_","27/03/2022 1:05 am","I looked at a few subgraphs, why would they use different addresses","",""
"471357824299958273","crypto_rachel","27/03/2022 1:06 am","V3 addresses are the same for all networks `0x1F98431c8aD98523631AE4a59f267346ea31F984`","",""
"406463668763492352","largenumber_","27/03/2022 1:08 am","ohh i see","",""
"406463668763492352","largenumber_","27/03/2022 1:09 am","how is that technically possible, i am curious","",""
"471357824299958273","crypto_rachel","27/03/2022 1:10 am","contract addresses will be the same when launched from the same address at same nonce","",""
"406463668763492352","largenumber_","27/03/2022 1:10 am","ooo","",""
"406463668763492352","largenumber_","27/03/2022 1:11 am","I just created a pool but I don't see that transaction in the factory","",""
"406463668763492352","largenumber_","27/03/2022 1:11 am","https://rinkeby.etherscan.io/address/0x1F98431c8aD98523631AE4a59f267346ea31F984","",""
"406463668763492352","largenumber_","27/03/2022 1:11 am","am i doing something wrong","",""
"471357824299958273","crypto_rachel","27/03/2022 1:12 am","there are two - three steps, first is approving the token/tokens to be spent and the next tx creates the pool","",""
"900782190688862238","pberent#6914","29/03/2022 9:09 pm","Hi. I'm trying to reproduce the pool info presented on https://info.uniswap.org/#/pools by using the apis which Uniswap docs say are used to produce this info. These are https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2 and https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3.  Not having much luck - particularly with matching the figures for volume. Can anyone help?","",""
"734566580268040277","DolbyS#0863","30/03/2022 12:16 am","can someone help me with an example of a graph query where I can pool the liquidityNet under the tick object, cant find any examples to do this, doesn't seem to work for me","",""
"734566580268040277","DolbyS#0863","30/03/2022 12:40 am","I am trying this but getting an error: {
  tick(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    id
    liquidityNet
  }
}","",""
"766737950229659699","juanma0x","30/03/2022 10:23 pm","Is `poolHourData` or `poolHourDatas` not working anymore?

I'm trying:
`{
  pool (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    poolHourData(first:3) {
      volumeToken0
    }
  }
}`
And every `volumeToken0` is `0` (same for other `volumeXX` parameters)

Also I tried
`{
  poolHourDatas(first: 3,
    where: {pool: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}, orderDirection: asc) {
    volumeUSD
  }
}`
Same `volumeUSD` == `0`","",""
"347053670812352513","kinrezc","31/03/2022 10:35 pm","just curious, why are you able to `.load` the pool in this line without doing a null check? why is there no type error in this case?","",""
"347053670812352513","kinrezc","31/03/2022 10:35 pm","https://github.com/Uniswap/v3-subgraph/blob/main/src/mappings/core.ts#L25","",""
"802978167437656114","metrobeemo","01/04/2022 7:29 am","Any good beginner tutorials on how to use this api","",""
"802978167437656114","metrobeemo","01/04/2022 7:30 am","I am somewhat technical but new to uniswap and the graph","",""
"694916804757422090","CyMule#3870","02/04/2022 7:00 pm","```
{
  pool (id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    id,
    ticks {
      liquidityNet
    }
  }
}
```","",""
"766885581875445762","spike#3859","04/04/2022 12:11 am","Hey! can i get tokens amount of a liquidity position v3 with graph query?","",""
"506016082449137666","dillonlin_","04/04/2022 2:00 pm","Hey guys does anyone know if there is an Optimistic Kovan subgraph for blocks? Similar or identical to this but for Optimistic Kovan?

https://api.thegraph.com/subgraphs/name/ianlapham/uni-testing-subgraph","",""
"698049111827415150","sidhemraj","05/04/2022 7:53 pm","hi! can anyone point me to the official polygon univ3 subgraph - thats used in the interface?","",""
"694916804757422090","CyMule#3870","05/04/2022 9:11 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon","",""
"888013713163026522","Ninja turtle#6203","06/04/2022 2:05 am","HI, 
Phoebe from support suggested ill contact here..
im looking for trading volume history for the ETH/MUSH pair 
and for some reason the history in the UI is starting only may 2021 
im looking for the march-april 2021 info for the following contract:
https://info.uniswap.org/pair/0xa150643d92e06317fb499eaef4f6d89b7107452d

would appreciate your help","",""
"456226577798135808","Deleted User","06/04/2022 7:41 am","using uniswap v2 playground, how would i go about grabbing a specific tokens current price?
```
tokenDayDatas(where: { token: ""0x45d0749a4e355495c675673d4f3b36a67aa08046""}){
    priceUSD
  }
```
right now using this, it grabs like 5 or so snaps of the price, last one being the most recent but i just want specifically the current most price.","",""
"456226577798135808","Deleted User","06/04/2022 7:42 am","I am new to this, so sorry if I sound stupid in the stuff I am saying haha. Id like to use it for my own little C# Price checker tool.","",""
"645639405289340959","rimatik","06/04/2022 5:42 pm","is there any uni v3 arbitrum subgraph?","",""
"645639405289340959","rimatik","06/04/2022 5:53 pm","this one seems to have indexing error https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one?selected=playground","",""
"930091057859923999","nforced#4973","07/04/2022 5:23 pm","> Hello guys, why is the derivedETH 0 for BNB? I see it on etherscan as 0.137450 Eth, please advice (:
> 
> `{
>  token(id: ""0xb8c77482e45f1f44de1745f52c74426c631bdd52"") {
>    name
>    symbol
>    decimals
>    derivedETH
>  }
> }`","https://cdn.discordapp.com/attachments/765222888617017365/961594654711775342/unknown.png",""
"442877211633123328","dangerdano","07/04/2022 8:58 pm","Hey, how could I programmatically get info of all pools on Uniswap?","",""
"447487680511606785","reuptake","08/04/2022 1:05 pm","Anyone knows about better UI (web, desktop) for subgraph (better than on thegraph.com)?","",""
"485274047924535306","l0c4t0r","08/04/2022 1:07 pm","You can try https://graphiql-online.com/","","🙏 (1)"
"447487680511606785","reuptake","08/04/2022 1:18 pm","**MUCH** better, thank you!","",""
"766885581875445762","spike#3859","08/04/2022 6:41 pm","any endpoint which return balance of tokens as give blocknumber?","",""
"888013713163026522","Ninja turtle#6203","09/04/2022 2:21 am","HI, 
im looking for trading volume data history for the ETH/MUSH pair 
for some reason the history in the UI is starting only may 2021 (and the contract is changed) 
im looking for the march-april 2021 info for the following contract:
https://info.uniswap.org/pair/0xa150643d92e06317fb499eaef4f6d89b7107452d
(link no longer available for some reason) 
would really appreciate some help 🙏","",""
"385309493266743297","grawfin","09/04/2022 2:11 pm","None that seems stable or comprehensive yet. I am using these two: 1) for positions: https://thegraph.com/hosted-service/subgraph/imdsc/defil-uniswap-v3-arbitrum and 2) for everything else (except ticks which I still haven't managed to get on arbitrum): https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal","",""
"385309493266743297","grawfin","09/04/2022 2:22 pm","Did you manage to figure this out? I am facing the same problem. Thanks!","",""
"385309493266743297","grawfin","09/04/2022 3:33 pm","did you end up figuring this out? I am trying to solve a similar problem.","",""
"447487680511606785","reuptake","11/04/2022 12:14 pm","Is `collect` on Uniswap subgraph empty?","",""
"859468445104209930","willow9558","11/04/2022 4:22 pm","Hello everyone i want to get all erc20 tokens list any api for that ?","",""
"955494068782256199","ArtemW#2696","11/04/2022 4:54 pm","Hi all! Is there any chance that uniswap subgraphs work from `graphstudio`? (not from `Hosted Service`)","",""
"198975596867354624","psipherious","12/04/2022 4:25 am","I'm trying to get a list of multiple pairs by specifying the pairs themselves (not sure if this is possible with the ""pairs"" method):
```
pair = '\""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5\""';
pairs(where:{id: ` + pair + `})
```
^ this works
```
pairs = ['\""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5\""']
pairs(where:{id: ` + pairs + `})
```
^ as does this
but:
```
pairs = ['\""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5\""', '\""0x3041cbd36888becc7bbcbc0045e3b1f144466f5f\""']
pairs(where:{id: ` + pairs + `})
```
^ this does not (fails with error)
Is there a way to actually do this by submitting an array of pairs to query?","",""
"471357824299958273","crypto_rachel","12/04/2022 4:28 am","tbh I don't know the graph, but from what I've seen I don't think there is a way
looks like your doing via code so you could loop the request","",""
"198975596867354624","psipherious","12/04/2022 4:36 am","Yup, looping is no problem, can definitely do - just might end up being a lot of separate queries if I have a long specific list.

And yes I'm just making the calls in JavaScript.

If I remove the JavaScript array I could write it instead like:
`pairs(where:{id: ""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5""})`
Which works just the same (works fine) just trying to figure out if I add a delimited list somehow.

Maybe I need to go
look into basic Subgraph documentation to see if I can find it there","",""
"471357824299958273","crypto_rachel","12/04/2022 4:43 am","yeah worth googling 😊  tbh I'm not sure","",""
"955494068782256199","ArtemW#2696","12/04/2022 4:58 am","tell me please which difference between
- `api.thegraph.com/subgraphs/name/uniswap/uniswap-v3`
and
- `thegraph.com/explorer/subgraph?id=2x1zbcjLiHYb5pz4n6ULjJAsKLLKgNB1jcBHxjj6UKKm&view=Overview`
except `GRT` pricing? which of them more actual and stable? and why? thanks!","",""
"198975596867354624","psipherious","12/04/2022 5:17 am","Think I figured out a solution. You can apply ""aliases"" to queries and make multiple queries in a single request like so:","",""
"198975596867354624","psipherious","12/04/2022 5:18 am","```
{
  Pair1: pair(id: ""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5"") {
    id
  }
  Pair2: pair(id: ""0x3041cbd36888becc7bbcbc0045e3b1f144466f5f"") {
    id
  }
}
```","",""
"471357824299958273","crypto_rachel","12/04/2022 5:18 am","true yeah I didn't think about that 😄  🤦‍♀️","",""
"198975596867354624","psipherious","12/04/2022 5:19 am","I'm just not very familiar with GraphQL in general or prob would have thought of this too 🙂","",""
"471357824299958273","crypto_rachel","12/04/2022 5:20 am","same, I don't even use it tbh, unless someone has a question, then I try some stuff 😄","",""
"506803734366388225","doc_product","12/04/2022 9:11 am","Hi, is it possible to get all the PositionSnapshots for a given Position?

Or can I only query PositionSnaphost by ID, which is a concat of the token ID and the block number?","",""
"955494068782256199","ArtemW#2696","12/04/2022 1:29 pm","hi everyone! sorry for annoing, but it's really interesting fro me, didn't find any info about that
tell me please which difference between
- `api.thegraph.com/subgraphs/name/uniswap/uniswap-v3`
and
- `thegraph.com/explorer/subgraph?id=2x1zbcjLiHYb5pz4n6ULjJAsKLLKgNB1jcBHxjj6UKKm&view=Overview`
except GRT pricing? which of them more actual and stable? and why? 
any useful links?
thanks!","",""
"447487680511606785","reuptake","12/04/2022 4:16 pm","Perhaps `where(id_in...` is a solution, but it's not a good way to use graph I think. Better send multiple queries.","",""
"447487680511606785","reuptake","12/04/2022 4:17 pm","There's also `filter`","",""
"447487680511606785","reuptake","12/04/2022 4:17 pm","instead of `where`","",""
"198975596867354624","psipherious","12/04/2022 8:09 pm","With filter you can't filter by pair `id`, correct? or I guess if you do, you would still have to use `where(in_id...)` ?
I've been messing around for the past couple hours and can't seem to figure out a way to make a single query request where I can put all the pairs I want into an array.","",""
"447487680511606785","reuptake","12/04/2022 10:26 pm","I've never used `filter` or `id_in`. Why it's so important to make single request?","",""
"198975596867354624","psipherious","12/04/2022 11:19 pm","It isn't super important, just generally more efficient, and if there is a way, I would prefer to use it, but perhaps there is not.","",""
"139358944739983361","bejvg","14/04/2022 12:40 am","Why is it that when I query the ticks of a liquidity pool i get such a random looking selection of ticks?","https://cdn.discordapp.com/attachments/765222888617017365/963878920384548904/Screenshot_2022-04-13_at_21.09.43.png,https://cdn.discordapp.com/attachments/765222888617017365/963878920577491034/Screenshot_2022-04-13_at_21.09.49.png,https://cdn.discordapp.com/attachments/765222888617017365/963878920845918238/Screenshot_2022-04-13_at_21.09.58.png",""
"139358944739983361","bejvg","14/04/2022 12:41 am","The current tick is 195902, but the ones i get go from -887270 to 184080 at inconsistent intervals?","",""
"955494068782256199","ArtemW#2696","14/04/2022 8:28 pm","hey! this volume from past 24h + current, or as a result of one day volume?","https://cdn.discordapp.com/attachments/765222888617017365/964177884929490974/Screenshot_2022-04-14_at_16.54.04.png",""
"755724747085578281","taylor0341","15/04/2022 12:58 pm","Why graphql price and official website the price difference, official:754, graph:463","https://cdn.discordapp.com/attachments/765222888617017365/964426868315025478/db0821e1f2035048.JPG,https://cdn.discordapp.com/attachments/765222888617017365/964426868713488424/2.JPG",""
"350988325508874242","rolik2001","15/04/2022 10:27 pm","probably it is because of pool size","",""
"755724747085578281","taylor0341","16/04/2022 8:02 am","graph Is the data synchronization","",""
"447487680511606785","reuptake","17/04/2022 9:03 pm","Anyone knows how to get correctly ordered transactions (eg. swaps) from the graph? ordering using timestamp sometimes gives a wrong order if there are many transactions in the same block.","",""
"907728285008556054","rawamsterdam","19/04/2022 4:36 am","Hi guys,
I’m coming from support directed to you guys:","",""
"907728285008556054","rawamsterdam","19/04/2022 4:37 am","On that website, you can't. It's limited unfortunately. You can ask here instead for workarounds #🌐│subgraph-api","",""
"907728285008556054","rawamsterdam","19/04/2022 4:39 am","Would you have a workaround to be able to view ALL pools in Uniswap V3? Currently only able to view the top 50 and many smaller pools can’t be easily searched for either. Looking to have an overview with TVL and volume .
Thanks","",""
"471357824299958273","crypto_rachel","19/04/2022 12:15 pm","```{
    pool(id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    tick,
    liquidity,
    sqrtPrice,
    ticks(orderBy:tickIdx){
      liquidityGross,
      liquidityNet,
      tickIdx
      }
    }
}```","",""
"471357824299958273","crypto_rachel","19/04/2022 12:21 pm","you would need to use the graph for that
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?version=current
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon?selected=playground","",""
"955494068782256199","ArtemW#2696","19/04/2022 7:27 pm","hi! tell me please, why I can't find in a graph data about 24h volume?","https://cdn.discordapp.com/attachments/765222888617017365/965974524925444167/Screenshot_2022-04-19_at_15.55.25.png,https://cdn.discordapp.com/attachments/765222888617017365/965974525235826728/Screenshot_2022-04-19_at_15.57.29.png",""
"955494068782256199","ArtemW#2696","20/04/2022 12:37 am","any options to find out 24h volume for pool?( from poolDayData? poolHourDatas?","",""
"375494774410444811","maor6611","20/04/2022 2:33 am","Hey guys, how do I get the USD value of a pool's liquidity? it currently returns a ridicoulesly large number...","",""
"375494774410444811","maor6611","20/04/2022 2:33 am","","https://cdn.discordapp.com/attachments/765222888617017365/966081749618659410/unknown.png",""
"375494774410444811","maor6611","20/04/2022 5:50 am","Anyone?","",""
"955494068782256199","ArtemW#2696","20/04/2022 1:57 pm","please?)","",""
"605389887352602624","onchainsai","20/04/2022 2:44 pm","Hey Devs
There's some issue in this endpoint https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon

We're not getting the liquidity of WETH/USDC (0xC36442b4a4522E871399CD717aBDD847Ab11FE88) pool of uniswap.","",""
"471357824299958273","crypto_rachel","20/04/2022 3:00 pm","For starters that isn't a pool that is the V3 nft manager contract. Every pool has it's own address. you can get from top right of info pool page","https://cdn.discordapp.com/attachments/765222888617017365/966269625224527882/unknown.png",""
"698049111827415150","sidhemraj","21/04/2022 12:49 am","hey guys, I have a very simple question that i havent been able to get answer to","",""
"698049111827415150","sidhemraj","21/04/2022 12:50 am","Is there an API that I can use to pull underlying balances for my uniswap v3 position?
The subgraph entities don't actually give me that","",""
"194038399139708930",".brunosilva","21/04/2022 11:35 pm","Is there any way to know the total shares/total supply of a pool?","",""
"194038399139708930",".brunosilva","21/04/2022 11:35 pm","and hi.","",""
"194038399139708930",".brunosilva","21/04/2022 11:40 pm","V3","",""
"754579337101181018","datarain","25/04/2022 12:40 pm","hey guys, I wonder how to calculate ETH/USD price by using uniswap v3.","",""
"754579337101181018","datarain","25/04/2022 12:43 pm","I find that v3-subgraph in Github simply use WETH-USDC-02 pool but its latest transaction was at 2022-02-26 15:00:03. I think it won't be available","",""
"754579337101181018","datarain","25/04/2022 12:44 pm","anyone help?","",""
"859468445104209930","willow9558","26/04/2022 5:05 pm","Hello Everyone 
i want to fetch my all pools which i am creating any api ??? 
Please help me 
Thanks","",""
"194038399139708930",".brunosilva","26/04/2022 6:25 pm","This one might work","",""
"194038399139708930",".brunosilva","26/04/2022 6:25 pm","https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql","",""
"194038399139708930",".brunosilva","26/04/2022 6:26 pm","There is also this one","",""
"194038399139708930",".brunosilva","26/04/2022 6:26 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-subgraph/graphql","",""
"194038399139708930",".brunosilva","26/04/2022 6:26 pm","Don't know the diference","",""
"859468445104209930","willow9558","26/04/2022 6:54 pm","But how its work how i test and integrate in my react project","",""
"859468445104209930","willow9558","26/04/2022 6:54 pm","@Bruno Silva","",""
"194038399139708930",".brunosilva","26/04/2022 7:08 pm","if you open the tab explorer, you don't even have to write anything","",""
"194038399139708930",".brunosilva","26/04/2022 7:09 pm","","https://cdn.discordapp.com/attachments/765222888617017365/968506664015757312/unknown.png",""
"194038399139708930",".brunosilva","26/04/2022 7:10 pm","i'm not an expert at it tho","",""
"194038399139708930",".brunosilva","26/04/2022 7:10 pm","just know a little","",""
"95025349921878016","dhuang713","28/04/2022 8:38 am","am i doing something dumb or are the  `open` and `close` values expected to be the same for each `PoolDayData` entry?","",""
"599585114321715220","ej_11","29/04/2022 1:19 pm","Hey, I was wondering why we dont have poolMinuteDatas in uniswap-v3-subgraph, is there any limitations on subgraph to do that?","",""
"882574308742950922","Ken1989#2975","29/04/2022 4:10 pm","Hi guys, Im looking at the Mint data here: https://docs.uniswap.org/protocol/reference/core/interfaces/pool/IUniswapV3PoolEvents#mint
Im trying to comput the liquidity but I dont know how what is it decimal? How do you compute the liquidity decimal here: is it decimal_token0 - decimal_token1","",""
"966064128701657131","jc#5859","30/04/2022 11:25 pm","Hi everyone, trying to figure out why the API is not returning a certain liquidity pool.

Tried this query: 

```query MyQuery {
  pool(id: ""0x5777d92f208679DB4b9778590Fa3CAB3aC9e2168"") {
    token1 {
      symbol
    }
  }
}
```

But it returns null. I confirmed the address, there's nothing wrong with it. Still, doesn't return anything","",""
"843155325619535912","Etherscan Bot#5753","30/04/2022 11:25 pm","<https://etherscan.io/address/0x5777d92f208679DB4b9778590Fa3CAB3aC9e2168>","",""
"754579337101181018","datarain","02/05/2022 8:08 am","","https://cdn.discordapp.com/attachments/765222888617017365/970514497817153567/unknown.png",""
"754579337101181018","datarain","02/05/2022 8:09 am","hey guys, I want to ask what does this 03 of USDC_WETH_03_POOL stand for?","",""
"754579337101181018","datarain","02/05/2022 8:09 am","version 3?","",""
"754579337101181018","datarain","02/05/2022 8:09 am","or one of the USDC_WETH_POOL?","",""
"471357824299958273","crypto_rachel","02/05/2022 8:19 am","while that's just a constant name if taken from the docs, it's likely the address of the .3% pool","","👍 (1)"
"272693988253761537","Morphius#3687","02/05/2022 8:42 am","hi guys, I am wondering what version of graph-cli that the uninswap subgraph v3 is compatible with?","",""
"272693988253761537","Morphius#3687","02/05/2022 8:44 am","i am trying to fork off it and create a more specific uniswap subgraph, but it seems to not work with the newer versions of graph-cli. Any help I can get here?","",""
"754579337101181018","datarain","02/05/2022 9:19 am","thx","",""
"447487680511606785","reuptake","03/05/2022 4:27 pm","So subgraph is now returning only 100 results? I guess it was 1000 back then","",""
"447487680511606785","reuptake","03/05/2022 4:41 pm","What are limits to `offset`","",""
"966688478584799266","printmoney#1949","03/05/2022 6:44 pm","Hi. I was trying to query PSP's price in block `13620500` but it returns `0` for some reason. Can anybody explain why it is returning `0` even though there was liquidity at that block?

Subgraph URL: https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3

Query: 
`{
    token(id:""0xcafe001067cdef266afb7eb5a286dcfd277f3de5"", block:{number:13620500}){
        derivedETH, volumeUSD
    }
}`

Response: 
`{
  ""data"": {
    ""token"": {
      ""derivedETH"": ""0"",
      ""volumeUSD"": ""5991058.931203546316450219680491515""
    }
  }
}`","",""
"843155325619535912","Etherscan Bot#5753","03/05/2022 6:44 pm","<https://etherscan.io/address/0xcafe001067cdef266afb7eb5a286dcfd277f3de5>","",""
"936680045890646127","jergains","03/05/2022 9:56 pm","how can I format multiple queries at once using fetch?","",""
"447487680511606785","reuptake","03/05/2022 9:58 pm","I'm not sure I can understand/answer your question","",""
"936680045890646127","jergains","03/05/2022 9:59 pm","I'm sending a post request to thegraph api and querying prices for coins but I can't figure out how to send multiple queries in the same fetch/post request","",""
"936680045890646127","jergains","03/05/2022 10:00 pm","i can fetch one coin perfectly fine but don't know the syntax for multiple coins at once","",""
"936680045890646127","jergains","03/05/2022 10:01 pm","this is the query I'm using for one coin","",""
"936680045890646127","jergains","03/05/2022 10:01 pm","{""query"": `{ tokenDayDatas(orderBy: date, orderDirection: asc, where: { token: ""${token.contractaddress}""}) { id date priceUSD totalLiquidityToken totalLiquidityUSD totalLiquidityETH dailyVolumeETH dailyVolumeToken dailyVolumeUSD } }` }","",""
"447487680511606785","reuptake","03/05/2022 10:11 pm","I don't know if it's possible, sorry.","",""
"936680045890646127","jergains","03/05/2022 10:14 pm","alright thx","",""
"246341150930239490","chuck__ie","03/05/2022 10:14 pm","i dont think tokenDayDatas even exists as a query, only tokenDayData and tokenHourData at least looking at this https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql","",""
"447487680511606785","reuptake","03/05/2022 10:14 pm","They do.","",""
"348954385805606912","familycrest","03/05/2022 10:15 pm","This works perfectly fine in the playground, we just need to convert this to a single POST in javascript using fetch","https://cdn.discordapp.com/attachments/765222888617017365/971090227785527336/unknown.png",""
"348954385805606912","familycrest","03/05/2022 10:16 pm","Sorry I'm jergains friend btw","",""
"348954385805606912","familycrest","03/05/2022 10:16 pm","@reuptake 🌊","",""
"272693988253761537","Morphius#3687","04/05/2022 2:44 am","V3 seems to not be compatible with newer versions of `graph-cli` ... any idea of when this might be fixed? Or am I being silly? 

I think it's because the `types` folder isn't used anymore when running `graph-codegen` 

Because when i run `graph-build` I get a bunch of errors saying the types folder can't be found, e.g.
`File 'src/types/Factory/Factory.ts' not found.
 import { PoolCreated } from '../types/Factory/Factory'
 in src/mappings/factory.ts(5,29)**`","",""
"936680045890646127","jergains","04/05/2022 3:17 am","hey do you know how to write GraphQl queries in JS? I'm trying to write a query but don't know how to apply all the filters, its probably not that complicated for someone who knows graphql","",""
"852488558807613460","Prachet Mishra#1550","04/05/2022 12:38 pm","is there any API to monitor the tokens' balance in the account after investing money on Uniswap v3","",""
"779428144004202509","wondershaggy#7212","04/05/2022 4:28 pm","Hey, I am unsure at the moment whether volumeUSD of pooldaydata returns trading volume combined with the Adds+Removes in liquidity tokens or only trading volume. Has anybody checked if volumeUSD matches the amountUSD of all swaps in a day? Any help is appreciated 🙂","",""
"583144109078872074","nikoferro","04/05/2022 8:14 pm","hey everyone, is there a subgraph to get the available pools for uniswap v3 on optimism / polygon ? if not, is there any other way to get this data?","",""
"838790050224275506","avitydererum","05/05/2022 3:33 am","You can use this, thought it isn't really all of them: https://info.uniswap.org/#/polygon/pools","",""
"272693988253761537","Morphius#3687","05/05/2022 8:31 am","I use Vue.js and use the apollo npm package, it looks like this

   ` var vm = this
    const httpLink = createHttpLink({
      uri: 'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2',
    })
`
    const tokensQuery = `
query {
  pairs(first: 10,) {
    id
    token0 {
      name
      id
    }
    token1 {
      name
      id
    }
  }
}
`
    const client = new ApolloClient({
      link: httpLink,
      cache: new InMemoryCache(),
    })

    client
      .query({
        query: gql(tokensQuery),
      })
      .then(function (data) {
        // ... do stuff with your data","",""
"852488558807613460","Prachet Mishra#1550","05/05/2022 10:36 am","any way to track the changing tokens balance in the concentrated liquidity pool? any API or internal method is there?","",""
"838790050224275506","avitydererum","06/05/2022 1:00 am","You can derive this from the I/O of most recent transaction/transactions on chain","",""
"838790050224275506","avitydererum","06/05/2022 1:00 am","Since x*y=k has to remain constant\","",""
"397727915485298689","bigcheese5674","07/05/2022 5:53 am","hi, tokensOwed0, tokensOwed1 seem to be missing in the positions query","",""
"397727915485298689","bigcheese5674","07/05/2022 5:53 am","or am i doing something wrong?","",""
"307988561326505986","dragondmoney","08/05/2022 4:16 am","Anyone know the formula to calculate the real reserves of a uniswap NFT?","",""
"800498383914795038","artur.wdowiarski","09/05/2022 12:31 am","Hi, Everyone 🙂 !

I think I'm another person in the long line of those who had tried to get historic eth price in usd from uniswap v2 or v3 graph.

I've searched this channel and saw a few answers stating that it's not possible and I need to use another API like coinmarketcap.

Is this true?","",""
"940490444553478185","엉망장자#1230","09/05/2022 12:45 pm","anyone has experience to deploy uniswap subgraph deploy on hosted service? (just fork & deploy)

when I changed assembly script and deploy on my dashboard but I faced error

anyone give me some advice?

https://thegraph.com/hosted-service/subgraph/mingookk/uniswap-v31?selected=logs
<< this is my subgraph url","https://cdn.discordapp.com/attachments/765222888617017365/973121100072517632/2022-05-09_4.12.03.png",""
"618661879400759297","____benj____","10/05/2022 3:21 pm","Hi folks. Quick subgraph-related question please.
I can get the list of v3 pools with graphql. But that's for MainNet. Does any one know a way to get the list of pools from Kovan? Can I do it with graphql too, or is there a way on-chain?
Thanks! 👍","",""
"339297427318374401","gokhanuck","11/05/2022 1:56 am","Hey all, trying to solve how to get live price feeds from subgraph-api. Is there any usable docs or ways to do that or any Restful APIs?","",""
"882574308742950922","Ken1989#2975","17/05/2022 1:46 pm","Hi folks, Im looking at the raw fee values: feeGrowthInside0LastX128, how do I convert it to normal value?
thanks a bunch!","",""
"971327765108359198","DEXter#9297","17/05/2022 4:01 pm","I have a question regarding the UniswapV2 subgraph mapping file, which are written in AssemblyScript. Basically, if you follow the ""Create a subgraph"" process published by the Graph Protocol (see: https://thegraph.com/docs/en/developer/create-subgraph-hosted/), the Subgraph folder structure is generated in such a way that it DOES not contain a 'types' folder. However, the mapping file (./src/mappings/factory.ts) imports the 'templates.ts' file located in the 'types' folder - see screenshot attached. I would like to know how the 'types' folder was generated and where I could find the 'templates.ts' on the Github repository (see: https://github.com/Uniswap/v2-subgraph/blob/master/src/mappings/factory.ts).","https://cdn.discordapp.com/attachments/765222888617017365/976069521267912724/unknown.png",""
"971327765108359198","DEXter#9297","18/05/2022 12:27 pm","Anybody have access to the 'templates.ts' file? - this is for the uniswapV2 subgraph. https://github.com/Uniswap/v2-subgraph/blob/master/src/mappings/factory.ts","https://cdn.discordapp.com/attachments/765222888617017365/976377965183123456/unknown.png",""
"321600706769584128","vedantsopinions","18/05/2022 3:13 pm","Hello, I am using Uniswap V3 Subgraph on https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
How can I use Uniswap V3 Subgraph for 
- polygon
- optimism","",""
"327944954385006592","americasmayor","19/05/2022 12:31 am","does anybody know how the `derivedEth` property is calculated when it is returned from the graphql query for a token?

for example: 
{ 
  token(id: ""0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f"") 
  { 
    derivedETH
  }
}","",""
"162665984128319488","__zeitgeist","19/05/2022 4:37 am","For V3 subgraph queries, how do I find out the available liquidity for either token0 or token1? 

If I query for ""liquidity"" in the pool, I get a single big number, but I don't know which token that is expressed in, nor how much of each it represents. This is confusing. Is there more clarity on this that is easily digestible?
Specifically, I'm looking for the max amount of token1 I could theoretically purchase with token0 (at the queried price)","","👀 (1)"
"886998554890100786","SuperSizeMe#0887","19/05/2022 6:32 am","Liquidity = sqrt(x*y)

Where x and y are the amount of tokens in the decimal amounts.  So 1 eth will be 1 with 18 zeroes after it
I dont know much about the graph queries, but there are methods in the uniswap v3sdk that can help you determine how much you can trade without crossing a tick boundary","","👍🏿 (1),👍 (1)"
"822414467001483264","sanchitdawarsd","19/05/2022 1:28 pm","i am getting derivedeth 0 pls help someone","",""
"928609373943635978","mannycalavera3115","19/05/2022 8:02 pm","Thanks for your answer, I was going to ask the same. So, if I got it, liquidity provided in subgraph needs to be squared and then we have the product of x*y, expressed in (let's say) wei. Somehow we may be able to find the liquidity of a single token from the token price?","","👍🏿 (1)"
"928609373943635978","mannycalavera3115","19/05/2022 8:10 pm","for example:
given x*y = L^2
and P(x) = y/x
L(x) = L * 1/P(x)? 🤔 🧠","","👍🏿 (1)"
"886998554890100786","SuperSizeMe#0887","19/05/2022 9:33 pm","","https://cdn.discordapp.com/attachments/765222888617017365/976877724180312124/Screen_Shot_2022-05-19_at_12.03.06_PM.png","👍🏿 (1)"
"886998554890100786","SuperSizeMe#0887","19/05/2022 9:33 pm","From the whitepaper","",""
"886998554890100786","SuperSizeMe#0887","19/05/2022 9:33 pm","So yes, you're exactly right","","💯 (1)"
"162665984128319488","__zeitgeist","20/05/2022 12:59 am","Yes! thank you.","",""
"398701211072856084","pengman24","20/05/2022 8:42 pm","Is there a uniswap subgraph for polygon?","",""
"938134205773279282","Greasy Chipmunk#7682","20/05/2022 10:48 pm","Hi guys.  I think the hostedservice subgraph is currently not updating.  
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","https://cdn.discordapp.com/attachments/765222888617017365/977259029510369290/unknown.png",""
"938134205773279282","Greasy Chipmunk#7682","20/05/2022 10:49 pm","```> date -d @1653057678
Fri May 20 14:41:18 UTC 2022```
The time now is `Fri May 20 17:19:29 UTC 2022`","",""
"938134205773279282","Greasy Chipmunk#7682","20/05/2022 10:50 pm","Noticed the same problem in UniswapV2's hostedservice subgraph.","",""
"940978554953429012","data4rtist","20/05/2022 10:56 pm","Gm 🙂
If I would like to track historically the ROI of LPing in a given pool. Could I do that via the subgraph?","",""
"650090640612392960","gift#4544","21/05/2022 4:58 pm","I have the same issue. Uniswap source code (https://github.com/Uniswap/v3-info/blob/master/src/apollo/client.ts) contains a link to https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon","",""
"126820406739861505","alphaKΞY#5546","22/05/2022 7:19 pm","Hey Uniswap team,

Working on a Subgraph that will aggregate price data across multiple factory contracts.

Goal is to make the data as real-time as possible.

Take a peepo:
https://github.com/poolsharks-protocol/cross-dex-subgraph
https://thegraph.com/hosted-service/subgraph/alphak3y/multi-dex-price-oracle?selected=playground

Currently focused on uniting price data across Uniswap V2 and V3. Cheers!","",""
"401842633464610837","_kfx","23/05/2022 3:36 pm","is there a new subgraph for Optimism? I used to use this, but it's not working anymore: https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-optimism-dev","",""
"269170526633721856","bstn_","23/05/2022 10:02 pm","Hello, is it normal that some pairs / tokens don't appear on info.uniswap.org? I monitor the new pairs that come out and when I do a query on a new pair I get 'null'
The problem appeared very recently and only on some new pairs","https://cdn.discordapp.com/attachments/765222888617017365/978334660163666031/unknown.png",""
"928069437989457952","WoellaM#1359","24/05/2022 1:27 am","I try to obtain data on the historical swaps by forlooping over:                                         {
    swaps(orderBy: timestamp, orderDirection: desc, first: 1000, skip: ''' + str(i*1000) + ''', where:
     { pool: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}
    ) {
      pool {
        token0 {
          id
          symbol
        }
        token1 {
          id
          symbol
        }
      }
        transaction{
        gasUsed
        gasPrice
      }
      sqrtPriceX96
      amount0
      amount1
      timestamp
      tick
     }
    }
However, there is a limit of 6000 of the skip variable. So I can’t go back in time more than 6000 transactions. How can I get back more than 6000 transactions? So to clarify, I would like to get transaction data of each transaction done in lets say the last 6 months.","",""
"928069437989457952","WoellaM#1359","24/05/2022 5:29 am","Figured it out.","",""
"336069965943799808","bakri_","24/05/2022 7:55 pm","v3 subgraph is giving wrong data for this query:
```{
  pool(id:""0x7a5ae802895d5f90b6edbafc870fd348fba2a3d2""){
    token0{
      name
    }
    token1{
      name
    }
    totalValueLockedToken0
    totalValueLockedToken1
    totalValueLockedETH
  }
}
```","","👀 (1)"
"336069965943799808","bakri_","24/05/2022 7:56 pm","if you check this pool on etherscan it doesnt have any liquidity, but in graph it showing wrong liquidity","",""
"336069965943799808","bakri_","24/05/2022 7:56 pm","anyone know why?","",""
"336069965943799808","bakri_","24/05/2022 8:00 pm","also this one on univ2
```{
  pair(id: ""0x7d7e813082ef6c143277c71786e5be626ec77b20""){
    token0{
      name
    }
    token1{
      name
    }
    reserve0
    reserve1
    trackedReserveETH
  }
}
```","",""
"336069965943799808","bakri_","24/05/2022 8:01 pm","@Crypto_Rachel","",""
"471357824299958273","crypto_rachel","25/05/2022 11:05 am","There is a known bug in which the liquidity gets lost in it's tracking","",""
"665918912650674178","ivanshh#8001","27/05/2022 10:37 pm","Guys, I want to play with the uniswap v2 subgraph, there are 2 subgraphs one is referenced from the docs and the other one is referenced from the github page of the subgraph. So which one should I use and what is the difference?
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswapv2","",""
"779428144004202509","wondershaggy#7212","28/05/2022 6:38 pm","hi, is there a way to calculate tvlUSD from all the positions of the pool? Any help is appreciated :). So far my results don't add up🤷‍♂️","",""
"928069437989457952","WoellaM#1359","29/05/2022 10:32 am","Could someone explain what the differences are between  “origin”/“recipient”/“sender” in the swap request?","",""
"599176399542157313","100patates","29/05/2022 9:39 pm","Hello, surprised that there is no information about how to get OHLC data from the subgraph. Is there something obvious here we are missing ? I have the same issue on my side, i can get the mid price thanks to `pairHourDatas` but i can not figure out how to get OHLC data !","",""
"928069437989457952","WoellaM#1359","30/05/2022 10:47 am","Hi 🦄’s , When trying to request subgraph data I run into the following error randomly:

“Failed to get entities from store: canceling statement due to conflict with recovery”
Does anyone know hot to solve this issue? Or does subgraph have a limit on the amount of data requests you can do for a given time? Thank you 🙏🏼","",""
"545246679402676234","nategeier | Mintbase#6741","30/05/2022 3:00 pm","Anyone know if uniswap is running their own indexer or are they only using TheGraph?","",""
"841687079414923315","nitin09","30/05/2022 6:20 pm","Hello All,

Could you please help me (or get me some idea) how to get my liquidity (highlighted in yellow color)?
I tried using GraphQL (position) but it doesn't have such information.

It would be a great help. plz 🙂 

Thank you","https://cdn.discordapp.com/attachments/765222888617017365/980815531596734515/unknown.png,https://cdn.discordapp.com/attachments/765222888617017365/980815531835797524/unknown.png",""
"841687079414923315","nitin09","31/05/2022 2:12 pm","please help me.","",""
"594236535507779615","defidubio","31/05/2022 2:45 pm","You need to run it through a formula, which you can find in the  uniswap v3 docs","",""
"401842633464610837","_kfx","31/05/2022 4:25 pm","@nitin09 you also need to know the current price, plus the info about the position, then apply the right formula depending whether the current price is in the range","",""
"841687079414923315","nitin09","01/06/2022 6:10 am","@DeFiDubio @kfx Thank you for suggestion, it works!","","👍 (1)"
"506803734366388225","doc_product","01/06/2022 10:02 am","Hi. I need to get the historical price of WETH in one of the WETH/USDC pools on mainnet, given the pool address and a timestamp or block number. Should I be using `TickHourData`? I can't figure out how to query it, using https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3.","",""
"506803734366388225","doc_product","01/06/2022 10:16 am","Actually I tried this:

```
{
  poolHourDatas(where:{ pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""}) {
    id
    open
    close
    high
    low
  }
}
```

and got this error:

```
{
  ""errors"": [
    {
      ""message"": ""Failed to get entities from store: canceling statement due to conflict with recovery, query = /* qid: b5f3b202864060e4-34cdd29fe4b147a7 */\nselect 'PoolHourData' as entity, to_jsonb(c.*) as data from (select  * \n  from \""sgd217942\"".\""pool_hour_data\"" c\n where c.block_range @> $1 and (\""pool\"" = $2)\n\n order by \""id\"", block_range\n limit 100) c -- binds: [14882895, \""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8\""]""
    }
  ]
}
```","",""
"843155325619535912","Etherscan Bot#5753","01/06/2022 10:16 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"843155325619535912","Etherscan Bot#5753","01/06/2022 10:16 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"194038399139708930",".brunosilva","01/06/2022 2:52 pm","Hello guys, I was wondering If there is any way to get the feeGrowthGlobal of a pool in arbitrum, the API I have always returns 0","",""
"981380306382782545","kissdish#9506","01/06/2022 3:19 pm","hello. i use _get_token_eth_output_price get some token's last price per second, and some times later ,i  got the requests.exceptions.HTTPError: 429 Client Error: Too Many Requests for url: https://mainnet.infura.io/v3/1340221f326e40378ee3637b4930b4b9 error, where can i find the article about the frequency limit . thanks","",""
"506803734366388225","doc_product","02/06/2022 9:11 am","I'm no longer getting this error and can finally see some prices. Next q: is 'hourly' the best I can do in terms of granularity? What if I want the price at a given block timestamp?","",""
"506803734366388225","doc_product","02/06/2022 9:15 am","In case it matters, I'm now using this as a query:

```
{
  poolHourDatas(where:{
    pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""
    periodStartUnix_gt: 1620170000
    periodStartUnix_lt: 1620190000
  }) {
    id
    open
    close
    high
    low
    periodStartUnix
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","02/06/2022 9:15 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"228684973010452480","anmol345#5623","02/06/2022 10:43 am","trying to query pairDayDatas (from v2) and order by dailyVolumeUSD, but that query yield ""Failed to get entities from store"" - the query is 
```
{
  pairDayDatas(first: 100, orderBy:dailyVolumeUSD, orderDirection:desc) {
    pairAddress
    token0{
      name
      id
    }
    token1{
      name
      id
    }
    reserve0
    reserve1
    dailyVolumeUSD
  }
}
```
Looks like dailyVolumeUSD is always 0??","",""
"981380306382782545","kissdish#9506","02/06/2022 6:03 pm","_get_token_eth_output_price encounter HttpError 429 too many request for url .who knows how to deal with it","",""
"368780706610020352",".turingmachine","02/06/2022 7:35 pm","Hey, is this query returning prices?","",""
"368780706610020352",".turingmachine","02/06/2022 8:07 pm","I still get the same error. Did you figure this out?","",""
"353997263368093706","illus.eth","03/06/2022 1:56 am","Can you share any links that helped you solve this. I want to do the same thing. Also want to calculate unclaimed fees as well.","",""
"506803734366388225","doc_product","03/06/2022 5:05 am","Yeah it was at the time I posted that.","",""
"506803734366388225","doc_product","03/06/2022 5:05 am","Seems like the Graph hosted service is super flaky. The error I posted above was transient.","",""
"401842633464610837","_kfx","03/06/2022 2:36 pm","@illus.eth here you go - https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/master/subgraph-liquidity-single-position-example.py#L107

I've been meaning to add this example for a while, just did it now. Lines 108-117 show how to compute the amounts, but you can run the whole example to query and display position info.","",""
"353997263368093706","illus.eth","03/06/2022 10:59 pm","Thank you!","",""
"980094829939798086","Bapi#1012","05/06/2022 9:17 am","Thanks 🙂","",""
"636599686127550495","LinkMarine1k#9283","05/06/2022 5:08 pm","uniswap uses what kind of data from subgraph?  Is it essential to use The Graph network?","",""
"636599686127550495","LinkMarine1k#9283","05/06/2022 5:09 pm","how important is the network for dapps ?","",""
"580257948480307216","sneg#9493","06/06/2022 3:20 pm","Hello.
Can someone explain why the tokens of this pool have such prices?","https://cdn.discordapp.com/attachments/765222888617017365/983306940937543700/Uniswap_V3_Subgraph_Subgraph_2022-06-06_12-48-31.png",""
"401842633464610837","_kfx","06/06/2022 3:43 pm","is this on a testnet?","",""
"580257948480307216","sneg#9493","06/06/2022 4:10 pm","no, it is mainnet","",""
"401842633464610837","_kfx","06/06/2022 4:17 pm","one of the assets in the pool is basically completely used up. the price shown basically corresponds to price is 1.0001 ^ MAX_TICK. Could happen when there is very little liquidity in the pool and someone does a trade with a very large slippage. or it's just initialized this way, with this min/max possible price","","👍 (2)"
"596874296652201995","pi.kg","06/06/2022 8:20 pm","In the V2 subgraph github repo i see the PairHourData entity includes the totalSupply field, but the deployed subgraph does not include this entity. Does anyone know why this is the case? 
Link to V2 schema: https://github.com/Uniswap/v2-subgraph/blob/master/schema.graphql","",""
"580257948480307216","sneg#9493","06/06/2022 10:41 pm","Thank you.","",""
"934714894194995241","qinghao#4821","07/06/2022 1:38 am","what is the main difference of uniswap v3 and v2. does the v3 is kinda upgrade of v2. or just v2 siblings branch?","",""
"720786336528728105","kobe#9483","07/06/2022 2:52 am","Hey guys where can I find the startBlock for Uniswap V2? Is the true source from here https://github.com/Uniswap/v2-subgraph/blob/master/subgraph.yaml?","",""
"720786336528728105","kobe#9483","07/06/2022 2:53 am","Does anyone know why the 10000834 value was chosen as startBlock?","",""
"720786336528728105","kobe#9483","07/06/2022 3:24 am","If trying to deploy a uniswap fork, I'm curious how startBlock is chosen as well","",""
"594236535507779615","defidubio","07/06/2022 12:24 pm","Uni v2 positions are supplied on the whole price range of the tokens, which is ineffecient. Uni v3 is better because you provide your tokens only within a certain price range, so you don't have tokens avaiable to trade at extreme ends of the price range where they will never be used. However that makes it a lot more sophisticated, because smaller price changes have your tokens trading a lot more.","",""
"331489823648907276","yikki007","10/06/2022 4:41 pm","Anyway to check how many queries Uniswap doing daily on hosted graph?","",""
"594236535507779615","defidubio","10/06/2022 8:14 pm","So is this variable frequently fubar`feeGrowthInside1LastX128`?

I'm trying to figure out uncollected fees, and it normally works. However occasionally that number is impossibly large. In the Uniswap github they mention it overflowing is not a problem, because it's relative. However the API doesn't let you grab the other variable that you would compare or subtract it from (`feeGrowthInside1X128`).

Anyone know of a solution or have more information?

Thanks","",""
"594236535507779615","defidubio","12/06/2022 10:28 pm","You ever figure this out?","",""
"594236535507779615","defidubio","12/06/2022 10:41 pm","when I search through ticks the subgraph spits out a tiny subset of all the ticks, though it seems weighted towards ones that affect liquidity","",""
"924946577083232286","the_pr1ince00#8417","13/06/2022 2:24 am","Hi everyone,  I' m tring to deploy th euniswap v3 subgraph to a local graph node that is connected to a local ethereum node on the goerli network. but i get this error: Token#get:decimals with message: ""Value is not a BigInt"".
I opened an issue on uniswap v3 github, this is the link: https://github.com/Uniswap/v3-subgraph/issues/118                                                                   Can you help me please?","",""
"139358944739983361","bejvg","13/06/2022 3:27 pm","No I didn't, sorry. but if you figure it out please let me know!","",""
"594236535507779615","defidubio","13/06/2022 6:37 pm","I haven't seen anyone present a solution with the graph api. Someone found a contract they could call though that would give them the information. TickLens or something like that.","",""
"734761282682748978","vjk_","13/06/2022 6:54 pm","I want to pick up the question from dev-chat: 

Where can I find APIs to query data of WETH/DAI Prices on Uniswap and Sushiswap? For the mainnet, there is thegraph.com where one can query price data with pre-defined GraphQL queries, but I can't find anything similar for Kovan. Is there such a possibility?","",""
"139358944739983361","bejvg","13/06/2022 7:19 pm","Thanks mate!","",""
"401842633464610837","_kfx","14/06/2022 7:36 pm","I think you will get selection of ticks that have once been initialized (that is, used as an endpoint of some position)","",""
"401842633464610837","_kfx","14/06/2022 7:37 pm","you can filter out the results by attributes, like having non-zero `liquidityNet`","",""
"401842633464610837","_kfx","14/06/2022 7:37 pm","you can use on-chain data","",""
"401842633464610837","_kfx","14/06/2022 7:38 pm","this? https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-ropsten","",""
"401842633464610837","_kfx","14/06/2022 7:39 pm","oh sorry, it's for Ropsten. not sure if any for kovan. you can use on-chain data though","",""
"401842633464610837","_kfx","14/06/2022 7:41 pm","calling the `slot0()` method of the pool's contract will give you tick and sqrtPriceX96","",""
"139358944739983361","bejvg","14/06/2022 7:56 pm","Yeah that's what I thought at first too but when querying the ticks for 0xcbcdf9626bc03e24f779434178a73a0b4bad62ed (WBTC/WETH), which is currently in tick 259426, it doesn't even return the current tick","",""
"843155325619535912","Etherscan Bot#5753","14/06/2022 7:56 pm","<https://etherscan.io/address/0xcbcdf9626bc03e24f779434178a73a0b4bad62ed>","",""
"139358944739983361","bejvg","14/06/2022 7:57 pm","the closest it gets is 240780 so not very helpful unfortunately","",""
"139358944739983361","bejvg","14/06/2022 7:58 pm","ok actually when filtering for non-zero net liquidity i get to 250500, so maybe there is a max amount of ticks it will return?","",""
"401842633464610837","_kfx","14/06/2022 8:08 pm","yes, I think 100 or 1000 as max amount","",""
"401842633464610837","_kfx","14/06/2022 8:08 pm","259426 will never be returned, as it cannot be start or end of a position","",""
"401842633464610837","_kfx","14/06/2022 8:08 pm","only ticks divisible with 60 can be, in the 0.3% pool","",""
"499114472594604044","hatter_hats_finance","14/06/2022 8:52 pm","I am trying to use your subgraph at 
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
using this query 
```
{
token(id:""0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"") {
  id
  name
  tokenDayData(skip:1,first:1) {
   priceUSD
  }
}
}
```
it seems that it returns x10 the usd price 
opened an issue on your repo
https://github.com/Uniswap/v3-subgraph/issues/119","",""
"843155325619535912","Etherscan Bot#5753","14/06/2022 8:52 pm","<https://etherscan.io/address/0x1f9840a85d5af5bf1d1762f925bdaddc4201f984>","",""
"704528189086629958","keithers98","15/06/2022 5:34 am","Does anyone know if there is a subgraph for uniswap v2 on rinkeby? Can't seem to find one . .","",""
"924946577083232286","the_pr1ince00#8417","15/06/2022 10:30 pm","you can get the official uniswap v2 subgraph and then in the subgraph.yaml change the network and the start block, and It should work","",""
"584026243759079424","korkey128k","16/06/2022 8:59 pm","Hi. I'm trying to determine the math for calculating the price range of a v3 liquidity position.","",""
"584026243759079424","korkey128k","16/06/2022 9:00 pm","I know it involves ""ticks"", ""tickLower"" and ""tickUpper"" data. I have an example query I can provide as well if it'd be useful.","",""
"866856292738662440","paulsengh","17/06/2022 1:55 am","","https://cdn.discordapp.com/attachments/765222888617017365/987090560856760330/unknown.png",""
"866856292738662440","paulsengh","17/06/2022 1:55 am","Anyone know how to generate each bar in this graph (volume of each day for last year)?","",""
"312138018687418368","thegabrielshow","17/06/2022 7:53 am","```{
pools (where: {id: ""0x4e68Ccd3E89f51C3074ca5072bbAC773960dFa36""}) {
id
token0 {
name
id
}
token1 {
name
id
}
feeTier
totalValueLockedToken0
totalValueLockedToken1
ticks {
liquidityGross
liquidityNet
price0
price1
}
}
}```","",""
"843155325619535912","Etherscan Bot#5753","17/06/2022 7:53 am","<https://etherscan.io/address/0x4e68Ccd3E89f51C3074ca5072bbAC773960dFa36>","",""
"312138018687418368","thegabrielshow","17/06/2022 7:53 am","Anyone know why this query returns nothing for this specific address?","",""
"471357824299958273","crypto_rachel","17/06/2022 7:57 am","the Graph needs lower case address iirc","",""
"312138018687418368","thegabrielshow","17/06/2022 7:58 am","that worked, thank you!","",""
"471357824299958273","crypto_rachel","17/06/2022 7:59 am","gladly","",""
"928069437989457952","WoellaM#1359","17/06/2022 10:20 pm","Anyone knows how I could obtain the amount of token 0 and token 1 locked in a specific liquidity range for a given pool in Uniswap V3 at a specific time?","",""
"584026243759079424","korkey128k","18/06/2022 12:36 am","BUMP
> Hi. I'm trying to determine the math for calculating the price range of a v3 liquidity position.
> I know it involves ""ticks"", ""tickLower"" and ""tickUpper"" data. I have an example query I can provide as well if it'd be useful.","",""
"456226577798135808","Deleted User","18/06/2022 3:21 am","Help","",""
"698282155008065596","vnet#2009","18/06/2022 6:16 pm","Hi, 
anyone knows how to get positionsnapshots for all positions per owner up to a blocknumber?

I'm trying this, but it doesn't bring all positions, it seems to have some limitation and from around 40 IDs brings back only half.

{positionSnapshots(where:{owner:""ADDRESS""},block: {number: BLOCKnum}) {
  id
}
}","",""
"750089738978852894","0xdmtri","19/06/2022 11:08 pm","any chance i can run it in Golang? Bc of TS types it gives me an error ""Undefined type BigDecimal""","",""
"636162194844680202","cookiejunkie","22/06/2022 3:44 am","sure, its just api. You can run it on everything that can send http requests","",""
"928069437989457952","WoellaM#1359","22/06/2022 10:43 pm","Can you use uniswap V3 api to get pool data from uniswap V2 if you just replace the pool contract to a uniswap V2 pair contract?","",""
"440507007167102978","h8h","23/06/2022 3:02 pm","@Ian (dev) 🦄 [No DMs] : do you know why?","",""
"947797975227314208","mhamzza#3892","23/06/2022 4:17 pm","Hi guys,i'm new to subgraph, 
 how can i make graph for incentives on rinkeyby?","",""
"357119353566658562","syko6019","23/06/2022 7:48 pm","Hi, where can I find the tutorial to Uniswap V3 subgraph APIs?","",""
"731927504373153814","archtaqi","24/06/2022 12:49 am","gm, I'v deployed V2 Contracts following this guide https://medium.com/@maxime.atton/fork-uniswap-v2-smart-contracts-ui-on-remix-e885d6cea176, now i want to deploy subgraph for this, I could not find any reference guide for it, found the repo Uniswap/v2-subgraph, but not sure what info i have to change in that, can someone share some reference to achieve this?","",""
"947797975227314208","mhamzza#3892","24/06/2022 4:05 pm","Hi Champs! 
To get incentive details of staker pool i want to deploy a subgraph , do anyone have any example or guide ho can i deploy incentive detail subgraph?","https://cdn.discordapp.com/attachments/765222888617017365/989841135180607488/unknown.png",""
"935092270414327848","Yakitori#4282","24/06/2022 4:39 pm","Hey guys, where can I query Uniswap polygon data? Is it available through the graph? Thanks","",""
"405102234637172747","_book_","25/06/2022 11:11 am","Hi, I have a question regarding subgraphs, specifically the swaps function.

If i take a random tx like:
https://etherscan.io/tx/0x594a2889d173f99d4e49ae011026010f3630191292d6688fb07fa0622213880e

The actual swap goes : USDT -- > ETH then ETH --> LOOKS

However, on the subgraph only one part of the transaction shows up: the eth --> looks portion

Is there a way to see the actual transactions that happened? 

here's how this trade shows up on the subgraph:","",""
"405102234637172747","_book_","25/06/2022 11:11 am","","https://cdn.discordapp.com/attachments/765222888617017365/990129617752981514/unknown.png",""
"405102234637172747","_book_","25/06/2022 11:13 am","I notice the tx id is:
`""0x594a2889d173f99d4e49ae011026010f3630191292d6688fb07fa0622213880e-1""`

the -1 at the end seems to imply that there should be a -0 for the first part of the transaction but i've tried this with dozens of addresses and looked for these types of swaps where a user had to go through multiple pools and each time the transaction data only seems to hold one part of the transaction and the other part is ignored","",""
"843155325619535912","Etherscan Bot#5753","25/06/2022 11:13 am","<https://etherscan.io/tx/0x594a2889d173f99d4e49ae011026010f3630191292d6688fb07fa0622213880e>","",""
"405102234637172747","_book_","25/06/2022 11:16 am","I'm basically trying to aggregate transaction level data for a 100+ addresses but there is no economic meaning to these transactions if they are missing parts of each transaction

Any guidance or help would be much appreciated! 
🙇🏻‍♂️  🙏🏻","",""
"843155325619535912","Etherscan Bot#5753","25/06/2022 11:21 am","<https://etherscan.io/address/0x1da29fc25b8995c3d1725b7630ff60a3d0e47b37>","",""
"731927504373153814","archtaqi","26/06/2022 6:20 pm","Hy folks, which branch of v2-subgraph should be used to deploy to rinkeby?","",""
"240897233908662272","memphis#1878","28/06/2022 5:49 am","what is the endpoint for polygon and other chains","",""
"240897233908662272","memphis#1878","28/06/2022 5:49 am","or its only ethereum","",""
"947797975227314208","mhamzza#3892","29/06/2022 5:10 pm","i have deployed this graph to read incentives and position but getting this error
can someone please help me?
here is source
https://github.com/hamzamughal74/staker-rinkeby","https://cdn.discordapp.com/attachments/765222888617017365/991669523533021284/unknown.png",""
"396130406891651075","killergoose75","30/06/2022 8:43 am","Using the subgraph I can access `pools` and its attributes like `totalValueLockedETH` on eth mainnet, but how can I query the same information for Uniswap V3 on the Polygon(matic) mainnet? I tried a couple of the community subgraphs but they dont have `pools`

The query I want to make on Polygon that works on ETH is:
```
{
  pools(orderBy: totalValueLockedETH, orderDirection: desc, first: 500) {
    id
    totalValueLockedETH
    token0Price
    token1Price
    feeTier
    token0 {id symbol name decimals}
    token1 {id symbol name decimals}
  }
}
```
I think I can do this:
```
{
  liquidityPools(orderBy: totalValueLockedUSD, orderDirection: desc, first: 500) {
    id
    totalValueLockedUSD
    inputTokens{id symbol name decimals}
    outputToken{id symbol name decimals}
    fees{feePercentage}
  }
}
```
But, maybe a dumb question, why are there multiple input tokens? I thought the liquidity pools were the same as like a pair address, is that not the case?","",""
"194038399139708930",".brunosilva","30/06/2022 3:01 pm","This graph has an indexing error","",""
"401842633464610837","_kfx","30/06/2022 10:58 pm","not sure what you mean, uniswap v3 has polygon subgraph, the URL for API queries is https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon","",""
"405102234637172747","_book_","01/07/2022 7:45 am","Question regarding the subgraph results for uniswap v3 trades:

when it spits out the result it gives the txid with an extra ending that is like 0x000000000000000#1234

there's a # followed by a few numbers

what does the # and numbers following that mean?","",""
"405102234637172747","_book_","01/07/2022 7:45 am","","https://cdn.discordapp.com/attachments/765222888617017365/992252159011848263/unknown.png",""
"405102234637172747","_book_","01/07/2022 7:46 am","Of course, when you look on etherscan for the same query  you just see the regular transaction hash without any # in it:","",""
"405102234637172747","_book_","01/07/2022 7:46 am","","https://cdn.discordapp.com/attachments/765222888617017365/992252335071957102/unknown.png",""
"405102234637172747","_book_","01/07/2022 7:46 am","just curious what the #5230 in the first image means...","",""
"405102234637172747","_book_","01/07/2022 7:47 am","I'm going through some data for 100,000 transactions and would love to understand the data better, especially in multi-pool-hop transactions","",""
"401842633464610837","_kfx","01/07/2022 3:56 pm","I think its the transaction's number in that pool","",""
"928069437989457952","WoellaM#1359","01/07/2022 8:56 pm","Hi everyone, what does it mean to get amount 1 equal to 0 in UniswapV3 when looking at mint data? Does it mean you could provide liquidity on one side?       {
        ""transaction"": {
          ""blockNumber"": ""15056966""
        },
        ""origin"": ""0x4dc99eb43c986c9abd966c5c6a11f68d0c86469a"",
        ""timestamp"": ""1656683537"",
        ""tickLower"": ""206620"",
        ""tickUpper"": ""206720"",
        ""amount"": ""5393607564353787912"",
        ""amount0"": ""877547.094255"",
        ""amount1"": ""0""
      },","",""
"843155325619535912","Etherscan Bot#5753","01/07/2022 8:56 pm","<https://etherscan.io/address/0x4dc99eb43c986c9abd966c5c6a11f68d0c86469a>","",""
"928069437989457952","WoellaM#1359","01/07/2022 8:56 pm","And more importantly maybe, what does it mean to have amount0 and amount 1 equal to 0 looking at burns??

    ""burns"": [
      {
        ""transaction"": {
          ""blockNumber"": ""15057050""
        },
        ""origin"": ""0xfcfd4f6dda50e2dd3f7f54da8d0ca046c6d770a3"",
        ""timestamp"": ""1656684702"",
        ""tickLower"": ""204460"",
        ""tickUpper"": ""209460"",
        ""amount"": ""0"",
        ""amount0"": ""0"",
        ""amount1"": ""0""
      },","",""
"843155325619535912","Etherscan Bot#5753","01/07/2022 8:56 pm","<https://etherscan.io/address/0xfcfd4f6dda50e2dd3f7f54da8d0ca046c6d770a3>","",""
"405102234637172747","_book_","02/07/2022 8:57 am","interesting that v3 has that after the hash but v2 doesn't","",""
"401842633464610837","_kfx","02/07/2022 3:11 pm","yes https://docs.uniswap.org/protocol/concepts/V3-overview/range-orders","","🙏🏼 (1)"
"401842633464610837","_kfx","02/07/2022 3:12 pm","burns with zero amount probably mean that just the accumulated fees were collected","",""
"940172549113921557","alienstar#7501","02/07/2022 3:57 pm","Hello team!
Could anyone please let me know about amount0In, amount0Out, amount1In, amount1Out meaning in Uniswap v2?
I am not sure which value should I use to determine the swap transaction values.
Thank you","",""
"928069437989457952","WoellaM#1359","02/07/2022 5:26 pm","But there is a different command for collecting fees right? What makes you think that burns with amounts equal to 0 corresponds with collecting fees? You would also want to see what the amount of fees collected is in that case right?","",""
"401842633464610837","_kfx","02/07/2022 5:35 pm","I'm not 100% sure but my understanding is that you're looking at the burn events and both `collect` and `decreaseLiquidity` are going to call `pool.burn` which emits this event","",""
"928069437989457952","WoellaM#1359","02/07/2022 6:34 pm","Allright, makes sense! Thank you very much for your explanation. 😁","",""
"928069437989457952","WoellaM#1359","02/07/2022 6:34 pm","Would still be nice if someone else could confirm this ofcourse!🙏🏼","",""
"367062231273439233","str900","03/07/2022 9:39 pm","Hi all, is the best channel to ask TheGraph related questions for Uniswap?","",""
"928069437989457952","WoellaM#1359","04/07/2022 2:45 am","Yess","","👍 (1)"
"367062231273439233","str900","04/07/2022 2:07 pm","I'm looking into swaps on Uniswap V2 and V3. I've got a transaction that I found through a query using https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 and pool https://etherscan.io/address/0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D which transfers tokens using Uniswap V2 but uses Uniswap V3 Router. Here's the transaction https://etherscan.io/tx/0x6c0a9d36434bd6abe2277a275a8ae5d21ef143e4d7d4ea407dea4224220183bf.

Anyone able to shed some light on what's going on here?","",""
"940172549113921557","alienstar#7501","04/07/2022 2:35 pm","Hi Guys. I am a bit confused aboud https://etherscan.io/tx/0x25265682e33f251802c54f7c4359a0fbd53544a86a3d2864dafa5acdfb0650a3 transaction.
This was a dex swap on Uniswap v2 but it used v3 router2. How can this happen?","",""
"877060604110712833","aswingnanaprakash#9186","04/07/2022 5:08 pm","Guys How can I get that +0.62% values...??? from total liquidity ???","https://cdn.discordapp.com/attachments/765222888617017365/993480809191325696/image_2022_06_28T15_05_01_924Z.png",""
"877060604110712833","aswingnanaprakash#9186","04/07/2022 6:02 pm","There is any limitation for hitting api.thegraph.com?","",""
"928069437989457952","WoellaM#1359","04/07/2022 9:32 pm","Is it possible to obtain the spotprice at the exact moment a liquidity provider has provided liquidity to a pool?","",""
"367062231273439233","str900","05/07/2022 12:58 am","Also have the same question e.g. https://etherscan.io/tx/0x6c0a9d36434bd6abe2277a275a8ae5d21ef143e4d7d4ea407dea4224220183bf","",""
"877060604110712833","aswingnanaprakash#9186","05/07/2022 10:50 am","@here Anyone ? Please have a look...","",""
"427150127006875658","albygiaco","05/07/2022 2:04 pm","i think i'm not the first one asking that, but can you help me with an api for retrieve liquidity all over the range ? i want to have all the ticks and all the liquidity in a certain tick","",""
"427150127006875658","albygiaco","05/07/2022 2:04 pm","Needed cause i want to draw a chart","",""
"367062231273439233","str900","05/07/2022 3:04 pm","Check DM please","",""
"940172549113921557","alienstar#7501","05/07/2022 3:56 pm","Could anyone let me know about the Uniswap v2 subgraph api `swaps` endpoint `sender` and `to` fields ?
What I thought they are `from_address` and `to_address` of the transaction but they are not.","",""
"913839896693702717","klay1011.dev#3281","05/07/2022 4:05 pm","What token are you trying to swap?","",""
"940172549113921557","alienstar#7501","05/07/2022 4:16 pm","I am just analyzing uniswap v2 transactions","",""
"938134205773279282","Greasy Chipmunk#7682","06/07/2022 12:38 am","Did you ever get an answer?  I have the same question.  How do I compute what actually went in and out of the pool, when amount0In > 0, amount0Out > 0, amount1In > 0 and amount1Out = 0?  There are a lot of examples.  Here is just one:  https://etherscan.io/tx/0x8a82e7bfef968964f3208d80d43bf472befe24fcabf719ac370a0735b8e15b7f#eventlog","",""
"877060604110712833","aswingnanaprakash#9186","07/07/2022 4:12 pm","Guys How can I get that +0.62% values...??? from total liquidity ??? Anyone please respond !!!","https://cdn.discordapp.com/attachments/765222888617017365/994554050014089236/image_2022_06_28T15_05_01_924Z.png",""
"993815062361935872","GRA#0830","08/07/2022 4:23 am","Dm me","",""
"631169960768700448","Adsy#8894","08/07/2022 9:57 pm","Is there an Arbitrum subgraph with the same schema as mainnet?","",""
"631169960768700448","Adsy#8894","08/07/2022 9:58 pm","Looking for the positions entity for Arbitrum Uniswap.","",""
"953208129980608552","0xbe1","09/07/2022 6:51 am","hi @Ian (dev) 🦄 [No DMs] saw your tweet. yes subgraph is very hard to debug. i have a lot of experience debugging subgraph since i work on subgraphs with messari. feel free to let me know if there is anything i can help 🙂","",""
"760279702019244090",".sirgarfield","11/07/2022 5:38 pm","Can someone explain why this token has non-zero volume but nothing in the `mostLiquidPairs` attribute ?","https://cdn.discordapp.com/attachments/765222888617017365/996025069157482547/Screen_Shot_2022-07-11_at_7.07.26_PM.png",""
"366830024881340436","neokun97","12/07/2022 10:18 am","Hello @Ian (dev) 🦄 [No DMs] I am having issue with the optimism subgraph https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis
I need to query and cache all the ticks (tickIdx, liquidityNet) of the pools. Then later I will use this data to calAmountOut. But the data of some pools are wrong/miss data so the totalSum of liquidityNet is non-zero. (e.g pool: `0x03af20bdaaffb4cc0a521796a223f7d85e2aac31`)
When I check the code, I find out you add some pools manually as well as the `graft base` ID is a non-deployed version.
```
graft:
  base: Qmf9i13TJknQwcamcLbb75hEhbf3nqDi321XWhtFBj3P5s
  block: 10028767
```
Do you have any ideal to solve this problem? Can I ask for a snap shot of a subgraph version that have correct data? Or do you have any methods that I can get the ticks data so I can simulate the pool's price calculation?","",""
"471357824299958273","crypto_rachel","12/07/2022 10:21 am","Please Don't Randomly ping Devs","","ty (2)"
"947797975227314208","mhamzza#3892","14/07/2022 3:43 pm","hi
how can i get liquidity size of tokens of a position in pool e.g  i want to get total token0 and token1 of a position?
i'm using subgraph to store positions with id and owner","","🤷‍♀️ (1)"
"928069437989457952","WoellaM#1359","15/07/2022 4:59 am","Hi everyone, is there a way to track the fee income of a specific liquidity provider? I know you can obtain the total collected fees of a specific liquidity position, but that might not be a good representation of the actual fee income, since the LP might not have collected its fees yet or only partly for example. Or am I misunderstanding the term “collected fees”? Help would be much appreciated! 🌝","",""
"447487680511606785","reuptake","15/07/2022 1:59 pm","actually I see collected fees field set at 0 for my liquidity positions even if I collected fees.","",""
"447487680511606785","reuptake","15/07/2022 9:37 pm","Is there a way to link transaction to position?","","❔ (1)"
"471357824299958273","crypto_rachel","16/07/2022 12:10 pm","you would have to go through the addresses and search for a position held by the address. What are you trying to do?","",""
"447487680511606785","reuptake","16/07/2022 1:23 pm","Say I have burn transaction. How can I know which position it was? I can check the origin address, then find the positions with the same range, but there's (unlikely, but still) possibility that one address has 2 or more positions with the same range.","",""
"149735676278079488","austino256","16/07/2022 6:48 pm","You can use the NFT ID for positions that use the position manager. Burns from the NFT manager have an associated NFT ID with them.
Positions that don’t use the position manager cannot have more than 1 position with the same range.","",""
"447487680511606785","reuptake","16/07/2022 6:50 pm","OK, but to do this I have to parse logs, right? Because there's no information about position id on subgraph.","",""
"149735676278079488","austino256","16/07/2022 6:51 pm","If you are using the position subgraph, there is a field for the NFT ID.","",""
"447487680511606785","reuptake","16/07/2022 6:52 pm","Yes, but not in transaction (or burn) table","",""
"447487680511606785","reuptake","16/07/2022 6:52 pm","So if I have some transaction id I cannot figure out which position it was.","",""
"447487680511606785","reuptake","16/07/2022 6:53 pm","By transaction I mean mint/burn of course, not swap","",""
"447487680511606785","reuptake","16/07/2022 6:53 pm","There's only first mint transaction referenced in position data","",""
"149735676278079488","austino256","16/07/2022 6:54 pm","Unless you are trying to something complex, the position table has everything you need in it. 
If you really need the transactions, I would use Google bigquery and a bigquery abi parser to pull the decoded logs.","",""
"447487680511606785","reuptake","16/07/2022 6:55 pm","No, I don't need anything complex, quite the opposite. I'd like to read from subgraphs all mints/burns for given position id.","",""
"447487680511606785","reuptake","16/07/2022 6:58 pm","Position table references just first mint. I cannot find any subsequent add /remove liquidity or collect events.","",""
"149735676278079488","austino256","16/07/2022 6:58 pm","But why are you trying to get that info?","",""
"149735676278079488","austino256","16/07/2022 6:58 pm","If you need that, you’ll have to decode the logs.","",""
"447487680511606785","reuptake","16/07/2022 7:00 pm","Maybe I'm too curious, but I'd like to know how much my position earned?","",""
"149735676278079488","austino256","16/07/2022 7:19 pm","That’s fair! A reasonable thing to calculate. The Uniswap interface calculates that from the position table. There’s formulas in the white paper for calculating uncollected fee growth.","",""
"149735676278079488","austino256","16/07/2022 7:19 pm","And the subgraph position saves the collected fee growth for you as well.","",""
"401842633464610837","_kfx","16/07/2022 7:44 pm","I think the technical issue is that Mint and Burn events are emitted by the pool, not by the position manager, and does not include position ID because the pool isn't aware of the IDs.","",""
"401842633464610837","_kfx","16/07/2022 7:45 pm","perhaps look at the position snapshots table instead?","",""
"447487680511606785","reuptake","16/07/2022 8:36 pm","You mean `collectedFeesToken0`? It's always 0...","",""
"149735676278079488","austino256","16/07/2022 8:44 pm","Hmmm are you on Ethereum? I’ve seen it non-zero.","",""
"447487680511606785","reuptake","16/07/2022 8:50 pm","I checked couple of my positions, and it's 0","",""
"447487680511606785","reuptake","16/07/2022 8:53 pm","Generally it's very hard to read history of position with subgraph...","",""
"447487680511606785","reuptake","16/07/2022 8:53 pm","`collects` is empty from what I remember (one has to get collects from burn)","",""
"447487680511606785","reuptake","16/07/2022 8:55 pm","Id: `183710`, just took last burn from MKR/ETH pair, both `collectedFeesToken` zero.","",""
"928069437989457952","WoellaM#1359","16/07/2022 9:08 pm","What does the collectedFeesToken0 or collectedFeesToken1 actually include? It seems like this includes the fees + the amounts burned as well, is that correct? So not just the earned fees itself right?","",""
"447487680511606785","reuptake","16/07/2022 9:23 pm","I don't know since it's always 0","",""
"471357824299958273","crypto_rachel","16/07/2022 10:00 pm","Which graph are you using
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?version=current","https://cdn.discordapp.com/attachments/765222888617017365/997903053715931188/unknown.png",""
"447487680511606785","reuptake","16/07/2022 10:10 pm","https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"471357824299958273","crypto_rachel","16/07/2022 10:12 pm","the above is the new current one afaik","",""
"447487680511606785","reuptake","16/07/2022 10:12 pm","Thanks!","",""
"471357824299958273","crypto_rachel","16/07/2022 10:12 pm","yeah np glad to help where I can","",""
"447487680511606785","reuptake","16/07/2022 10:14 pm","Yeah, it works with this graph","",""
"471357824299958273","crypto_rachel","16/07/2022 10:14 pm","🥳","",""
"447487680511606785","reuptake","16/07/2022 10:15 pm","However I'm getting wrong data in one of my positions (both token0 and token1 return the same value, I haven't collected 9000 ETH in fees unfortunately...)","",""
"471357824299958273","crypto_rachel","16/07/2022 10:16 pm","🤔","",""
"471357824299958273","crypto_rachel","16/07/2022 10:16 pm","yeah, not a big fan of the Graph, tbh","",""
"447487680511606785","reuptake","16/07/2022 10:16 pm","All recent positions return same amount
`""collectedFeesToken0"": ""288.182917"",
  ""collectedFeesToken1"": ""288.182917"",`","",""
"447487680511606785","reuptake","16/07/2022 10:17 pm","oh, me neither to say the least!","",""
"471357824299958273","crypto_rachel","16/07/2022 10:20 pm","yeah I'm seeing the same with mine. 🤔  I'll poke for a minute see what I come up with 😄","",""
"471357824299958273","crypto_rachel","16/07/2022 10:54 pm","So yeah not really getting good data, could be something I'm missing.
The only way I can think of is via blockchain you could have a wss subscription listening for the collect events from the original Supply LQ Block, then it would just be doing the math in script adding the collected","",""
"396130406891651075","killergoose75","17/07/2022 12:27 pm","Hey all! I've couple of questions:

 I'm querying the V3 liquidity pools' info and I'm confused by the `inputTokens` key, I'm much more acquainted to V2 and not V3, so I assumed that liquidty pools are the same as like a pair address between two tokens? But then many pools if not most have multiple input tokens, so can I use them the same as a V2 pair pool and just disregard the additional input token(s)? 

Furthermore, I have a query that works on ETH mainnet that doesn't have any Polygon hosted service counterpart that *works *and uses the same syntax
What I want to query: 
```
query{
            pools(orderBy: totalValueLockedETH, orderDirection: desc, first: 500) {
                id
                totalValueLockedETH
                token0Price
                token1Price
                feeTier
                token0 {id symbol name decimals}
                token1 {id symbol name decimals}
            }
        }
```

What the Polygon subgraphs accept: 
```
query{
  liquidityPools(orderBy: totalValueLockedUSD, orderDirection: asc, first: 500) {
    id
    totalValueLockedUSD
    inputTokens{id symbol name decimals}
    outputToken{id symbol name decimals}
    fees{feePercentage}
  }
}
```
Which really isn't the same, I can't get price data from that and to be honest I think it's not even the right object compared to the above `pools` type. How can I basically copy an ETH mainnet subgraph and deploy it to Polygon so everything keeps the same syntax?","",""
"636541245908320276","jonathanfior","18/07/2022 3:00 pm","Hello, we are a project who created a pair on Uniswap V3. When we have been trying to have CoinMarketcap adding and tracking the pair, they said they received no data from the api. And I was wondering if you can help. This is the graph link of our pair https://info.uniswap.org/#/pools/0x97e72d8376ddb0fd044b0b920b218518972bae9b","",""
"928069437989457952","WoellaM#1359","19/07/2022 7:48 pm","Hi everyone, how can you obtain the fees earned by a liquidity provider in Uniswap V2?","",""
"361237384840478742","steve.eth","20/07/2022 3:29 am","I would like to know how to get the exact amount of ETH and YFI each UniswapV3 LP has as of a specific block # , any suggestions on exactly how that query should look using the subgraph?
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"361237384840478742","steve.eth","20/07/2022 3:33 am","This is the query I'm using that helps get most of the way there about which block# and sorting, but I'm not seeing which fields help towards knowing the exact amount of ETH and YFI the user has at that moment
> {
> positions(
> block: {number: 15175328},
> first: 1000,
> orderBy: liquidity,
> orderDirection: desc
> where:
> {
> pool: ""0x04916039b1f59d9745bf6e0a21f191d1e0a84287"",
> liquidity_gt: 0
> }
> )
> 
> {
> owner
> liquidity
> depositedToken0
> depositedToken1
> withdrawnToken0
> withdrawnToken1
> collectedFeesToken0
> collectedFeesToken1
> }
> 
> }","",""
"843155325619535912","Etherscan Bot#5753","20/07/2022 3:33 am","<https://etherscan.io/address/0x04916039b1f59d9745bf6e0a21f191d1e0a84287>","",""
"361237384840478742","steve.eth","20/07/2022 3:55 am","follow up questions
1)  what exactly does ""liquidity"" value mean for a position? my best guess is its the gwei value? so if it returns a value of ""20,183,483,256,643,000,000"" then this really means  ""20.183483256643 ETH"" ?  
2) If I was looking at the YFI/ETH is this derived by taking the total Eth value of the YFI + the actual ETH value in the NFT right now ? So if I had 5 YFI that is valued at 1 ETH and also had 3 ETH (5 YFI + 3 ETH as current LP position)  , this would ""liquidity"" value would return 4 ETH value in gwei format?","",""
"989275482488983663","AnthonyNicholas#4331","21/07/2022 6:08 pm","Hey @Killergoose75 @JonathanFior @WoellaM and @Steve, we're hosting developer office hours tomorrow. Our team will help answer questions about the subgraph API. If you have time, I recommend you stop by 🙂 - https://discord.gg/zhNwNhSb?event=998664735782359080","","👍 (1)"
"928069437989457952","WoellaM#1359","21/07/2022 8:10 pm","@Anthony 🦄 // Community Manager thank you for the invite. I will definitely stop by tomorrow😄","",""
"989275482488983663","AnthonyNicholas#4331","21/07/2022 8:11 pm","Awesome! :BabyDabGif:","",""
"819733651817365514","Hulk Chen#4700","22/07/2022 8:42 am","Hi,  I have some problem when using Uniswap V3 Subgraph. I want to query pool which token0's id equals ""0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48""","",""
"843155325619535912","Etherscan Bot#5753","22/07/2022 8:42 am","<https://etherscan.io/address/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48>","",""
"819733651817365514","Hulk Chen#4700","22/07/2022 8:42 am","Anyone can help ?","https://cdn.discordapp.com/attachments/765222888617017365/999876621685227640/2022-07-22_11.10.05.png",""
"989275482488983663","AnthonyNicholas#4331","22/07/2022 3:23 pm","Hey Hulk, we’re hosting Developer Office hours today at 2pm EST. You should stop by if you’re free. https://discord.gg/zhNwNhSb?event=998664735782359080","",""
"149735676278079488","austino256","22/07/2022 8:03 pm","you need provide a token address that is valid instead of ""123""","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:00 am","{
  ""data"": {
    ""liquidityPositionSnapshots"": [
      {
        ""user"": {
          ""id"": ""0x06799a1e4792001aa9114f0012b9650ca28059a3""
        },
        ""timestamp"": 1658504428,
        ""liquidityPosition"": {
          ""liquidityTokenBalance"": ""0.002037314754775029""
        },
        ""liquidityTokenTotalSupply"": ""0.728596934399321682""
      },
      {
        ""user"": {
          ""id"": ""0x00b1a4e7f217380a7c9e6c12f327ac4a1d9b6a14""
        },
        ""timestamp"": 1658504428,
        ""liquidityPosition"": {
          ""liquidityTokenBalance"": ""0""
        },
        ""liquidityTokenTotalSupply"": ""0.728596934399321682""
      },
      {
        ""user"": {
          ""id"": ""0x2a8cc1151a14c0f155713ad0f14d5ebb4a77436f""
        },
        ""timestamp"": 1658406259,
        ""liquidityPosition"": {
          ""liquidityTokenBalance"": ""0""
        },
        ""liquidityTokenTotalSupply"": ""0.728268735310778638""
      },
      {
        ""user"": {
          ""id"": ""0x278898ee81a1eb94461d4c3e27d27a6d93b6e6a8""
        },
        ""timestamp"": 1658398680,
        ""liquidityPosition"": {
          ""liquidityTokenBalance"": ""0.000000063906094975""
        },
        ""liquidityTokenTotalSupply"": ""0.728274173291917846""
      },
      {
        ""user"": {
          ""id"": ""0x7c0c40aab2be2190de64c2c49976d0ce4eda5475""
        },
        ""timestamp"": 1658380969,
        ""liquidityPosition"": {
          ""liquidityTokenBalance"": ""0.00005131968520412""
        },
        ""liquidityTokenTotalSupply"": ""0.728274109385822871""
      },
      {
        ""user"": {
          ""id"": ""0x85bd101866798c35fccb9e178f5b19c89b5c23f3""
        }","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x06799a1e4792001aa9114f0012b9650ca28059a3>","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x00b1a4e7f217380a7c9e6c12f327ac4a1d9b6a14>","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x2a8cc1151a14c0f155713ad0f14d5ebb4a77436f>","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x278898ee81a1eb94461d4c3e27d27a6d93b6e6a8>","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x7c0c40aab2be2190de64c2c49976d0ce4eda5475>","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0x85bd101866798c35fccb9e178f5b19c89b5c23f3>","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:00 am","This is the output of the following request:","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:00 am","{
  liquidityPositionSnapshots(orderBy: timestamp, orderDirection: desc, first: 1000, where:
                 { pair: ""0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc""}
                )
  
  {
    user {
      id
    }
    timestamp
    liquidityPosition{
      liquidityTokenBalance
    }
    liquidityTokenTotalSupply
    
  }
  
}","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 12:00 am","<https://etherscan.io/address/0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc>","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:01 am","What does liquidityTokenBalance equal 0 imply?","",""
"149735676278079488","austino256","23/07/2022 12:15 am","oh i would not use that liquidityPositionSnapshot","","👆 (1)"
"149735676278079488","austino256","23/07/2022 12:16 am","```
    q = """"""
                    query MyQuery {
                    pair (
                        id: ""%s""
                        block: {number: %s}
                    ) {
                        reserve0
                        reserve1
                        token0 {
                        decimals
                        id
                        name
                        }
                        token1 {
                        decimals
                        id
                        name
                        }
                        totalSupply
                        reserveUSD
                    }
                    }
                """""" % (
        v2_pool,
        block_num,
    )
```","",""
"149735676278079488","austino256","23/07/2022 12:16 am","This is what I used for the paper, where ID is the pool and the block is the block number.","",""
"149735676278079488","austino256","23/07/2022 12:17 am","you really only need totalSupply, reserve0, reserve1 at blocks over time to calculate fee returns","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:20 am","But shouldn't you be able to calculate fees like this: liquiditytokenbalance/liquidityTokenSupply * 0.03% * daily volume traded? And then do this for each day and sum up? That is how I understand the V2 LP provision?","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:21 am","This would be a very close estimation ofcourse, not 100% precise","",""
"149735676278079488","austino256","23/07/2022 12:21 am","no because someone the liquidityTokenSupply can change over time as well.","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:21 am","but therefore you do that for say each day","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:22 am","then you capture that change as well","",""
"149735676278079488","austino256","23/07/2022 12:23 am","if you are calculating using a snapshot at time t to time t+3, assume someone mints 10000x of the liquidityTokenSupply at t+1 then burns at t+2. they would have captured a much larger portion of that volume during t+1 to t+2.","",""
"149735676278079488","austino256","23/07/2022 12:24 am","you are assuming that the liquidityTokenSupply at the end of the day is representative of your percentage holdings of the pool throughout the day, which is not true","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:25 am","hmmm that is true indeed","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:25 am","So, what would be the easiest way to calculate these returns via subgraph API?","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:25 am","It shouldn't be so diffcult, or at least less difficult then uniswap V3","",""
"149735676278079488","austino256","23/07/2022 12:34 am","Let reserves0 at time t = r0_t, reserves1 at time t = r1_t, and total supply of lp tokens at time t be L_t. Your token holdings are Q ( with no subscript bc the amount of LP tokens you have doesn't change)

You can calculate K_t at time t by r0_t * r1_t and P_t is r1_t / r0_t. 

Then fees of positions Q in Token X from t to t+1 are = (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1). You can also calculate returns of token Y by adjusting the formula as stated in 1.1.","","Uni (1)"
"149735676278079488","austino256","23/07/2022 12:35 am","you are essentially calculating the spot value of your portfolio (including capital gains/fees/il/portfolio) then subtracting IL/capital gains/portfolio value to only get fees.","",""
"149735676278079488","austino256","23/07/2022 12:36 am","you can see this equation in the math appendix under 1.1 here: https://uniswap.org/feeReturnsMathAppendix.pdf","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:36 am","And what does this K_t represent?","",""
"149735676278079488","austino256","23/07/2022 12:36 am","K_t is the K invariant which is reserves 0 * reserves 1","",""
"149735676278079488","austino256","23/07/2022 12:37 am","x*y = k","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:38 am","Alright get it! Last question to understand it completely; Can t+1 simply represent the time of burn and t the time of mint?","",""
"149735676278079488","austino256","23/07/2022 12:39 am","yes! that would work","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:40 am","allright awesome! So uhmm, one more question...... how would I get this token holdings Q and total supply L_t from the subgraph API?","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:41 am","Because this request does not seem to return the holdings from a liquidity provider?","",""
"149735676278079488","austino256","23/07/2022 12:41 am","L_t is totalSupply and im not sure about Q tbh. i think you can get that from the mint event for a position.","",""
"149735676278079488","austino256","23/07/2022 12:41 am","yeah we did it for fake positions, so we didn't really care about the amount of LP tokens they had. the fee returns as a pct multiply out","",""
"149735676278079488","austino256","23/07/2022 12:42 am","i wonder if the liquidityTokenBalance for a user is 0 bc they burned their tokens before that poitn","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:42 am","Okay great, and is totalSupply in USD?","",""
"149735676278079488","austino256","23/07/2022 12:42 am","no its the totalSupply of LP tokens!","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:43 am","that could be the case indeed","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:43 am","Okay, but that makes it difficult since the mint request does not include any LP token balance or whatsoever","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:43 am","and I doubt the liquiditypositionsnapshot request tbh","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:44 am","seems like not many LP's are present","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:44 am","For 1 day it sometimes returns just 6 LP's","",""
"149735676278079488","austino256","23/07/2022 12:44 am","if you are trying to calculate it for a position, you should know what the LP token holdings are","",""
"149735676278079488","austino256","23/07/2022 12:45 am","if you are trying to calculate it for all positions, i would use something like dune or bigquery instead","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:45 am","what would this request be like?","",""
"149735676278079488","austino256","23/07/2022 12:45 am","those LP tokens should be in your wallety","",""
"149735676278079488","austino256","23/07/2022 12:45 am","so you should know how much you have","",""
"149735676278079488","austino256","23/07/2022 12:45 am","the amt","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:46 am","yeah allright, but I would like to see someone else his/hers","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:46 am","do you know how I would be able to get this data?","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:47 am","or do you think this requests reponse is correct?","",""
"149735676278079488","austino256","23/07/2022 12:47 am","i have no idea - i would not use the subgraph for this use case","",""
"149735676278079488","austino256","23/07/2022 12:47 am","i would use google bigquery or scrape wallets using a node to get their LP token balance.","",""
"149735676278079488","austino256","23/07/2022 12:47 am","this is derived data which the subgraph is not good for","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:48 am","Okay, I will try it out! Are burns/mints requests derived data as well?","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:48 am","Or are those requests trustworthy?","",""
"149735676278079488","austino256","23/07/2022 12:52 am","i have no idea tbh","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:53 am","Allright thanks for your answers!:-)","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:53 am","I appreciate it!","",""
"928069437989457952","WoellaM#1359","23/07/2022 12:57 am","But maybe it is a good idea to check what data from the subgraph API is trustworthy and what not such that other developers/researchers know what kind of data they are working with. It might reduce the amount of questions in this channel as well 😉","",""
"471357824299958273","crypto_rachel","23/07/2022 1:07 am","Pinned a message.","",""
"149735676278079488","austino256","23/07/2022 4:00 am","I would encourage you to do your own research as well. It’s important to verify things yourself instead of relying on those helping on their own time.","",""
"884647525380939836","chinyasuhail","23/07/2022 10:52 pm","step1: query all pools from the graph and append JSON response to a file (calling the graph through a py file - feel free to use other langs)

```
query pools( $skip: Int!) {
    pools(first: 1000 skip: $skip orderDirection: asc) 
    {
      id
      token0 {
      id
      symbol
    }
    token1 {
      id
      symbol
    }
    }
  }

```

step 2: filter the json where `token0`=`0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48` `USDC`

optional: attaching the code used","https://cdn.discordapp.com/attachments/765222888617017365/1000452813115105391/newPoolsFiltered.json,https://cdn.discordapp.com/attachments/765222888617017365/1000452813475807232/main.py,https://cdn.discordapp.com/attachments/765222888617017365/1000452813748445185/filter.js",""
"884647525380939836","chinyasuhail","23/07/2022 10:53 pm","@Hulk Chen `newPoolsFiltered.json` is what you are looking for!","",""
"884647525380939836","chinyasuhail","23/07/2022 10:53 pm","additional cc: @Srikar Yaganti building 0xPlutus","",""
"884647525380939836","chinyasuhail","23/07/2022 11:02 pm","alternatively: the easier way is to use this

```
{

    pools (where:{token0:""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}){
    id
  }

}
```","",""
"843155325619535912","Etherscan Bot#5753","23/07/2022 11:02 pm","<https://etherscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48>","",""
"884647525380939836","chinyasuhail","23/07/2022 11:16 pm","clarifying questions:

1/ are you looking for the exact token0 and token1 balances of all LPs in ETH/YearnFinance Pool at a block number? or
2/ are you looking for the total token0 and token1 balances added as LP into the ETH/YearnFinance Pool  at that block number?","",""
"884647525380939836","chinyasuhail","24/07/2022 5:29 pm","check this out https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","","this (1)"
"884647525380939836","chinyasuhail","24/07/2022 5:38 pm","```

{
  positions(where: {id:""NFTId""}) {
    liquidity
    tickLower { tickIdx }
    tickUpper { tickIdx }
    pool { id }
    token0 {
      symbol
      decimals
    }
    token1 {
      symbol
      decimals
    }
  }
}

```

```
query {
  pools(where: {id: $pool_id}) {
    tick
    sqrtPrice
  }
}
```

you have to take the output of this query and compute the `token0Amounts` and `token1Amounts`","",""
"884647525380939836","chinyasuhail","24/07/2022 5:42 pm","@reuptake 🌊  not possible to compute with the graph to extent I've tried; dune or google bq query works here","","🙏 (1)"
"947797975227314208","mhamzza#3892","24/07/2022 5:51 pm","i have deployed customized hosted service subgraph and in that i'm not storing pool
I want to access event log for ERC721 tokens to store token0 and token1 of that postion
can you refer the docs where i can check events and response event params?","",""
"884647525380939836","chinyasuhail","24/07/2022 5:53 pm","@mhamzza not sure if there is a doc man! gh repo is all there is: https://github.com/Uniswap/v3-subgraph","",""
"884647525380939836","chinyasuhail","24/07/2022 5:58 pm","yeah - get the `sqrtPriceX96` at that moment of the pool you want to fetch the spot price for and do `token0Price = sqrtRatioX96 ** 2 / 2 ** 192`","",""
"884647525380939836","chinyasuhail","24/07/2022 5:59 pm","non-graph answer:
```https://v2.info.uniswap.org/account/{wallet_address_of_the_lp}```","",""
"994207457230454976","uvuv osas#3113","26/07/2022 8:56 am","HI. does uniswap-v3 subgraph support optimism/arbitrum ?  i put an OP pool address to query something, it doesnt work. but ETH does

https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql
query MyQuery {
  pool(id: ""0x100bdc1431a9b09c61c0efc5776814285f8fb248"") {
    id
  }
}","",""
"843155325619535912","Etherscan Bot#5753","26/07/2022 8:56 am","<https://etherscan.io/address/0x100bdc1431a9b09c61c0efc5776814285f8fb248>","",""
"750749592303304725","srikaryaganti","26/07/2022 12:15 pm","This is for mainnet only, i dont think there are official hosted subgraphs for other chains","",""
"994207457230454976","uvuv osas#3113","26/07/2022 3:40 pm","is there any other way to get a pool's TVL ? 
if not i have to sum all the ticks from -887272 to 887272 ?
MIN_TICK = -887272
MAX_TICK = 887272
TICK_SPACING = exchange_contract.functions.tickSpacing().call()

for tick in range(MIN_TICK, MAX_TICK, TICK_SPACING):
    tickRange = Tick(*exchange_contract.functions.ticks(tick).call())
    liquidity += tickRange.liquidityNet
    sqrtPriceLow = 1.0001 ** (tick // 2)
    sqrtPriceHigh = 1.0001 ** ((tick + TICK_SPACING) // 2)
    amounts0 += calculate_token0_amount(liquidity, sqrtPriceCurrent, sqrtPriceLow, sqrtPriceHigh)
    amounts1 += calculate_token1_amount(liquidity, sqrtPriceCurrent, sqrtPriceLow, sqrtPriceHigh)
    print(amounts0, amounts1, tick)","",""
"401842633464610837","_kfx","26/07/2022 3:53 pm","there are subgraphs for the different networks put up by Uniswap devs:

mainnet:  ""https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3"",
optimism: ""https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis"",
arbitrum: ""https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal"",
polygon:  ""https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon"",
ropsten:  ""https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-ropsten"",","",""
"401842633464610837","_kfx","26/07/2022 3:54 pm","for pool's TVL you can sum all all ticks or sum all positions","",""
"401842633464610837","_kfx","26/07/2022 3:54 pm","afraid there is no easy way","",""
"401842633464610837","_kfx","26/07/2022 3:54 pm","at least not for v3","",""
"401842633464610837","_kfx","26/07/2022 3:54 pm","`balanceOf` is the easy way, but in v3 that is also going to include fees","",""
"401842633464610837","_kfx","26/07/2022 3:55 pm","the tick query can be optimized though, by looking at the tickBitmap first and then only iterating over all initialized ticks","",""
"401842633464610837","_kfx","26/07/2022 3:57 pm","using the subgraph is easier, but may be inaccurate","",""
"884647525380939836","chinyasuhail","26/07/2022 4:15 pm","https://uniswap-graph.0xplutus.com/sub-graph-endpoints","",""
"884647525380939836","chinyasuhail","26/07/2022 4:16 pm","the uniswap devs maintain sub-graphs on other networks 🙂","",""
"994207457230454976","uvuv osas#3113","26/07/2022 5:39 pm","I'm looking at how v3 subgraph achieved totalValueLockedUSD, but the code is so strange for me. many templates schema, even cant find out where the Pool loaded😫 
Anyway. thank you very much. learned a lot from this explain","https://cdn.discordapp.com/attachments/765222888617017365/1001461204411224146/unknown.png",""
"994207457230454976","uvuv osas#3113","26/07/2022 5:40 pm","Great! thanks for your contribution","","✅ (1)"
"810459362371567616","iposignal","31/07/2022 8:13 am","{
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    tick
    token0 {
      symbol
      id
      decimals
    }
    token1 {
      symbol
      id
      decimals
    }
    feeTier
    sqrtPrice
    liquidity
    token0Price
  }
}

The sqrtPrice is not equal to the token0Price after conversion. How do I got from the sqrtPrice to the token0Price? 

# Import math Library
import math

price = 1698.222939298545504291342869403203
print(math.sqrt(price) * 2 ** 96)

sqrtPrice = 1922570314372158338116006267589251
convert = (sqrtPrice ** 2) / (2 ** 192)
print (convert)","",""
"843155325619535912","Etherscan Bot#5753","31/07/2022 8:13 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"471357824299958273","crypto_rachel","31/07/2022 8:17 am","I have examples in the #💻│dev-chat  pins","",""
"810459362371567616","iposignal","31/07/2022 8:19 am","thank you, I have never used pins before, eye opener
To anyone who wants to calc amounts from liquidity from a tick: https://github.com/atiselsts/uniswap-v3-liquidity-math/blob/d370c1c07addb38286157ecbf20835829f1cfd37/subgraph-liquidity-query-example.py#L41
I really needed this example, cause I thought it was sqrt(L/P) = x, as I derived from the whitepaper. No such thing.","","np (1)"
"972941249453629481","McRacoon#5844","31/07/2022 4:42 pm","Hi all, anyone knows why in the V3 subgraph the parameter ""liquidityProviderCount"" under ""ticks"" is always 0? Apparently was already an issue under V2: https://github.com/Uniswap/v2-subgraph/issues/25 
Trying to get calculate amount of LPs per tick and the parameter would have been convenient..","https://cdn.discordapp.com/attachments/765222888617017365/1003258752213979196/screenshot.png",""
"884647525380939836","chinyasuhail","31/07/2022 6:46 pm","a position is a range of tick - what is the outcome you're looking for?","",""
"972941249453629481","McRacoon#5844","31/07/2022 7:09 pm","could imagine it like orderbook depth but with count of LP instead of volume, i.e. between tick t and tick t+1 there are x LPs","",""
"884647525380939836","chinyasuhail","31/07/2022 7:11 pm","not sure `sub-graph` alone can help here","",""
"972941249453629481","McRacoon#5844","31/07/2022 7:48 pm","thanks @Suhail CS building 0xPlutus","",""
"846763360670318633","grindorliveaverage","01/08/2022 12:27 pm","Does the uniswap api provide indexed pricing? For example am I able to send get requests for the data of liquidity pools","",""
"636541245908320276","jonathanfior","01/08/2022 1:06 pm","What API is coinmarketcap using to track data? Is it public?","",""
"636541245908320276","jonathanfior","01/08/2022 1:07 pm","How can I access the V3 api? All I see is for the V2 api. Which language can I use? Does not seem to support jquery.","",""
"884647525380939836","chinyasuhail","01/08/2022 5:07 pm","what do you mean here?","",""
"846763360670318633","grindorliveaverage","01/08/2022 5:47 pm","I am asking in order to be updated of price changes of uniswap liquidity poole would have to create my own tech stack or does uniswap have APIs that index this data and distribute it when requested?","",""
"636541245908320276","jonathanfior","02/08/2022 12:05 am","Any help to understand how to access the API?","",""
"884647525380939836","chinyasuhail","02/08/2022 2:32 am","what are you looking for?","",""
"884647525380939836","chinyasuhail","02/08/2022 2:33 am","use the uniswap sub-graph","",""
"810459362371567616","iposignal","02/08/2022 4:14 am","Does the Pool liquidity variable gives the liquidity for the given tick or for the entire pool?

Pool @entity {
  # pool address
  id: ID!
  # creation
  createdAtTimestamp: BigInt!
  # block pool was created at
  createdAtBlockNumber: BigInt!
  # token0
  token0: Token!
  # token1
  token1: Token!
  # fee amount
  feeTier: BigInt!
  # in range liquidity
**  liquidity: BigInt!**","",""
"853045792696303627","prees#6385","02/08/2022 8:49 pm","are there subgraphs for the different networks for uniswapv2?","",""
"401842633464610837","_kfx","02/08/2022 11:12 pm","Uniswap v2 is not deployed on other networks, unless you mean testnets. There are many third part clones though","",""
"869543300686807041","usagar80","03/08/2022 6:35 pm","Hello team. For Uniswap V2 subgraph I am running below query.
```gql
{
  tokenDayDatas (where:{token: ""0x9d7630adf7ab0b0cb00af747db76864df0ec82e4""},
   orderBy: date, orderDirection: desc, first: 5) {
    id
    date
    dailyVolumeToken
    dailyVolumeETH
    dailyVolumeUSD
    dailyTxns
    totalLiquidityToken
    totalLiquidityETH
    totalLiquidityUSD
    priceUSD
    maxStored
  }
}
```

On details observation I see, I am not getting data after date: 1659225600 (31st July 2022 00:00:00 UTC)

What could be reason? Am I using wrong query?","",""
"843155325619535912","Etherscan Bot#5753","03/08/2022 6:35 pm","<https://etherscan.io/address/0x9d7630adf7ab0b0cb00af747db76864df0ec82e4>","",""
"864307490232205324","skelli.lens","04/08/2022 8:15 pm","Hey! I'm trying to calculate uncollected fees for a given position id.","",""
"864307490232205324","skelli.lens","04/08/2022 8:17 pm","the problem is that the number after doing `(feeGrowthGlobal - feeGrowthOutside(tickLower) -feeGrowthOutside(tickUpper) - feeGrowthInsideLast) ` returns a negative number....","",""
"864307490232205324","skelli.lens","04/08/2022 8:17 pm","can you give me a hint on this, looks like feeGrowthGlobal and feeGrowthOutside both ticks are very similar numbers....","",""
"405102234637172747","_book_","06/08/2022 8:30 am","Need some help 🥲 

I created a query that looked at over 500,000 tx ids.
I got the symbol names but i forgot to include the field to capture the `id`
so my final data set shows all the `symbol` names but not what the related contract address is
so it just shows `WETH` but not `0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2`

I need the `id` of each token to track the updated pricing of these tokens so it was a big error on my part 

I don't want to re-run the initial 500,000 request because it took a long time to download without getting timed out and the server probably hates me lol
 
I've created a list of all the symbols now (about 4,000 of them), is there a way to get all the related `id`s for these tokens?","",""
"149735676278079488","austino256","06/08/2022 3:01 pm","you can use the dune erc20.tokens database to get most of the tokens.","",""
"405102234637172747","_book_","06/08/2022 7:14 pm","thank you","",""
"149735676278079488","austino256","06/08/2022 7:16 pm","Little dangerous though. Lots of tokens named WETH that are fake. I would personally re-pull everything or join the v3 factory with its token addresses","",""
"405102234637172747","_book_","06/08/2022 7:26 pm","Yeah I tried a few examples, so many fake and duplicate names that i dont think i'll be able to do it based on symbol
will need to get the data again and put in that symbol","",""
"405102234637172747","_book_","06/08/2022 7:26 pm","the subgraph times you out a lot though so if you are getting a lot of transactions you can't do it, even with a sleep(1 second) interval between calls","",""
"405102234637172747","_book_","06/08/2022 7:42 pm","Perhaps there's a paid version for both uni v2 and v3 subgraph that i can get that data without getting timed out?","",""
"149735676278079488","austino256","06/08/2022 8:53 pm","Depending on what you want it might be better to build it out in Google bigquery instead.","",""
"405102234637172747","_book_","06/08/2022 9:37 pm","Need the detailed swap transactions details (tokenin, tokenout, amount, timestamp, token ids etc) for about a million transactions","",""
"149735676278079488","austino256","07/08/2022 3:14 am","You can get that much more easily on bigquery.","",""
"405102234637172747","_book_","07/08/2022 4:08 am","Okay thanks, need to get comfortable with sql

Whats the benefit of subgraph then if bigquery has everything... easier to query smaller things on subgraph?","",""
"810459362371567616","iposignal","08/08/2022 6:09 am","How do I convert the liquidity big number from the pools to the real liquidity. I was thinking deviding by 10^abs(decimals0 - decimals1) but sometimes both decimals are 18 f.e. and this does not work.","",""
"401842633464610837","_kfx","08/08/2022 5:03 pm","@Austin 🦄 any good resources for getting started on using bigquery for uniswap analytics? apologies for the ping!","",""
"810459362371567616","iposignal","08/08/2022 6:00 pm","Another issue is when I sum the NetLiquidity from bottom to top, the liquidity that the pools request returns is not the same at the active tick.","",""
"149735676278079488","austino256","08/08/2022 7:57 pm","I use this to generate decoded contract events from bigquery - https://abi-parser.vercel.app/. can decode all the swap events from bigquery for a given pool to digest as a csv.","","ty (1)"
"149735676278079488","austino256","08/08/2022 7:58 pm","you might be doing something wrong, since that is how the contract does it.","",""
"810459362371567616","iposignal","08/08/2022 10:36 pm","Started a thread.","",""
"306957863216218115","swaytide","09/08/2022 6:11 am","Hello, Im the founder of Mozaic an automated farming protocol that uses machine learning to choose which pairs to farm. I would like to direct liquidity towards Uniswap but to do that we need to train our ML. Is it possible to get a csv file with liquidity and/or apy for your LPs? if not is there an api or python code we could use? Very much appreciated.

Or if anyone can direct me in the right direction that would be great","",""
"889420117841174540","ronkerbump","09/08/2022 7:08 pm","Hey, 
For some weird reason the subgraph seems to be outputting pool count = 0
Pool Id : 0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092

This is cause alot of problem for our project as coinmarketcap reads data from uniswap subgraph for our token and given data is null, We are seeing a flat line in coinmarketcap and https://info.uniswap.org/#/pools/0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092","",""
"843155325619535912","Etherscan Bot#5753","09/08/2022 7:08 pm","<https://etherscan.io/address/0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092>","",""
"889420117841174540","ronkerbump","09/08/2022 7:08 pm","Any Assistance would be appreciated.","",""
"907235438912208926","pyfrequencytrader","10/08/2022 1:08 pm","Can someone explain to me the difference between ""liquidity"" and ""totalValueLockedUSD""?","",""
"907235438912208926","pyfrequencytrader","10/08/2022 1:09 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1006829018626138173/Screen_Shot_2022-08-10_at_2.46.03_PM.png",""
"889420117841174540","ronkerbump","10/08/2022 4:13 pm","Hey, 
Guys any help over here would be appreciated!","",""
"334512767929286657","moreira7932","11/08/2022 2:38 am","How does the ```pools{ liquidity }``` value differ from the TVL on the V3 subgraph?","",""
"889420117841174540","ronkerbump","11/08/2022 4:26 am","Hey, 
For some weird reason the subgraph seems to be outputting pool count = 0
Pool Id : 0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092

This is cause alot of problem for our project as coinmarketcap reads data from uniswap subgraph for our token and given data is null, We are seeing a flat line in coinmarketcap and https://info.uniswap.org/#/pools/0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092

To add more details to this issue as per details on etherscan https://etherscan.io/address/0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092
1. Token 0 -> BUMP | Amount : 1,340,189.977648
2. Token 1 -> WETH | Amount : 8.984002
3. 1 day market volume -> ! $2.54K","",""
"843155325619535912","Etherscan Bot#5753","11/08/2022 4:26 am","<https://etherscan.io/address/0xb4ecce46b8d4e4abfd03c9b806276a6735c9c092>","",""
"889420117841174540","ronkerbump","11/08/2022 4:26 am","Hence it is becoming hard to understand why the pool count is 0","",""
"471357824299958273","crypto_rachel","11/08/2022 4:29 am","Don't Random ping Devs","",""
"889420117841174540","ronkerbump","11/08/2022 4:30 am","Got it","",""
"889420117841174540","ronkerbump","11/08/2022 4:30 am","Leaving it here.","",""
"889420117841174540","ronkerbump","11/08/2022 5:23 am","https://github.com/Uniswap/v3-subgraph/blob/bf03f940f17c3d32ee58bd37386f26713cff21e2/src/utils/pricing.ts#L74

looks like that there is a minimum amount of ETH that needs to be locked in the pool. 😄","","👍 (1)"
"889420117841174540","ronkerbump","11/08/2022 5:41 am","What I am not sure about is why was it working before ? 😓","",""
"889420117841174540","ronkerbump","11/08/2022 5:57 am","What's more interesting is that not only is the price => 0
When I query the factory, 
the data seems null","https://cdn.discordapp.com/attachments/765222888617017365/1007082768901091359/unknown.png",""
"889420117841174540","ronkerbump","11/08/2022 6:03 am","and pool -> null","https://cdn.discordapp.com/attachments/765222888617017365/1007084419946917888/unknown.png",""
"889420117841174540","ronkerbump","11/08/2022 6:04 am","Leaving it here. 
Hope to get some response soon.","",""
"889420117841174540","ronkerbump","11/08/2022 6:21 am","when allowing subgraphError as allow,
I am receiving the response.","https://cdn.discordapp.com/attachments/765222888617017365/1007088827275423864/unknown.png",""
"889420117841174540","ronkerbump","11/08/2022 6:21 am","Hence an error in subgraph. :/","",""
"149735676278079488","austino256","11/08/2022 6:33 am","It seems like you found the answer yourself.","",""
"889420117841174540","ronkerbump","11/08/2022 6:40 am","But the above response is for Factory, 
for pool that still gives a null value. 
Let me see if increasing the amount of ETH helps us.","",""
"498674844272164865","steegecs#2390","11/08/2022 8:54 am","I tried to create a subgraph for Uniswap V3, and it only appears that I am getting 3 pools before it indexes to the head of the chain.
Are some of these pools manually instantiated or something?","",""
"673346658456829952","nacho.n.cheese","11/08/2022 2:32 pm","Hey everyone, I am trying to use the uniswapv3 subgraph to query unclaimed fees for specific positions/pools. 

I'm pretty new to graphql and uniswapv3; mainly want to use this info for a data science project. Does anyone know how to calculate unclaimed fees for specific positions properly?","",""
"149735676278079488","austino256","11/08/2022 7:04 pm","you should read the Uniswap v3 white paper","",""
"884647525380939836","chinyasuhail","11/08/2022 7:53 pm","the sub-graph doesn't track `tokensOwed0` and `tokensOwed1`","",""
"884647525380939836","chinyasuhail","11/08/2022 7:54 pm","I think I have a `py` code that does this","",""
"673346658456829952","nacho.n.cheese","11/08/2022 8:09 pm","Thanks for the replies guys, I have read the paper. I understand that we need to calculate unclaimed fees using f_u = l*(f_r(t1)-f_r(t0))

wherein f_r(t0) can be queried (is stored) from the graph via feeGrowthInside{0,1}LastX128 for a given position

I try to compute f_r(t1) using f_g-f_b(il)-f_a(iu) using the most recent data queried from the graph but the value of f_r(t1) turns out to be negative for some positions. Similarly, f_r(t1)-f_r(t0) works out to be negative for some positions

Obviously f_r(t1)-f_r(t0) cannot be < 0 so I feel I might be going wrong somewhere","",""
"673346658456829952","nacho.n.cheese","11/08/2022 8:09 pm","It would be a life saver if you could share that with me!","","✅ (1)"
"149735676278079488","austino256","11/08/2022 8:13 pm","the contract relies on integer under/overflow. If the values are negative, you should add 2 ** 256 to them","",""
"673346658456829952","nacho.n.cheese","11/08/2022 8:14 pm","Ohh! So after computing f_r(t1)  [if it is negative] I need to add 2**256 to it right?","",""
"673346658456829952","nacho.n.cheese","11/08/2022 8:15 pm","Similarly if f_r(t_1)-f_r(t_0) is negative, I need to add 2**256 to that value as well right?","",""
"673346658456829952","nacho.n.cheese","11/08/2022 8:18 pm","@Austin 🦄 @Suhail CS building 0xPlutus thank you so much for your guidance!","",""
"149735676278079488","austino256","11/08/2022 8:27 pm","Yes, you need to mimic this function from the SDK: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts","","🙌 (1)"
"651488812391989259","9alekc1","12/08/2022 12:11 am","Hey, could you help me to understand why this query returns empty set? 
{
  ticks(first: 100, 
    where: {poolAddress: ""0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640""}) {
    id
    poolAddress
    tickIdx
    pool {
      id
    }
  }

}","",""
"843155325619535912","Etherscan Bot#5753","12/08/2022 12:11 am","<https://etherscan.io/address/0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640>","",""
"651488812391989259","9alekc1","12/08/2022 12:12 am","there definitely should be ticks 😦","",""
"149735676278079488","austino256","12/08/2022 12:15 am","lower case the poolAddress: 
{
  ticks(first: 100, 
    where: {poolAddress: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""}) {
    id
    poolAddress
    tickIdx
    pool {
      id
    }
  }

}","",""
"843155325619535912","Etherscan Bot#5753","12/08/2022 12:15 am","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"651488812391989259","9alekc1","12/08/2022 12:16 am","thank you so much!","",""
"334512767929286657","moreira7932","12/08/2022 2:08 am","Hey, when I query to get some information about the ETH token the subgraph by querying ```{
    tokens (where: {symbol: ""ETH""}) {
    feesUSD
    name
    symbol
    id
  }
} ```, I receive ```{
  ""data"": {
    ""tokens"": [
      {
        ""feesUSD"": ""0"",
        ""name"": ""小学生"",
        ""symbol"": ""ETH"",
        ""id"": ""0x065a049b5be75e4f1d29a03c6edb5acc1a4e3b93""
      }
    ]
  }
}``` which doesnt seem right. Is this the expected output?","",""
"843155325619535912","Etherscan Bot#5753","12/08/2022 2:08 am","<https://etherscan.io/address/0x065a049b5be75e4f1d29a03c6edb5acc1a4e3b93>","",""
"149735676278079488","austino256","12/08/2022 2:53 am","Querying by token name is not recommended, since anyone could make a token named WETH. On top of that, Uniswap protocol trades on WETH, not ETH.","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:24 am","Hi Austin, you wrote that fees of positions Q in Token X from t to t+1 are = (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1). Shouldn’t it be L_t instead of L_t+1 in the term that you subtract? And why is this only for fees in token X? I have looked at the appendix but it seems that you calculate the returns differently on discord than in your paper so I am a bit confused. And one silly question maybe, but to get the returns instead of the fees, what should I divide (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1)  by? I appreciate your help 🙏🏼","",""
"149735676278079488","austino256","12/08/2022 3:27 am","In the paper, we look at X and Y together as a portfolio to calculate returns so that the position is agnostic to initial liquidity. The token y is similar but you have to adjust for the k+1 / p_t to be k+1 * p_t because it’s token y. I figured you didn’t want returns because it’s unhelpful to group them if you want them in X and Y.","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:31 am","Thanks for your response! I don’t fully understand your last sentence to be honest. What do you mean exactly?","",""
"149735676278079488","austino256","12/08/2022 3:32 am","I don’t think it should be L_T because you are essentially taking your spot portfolio and subtracting a portfolio at the new price if K hadn’t changed. The growth in K is what causes the fee returns.","",""
"149735676278079488","austino256","12/08/2022 3:33 am","I could be wrong. It’s been a bit since I’ve done this. Also I just mean that we grouped X and Y together, so I gave you X fee returns so you could then calculate Y on your own.","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:34 am","(sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1). This would give me the fees expressed in amount of token X for an LP right? So why should the fees in token Y be a separate calculation? It is already included right?","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:34 am","Or you mean that if you want the fees expressed in token Y you should simply multiply it by P_t in the end?","",""
"149735676278079488","austino256","12/08/2022 3:35 am","Ah sorry, this is the amount of fees of X that position gained. You also need to calculate the amount of fees of Y you gained as well.","",""
"149735676278079488","austino256","12/08/2022 3:36 am","We multiplied by P_T because we wanted all tokens expressed as token X","",""
"149735676278079488","austino256","12/08/2022 3:36 am","Which I don’t think you want","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:38 am","So you are saying the following if I am correct:
Token Y fees gained: (sqrt(K_t+1 * P_t) * Q / L_t+1) - sqrt(K_t  ! P_t) * Q / L_t+1)
Token X fees gained: (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1)","",""
"149735676278079488","austino256","12/08/2022 3:38 am","Yes!","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:38 am","Is* instead of !","",""
"149735676278079488","austino256","12/08/2022 3:39 am","Thought you may be right that it needs to be L_t at the end.","",""
"149735676278079488","austino256","12/08/2022 3:39 am","I would need to think more about it","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:40 am","And then if I want to have all fees expressed in token X, i would simply do: 
Fees token Y * P_t + Fees token X?","",""
"149735676278079488","austino256","12/08/2022 3:40 am","Yes!","",""
"149735676278079488","austino256","12/08/2022 3:40 am","Which is what we did in the paper.","",""
"149735676278079488","austino256","12/08/2022 3:40 am","I’m away from my work laptop so I can’t check the math to make sure atm.","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:40 am","Got it, and then what about the returns instead of the fees? By what do I divide?","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:41 am","Same here hahah","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:43 am","Would it be:
Return Y fees:(  (sqrt(K_t+1 * P_t) * Q / L_t+1) - sqrt(K_t  * P_t) * Q / L_t+1) ) / sqrt(K_t  * P_t) * Q / L_t+1) 
Return X fees: ( (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1)) / sqrt(K_t / P_t) * Q / L_t+1)

Then sum up return X fees and return Y fees?","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:44 am","Or is that nonsense?","",""
"149735676278079488","austino256","12/08/2022 3:44 am","I think you need to divide by L_t instead of L_t+1 since it’s the value of portfolio at time t that you are dividing by","",""
"149735676278079488","austino256","12/08/2022 3:45 am","The last division termS","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:46 am","So this should be it:
Return Y fees:(  (sqrt(K_t+1 * P_t) * Q / L_t+1) - sqrt(K_t  / P_t) * Q / L_t+1) ) / sqrt(K_t  / P_t) * Q / L_t) 
Return X fees: ( (sqrt(K_t+1 /  P_t) * Q / L_t+1) - sqrt(K_t / P_t) * Q / L_t+1)) / sqrt(K_t / P_t) * Q / L_t)

Then sum up return X fees and return Y fees.","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:47 am","Or should it also be K_t * P_t for calculating Y returns?","",""
"149735676278079488","austino256","12/08/2022 3:47 am","Yes that is correct sorry. You also can’t add them since those are % returns now.","",""
"149735676278079488","austino256","12/08/2022 3:48 am","You essentially calculated % returns of token Y and token X as function of initial value","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:49 am","Yeah fair enough. But I still don’t fully understand why fees X and fees Y are seperately calculated now?","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:50 am","Like K just represents the pool liquidity right? So you look essentially at liquidity before opening LP position and after","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:51 am","So then difference in portfolio value would be your fees gained in X or Y, depending on what you use as a numeraire for your portfolio value","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:52 am","So I don’t see how you obtain fees in X and fees in Y seperately if you look at the portfolio value change","",""
"928069437989457952","WoellaM#1359","12/08/2022 3:52 am","You see what I mean?","",""
"149735676278079488","austino256","12/08/2022 4:04 am","Yeah I can help more tomorrow, but essentially this is what you are calculating (you can replace token Y for token X).  You are calculating  current token X holdings at time t+1, (portfolio + fees + IL) subtracting the holdings you would have had at time t if the only thing different was the price was P_t+1, which gives you the (portfolio + IL). Thus you have (portfolio + fees + IL) - (portfolio + IL) to calculate only fees.","",""
"149735676278079488","austino256","12/08/2022 4:04 am","The division is for returns as a percent of the initial amount minted.","",""
"928069437989457952","WoellaM#1359","12/08/2022 4:09 am","Allright thanks for your help! I hope I will be able to implement it in my code tomorrow, I might send you another message if I get stuck if thats okay 😄","",""
"149735676278079488","austino256","12/08/2022 4:11 am","Sure! I appreciate the work you did on your own to understand and come with good questions","",""
"928069437989457952","WoellaM#1359","12/08/2022 4:16 am","Thanks a lot, I appreciate your kind words 🙏🏼","",""
"673346658456829952","nacho.n.cheese","12/08/2022 6:36 pm","Hey Austin,

Thank you very much for the guidance earlier. I followed the example from the SDK. The unclaimed fees *per unit liquidity* that I calculate i.e. f_u = f_r(t1) - f_r(t0)  ranges in the ballpark of 10^36 all the way to 10^89

I am trying to replicate the unclaimed fees in tokens seen in the uniswap UI (https://app.uniswap.org/#/pool/100209?chain=mainnet) from the f_u values I computed. I feel this could be a matter of scaling orders-of-magnitude

I saw the  MathAppendix you had shared (https://uniswap.org/feeReturnsMathAppendix.pdf) [particularly section 1.3]. I understand that is for full-range positions, but I was wondering if I need to similarly re-scale f_u =  f_r(t1) - f_r(t0) by the portfolio/position value to get unclaimed fees similar to the UI. Am I thinking in the right direction?","",""
"149735676278079488","austino256","12/08/2022 7:35 pm","I think you will need to clarify what you mean. If you multiply by the liquidity of the position, are you returning the same values as the interface?","",""
"673346658456829952","nacho.n.cheese","12/08/2022 7:52 pm","Not really, for example with position id 103262, I get unclaimedFeesToken0 = 1.85268300659055E+36 and unclaimedFeesToken1 = 2.40210492264454E+37","",""
"149735676278079488","austino256","12/08/2022 7:53 pm","How are you getting the values you need?","",""
"928069437989457952","WoellaM#1359","12/08/2022 7:58 pm","Quick question, does your share as an LP change over time when other LP burn/mint positions in Uniswap V2? Or is their a mechanism in play such that your share will always be constant over time?","",""
"673346658456829952","nacho.n.cheese","12/08/2022 7:59 pm","I am querying the graph for: feeGrowthOutside1X128 (for tickUpper and tickLower),  feeGrowthGlobal1X128, pool: tick, tickLower: tickIdx and tickUpper: tickIdx for a set of positions

I then use the formula in 1.2.3 General fee calculations (https://uniswap.org/feeReturnsMathAppendix.pdf) for fa and fb calculation. The finally get fr(t1) as fr(t) = fg,t − fb,t(il) − fa,t(iu)


Here's the python code I use for ft(t1) calculations for reference:

def get_curr_feegrowth_inside(self, fee_growth_outside_lower, fee_growth_outside_upper, fee_growth_global, curr_tick, tick_lower, tick_upper):


        def get_fee_per_liq_above_tick(fee_growth_outside, tick):
            return self._subtract_int256(fee_growth_global,fee_growth_outside) if curr_tick>=tick else fee_growth_outside
        
        def get_fee_per_liq_below_tick(fee_growth_outside, tick):
            return fee_growth_outside if curr_tick>=tick else self._subtract_int256(fee_growth_global,fee_growth_outside)

        fee_per_liq_below = get_fee_per_liq_below_tick(fee_growth_outside_lower, tick_lower)

        fee_per_liq_above = get_fee_per_liq_above_tick(fee_growth_outside_upper, tick_upper)

        cumul_fees_per_share = self._subtract_int256(self._subtract_int256(fee_growth_global, fee_per_liq_below), fee_per_liq_above)

        return fee_per_liq_below, fee_per_liq_above, cumul_fees_per_share","",""
"342346357065121802","nftkai","12/08/2022 8:01 pm","hi! is there an API we can use for WBTC in a liquidity pool? thanks","",""
"760198199934976001","TimoKing#3556","12/08/2022 8:10 pm","go to the graph and search the specific exchanges... and you can import the api","",""
"342346357065121802","nftkai","12/08/2022 8:11 pm","link pls?","",""
"760198199934976001","TimoKing#3556","12/08/2022 8:12 pm","https://thegraph.com/hosted-service/","","👍🏻 (1)"
"149735676278079488","austino256","12/08/2022 8:12 pm","I’m unsure why that code wouldn’t work. Are you using python ints? There are overflow issues with them that aren’t always apparent.","",""
"673346658456829952","nacho.n.cheese","12/08/2022 8:15 pm","I am currently using python floats. Is there any source code for unclaimed fees in python or any other language?","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:33 pm","Lets say your share as LP at t is equal to S_t = Q_t/L_t. So you hold a total value of (X_t * P_t + Y_t)*S_t.
Then mints and burns happen in between t and t*1. That is, X_t+1 and Y_t differ now from X_t and Y_t.
How does S_t+1 change now from S_t? Is S_t+1 = Q_t / L_t+1? So L_t+1 is different from L_t? Aka just totalLPtokensupply changed? Or is Q_t+1 different from Q_t? Aka your amount of LP tokens have changed? Or both?","",""
"149735676278079488","austino256","12/08/2022 8:38 pm","sorry i missed this - your LP shares don't change over time. the K value grows to account for your fees increasing.","",""
"149735676278079488","austino256","12/08/2022 8:41 pm","assuming no price changes, the amount of reserves X_t+1 and Y_t+1 that you hold at time t+1 are the same as time t. This is because to mint more LP tokens, you have to add the same ratio of X_t / S_t to get more LP tokens. The amount of X_t that 1 LP token represents stays the same, there is just more X_t and more LP tokens.","",""
"149735676278079488","austino256","12/08/2022 8:41 pm","I think that was your question","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:51 pm","But if say 100 tokens X and 50 tokens Y are burned. Then X_t+1 and Y_t+1 in the pool are smaller than the X_t and Y_t right?","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:53 pm","So if your value at the beginning is (X_t * P_t + Y_t) * S_t, where S is the percentage of LP tokens you hold.","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:54 pm","Then due to the burns the value you have at t+1 has decreased to (X_t+1*P_t+1 + Y_t+1)*S_t+1,
 if S_t+1 is not different from S_t","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:55 pm","Which should not be the case I assume","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:55 pm","So hence S_t+1 has to differ from S_t right?","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:56 pm","So the percentage of LP tokens you have of the total LP tokens has changed right?","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:57 pm","And that can only be then by a change in Q (amount of LP tokens you own) or a change in L(total supply of LP tokens)? Since S= Q/L","",""
"928069437989457952","WoellaM#1359","12/08/2022 8:59 pm","So following this reasoning, the L changes definitely because burns have happened, so total LP token supply decreases, but does your amount of LP tokens Q also change?","",""
"149735676278079488","austino256","12/08/2022 9:44 pm","The amount of LP tokens you have doesn't change. Since the burns/mints happen at the same ratio as the current ratio of reserves to tokens, then mints and burns don't change your current holdings. I have a math proof somewhere that I can show you if that would help (it helped me lol). Also burns don't change the price at all, so if the only thing that happened from t -> t+1 was a burn then p_t = p_t+1.

yes, you are correct though. the percentage of total LP tokens you hold will go up and down, but the amount you hold will not.","",""
"928069437989457952","WoellaM#1359","13/08/2022 1:47 am","So we go old school pen and paper style now since I dont fully understand it al yet… 🙈 I think this is the way to calculate the LP fee returns, can you check if my logic makes sense? And more importantly, can you show how to get the Impermanent Loss return? I left it blank……..","https://cdn.discordapp.com/attachments/765222888617017365/1007744768572399827/IMG_2778.jpg",""
"651488812391989259","9alekc1","15/08/2022 1:39 am","Hey all, please check how come this is possible. I have this query:
{
  pools(where: {id: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""}) {
    id
tick
    ticks{
      tickIdx
      id
    }
  }
}
---
it returns 
{
  ""data"": {
    ""pools"": [
      {
        ""id"": ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640"",
        ""tick"": ""200659"",
         [set of ticks further]
      }
  }
}
--- 
The response says that current tick is 200659, but there is no tick 200659 in the set of ticks. How can I check current tick info like prices and liquidity, if there is no such tick in response?","",""
"471357824299958273","crypto_rachel","15/08/2022 1:42 am","So the ticks that are called for data need to be at a tick intervals based on the tick spacing of the pool (ie tick spacing for 0.3% pool is 60 ticks) have the math in #💻│dev-chat pins","",""
"651488812391989259","9alekc1","15/08/2022 1:46 am","Not sure I got you're response, why does it return tick 200659 if there is no such tick?","",""
"651488812391989259","9alekc1","15/08/2022 1:53 am","I've checked pins of course 🙂","",""
"471357824299958273","crypto_rachel","15/08/2022 1:55 am","well the tick exists, but they are between Active tick ranges where the data is stored
so you would need to 
math.floor(CurrentTick/TickSpacint)*TickSpacing
which would give the current active tick space for data","",""
"651488812391989259","9alekc1","15/08/2022 2:02 am","So my pool's fee tier is 0.05% and TickSpacing == 10, thus Math.floor(200659/10)*10 == 200620, but there is no tick 200620 either","",""
"651488812391989259","9alekc1","15/08/2022 2:02 am","fixed fee tier *","",""
"471357824299958273","crypto_rachel","15/08/2022 2:04 am","hmm then it's something with how theGraph stores / calls the data. I don't know theGraph well, so I don't know the correct calls","",""
"651488812391989259","9alekc1","15/08/2022 2:06 am","anyway thank you, I was not aware of the spacing thing before","",""
"471357824299958273","crypto_rachel","15/08/2022 2:08 am","yeah, glad to try, if I knew the graph better I'd help with the call, but that i do know is where data for LQ and all is stored","",""
"651488812391989259","9alekc1","15/08/2022 2:09 am","there is one more question about the data, may be you could help clarifying. The docs says:
type Tick @entity {
 ...
  # calculated price of token0 of tick within this pool - constant
  price0: BigDecimal!
  # calculated price of token1 of tick within this pool - constant
  price1: BigDecimal!
---
Am I getting it correct, that price0 is the price of token0 denominated in token1 and price1 is price  of token1 denominated in token0?","",""
"471357824299958273","crypto_rachel","15/08/2022 2:11 am","yes that is correct","",""
"651488812391989259","9alekc1","15/08/2022 2:11 am","cool, thank you 🙂","","np (1)"
"651488812391989259","9alekc1","15/08/2022 2:13 am","And if I want to know how much liquidity is located on a specific tick, can I use liquidityNet?
the comment says:  # how much liquidity changes when tick crossed
whatever it should mean 🙂","",""
"651488812391989259","9alekc1","15/08/2022 2:32 am","Or, in other words, how can I check how much liquidity there is on a specific tick?","",""
"928069437989457952","WoellaM#1359","15/08/2022 6:11 pm","BUMP 😄","",""
"149735676278079488","austino256","15/08/2022 8:06 pm","sorry i was waiting until im in the office to look at this one - more difficult than the normal question","",""
"928069437989457952","WoellaM#1359","16/08/2022 4:35 am","Fair enough! Don’t feel like you specifically need to look at it, I thought I BUMP it for others to have a look at it as well. But if you have a moment, I would appreciate it ofcourse😉","",""
"498674844272164865","steegecs#2390","16/08/2022 10:10 pm","Does anyone have a response for this?","",""
"989275482488983663","AnthonyNicholas#4331","17/08/2022 1:01 am","@Austin 🦄 is an artist 🎨","",""
"989275482488983663","AnthonyNicholas#4331","17/08/2022 1:01 am","https://discord.com/channels/597638925346930701/999336397666271323/1009180722642305135","",""
"843155325619535912","Etherscan Bot#5753","17/08/2022 1:01 am","","",""
"149735676278079488","austino256","17/08/2022 1:01 am","i try my best","",""
"773558050719531018","Hanna_mel#5113","17/08/2022 1:22 pm","Hi @Austin 🦄 Just saw your amazing chart on Twitter, and was wondering wether or not the code is shared somewhere. I've tried myself to reconstruct this liquidity distribution for some other pools, but I end up having some negative volumes when combining mints and burns. Also, do you use Delta L to manage the fact that the current tick ranges moves ? or do you use the trades and rebalance the current tick range x and y accordingly ? Thanks 🙂","",""
"149735676278079488","austino256","17/08/2022 6:36 pm","Hi there, I’m not going to change the code just yet! The gif was a byproduct of the research we’ve been working on. Will need to publish that first. The liquidity at a tick is still there even if it goes out of range, so there is no need to adjust!","",""
"915808774051225642","CocoReplica#8212","18/08/2022 6:37 am","hi, does anyone know that the subgraph show correct tvl number for V3?

{
  uniswapDayDatas(first: 10, 
    orderBy: date,
    orderDirection: desc
  ) {
    date
    volumeUSD
    tvlUSD
  }
}","",""
"915808774051225642","CocoReplica#8212","18/08/2022 6:38 am","","https://cdn.discordapp.com/attachments/765222888617017365/1009629745182412861/unknown.png",""
"915808774051225642","CocoReplica#8212","18/08/2022 6:38 am","the subgraph shows tvlUSD ~$13.6bn while uniswap.info shows TVL ~$4.43bn","",""
"149735676278079488","austino256","18/08/2022 7:16 am","which subgraph are you using?","",""
"712580902651297842","blade#6807","18/08/2022 12:59 pm","@Austin 🦄 Hi, how can I retrieve positions data at a given block number? The query below doesn't seem to work:

`query get_positions($num_skip: Int, $pool_address: ID!, $block_number: BigInt!) {
            positions(skip: $num_skip, where: {pool: $pool_address, block: {number: $block_number}, liquidity_gt: 0}) {
                id
                owner
                tickLower { tickIdx }
                tickUpper { tickIdx }
                liquidity
            }
        }`","",""
"892645994884399114","anpro_","18/08/2022 2:18 pm","Hi all, hope you are fine! I've notice something strange on pool WBTC/USDC (0.3% fee, id: 0x99ac8ca7087fa4a2a1fb6357269965a2014abc35). The data I get from subgraph seem to be a little different from the one I see on Uni UI. If you pick position 272815 (https://app.uniswap.org/#/pool/272815?chain=mainnet) for instance and query the graph with `

 {position(id: ""272815"") {
      id
      feeGrowthInside0LastX128
      feeGrowthInside1LastX128
      pool {
        tick
        token0Price
        token1Price
        feeGrowthGlobal0X128
        feeGrowthGlobal1X128
        id
        collectedFeesUSD
        collects {
          amount0
          amount1
          amountUSD
        }
      }
      depositedToken0
      depositedToken1
      withdrawnToken0
      withdrawnToken1
      tickLower {
        id
        feeGrowthOutside0X128
        feeGrowthOutside1X128
        price0
        price1
        tickIdx
      }
      tickUpper {
        id
        price0
        price1
        tickIdx
        feeGrowthOutside0X128
        feeGrowthOutside1X128
      }
      collectedFeesToken0
      collectedFeesToken1
      liquidity
      token0 {
        id
        symbol
        decimals
      }
      token1 {
        id
        symbol
        decimals
      }
    }
  }
`

The amount of deposited token do not match. On UI I see 380500 for token0 and 4.244 for token1, while the result of the query is 

` ""depositedToken0"": ""4.85349827"",
      ""depositedToken1"": ""366112.881475""`

The same apply for other variables which in the end led to a wrong fee computation. Am I missing something?","",""
"843155325619535912","Etherscan Bot#5753","18/08/2022 2:18 pm","<https://etherscan.io/address/0x99ac8ca7087fa4a2a1fb6357269965a2014abc35>","",""
"456226577798135808","Deleted User","18/08/2022 6:37 pm","There is an open issue on GitHub for collect issues with The Graph / TVL. One sec, I'll try find it","",""
"456226577798135808","Deleted User","18/08/2022 6:38 pm","One example - https://github.com/Uniswap/v3-subgraph/issues/74","",""
"989275482488983663","AnthonyNicholas#4331","18/08/2022 7:20 pm","Hey Andy, thanls for sharing this. We're hosting Developer office hours tomorrow. Ian will be joining Office hours if you want to bring up this question to him.","","ty (1)"
"989275482488983663","AnthonyNicholas#4331","18/08/2022 7:20 pm","https://discord.gg/aMwuvuxD?event=1007381258994724894","",""
"915808774051225642","CocoReplica#8212","18/08/2022 8:30 pm","I am using this https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"456226577798135808","Deleted User","18/08/2022 8:35 pm","Thanks Anthony. I ended up querying the contracts for this directly, but I'll try join the discussion tomorrow and bring this up.","","👍 (1)"
"149735676278079488","austino256","18/08/2022 10:28 pm","it might error out because thats a large query","",""
"781581152795361311","sory8621","19/08/2022 2:19 pm","Hi Team, I have a pool open in Polygon network and it is not showing, also it is not showing the pool I have closed. Any help here please","",""
"405102234637172747","_book_","20/08/2022 5:13 am","Hi I have a question regarding the following txid 0x5ce851b9f8dfd3dd2962e86baef5be7f7dc4df9599235ceb628deca7fd94384c
I have a list of over 100+ tx that have this issue so trying to find what i'm missing here

Here is the etherscan in and out:","https://cdn.discordapp.com/attachments/765222888617017365/1010333315259187280/unknown.png",""
"843155325619535912","Etherscan Bot#5753","20/08/2022 5:13 am","<https://etherscan.io/tx/0x5ce851b9f8dfd3dd2962e86baef5be7f7dc4df9599235ceb628deca7fd94384c>","",""
"405102234637172747","_book_","20/08/2022 5:14 am","Here is the result of pulling the same txid on the subgraph.  I've highlighted in green numbers which don't seem to add any meaning to this transaction and wonder if someone could tell me why it shows up:","https://cdn.discordapp.com/attachments/765222888617017365/1010333536303185950/unknown.png",""
"884647525380939836","chinyasuhail","21/08/2022 8:44 pm","can you expand a bit more?","",""
"884647525380939836","chinyasuhail","21/08/2022 8:45 pm","can you share the `graph-query`?","",""
"405102234637172747","_book_","22/08/2022 2:21 am","Yes here it is:
`
{
swaps(where: { transaction: ""0x5ce851b9f8dfd3dd2962e86baef5be7f7dc4df9599235ceb628deca7fd94384c"" }) 
 {
  amount0In
  amount1In
  amount0Out
  amount1Out
  amountUSD
  sender
  id
  timestamp
  to
  pair {
      token0 {
          symbol
          id
      }
      token1 {
          symbol
          id
      }
  }
 }
}
`","",""
"843155325619535912","Etherscan Bot#5753","22/08/2022 2:21 am","<https://etherscan.io/tx/0x5ce851b9f8dfd3dd2962e86baef5be7f7dc4df9599235ceb628deca7fd94384c>","",""
"405102234637172747","_book_","22/08/2022 2:24 am","almost almost all transactions tend to have either one negative value out of (amount0in, amount1in, amount0out, amount1out)
this normally means that to me that the pool is emptying out tokens on one side of the transaction
but in these transactions like shown here 
not only do you see the part highlighted in green which i dont understand but there is also no negative token amount going out to the user as is the norm in v2 swap results","",""
"401842633464610837","_kfx","22/08/2022 7:07 pm","I had a similar question a few days back: https://discord.com/channels/597638925346930701/607978109089611786/1009727065718800394","",""
"843155325619535912","Etherscan Bot#5753","22/08/2022 7:07 pm","","",""
"401842633464610837","_kfx","22/08/2022 7:07 pm","it seems that it's not a subgraph problem, but just a way these tranactions happe, same thing shows up in the Etherscan logs","",""
"401842633464610837","_kfx","22/08/2022 7:08 pm","these are fee-on-transfer token where transfers (as part of a swap) trigger another swap in the uniswap router","",""
"405102234637172747","_book_","23/08/2022 12:00 am","Interesting, this makes it hard to analyze based on the results of the query. 
I appreciate your reply","",""
"915808774051225642","CocoReplica#8212","24/08/2022 11:11 pm","hope to circle back on this. would anyone please kindly shed some lights?","",""
"305361177922502668",".bitwiz","26/08/2022 12:09 pm","Hello Frens! I try to query TickData from the API but interestingly the Volume in the Ticks is always zero. When I filter on Ticks which are greater Zero, the resulting set is empty. Am I doing smth wrong? Not super pro in GraphQL tbh. My goal is basically to query the day data for all ticks in all pools for the last 7 days.

```
{
  tickDayDatas (
    orderBy: date, 
    orderDirection: desc,
    skip: 0,
    # first:1000,
    where:{
      # date_gt:1660946400,
        # pool: ""0xa4e0faa58465a2d369aa21b3e42d43374c6f9613"",
      volumeUSD_gt: 0
    })
  {
    id
    date
    volumeUSD,
    feesUSD
  }
}
```
This results in:

```
{
  ""data"": {
    ""tickHourDatas"": []
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","26/08/2022 12:09 pm","<https://etherscan.io/address/0xa4e0faa58465a2d369aa21b3e42d43374c6f9613>","",""
"456226577798135808","Deleted User","27/08/2022 4:32 pm","hey, does anyone know what  `liquidity`  signifies in the Pool entity","",""
"690611964808003624","compounder112","29/08/2022 5:05 pm","Hello. Is there an official Uniswap Optimism subgraph?","",""
"690611964808003624","compounder112","29/08/2022 5:06 pm","I'm currently using this:
https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis/

But it returns negative number of DAI and some other tokens TVL:
query getTokens {
  tokens(
    skip: 0
    first: 400
    where: {id: ""0xda10009cbd5d07dd0cecc66161fc93d7c9000da1""}
  ) {
    id
    decimals
    totalValueLocked
  }
}","",""
"843155325619535912","Etherscan Bot#5753","29/08/2022 5:06 pm","<https://etherscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1>","",""
"810459362371567616","iposignal","30/08/2022 7:05 am","I would like to understand how volumeUSD for pools is calculated. (first pool volume in query below is 267B) Its seems to be a number for the whole year,. If so I wonder what happens if the pool exists for less than a year. 

{
    pools(
      where: {liquidity_not: ""0""},
      orderBy: volumeUSD, orderDirection: desc, first:10){
        id
        volumeUSD
            token0 {
            symbol
        }
            token1 {
        symbol
        }
    }
}","",""
"932964371670380604","Joshua Oh | ANN#7451","30/08/2022 3:18 pm","Hi, the graph API returns indexing_error for any queries. are you guys have plan to fix this situation?","",""
"676461622792814624","jrondon","30/08/2022 4:39 pm","Hello! same problem here","",""
"941592789861404732","shinatoken","30/08/2022 5:30 pm","Same problem. 😭","",""
"739387217868226590","PudgeKnight#4007","30/08/2022 5:36 pm","it seems the graph node is having issues syncing","",""
"918878933456400445","GetAlpha#1348","30/08/2022 5:39 pm","@Austin 🦄 @jack  @steph 🦄 @tina 🦄  Could you please take a look what happened","","💕 (3)"
"941592789861404732","shinatoken","30/08/2022 5:40 pm","Simple way to reproduce: https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"149735676278079488","austino256","30/08/2022 7:07 pm","Working on it now","","👍 (3)"
"989275482488983663","AnthonyNicholas#4331","30/08/2022 7:11 pm","^ @Joshua Oh | ANN @jrondon @Shina @PudgeKnight @GetAlpha","",""
"149735676278079488","austino256","30/08/2022 7:23 pm","Should be full synced soon. The v3 graph takes a while to sync.","","💕 (2)"
"918878933456400445","GetAlpha#1348","30/08/2022 7:36 pm","Thanks a lot, waiting for a sync complete","",""
"941592789861404732","shinatoken","30/08/2022 8:19 pm","Working great now. Thank you 💕","",""
"989275482488983663","AnthonyNicholas#4331","30/08/2022 8:25 pm","Let's gooooo!!!!","",""
"471357824299958273","crypto_rachel","31/08/2022 12:32 am","I'm confused I though this was the main one, also looks like this one has indexing error
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?version=current","",""
"149735676278079488","austino256","31/08/2022 12:33 am","that one tried to fix some of the errors of the original one, but i think it also had issues. i can ask about that one too.","",""
"471357824299958273","crypto_rachel","31/08/2022 12:34 am","😄  all the fun with the graph 🙏  thanks I think the one I posted was what the UI uses now, and ETH top tokens isn't showing so I was hoping that was issue","",""
"149735676278079488","austino256","31/08/2022 12:35 am","hmm let me follow up","",""
"471357824299958273","crypto_rachel","31/08/2022 12:35 am","No worries 🙏  Thank you","",""
"405102234637172747","_book_","31/08/2022 1:31 am","Hi, when I look up details on the following transaction on uniswap v2 subgraph, how would I be able to know who ended up getting the tokens? (in the results both the `sender` and `to` return the address for the V2 router)

`{
swaps(where: { transaction: ""0xa421f3badafc866a9a27135abd5b71a7f6116a578986d72e5baa0fd0e4e271be"" }) 
 {
  sender
  id
  timestamp
  to
  pair {
      token0 {
          symbol
      }
      token1 {
          symbol
      }
  }
 }
}
`","",""
"843155325619535912","Etherscan Bot#5753","31/08/2022 1:31 am","<https://etherscan.io/tx/0xa421f3badafc866a9a27135abd5b71a7f6116a578986d72e5baa0fd0e4e271be>","",""
"405102234637172747","_book_","31/08/2022 1:32 am","I have hundreds of transactions like this so trying to find out how i can see the full picture of the transaction","",""
"149735676278079488","austino256","31/08/2022 1:32 am","look at who called the transaction using big query or web3.py is how i do it. you can't really do it only using the graph.","",""
"405102234637172747","_book_","31/08/2022 1:34 am","Thank you for the quick response Austin

Is there any resource you know that has already compiled a kind of list of all the transactions that would provide these types of details already?","",""
"149735676278079488","austino256","31/08/2022 1:34 am","i typically use google big query's ethereum etl or dune analytics.","",""
"405102234637172747","_book_","31/08/2022 1:35 am","i tried to use bigquery but it went over my head lol
Bit of a steep learning curve there i guess","",""
"149735676278079488","austino256","31/08/2022 1:36 am","yeah it's a lot to work with. if you can use infura and web3.py or web3.js, then you can ask who is the sender of the transaction that you are looking for","",""
"405102234637172747","_book_","31/08/2022 1:37 am","i'll have to try with web3.py probably the fastest approach
thank you","",""
"773558050719531018","Hanna_mel#5113","31/08/2022 12:31 pm","liquidity method gives you the L from the white paper, that is the available liquidity in the currrent tick range, that is in the tick range on which the current price is located in.","",""
"955861600194138192","kristian57","01/09/2022 3:46 pm","hi lovley people! one question. what's the most reliable method to fetch the price of a given asset? Subgraph seems to be the fastest if you compare it against querying the blockchain directly, but it is as accurate tho? cheers","",""
"485988968198963210","dabao","02/09/2022 8:25 am","hi there! I was wondering if anyone knows how are the `liquidityActive` (calculated here https://github.com/Uniswap/v3-info/blob/master/src/data/pools/tickData.ts#L299) relate to the `liquidity` of a position. It seems that the info website shows the liquidity distribution graph of a pool using this. I searched the chat history and found that @kfx asked this before but didn't find any reply? I was trying to calculate something like where the ""majority"" of the liquidity of a pool is, using the liquidity distribution.","",""
"719464533655158848","potatoathlete","02/09/2022 1:52 pm","Hello! Does anyone know how this highlighted figure is generated for the subgraph API? I have been trying from several paths (pools, poolHours and poolDayDatas) but the closest i got was poolDayData, but even even that with that I am unable to query such that the volume is close to 67.31k. This is the query I am using so far. Many thanks if anyone has an answer to this!🙏 
`query pools {
  pools(
    first: 10
    orderBy: volumeUSD
    orderDirection: desc
    where: {id: ""0x07a6e955ba4345bae83ac2a6faa771fddd8a2011"", liquidity_gt: 0, token0Price_gt: ""0"", token1Price_gt: ""0"", totalValueLockedUSD_gt: ""0"", volumeToken0_gt: ""0"", volumeToken1_gt: ""0"", volumeUSD_gt: ""0"", poolHourData_: {periodStartUnix_lt: 1662103426, periodStartUnix_gt: 1662016412}, token0_: {name_contains_nocase: ""MATIC""}}
  ) {
    id
    volumeToken0
    volumeToken1
    token0Price
    token1Price
    volumeUSD
    liquidity
    totalValueLockedUSD
    token1 {
      symbol
      volumeUSD
      name
      volume
      txCount
    }
    token0 {
      symbol
      volumeUSD
      name
      txCount
      volume
    }
    poolHourData(orderBy: periodStartUnix, orderDirection: desc, first: 24) {
      token0Price
      token1Price
      volumeToken1
      volumeToken0
      periodStartUnix
      volumeUSD
      txCount
    }
    poolDayData(orderBy: date, orderDirection: desc, first: 3) {
      token0Price
      token1Price
      volumeToken1
      volumeToken0
      date
      volumeUSD
    }
  }
}`","https://cdn.discordapp.com/attachments/765222888617017365/1015174969325535272/unknown.png",""
"843155325619535912","Etherscan Bot#5753","02/09/2022 1:52 pm","<https://etherscan.io/address/0x07a6e955ba4345bae83ac2a6faa771fddd8a2011>","",""
"447487680511606785","reuptake","02/09/2022 8:42 pm","Hey! What is the official graph URL for Polygon?","",""
"447487680511606785","reuptake","02/09/2022 8:42 pm","It would be nice if those URLs were pinned here...","","➕ (4)"
"673346658456829952","nacho.n.cheese","04/09/2022 1:05 am","Hey everyone, I'm a student working on a data science project using data scraped from the graph for UniswapV3. I am trying to get historical information for all ticks in a given pool e.g. the grossLiquidity and feeGrowthOutside for tick ""X""  in pool 0x34.... over the last 20 days, where X could be any tick in the specified pool

I have tried querying tickDayDatas filtering on date and pool, but it seems like tickDayDatas doesn't provide information for all ticks on the particular date. 

For example, the query
{
  tickDayDatas(where:{pool:""0x4585fe77225b41b697c938b018e2ac67ac5a20c0"",date:1620518400 }){
    tick{tickIdx}
  }
}

only generates information on 4 different ticks for that date

{
        ""tick"": {
          ""tickIdx"": ""256910""
        }
      },
      {
        ""tick"": {
          ""tickIdx"": ""257930""
        }
      },
      {
        ""tick"": {
          ""tickIdx"": ""258460""
        }
      },
      {
        ""tick"": {
          ""tickIdx"": ""258700""
        }
      }","",""
"843155325619535912","Etherscan Bot#5753","04/09/2022 1:05 am","<https://etherscan.io/address/0x4585fe77225b41b697c938b018e2ac67ac5a20c0>","",""
"673346658456829952","nacho.n.cheese","04/09/2022 1:06 am","Does anyone know of a way to get historical data on all ticks within a specific pool, over ""k"" previous days using the graph?","",""
"972941249453629481","McRacoon#5844","05/09/2022 11:08 pm","Hi all, trying to calculate price impacts for V3 on swaps that I source from the subgraph. The swap entity yields a ""tick"" parameter that is the tick after the swap. I believe it would be too naive to simply compare ticks before and after the swaps (where tick before swap is tick after previous swap) and deduct the price impact from there? Also the parameter sometimes returns a value that is a tick outside tickspacing, e.g. 196273 even if tickspacing should only allow e.g. 196270 or 196280. Can anyone shed some light on this? Thanks!","",""
"149735676278079488","austino256","06/09/2022 5:43 am","You can have swaps in between tick-spacing. You can also take ((sqrtPriceX96_before - sqrtPriceX96_after) / (2 ^ 96)) ^ 2. It’s more accurate because it takes into account that ticks can be non-integers.","",""
"149735676278079488","austino256","06/09/2022 5:44 am","The tick spacing only decides where you can place liquidity orders.","",""
"983314132411482143","0xtawa#2365","06/09/2022 12:40 pm","Hi guys, I was checking your volume for the past year and noticed two big spike:- The first one 31/03/2021 of 12b$ on v2. This one looks fine since the previous days the volume was increasing but just wanted to double-check with you.
- The second one was on 15/05/2022 of 37.5b$. This one is really huge in comparison, any idea what made that spike? Is it an error?
Thanks in advance","",""
"972941249453629481","McRacoon#5844","06/09/2022 5:28 pm","Thanks for your answer Austin, appreciate it! So if we run this through an example: The following query yields two swaps: {
 swaps(
      where:{
      pool:""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""
    transaction_:{blockNumber:14633975}})
  {
    amount0
    amount1
    amountUSD
    tick
    sqrtPriceX96
    logIndex
  }
  }

With the logIndex I can infer the order of the swaps. In the example on has logIndex=261 (the second transaction) and logIndex=27 (the first transaction)

so price_impact(logIndex=261) = ((sqrtPriceX96(logIndex=261)-sqrtPriceX96(logIndex=27))/(2^96))^2
N.B. I think you had a typo and it should be sqrtPriceX96_after - sqrtPriceX96_before (you had it the other way round)!
To get the price impact for the first swap in the block (logIndex=27) I would just take the last one of the previous block and so on..
Agree? 🙂

Thanks for taking the time!","",""
"843155325619535912","Etherscan Bot#5753","06/09/2022 5:28 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"149735676278079488","austino256","06/09/2022 6:28 pm","hmmm I think that works if the swaps are back to back","",""
"972941249453629481","McRacoon#5844","06/09/2022 6:33 pm","back to back like in ""there is no other swap in between""? which should be, given the query sources all swaps within a block if I am not mistaken","",""
"149735676278079488","austino256","06/09/2022 7:31 pm","i don't use the graph for swaps, so I am not sure. mostly just wanted to point out that caveat.","","👍 (1)"
"722776515661791242","chucksw#3146","06/09/2022 8:18 pm","Also looking for same - all I can find is an announcement that it is supported now  https://thegraph.com/blog/graph-polygon","",""
"426476836307075072","castlebravo19","07/09/2022 12:08 am","Hello all, I was wanting to graph the liquidity distribution in V3 pools as demonstrated in the link below under the ""liquidity"" tab. How can I query this data?

https://v3.info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:20 am","Hey there, you can query this data here - https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"471357824299958273","crypto_rachel","07/09/2022 12:21 am","V3 optimism
https://thegraph.com/hosted-service/subgraph/ianlapham/optimism-post-regenesis

V3 polygon
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon

V3 arbitrum
https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal

V3 Celo
https://thegraph.com/hosted-service/subgraph/jesse-sawa/uniswap-celo

V3 main net for basics, and positional Data use
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
V3 main net for minimal will work for LQ and ticks (a recovery from a break in last one)
https://thegraph.com/hosted-service/subgraph/ianlapham/v3-minimal

V3 goerli testnet
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli

V2
https://thegraph.com/explorer/subgraph/ianlapham/uniswapv2

V1
https://thegraph.com/explorer/subgraph/ianlapham/uniswap

https://docs.uniswap.org/sdk/v3/overview","","🔥 (2),✅ (1)"
"471357824299958273","crypto_rachel","07/09/2022 12:21 am","Pinned a message.","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:21 am","I recommend reading our subgraph introduction to learn more about how our subgraph works - https://docs.uniswap.org/sdk/subgraph/subgraph-data.","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:22 am","Uniswap V3 ^ 🙂","","🙏 (1)"
"471357824299958273","crypto_rachel","07/09/2022 12:22 am","@chucksw@reuptake 🌊 all the graph links I have","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:24 am","Maybe we should host a tutorial on subgraph queries 🤔","","💯 (1)"
"149735676278079488","austino256","07/09/2022 12:25 am","👀","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:25 am","dm coming your way sir @Austin 🦄","",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 12:25 am",":sipCOFFEE:","",""
"471357824299958273","crypto_rachel","07/09/2022 12:26 am","I do find this is an area many are asking about, but if we are looking for new ways 🤷‍♀️","",""
"149735676278079488","austino256","07/09/2022 12:27 am","can try to help - i mostly think the graph is a good stepping stone to other data sources which are better","","💯 (2)"
"471357824299958273","crypto_rachel","07/09/2022 12:28 am","yeah I prefer the block data, but I see how the graph is easier for people used to api calls","",""
"426476836307075072","castlebravo19","07/09/2022 12:46 am","Thanks for your quick reply! I've been trying to get the data using GraphiQL, here is as far as I got in constructing the query:

`query MyQuery {
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    poolHourData {
      token0Price
      token1Price
      liquidity
      tick
    }
  }
}`

However, the returns from this don't look right, especially comparing to what is shown on the Uniswap webpage linked above.","",""
"843155325619535912","Etherscan Bot#5753","07/09/2022 12:46 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"426476836307075072","castlebravo19","07/09/2022 1:01 am","Here is a snapshot of what is returned by the above query. I think the parameters I am using here are simply wrong, but when I look through the schema I can't find anything that matches what I am looking for (amount locked as a function of price bin). Any further guidance on how I can properly construct this query?","https://cdn.discordapp.com/attachments/765222888617017365/1016792713976361063/Screen_Shot_2022-09-06_at_1.25.54_PM.png",""
"989275482488983663","AnthonyNicholas#4331","07/09/2022 1:07 am","Did you reference the V3 schema? https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L1","",""
"426476836307075072","castlebravo19","07/09/2022 1:27 am","Yes I did, but I can't tell what the most appropriate parameters for my query are. For example, I want hourly pool data, but it looks like this does not allow me to query by ""sub-pool"". e.g., query the amount staked between tick intervals for a given pool every hour. So then my thought is to look at tickHourData, but there are no parameters that refer to amount staked at a given tick. Perhaps I am misunderstanding terms here?","",""
"149735676278079488","austino256","07/09/2022 1:47 am","try this out: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql","",""
"426476836307075072","castlebravo19","07/09/2022 1:49 am","That took me to the GraphiQL landing page, is this what you were sharing or should I be seeing an example query?","https://cdn.discordapp.com/attachments/765222888617017365/1016804863532863558/Screen_Shot_2022-09-06_at_2.18.15_PM.png",""
"149735676278079488","austino256","07/09/2022 1:55 am","you can go to the explorer and try things out there","",""
"426476836307075072","castlebravo19","07/09/2022 2:51 am","Thanks for your help with this. I have been using the explorer and have a few brief questions which will help me. How am I to understand prices for this query? I see here that token0 is USDC and token1 is WETH. Yet the prices obtained from the `tick` query appear indicate that USDC is worth more than WETH. How should I interpret these prices? I would like to obtain the price of WETH with respect to USDC.

The query, if of interest:
`query MyQuery {
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    tick {
      id
    }
    token0 {
      id
      symbol
    }
    token1 {
      id
      symbol
    }
  }
  
  tick(id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8#190620"") {
    liquidityGross
    price0
    price1
    tickIdx
  }`","https://cdn.discordapp.com/attachments/765222888617017365/1016820487722111067/Screen_Shot_2022-09-06_at_2.47.09_PM.png",""
"843155325619535912","Etherscan Bot#5753","07/09/2022 2:51 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"843155325619535912","Etherscan Bot#5753","07/09/2022 2:51 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"985078005456048160","Zed Wong#1590","07/09/2022 4:22 am","Hi guys, allow me to ask a dumb question. I tried to build [v3-subgraph](https://github.com/Uniswap/v3-subgraph) and ran graph build  but failed. Just opened an issue [here](https://github.com/Uniswap/v3-subgraph/issues/145). Any ideas?","",""
"983314132411482143","0xtawa#2365","07/09/2022 1:45 pm","Hi, is there a subgraph for Celo?","",""
"985078005456048160","Zed Wong#1590","07/09/2022 2:15 pm","https://thegraph.com/hosted-service/subgraph/messari/uniswap-v3-celo","",""
"983314132411482143","0xtawa#2365","07/09/2022 2:16 pm","thank you!","","👍 (1)"
"426476836307075072","castlebravo19","07/09/2022 10:09 pm","Hello all, I have come across what seems to be an inconsistency when using the subgraph tool for `tick` and `pool` data. The tick and price data do not seem to match when I query `tick` data. Here are photos of two examples. The first is a query of the `pool`, which correctly shows the price of WETH/USDC as well as the corresponding current tick (tickIdx = 202916). When I query across a range of ticks, however, the prices seem to be an entirely different scheme. The numbers are astronomical and show USDC being valued above WETH, as seen in the second photo. I'm sure I am missing something but wanted to check if there is a deeper issue. Thanks for your help.","https://cdn.discordapp.com/attachments/765222888617017365/1017111987802619955/Screen_Shot_2022-09-07_at_10.32.22_AM.png",""
"426476836307075072","castlebravo19","07/09/2022 10:11 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1017112411070799964/Screen_Shot_2022-09-07_at_10.40.50_AM.png",""
"471357824299958273","crypto_rachel","07/09/2022 11:28 pm","here is the official one
https://api.thegraph.com/subgraphs/name/jesse-sawa/uniswap-celo
https://thegraph.com/hosted-service/subgraph/jesse-sawa/uniswap-celo","",""
"149735676278079488","austino256","07/09/2022 11:46 pm","the first image is adjusting for decimal differences in the tokens, while the second is not. usdc is 6 decimals and weth is 18","",""
"471357824299958273","crypto_rachel","07/09/2022 11:49 pm","Pinned a message.","",""
"426476836307075072","castlebravo19","07/09/2022 11:51 pm","Thank you Austin. Where can I find documentation on how to make this adjustment for the second query?","",""
"149735676278079488","austino256","08/09/2022 12:28 am","hmmm im not sure what you mean by that - the second query is correct while the first one is derived data. ive seen that you are trying to replicate the liquidity distribution which is probably the hardest data set on v3 to replicate. I would really try to understand the easier datasets before  moving onto what is the most difficult one.","",""
"426476836307075072","castlebravo19","08/09/2022 3:52 am","You're right, I am trying to replicate the liquidity distribution and would like to get it formatted in WETH/USDC prices as it is displayed in the Uniswap V3 webpage. I'd really like to reproduce that data specifically. I believe I have the base query correct for it (the second image), but I need to transform the data so prices appear similarly to the first. Any pointers for how to do this, or resources that will point me in the right direction?","",""
"149735676278079488","austino256","08/09/2022 5:31 am","if you let the tick = t_i, you can convert the tick to the USDC/WETH (the price of n USDC for 1 WETH, which is what you want) by doing price = 1 / (1.0001 ^ t_i) * 1e12. The pool price is given in WETH/USDC (so flip it), and then you have to convert by 1e12 to account for the decimal differences.","","ty (1)"
"426476836307075072","castlebravo19","09/09/2022 1:23 am","Thanks, that's exactly what I was looking for. I am now looking at the liquidity data. Does `liquidityGross` correspond to L from the Uniswap V3 Whitepaper? Such that the sum of all liquidityGross across ticks should equal the `liquidity` of the entire pool?","https://cdn.discordapp.com/attachments/765222888617017365/1017523156711383040/Screen_Shot_2022-09-08_at_1.42.42_PM.png",""
"158153344039256064","patrick_1336","09/09/2022 6:46 pm","Is it possible to query 7d volume data instead of 24h volume data? Or is this not served on the graph?","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 12:31 am","I'm going to figure this out. I'll message you back soon","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 5:49 pm","@Patrick I think this might work:

query date_volume{
  poolDayDatas(first: 10, orderBy: date, where: {
    pool: ""0x5777d92f208679db4b9778590fa3cab3ac9e2168"",
    date_gt: 1661990400
  } ) {
    date
    volumeUSD
  }
}","",""
"843155325619535912","Etherscan Bot#5753","11/09/2022 5:49 pm","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 5:50 pm","This is one of the examples on our site - https://docs.uniswap.org/sdk/subgraph/subgraph-examples#pool-daily-aggregated. I didn't know we had this example up on the site until this morning 😂","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 5:55 pm","Yesterday I was trying to find a date range function in graphql, but I couldn't find it. I was also trying to see if I can filter a range by block numbers but the code was messy. date_gt is the function we need here. date_gt stands for ""date greater than"". It's giving me values for a date greater than 1661990400, which is September 1st 12:00:00 AM GMT time. You can add any epoch time to replace 1661990400. ""first:10"" is the range of days you want information for","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 5:57 pm","Let me know if this was helpful","",""
"158153344039256064","patrick_1336","11/09/2022 7:14 pm","Cool thanks!!","",""
"989275482488983663","AnthonyNicholas#4331","11/09/2022 10:35 pm","No worries! Let me know if you need help with anything 🙂","",""
"1018614390024589322","Morgenthal#7427","12/09/2022 1:53 am","Hello, sorry for dumb questions. But what is the best way to request a quotation for the specific pair and the volume?","",""
"1018614390024589322","Morgenthal#7427","12/09/2022 1:55 am","I mean the way it realized on your web-site: https://api.uniswap.org/v1/quote","",""
"1018614390024589322","Morgenthal#7427","12/09/2022 1:56 am","But as for the web-site I can't figure out how to calculate amount in decimals. Sometimes it's 19 symbols length, sometimes less...","",""
"989275482488983663","AnthonyNicholas#4331","12/09/2022 2:37 am","Hey, does this query help? https://docs.uniswap.org/sdk/subgraph/subgraph-examples#general-pool-query","",""
"989275482488983663","AnthonyNicholas#4331","12/09/2022 2:38 am","The example above is looking at the ETH-USDC pool but you can view any pool. All you need to do is change the value assigned to “id” with the smart contract of the pool you want to view","",""
"1018614390024589322","Morgenthal#7427","12/09/2022 2:40 am","That's what I needed! Thank you very much! Have a nice evening!","","BabyClap (1)"
"989275482488983663","AnthonyNicholas#4331","12/09/2022 2:41 am","Sweet! Have a nice evening as well 🙂","","👍 (1)"
"158153344039256064","patrick_1336","13/09/2022 12:23 am","I am currently programming a small app/excel-exporter to help me figure out on a given pair which feeTier pool on which network gives the most fees on uniswapV3. Now I just realized that while I do have the generated fees per day for everything, I have no idea about the ranges of the LPs in that pool. Is there any way to expose something like average LP range for any given pool?, maybe weight-adjusted for the capital provided?","",""
"158153344039256064","patrick_1336","13/09/2022 12:38 am","In general I have the feeling that there is A LOT of headroom in terms of usability/statistics/etc for LPs (which I am one myself). I'm really interested in getting some tools out there to help LPs figure out where to deploy their Liquidity. I figure even while hurting my own ""edge"" of knowledge I gain through knowing this, it would mean better arbitrage speeds for LPs and lower spread for users in the long term.","",""
"989275482488983663","AnthonyNicholas#4331","13/09/2022 12:39 am","Hmm I'm not too sure","",""
"158153344039256064","patrick_1336","13/09/2022 12:39 am","I mean the data is all there I guess, it's a matter of how to expose these complex numbers in a meaningful way. Also calculating them in the first place (and associated costs)","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","13/09/2022 12:39 am","I'll have to ask the team. Our schema shows all of the commands you can use in the subgraph - https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L1","",""
"989275482488983663","AnthonyNicholas#4331","13/09/2022 12:40 am","I'll do some research into this Patrick","","👍 (1)"
"158153344039256064","patrick_1336","13/09/2022 12:41 am","Thanks I know that one. Would be amazing if you could get back to me for this as I feel this would be a valuable thing to have to enable better tooling for LPs","","👍 (1)"
"889420117841174540","ronkerbump","13/09/2022 11:07 am","Q:  I am really curious to understand why there is a ` MINIMUM_ETH_LOCKED = BigDecimal.fromString('60')`  on the subgraph?","",""
"471357824299958273","crypto_rachel","13/09/2022 11:14 am","This is for tracking, pools need 60 eth value of a whitelisted token, to be fully tracked","",""
"889420117841174540","ronkerbump","13/09/2022 11:59 am","But why such a high amount. Uniswap v2 does it for 2 ETH","",""
"471357824299958273","crypto_rachel","13/09/2022 12:14 pm","v2 full tracking 50 eth","",""
"401842633464610837","_kfx","13/09/2022 5:51 pm","I'm with you. Uniswap v3 is super complex for average retail LP, and the tooling is not adequate, alhtough its getting better with time thanks to community efforts.
In addition be warned that the subgraph data has problems of its own.","",""
"401842633464610837","_kfx","13/09/2022 5:52 pm","Look at info.yewbow.org and revert.finance if you haven't done so yet, they may help in selection of good pools.","",""
"989275482488983663","AnthonyNicholas#4331","13/09/2022 11:12 pm","Have you tried using Dune to do this? It would be hard to parse LP ranges with the subgraph","",""
"158153344039256064","patrick_1336","13/09/2022 11:31 pm","Nope but as I understand this way I couldn't build a fully decentralized version right? I'd have to rely on a single centralized Indexer","",""
"158153344039256064","patrick_1336","13/09/2022 11:32 pm","With the graph I get some decentralization right?","",""
"402213516204965889","bz2639","14/09/2022 7:14 am","Hey, does anyone have any examples of pulling your own uniswap v3 liquidity pool data (specifically token a and token b counts) using the subgraph api?","",""
"805653854972674099","mark sherlock#5172","14/09/2022 9:21 am","Hi,  devs. I tried to query the swap data(the graph) by specifying the sender, but it didn't return null. This address has done many swap transactions. Can anyone give me an answer? Thank you
it return NULL
api url is this one: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"471357824299958273","crypto_rachel","14/09/2022 9:24 am","if you share your call then, you are more likely to get help","",""
"805653854972674099","mark sherlock#5172","14/09/2022 9:25 am","code is like this","https://cdn.discordapp.com/attachments/765222888617017365/1019456267464491018/unknown.png",""
"149735676278079488","austino256","14/09/2022 2:48 pm","Usually the sender isn’t the end users wallet, but the router v3 contract. Probably why none are coming up.","",""
"859126061701922846","Danilo Falco#0952","15/09/2022 9:35 pm","Hi Guys good afternoon,

I launched a liquidity pool on the uniswap of a polygon token, what's the best way via Rest API to get the token value to put it on the platform we created?

Does anyone have an example of how I can do it by putting the token contract number through the graph-api and getting the answer.

Does anyone have a good way to help.","",""
"471357824299958273","crypto_rachel","16/09/2022 10:26 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon
```
{
  pool(id:""0x45dda9cb7c25131df268515131f647d726f50608""){
    token0 {
      id
    }
    token0Price
    token1 {
      id
    }
    token1Price
  }
}```","",""
"928069437989457952","WoellaM#1359","16/09/2022 8:06 pm","When looking at pool data what is the moment that sqrtPrice, token0Price, token1Price gets measured? Is that a daily average? Or is that the price at the beginning of the day? Or at the end of the day?","",""
"928069437989457952","WoellaM#1359","16/09/2022 10:45 pm","Daily aggregated btw.","",""
"928069437989457952","WoellaM#1359","16/09/2022 10:47 pm","Another question: I can see from Uniswap v3 Schema (v3-subgraph/schema.graphql at main · Uniswap/v3-subgraph · GitHub) in ""mint"" or ""burn"", that there are 3 variables ""owner"", ""sender"" and ""origin"". What do owner, sender and origin exactly refer to? I don’t understand the github definitions exactly.","",""
"989275482488983663","AnthonyNicholas#4331","17/09/2022 12:14 am","Hey Woella, 

Owner - the owner is the owner of the position where liquidity was minted to
Sender - the address that minted the liquidity
Origin - origin of the transaction","",""
"928069437989457952","WoellaM#1359","17/09/2022 12:22 am","Could you explain “owner” more? Like if I mint ETH-USDC in the pool I am the Sender I suppose. The transaction is called Origin. But what is the Owner then? The liquidity pool address or something?","",""
"149735676278079488","austino256","17/09/2022 2:33 am","usually the owner is the nft position manager since it technically owns most of the liquidity on v3.","",""
"928069437989457952","WoellaM#1359","17/09/2022 4:45 am","Thank you!","",""
"928069437989457952","WoellaM#1359","17/09/2022 4:46 am","Thank you as well!","",""
"928069437989457952","WoellaM#1359","17/09/2022 4:46 am","🙏🏼","",""
"928069437989457952","WoellaM#1359","17/09/2022 4:46 am","Do you also know the answer to this?","",""
"149735676278079488","austino256","17/09/2022 5:05 am","I do not sadly. I don’t use those subgraph queries enough to look into them deeply. I think you could read the typescript that creates the subgraph.","",""
"149735676278079488","austino256","17/09/2022 5:06 am","My guess is it’s EOD but just a guess","",""
"471357824299958273","crypto_rachel","17/09/2022 9:43 am","The sqrtPrice and all get updated every swap, however the graph is delayed a bit as it has to process all the block data","",""
"928069437989457952","WoellaM#1359","17/09/2022 5:59 pm","But not when looking at daily data I suppose? So will it be the price after the last swap of the day?","",""
"928069437989457952","WoellaM#1359","17/09/2022 6:00 pm","Thank you, I think it is EOD as well indeed","",""
"928069437989457952","WoellaM#1359","17/09/2022 6:42 pm","For V3 What is the relation between depositedToken0, withdrawnToken0 and collectedFeesToken0? Is it that collectedFeesToken0 = withdrawnToken0 + FeesToken0?","",""
"928069437989457952","WoellaM#1359","17/09/2022 7:05 pm","And could you explain “origin” to me as well: “the EOA that initiated the txn
delta of token0 swapped”.
If I add liquidity to the pool. Is my wallet ID then the “origin”? Or is that “sender”? I just don’t understand the difference between the two actually…","",""
"149735676278079488","austino256","17/09/2022 7:16 pm","I wouldn’t trust that data. It’s derived data, and probably could be wrong","",""
"149735676278079488","austino256","17/09/2022 7:16 pm","And I would have to look at the subgraph for your other question. Can’t do it rn or soon tho","",""
"928069437989457952","WoellaM#1359","17/09/2022 7:40 pm","Allright thank you. I observed this in Python btw:","https://cdn.discordapp.com/attachments/765222888617017365/1020698179945123901/Screenshot_2022-09-17_at_14.52.41.png",""
"928069437989457952","WoellaM#1359","17/09/2022 7:40 pm","Sender and owner seem to be the same thing","",""
"928069437989457952","WoellaM#1359","17/09/2022 7:40 pm","This is the ETH-USDC 0.3% pool","",""
"928069437989457952","WoellaM#1359","17/09/2022 7:41 pm","And I therefore believe that origin corresponds to the wallet id of the LP in V3","",""
"928069437989457952","WoellaM#1359","17/09/2022 7:41 pm","This is based on all the LP transactions from the start of V3","",""
"471357824299958273","crypto_rachel","17/09/2022 10:33 pm","I'm not 100%, but I think it's a rolling 24hrs, like last 24 hrs, from last swap 🤷‍♀️","",""
"471357824299958273","crypto_rachel","17/09/2022 10:36 pm","As Austin said I would be careful which variables you trust from the graph, there is a TVL bug giving wrong tvl, not sure if it affects that though
depositedToken0, withdrawnToken0 and collectedFeesToken0
deposited from LP, withdrawn from LQ, fees collected from v3 since fees are separate","",""
"928069437989457952","WoellaM#1359","17/09/2022 11:14 pm","Okay thank you 🙏🏼","","np (2)"
"743089391764897792","medizos","18/09/2022 11:14 am","All of the assets are priced by the current spot price and it is not just for DEXs(including uniswap) but CEXs(limit order book mechanism)

As there is no liquidity term in evaluating total assets, I & my team have investigated your concerns(not cumulative ones) and written metrics to find out which one is the best to describe the performance","",""
"989275482488983663","AnthonyNicholas#4331","18/09/2022 11:40 pm","@megamen Just moving the conversation here to keep everything organized - https://discord.com/channels/597638925346930701/597638926152499206/1021090937482514452","",""
"843155325619535912","Etherscan Bot#5753","18/09/2022 11:40 pm","","",""
"989275482488983663","AnthonyNicholas#4331","18/09/2022 11:41 pm","You can query the collected fees of a position using the subgraph api. Here's the example we give on our website, https://docs.uniswap.org/sdk/subgraph/subgraph-examples#general-position-data.","",""
"989275482488983663","AnthonyNicholas#4331","18/09/2022 11:41 pm","Have you used the subgraph before?","",""
"562411582089592832","esacco","19/09/2022 2:31 am","Hey, rookie question here, im querying the subgraph PoolDayData of a pool to calculate the per dollar profit of each day. I think im not understanding correctly the units, or how to parse the ""liquidity"" value that is returned in PoolDayData. Can anyone point me in the right direction?","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 3:07 am","Hey :wave_hello: can you please share your query?","",""
"748184992974110771","5x12#8492","19/09/2022 3:26 pm","anyone has query example of collect? cannot extract anything..","",""
"795003888930914312","weyyu","19/09/2022 6:05 pm","Hi everyone, does anyone have an example or can point me to any doc's about how to query the subgraph from a NodeJs app. Ex. do I need any API keys or anything else in the headers to make it work?","",""
"795003888930914312","weyyu","19/09/2022 6:08 pm","I am trying to call it like this:
```js
    const url = 'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2';
    const query = `query {
        pairs(first:10, skip: 0) {
          id
          reserve0
          reserve1
          reserveETH
          reserveUSD
          token0{
            id
            symbol
            name
            decimals
          }
          token1{
            id
            symbol
            name
            decimals
          }
        }
      }
      `;
    const client = createClient({url});
    const data = await client.query(query).toPromise();
    console.log(JSON.stringify(data));
```","",""
"795003888930914312","weyyu","19/09/2022 6:09 pm","And the client is imported like this:
```js
import { createClient } from 'urql';
```","",""
"795003888930914312","weyyu","19/09/2022 6:24 pm","I got it now. The query had wrong format.","",""
"149735676278079488","austino256","19/09/2022 7:04 pm","https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql yeah it's EOD just to confirm","",""
"885169317291892817","dr.cryve","19/09/2022 7:18 pm","I try to query uniswap data with graph. Where do I find a pools' id number?
My query looks like this at the moment:
`
{
    pairDayDatas(where: {pairAddress: ""0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640""}){
    id
    token0 {
      id
    }
    token1 {
      id
    }
}
}
`
In the end, I would like to query the different token amounts in that pool for a given amount of days back.","",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 7:18 pm","<https://etherscan.io/address/0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640>","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 7:22 pm","Hm, I'm running queries for 'collect' but I keep getting a 'null' value. I'll look into this more. I'll contact you back once I have an update.","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 7:25 pm","Hey @Dr. Cryve, we have this example on our website 🙂 https://docs.uniswap.org/sdk/subgraph/subgraph-examples#pool-daily-aggregated","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 7:28 pm","A pools' id number is its' contract address. Here are various pools on Uniswap v3 - https://info.uniswap.org/#/pools. When you click on a pool, the URL will have a long string of numbers and letters starting with '0x'. This is the pool id (or the pool contract address). In this image, the id (contract address) is 0x5777d92f208679db4b9778590fa3cab3ac9e2168.","https://cdn.discordapp.com/attachments/765222888617017365/1021420040005877800/Screen_Shot_2022-09-19_at_9.57.47_AM.png",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 7:28 pm","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"885169317291892817","dr.cryve","19/09/2022 7:31 pm","Thanks, didn't know that the id is the contract address","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","19/09/2022 7:31 pm","Here's an example of the query you want: 

{
  poolDayDatas(first: 10, orderBy: date, where: {
    pool: ""0x5777d92f208679db4b9778590fa3cab3ac9e2168"",
    date_gt: 1633642435
  } ) {
    date
    liquidity
    sqrtPrice
    token0Price
    token1Price
    volumeToken0
    volumeToken1
  }
}

**first: 10** - this means that the query will give you results for the first ten days after 1633642435 

**date_gt** - this stands for 'date greater than' and uses EPOCH time. You can use an EPOCH converter to obtain this value 0 https://www.epochconverter.com/","",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 7:31 pm","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"885169317291892817","dr.cryve","19/09/2022 7:47 pm","Thank you so much!
Your help is amazing! Your code snippet and also the examples from the docs work in the prescribed v3 graph explorer from the docs.

Now I tried your example, @Anthony 🦄 // Community Manager just with another pool address: ""0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640"" USDC/ETH pool
This time it doesn't work and just returns an empty data set:","https://cdn.discordapp.com/attachments/765222888617017365/1021424835185872979/unknown.png",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 7:47 pm","<https://etherscan.io/address/0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640>","",""
"885169317291892817","dr.cryve","19/09/2022 7:49 pm","Should be the correct address since etherscan confirms that it is a V3 uniswap pool","https://cdn.discordapp.com/attachments/765222888617017365/1021425286060986468/unknown.png",""
"149735676278079488","austino256","19/09/2022 7:55 pm","lower case the pool -> 0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640","",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 7:55 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 8:03 pm","@Dr. Cryve As Austin said, you need to lowercase the letters in the pool address. The pool address should be 0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640. Here's some of the output","https://cdn.discordapp.com/attachments/765222888617017365/1021428916726026250/Screen_Shot_2022-09-19_at_10.33.37_AM.png",""
"843155325619535912","Etherscan Bot#5753","19/09/2022 8:03 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"885169317291892817","dr.cryve","19/09/2022 8:20 pm","😆 🤝","",""
"885169317291892817","dr.cryve","19/09/2022 8:44 pm","How can I find out more about the different entities and their attributes? So in this example there is ""liquidity"" and there is also ""tvlUSD"". I thought that this would potentially be the same, but it isn't. @Anthony 🦄 // Community Manager","",""
"149735676278079488","austino256","19/09/2022 9:29 pm","https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql

liquidity is a value in the v3 whitepaper and is not related at all to tvlUSD.","",""
"928069437989457952","WoellaM#1359","19/09/2022 10:51 pm","what does   the timestamp in ""fees"" refer to?  does it refer to the time of fees collection? or when the position started?","",""
"941105728771457064","rickrfarina#9392","19/09/2022 10:58 pm","just making sure I can post here!","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:13 pm","Yes you can 🙂","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:18 pm","Hey @WoellaM, is this a question about timestamp in 'Collect'?","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:18 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1021477980289114193/Screen_Shot_2022-09-19_at_1.48.40_PM.png",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:20 pm","@Rand Here's a link to our schema - https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L1","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:21 pm","You can write the query here - https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"989275482488983663","AnthonyNicholas#4331","19/09/2022 11:26 pm","Here's an example I wrote","https://cdn.discordapp.com/attachments/765222888617017365/1021479994020593735/Screen_Shot_2022-09-19_at_1.56.40_PM.png",""
"928069437989457952","WoellaM#1359","20/09/2022 3:02 am","In fact no, but you answered my question anyways hahaha. It was a stupid question","",""
"928069437989457952","WoellaM#1359","20/09/2022 3:02 am","Thanks!","",""
"989275482488983663","AnthonyNicholas#4331","20/09/2022 3:03 am","It was a great question","",""
"989275482488983663","AnthonyNicholas#4331","20/09/2022 3:06 am","Let me know if you need help with anything 🤝","","🙌🏼 (1)"
"872733682438393867","Ashwin nair#7759","20/09/2022 12:11 pm","How can I calculate apr from various pools using subgrapgh?","",""
"885169317291892817","dr.cryve","20/09/2022 1:09 pm","Thanks!
Now, I'd like to get the virtual reserve values of two tokens within a pool. I saw the formula in the v3 whitepaper to calculate those values out of the liquidity and the sqrtPrice. Both numbers that I get by reading them through a graph query are very big. So I assume that the sqrtPrice value is probably given in wei or where do I find the unit they are given in?","https://cdn.discordapp.com/attachments/765222888617017365/1021686913326907402/unknown.png",""
"885169317291892817","dr.cryve","20/09/2022 1:22 pm","These are the numbers I get","https://cdn.discordapp.com/attachments/765222888617017365/1021690185819373578/unknown.png",""
"885169317291892817","dr.cryve","20/09/2022 1:22 pm","I am looking at this pool: 0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640","",""
"748184992974110771","5x12#8492","20/09/2022 6:42 pm","hey @Anthony 🦄 // Community Manager, any updates on collect?","",""
"841592026864943134","dias_sb#7026","20/09/2022 7:22 pm","Hi folks, I am trying to develop a small graph client tool that will send trades related to our company account to a timestream data for accounting and audit purposes. For UNI v3, I am able to get the trades, but a bit lost on how to calculate how much of the liquidity belongs to our particular address. The range for our position is very v2 style meaning from the minimum to very high levels across pools. 

If I use position.liquidity for our NFT's and also take the sum of all liquidity and compute each trade as a ratio of our liquidity to the total liquidity is that the correct assumption or am I totally off the path?","",""
"873844126192398377","novtom#0322","21/09/2022 9:23 am","Hello, I have a question regarding uniswapV3 graphQL. I want to query a pool of uniswapV3 polygon, but nothing returns. Can uniswapV3 graphQL track uniswapV3 pools on other chains?","",""
"471357824299958273","crypto_rachel","21/09/2022 9:29 am","these aren't in wei or any unit, they are representations through math sqrtPrice is L=√xy, and the L is a x96 number
check this repo has a lot of good math
http://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","",""
"471357824299958273","crypto_rachel","21/09/2022 9:36 am","@5x12
I don't think Collect is what you think
```
{position(id:""1""){
  depositedToken0
  depositedToken1
  collectedFeesToken0
  collectedFeesToken1
}
```
this is a position view call, what are you trying to look up","",""
"471357824299958273","crypto_rachel","21/09/2022 9:37 am","there are different graphs for each network, check pins for links","https://cdn.discordapp.com/attachments/765222888617017365/1021995996240154666/unknown.png",""
"885169317291892817","dr.cryve","21/09/2022 12:48 pm","Thanks! Sorry, I've never heard of a x96 number. What does that mean?","",""
"885169317291892817","dr.cryve","21/09/2022 1:23 pm","Hi LP experts,
I just queried the swap balances as cumulative sum within a Uniswap v3 pool (BOSON/ETH). Interestingly both sums become positive! I'd have expected to see that one becomes negative and the other one goes positive. Does this have to do with the changing price or do you have any explanation why it is like that? It is like the two tokens become more over time in the pool just through swapping 🤔","https://cdn.discordapp.com/attachments/765222888617017365/1022052856725000192/BOSON_ETH_Pool_Uniswap_ValueFlows.png",""
"803664702717689907","braised_fish","21/09/2022 3:37 pm","is it possible to get the new listed tokens by uniswap API?","",""
"910791584642117652","kaleverse","21/09/2022 6:24 pm","Thanks a lot, though how to use this to export trading volume data?","",""
"149735676278079488","austino256","21/09/2022 7:45 pm","it goes up because you are also including swap fees","",""
"149735676278079488","austino256","21/09/2022 7:49 pm","you can do an api call to the subgraph and save it in something like python/pandas","","👆 (1)"
"873060089622302771","someben23","21/09/2022 10:04 pm","When querying the subgraph for V3 pool tick liquidity, the cumulative sum of ""liquidityNet"" can go negative as we go from min to max tick.  (Look around tick 202660 in 0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640 pool, just now.) How do I interpret this?","",""
"471357824299958273","crypto_rachel","21/09/2022 10:06 pm","you have to handle the underflows in it, as it will use negative numbers, but solidity doesn't have negatives and it underflows to a large uint 256","",""
"885169317291892817","dr.cryve","21/09/2022 10:12 pm","But I did the same with other pools and I don't see any skewed data there. I am not familiar with the fee environment around the pools. What are the options that would lead to this behaviour as opposed to not give skewed values? Also where can I find information that tells me about those different fee settings? I just see the amount of fees on the pool dashboard, but I can't see where it will go then.","",""
"885169317291892817","dr.cryve","21/09/2022 10:13 pm","As reference, here are two pools without skewed data. The BOSON/ETH pool is another pool than the one I posted above and it doesn't have a skew.","https://cdn.discordapp.com/attachments/765222888617017365/1022186272028102667/MKR_ETH_Pool_Uniswap_ValueFlows.png,https://cdn.discordapp.com/attachments/765222888617017365/1022186272493678703/BOSON_ETH_Pool2_Uniswap_ValueFlows.png",""
"149735676278079488","austino256","21/09/2022 10:19 pm","It’s in the white paper. Fees to LPs are a fundamental aspect to Uniswap","",""
"149735676278079488","austino256","21/09/2022 10:20 pm","Some pools will have positive flows for both tokens because you are including the fee given to LPs, but not all of them.","",""
"885169317291892817","dr.cryve","21/09/2022 10:29 pm","Just to clarify: In some cases the fees will not go to the LP, but somewhere else and that is why there are not skewed values?
Also do you know another pool that allocates fees to itself?","",""
"439092741398593556","MechaMathematician#3681","22/09/2022 4:54 am","Hello. How can i get latest token listing on uniswap? is there an api endpoint for that? Thank you","",""
"471357824299958273","crypto_rachel","22/09/2022 4:56 am","no api afaik
you can watch the block for new pools with ethers or web3 subscribe
or there is this that a team maintains
https://github.com/0xPlutusLabs/uniswap-data","","🦄 (1)"
"913208430972526662","krystleb","23/09/2022 12:32 am","here's a no-code bot you can set up to post new pool alerts to discord: https://boto.io/bots/24315/","",""
"913208430972526662","krystleb","23/09/2022 12:32 am","you can have it go to email, telegram, twitter instead tho - lmk if you need help w that!","",""
"913208430972526662","krystleb","23/09/2022 12:33 am","here's some documentation https://botoio.atlassian.net/wiki/spaces/DT/pages/27787485/Uniswap+-+New+Pools+Tracker+to+Discord?src=search","",""
"735092000604553337","cici8023","23/09/2022 11:47 am","I found a problem in subgraph of uniswap v3.","",""
"735092000604553337","cici8023","23/09/2022 11:48 am","Plz try following query:","",""
"735092000604553337","cici8023","23/09/2022 11:48 am","```query MyQuery {
  swaps(
    where: {pool: ""0xa6cc3c2531fdaa6ae1a3ca84c2855806728693e8"", timestamp_in: [""1661847305"", ""1661848263""]}
    orderBy: timestamp
    orderDirection: asc
  ) {
    id
    amount0
    amount1
    origin
    tick
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","23/09/2022 11:48 am","<https://etherscan.io/address/0xa6cc3c2531fdaa6ae1a3ca84c2855806728693e8>","",""
"735092000604553337","cici8023","23/09/2022 11:49 am","The result is wrong. ```{
  ""data"": {
    ""swaps"": [
      {
        ""id"": ""0xfb0bdd3468add6b06a4f275e3127ec359c90efab77ce4c194262d112a29588a7#115101"",
        ""amount0"": ""-0.01"",
        ""amount1"": ""0.000042932773272843"",
        ""origin"": ""0x3e6ae205e9eac01a3924d9d5986e3b148b67712a"",
        ""tick"": ""-54540""
      },
      {
        ""id"": ""0x855b3ef11eed0a89491a069aa8c8841458d694af91fc799fe56a09a3f16519c8#115102"",
        ""amount0"": ""1502.34051816034885823"",
        ""amount1"": ""-6.414231687752305177"",
        ""origin"": ""0xd173763f452a43691fd829ce7bad24550231ce3b"",
        ""tick"": ""-54538""
      }
    ]
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","23/09/2022 11:49 am","<https://etherscan.io/tx/0xfb0bdd3468add6b06a4f275e3127ec359c90efab77ce4c194262d112a29588a7>","",""
"843155325619535912","Etherscan Bot#5753","23/09/2022 11:49 am","<https://etherscan.io/tx/0x855b3ef11eed0a89491a069aa8c8841458d694af91fc799fe56a09a3f16519c8>","",""
"843155325619535912","Etherscan Bot#5753","23/09/2022 11:49 am","<https://etherscan.io/address/0x3e6ae205e9eac01a3924d9d5986e3b148b67712a>","",""
"843155325619535912","Etherscan Bot#5753","23/09/2022 11:49 am","<https://etherscan.io/address/0xd173763f452a43691fd829ce7bad24550231ce3b>","",""
"735092000604553337","cici8023","23/09/2022 11:50 am","In 115102, some one sells LINK for 6.41 ETH, but the price goes up 2 ticks.","",""
"735092000604553337","cici8023","23/09/2022 11:51 am","I checked raw transactions between 115101 and 115102, and found subgraph missing this txn: `https://etherscan.io/tx/0xaffdfc65c70a75b1ec1aa030f69f743f31a5e106efd83bba500f2c6305e0c409`  .","",""
"752570582117384346","Tank#3683","23/09/2022 3:26 pm","Hi Can anyone point me to some doc or explaination which will help me understand the uniswap-routing-api ?","",""
"989275482488983663","AnthonyNicholas#4331","23/09/2022 4:18 pm","Is the subgraph accounting for this transaction now?","",""
"989275482488983663","AnthonyNicholas#4331","23/09/2022 4:19 pm","Hey @Tank, I think this can help - https://github.com/Uniswap/routing-api","","👍 (1)"
"735092000604553337","cici8023","23/09/2022 4:39 pm","No. You can run my query again. It gives wrong result like before.","",""
"735092000604553337","cici8023","23/09/2022 5:04 pm","Excuse me, I have another question about querying subgraph uniswap v3. The field `id` in result are `txn_id#seq_no` . How can I sort the result by `seq_no` ?","",""
"989275482488983663","AnthonyNicholas#4331","23/09/2022 7:49 pm","I think you would filter the subgraph by block number instead of EPOCH time","",""
"989275482488983663","AnthonyNicholas#4331","23/09/2022 7:52 pm","I'll look into this more","",""
"873060089622302771","someben23","23/09/2022 11:16 pm","Thank you @Crypto_Rachel. Just to make sure I understand: If the cumulative sum of ""liquidityNet"" goes negative, I should interpret that as an unsigned int underflow, and take the modulo, etc. to get the actual liquidity at that tick.","",""
"752570582117384346","Tank#3683","24/09/2022 5:12 pm","Thanks for this.. while going through this I came across a doubt.. Is Legacy routing algorithm being used in multi hop swap path of uni v3? or only alpha router?","",""
"989275482488983663","AnthonyNicholas#4331","24/09/2022 5:33 pm","I believe it's only the alpha router but I'll check with my team","",""
"752570582117384346","Tank#3683","24/09/2022 7:23 pm","Thanks... if that's the case then the alpha router would be splitting liquidity across V2 and V3 pools at the same time I assume","",""
"471357824299958273","crypto_rachel","24/09/2022 10:08 pm","not sure what the mod would do for you as it leave remainder after division
so uint256 has a max
```uint256 MAX_INT = 115792089237316195423570985008687907853269984665640564039457584007913129639935
uint256 MAX_INT = 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff```
so like if you had a -1 it would be the max integer -1 since solidity has no negative it just loops around if over or underflow","",""
"471357824299958273","crypto_rachel","24/09/2022 10:09 pm","@Tank Alpha router is the new version of the auto router that takes into account many more things for greater trades, the legacy is the old one which was good but didn't handle gas and something else. iirc..","","👆 (1)"
"752570582117384346","Tank#3683","24/09/2022 10:41 pm","oh got it..Thanks","","np (1)"
"149735676278079488","austino256","25/09/2022 6:29 am","oops you are doing things correctly. Misread your question.","",""
"735092000604553337","cici8023","26/09/2022 8:28 am","Could anyone re-tell me the answer to my previous question? Since  I have no permission to read history messages in this channel, I cannot see them... My question is about the missing SWAP txn in subgraph.","",""
"471357824299958273","crypto_rachel","26/09/2022 8:34 am","@CiCi
share a screenshot of what you see","",""
"471357824299958273","crypto_rachel","26/09/2022 8:35 am","The subgraph from what I know has missed transactions, but I don't use the graph could be something with call","",""
"735092000604553337","cici8023","26/09/2022 8:55 am","```{
  ""data"": {
    ""swaps"": [
      {
        ""id"": ""0xfb0bdd3468add6b06a4f275e3127ec359c90efab77ce4c194262d112a29588a7#115101"",
        ""amount0"": ""-0.01"",
        ""amount1"": ""0.000042932773272843"",
        ""origin"": ""0x3e6ae205e9eac01a3924d9d5986e3b148b67712a"",
        ""tick"": ""-54540""
      },
      {
        ""id"": ""0x855b3ef11eed0a89491a069aa8c8841458d694af91fc799fe56a09a3f16519c8#115102"",
        ""amount0"": ""1502.34051816034885823"",
        ""amount1"": ""-6.414231687752305177"",
        ""origin"": ""0xd173763f452a43691fd829ce7bad24550231ce3b"",
        ""tick"": ""-54538""
      }
    ]
  }
}```","",""
"735092000604553337","cici8023","26/09/2022 8:56 am","Someone sell LINK for ETH, but tick goes inversely. I found it is due to missing txn: https://etherscan.io/tx/0xaffdfc65c70a75b1ec1aa030f69f743f31a5e106efd83bba500f2c6305e0c409 .","",""
"735092000604553337","cici8023","26/09/2022 8:58 am","Since I use subgraph for uniswap data-mining, those ill-formed data are really annoying.","",""
"471357824299958273","crypto_rachel","26/09/2022 9:05 am","Share your call, might help graph users help you
I know the graph isn't perfect, not sure why it's missed it, but unfortunately the graph isn't likely to be updated as it takes way to long to sync it to test, and the team is looking into better ways of doing this","",""
"735092000604553337","cici8023","26/09/2022 9:06 am","The query is ```query MyQuery {
  swaps(
    where: {pool: ""0xa6cc3c2531fdaa6ae1a3ca84c2855806728693e8"", timestamp_in: [""1661847305"", ""1661848263""]}
    orderBy: timestamp
  ) {
    id
    amount0
    amount1
    origin
    tick
  }
}```","",""
"735092000604553337","cici8023","26/09/2022 9:07 am","Oh,  I see.  Thank you for your response.","",""
"471357824299958273","crypto_rachel","26/09/2022 9:12 am","Happily, Yeah, 🤷‍♀️  not seeing it in either pool","",""
"735092000604553337","cici8023","26/09/2022 9:16 am","I'm curious about what are, till now, candidate solutions for replacing TheGraph?","",""
"471357824299958273","crypto_rachel","26/09/2022 9:17 am","not sure rn, the team is thinking about it though","",""
"735092000604553337","cici8023","26/09/2022 9:17 am","Ok.","",""
"471357824299958273","crypto_rachel","26/09/2022 9:18 am","we have a bunch of community calls where some information gets talked about, they are good to try and catch
#📣│announcements","",""
"149735676278079488","austino256","26/09/2022 6:20 pm","I would not use the graph to get swap data. Significantly better to scrape archive node events.","",""
"767801975479337012","macos8853","27/09/2022 1:44 am","Hello, I am trying to get the total per-tick liquidity during a swap. What's the best way of doing that? I looked at the poolHourData at https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L499, but am a bit confused by the provided stats. E.g. `liquidity` is described as ""in range liquidity at end of period"". How exactly is that to be understood? Say I know a swap's tick and timestamp, and an LPs liquidity position over a certain tick range, how can I use the `liquidity` value to compute the percentage of fees the LP is entitled to?","",""
"767801975479337012","macos8853","27/09/2022 3:31 am","As a follow up, what's the best way to retrieve precise historic information about a tick's liquidity?","",""
"620661703193001986","yffod#0566","27/09/2022 2:16 pm","hello, i am new here, i want to ask about, is subgraph-api of uniswap can only get the data from etherscan or it can get data from the other scan such as polygon scan? (nvm got the answer from the pin)","",""
"231405885837017088","0xhoof","27/09/2022 2:59 pm","the uni-v3-polygon subgraph that is pinned is not due to be deprecated right? IIRC, hosted service is going to be shut down soonish?","",""
"767801975479337012","macos8853","27/09/2022 11:07 pm","following up on this question if anyone knows the answer - essentially i am just wondering what `liquidity` means in poolHourData (""in range liquidity at end of period"" doesnt quite make me get it)","","🤷‍♀️ (1)"
"149735676278079488","austino256","28/09/2022 12:36 am","can you explain more what you aren't sure about? It's the liquidity that is in-range when the hour ticks over.","","🙏 (1)"
"767801975479337012","macos8853","28/09/2022 2:00 am","I am mostly unsure about how to reason about liquidity during the hour. But I suppose that the best I could do is assume the liquidity is the same for each range during that interval?","",""
"149735676278079488","austino256","28/09/2022 2:02 am","for what purpose? the liquidity will change, potentially significantly, during the hour.","",""
"767801975479337012","macos8853","28/09/2022 2:03 am","Yea thats exactly what I am concerned about. I essentially want to build a backtester for arbitrary LP positions. I suppose I could use the feeGrowthVariables, but even with those I wouldnt be able to model the within-hour changes","",""
"149735676278079488","austino256","28/09/2022 2:04 am","yeah thats going to be problematic!","",""
"149735676278079488","austino256","28/09/2022 2:04 am","you will probably have to re-create all of v3 to do this the best way or you need to assume your liquidity is marginal","",""
"767801975479337012","macos8853","28/09/2022 2:05 am","let's actually assume the liquidity is marginal. what is the recommended best way to do this (without recreating v3 logic)? Because to recreate v3 logic i would also need by-block data for the history of the position, which is quite expensive i figure","",""
"149735676278079488","austino256","28/09/2022 2:06 am","not a trivial problem to solve. i'm not sure what you mean by ""best way"" because that would take a long time to figure out.","",""
"767801975479337012","macos8853","28/09/2022 2:07 am","Yea from what I observed the ""best way"" would be to use the poolHourData & perform the fee calc either based on `liquidity` or `feeGrowth`. However, for the latter I am still not sure I follow 100% how to do it correctly. Say for example, I have a liquidity position with liquidity L, and I was in range for all swaps that happened within the last hour. I also have the `feeGrowthGlobal0X128` data from this and the last hour. As far as I understood, the fees I would be entitled to in this scenario would be `fees = L * (feeGrowthGlobal0X128[t] - feeGrowthGlobal0X128[t-1]) / 2**128` but that result is vastly off (the fee numbers are way too large)","",""
"149735676278079488","austino256","28/09/2022 2:10 am","that would only be for full-range liquidity. you also have to adjust for decimals. your full-range liquidity value will be tiny compared to larger more levered positions.","",""
"767801975479337012","macos8853","28/09/2022 2:13 am","good point with the decimals. as for the full-range problem, I read that it essentially comes down to multiplying the equation from above with the time_spent_in_range. but that might just be wrong lol. Because that means if im in range for the full hour, it wouldnt have mattered how i set my range, which doesnt rly make sense","",""
"767801975479337012","macos8853","28/09/2022 2:29 am","actually, i take that back. the fees indeed look reasonable with `fees = L * (feeGrowthGlobal0X128[t] - feeGrowthGlobal0X128[t-1]) / 2**128 / decimals` thanks @Austin 🦄 ! For positions that were always in range, it's almost exact. for out of range it's sadly off, but it's expected given it's hourly data.","",""
"149735676278079488","austino256","28/09/2022 2:52 am","yeah if a position is out of range then you have to adjust for the other fee growth variables. also do to other optimizations it's not advised to only use the feeGrowthGlobal variables. i really would only use it for the full-range positions.","","🙏 (1)"
"767801975479337012","macos8853","28/09/2022 3:46 am","One thing I am still confused about is what `liquidityGross` indicates. I get how `liquidityNet` tells me how much the liquidity changes when crossing that tick. However, it sounds like `liquidityGross` denotes the full liquidity at that tick. Doesn't that imply that `liquidityGross = integral of liquidityNet over all ticks until the current one`? or am I misunderstanding the meaning of it. Because when I inspect these two values for some ticks, that's not the behavior i am seeing.","",""
"149735676278079488","austino256","28/09/2022 3:54 am","say there are 2 positions at tick t one mints and one burns, pos 1 with liquidty l_1 and pos 2 with liquidity l_2. pos 2 has its upper tick at tick t, while pos 1 has its lower tick at tick t.

then liquidityGross = l_1 + l_2
while liquidityNet = l_1 - l_2","",""
"767801975479337012","macos8853","28/09/2022 4:42 am","gotcha, thanks! So if I want the full liquidity at a tick, is there an easier way than looping through all ticks and adding/subtracting liquidityNet?","",""
"873060089622302771","someben23","28/09/2022 4:54 am","Thanks, and thanks @Crypto_Rachel. The Uniswap V3 pool info UI actually shows zero liquidity at the tick when the cumulative sum goes negative ( https://info.uniswap.org/#/pools/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640 ). If I ignore the sign of the going-negative liquidityNet, my code matches the pool info UI:

```ticks = 202630 to 202640, WETH price = 1586.1012 to 1584.5160, liquidity(cumsum) = +10324891561908590516
    amount of USDC = 205.54k, WETH = 0.130k
ticks = 202640 to 202650, WETH price = 1584.5160 to 1582.9323, liquidity(cumsum) = +931627659557545111157
    amount of USDC = 18,536.61k, WETH = 11.704k
ticks = 202650 to 202660, WETH price = 1582.9323 to 1581.3502, liquidity(cumsum) = +1424445917834603324704
    amount of USDC = 28,328.06k, WETH = 17.905k
ticks = 202660 to 202670, WETH price = 1581.3502 to 1579.7698, liquidity(cumsum) = -1037552953133488938887
    amount of USDC = -20,623.58k, WETH = -13.048k
ticks = 202670 to 202680, WETH price = 1579.7698 to 1578.1909, liquidity(cumsum) = +9929545821670085515
    amount of USDC = 197.27k, WETH = 0.125k
ticks = 202680 to 202690, WETH price = 1578.1909 to 1576.6135, liquidity(cumsum) = +9898385877440948781
    amount of USDC = 196.55k, WETH = 0.125k
ticks = 202690 to 202700, WETH price = 1576.6135 to 1575.0378, liquidity(cumsum) = +9907369884900656723
    amount of USDC = 196.63k, WETH = 0.125k```","https://cdn.discordapp.com/attachments/765222888617017365/1024461533088075806/unknown.png",""
"873060089622302771","someben23","28/09/2022 4:54 am","But if I flip the sign of liquidityNet ifF it would send the cumulative liquidity negative, the liquidity amounts look reasonable but do not match the UI:

```ticks = 202630 to 202640, WETH price = 1586.1012 to 1584.5160, liquidity(cumsum) = +10324891561908590516
    amount of USDC = 205.54k, WETH = 0.130k
ticks = 202640 to 202650, WETH price = 1584.5160 to 1582.9323, liquidity(cumsum) = +931627659557545111157
    amount of USDC = 18,536.61k, WETH = 11.704k
ticks = 202650 to 202660, WETH price = 1582.9323 to 1581.3502, liquidity(cumsum) = +1424445917834603324704
    amount of USDC = 28,328.06k, WETH = 17.905k
Liquidity would go negative, inverting -2461998870968092263591 liquidityNet.
ticks = 202660 to 202670, WETH price = 1581.3502 to 1579.7698, liquidity(cumsum) = +3886444788802695588295
    amount of USDC = 77,251.38k, WETH = 48.876k
ticks = 202670 to 202680, WETH price = 1579.7698 to 1578.1909, liquidity(cumsum) = +4933927287757854612697
    amount of USDC = 98,023.31k, WETH = 62.080k
ticks = 202680 to 202690, WETH price = 1578.1909 to 1576.6135, liquidity(cumsum) = +4933896127813625475963
    amount of USDC = 97,973.70k, WETH = 62.111k
ticks = 202690 to 202700, WETH price = 1576.6135 to 1575.0378, liquidity(cumsum) = +4933905111821085183905
    amount of USDC = 97,924.90k, WETH = 62.142k```

Any suggestions?","",""
"471357824299958273","crypto_rachel","28/09/2022 5:14 am","So maybe I mistook what you were trying to do. TBH I haven't worked with the LQ to much but
```
liquidityGross is the gross amount of liquidity at a given tick. The pool keeps track of this because it needs to know if there are a non-zero amount of people in-range. 

liquidityNet is the amount of liquidity kicked in or out of the current in-range at the start of that tick.```

read the the conversation above that may help 
https://discord.com/channels/597638925346930701/765222888617017365/1024446564397219851

and what is the cumulative representing ?","",""
"843155325619535912","Etherscan Bot#5753","28/09/2022 5:14 am","","",""
"767801975479337012","macos8853","28/09/2022 5:20 am","differently asked, how can i obtain the per tick range liquidity values to make a graph like this one?","https://cdn.discordapp.com/attachments/765222888617017365/1024468071131381760/unknown.png",""
"471357824299958273","crypto_rachel","28/09/2022 5:24 am","That would be the Liquidity locked at each tick range, you would have to iterate through all the tick ranges for the LQ in those ticks","",""
"767801975479337012","macos8853","28/09/2022 5:24 am","I see. so i suppose that means yes to my question of ""if I want the full liquidity at a tick, is there an easier way than looping through all ticks and adding/subtracting liquidityNet?""","",""
"471357824299958273","crypto_rachel","28/09/2022 5:25 am","not as far as i'm aware, no easier way","",""
"873060089622302771","someben23","28/09/2022 6:42 pm","In this case, I only care about active liquidity at a tick, not those positions that are burned. So I think I can ignore liquidityGross. However I'm still stumped by the cumulative sum of liquidityNet going negative at one or two ticks... And the web UI seems confused too!","",""
"149735676278079488","austino256","28/09/2022 8:03 pm","im not sure where you are getting your data from, but the source is probably slightly off. the cumsum of liquidity cannot go negative. the liquidity distribution data not in solidity tends to have some numerical error, but the protocol's data cannot go negative.","",""
"873060089622302771","someben23","28/09/2022 10:16 pm","I'm pulling from ""tick"" in the Uniswap V3 Subgraph.","",""
"767801975479337012","macos8853","29/09/2022 2:32 am","For the `ticks` data as described here: https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L499

Is there anyway to query this field historically? assuming that the query is giving me the current snapshot. I can call the contract directly via python's web3 library, but subgraph query is a million times faster than manually retrieving this info.","",""
"989275482488983663","AnthonyNicholas#4331","29/09/2022 2:52 am","Have you tried using date_gt?","",""
"767801975479337012","macos8853","29/09/2022 2:56 am","yea, it doesnt do anything (the results of the query stay the same)","",""
"989275482488983663","AnthonyNicholas#4331","29/09/2022 2:57 am","Do you mind sharing your query?","",""
"767801975479337012","macos8853","29/09/2022 2:58 am","sure! No matter what date I use, I get the same output ```{
        ticks(
          date: 16836424310
          first: 1000
          skip: 0
          where: {
           poolAddress: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"",
          }
          orderBy: tickIdx
        ) {
          id
          tickIdx
          liquidityNet
          price0
          price1
        }
      }```","",""
"843155325619535912","Etherscan Bot#5753","29/09/2022 2:58 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"471357824299958273","crypto_rachel","29/09/2022 3:24 am","Definitely no graph expert , and not sure what exactly your trying to get but for historic you may need tickHourData","https://cdn.discordapp.com/attachments/765222888617017365/1024801292205441065/unknown.png",""
"767801975479337012","macos8853","29/09/2022 7:06 am","I have a question regarding total liquidity: When I am pulling liquidityNet from the subgraph for all ticks (I just did that), and summing up all positives liquidityNet's, I am getting a ~20% larger value  than when querying the liquidity from the pool itself (8.74e21 vs 6.59e21). 

Am I potentially doing something wrong in assuming that all positive liquidityNet changes contribute to the total liquidity?","",""
"843155325619535912","Etherscan Bot#5753","29/09/2022 7:06 am","<https://etherscan.io/address/0xe8c6c9227491c0a8156a0106a0204d881bb7e531>","",""
"843155325619535912","Etherscan Bot#5753","29/09/2022 7:06 am","<https://etherscan.io/address/0xe8c6c9227491c0a8156a0106a0204d881bb7e531>","",""
"149735676278079488","austino256","29/09/2022 7:15 am","you also have to subtract for negative liquidityNet too. Currently you aren’t taking into account any positions that are out of range.","",""
"231405885837017088","0xhoof","29/09/2022 11:27 am","I'm getting this error when trying to deploy the uni-v3 subgraph on mumbai testnet:
`The current version of graph-cli can't be used with mappings on apiVersion less than '0.0.5'`
Anyone come across this before?","",""
"989275482488983663","AnthonyNicholas#4331","29/09/2022 4:52 pm","I don’t believe the subgraph is deployed on testnet","",""
"989275482488983663","AnthonyNicholas#4331","29/09/2022 4:52 pm","Which chain are you trying to retrieve data for?","",""
"231405885837017088","0xhoof","29/09/2022 5:02 pm","Just deployed it to mumbai testnet. My graph-cli was the latest and it didn’t work with the uni-v3 subgraphs which use apiVersion 0.0.4","",""
"231405885837017088","0xhoof","29/09/2022 5:02 pm","Issue resolved","",""
"989275482488983663","AnthonyNicholas#4331","29/09/2022 5:34 pm","Did you have to downgrade graph-cli?","",""
"231405885837017088","0xhoof","29/09/2022 6:58 pm","yes, also had to remove the `graft` bit from the subgraph.yaml cuz that gave some validation error: `deployment failure::subgraph validation error: [the graft base is invalid: deployment not found:`","",""
"231405885837017088","0xhoof","29/09/2022 7:00 pm","here is the subgraph on mumbai: https://thegraph.com/hosted-service/subgraph/saurabh/uniswap-v3-mumbai used the correct startBlocks for the `Factory` (22908471) and `NonfungiblePositionManager` (22908470) on mumbai.","","👍 (1)"
"831931833016647720","sneaky.time","29/09/2022 8:43 pm","Hey folks, I would like to know if the following is possible with subgraph-api: 

```is it possible to get the swap price for one ERC-20 to another ERC-20. Let's say i want to display price for 10 MATIC into MANA | LINK | ETH to the end user.```","",""
"831931833016647720","sneaky.time","29/09/2022 8:45 pm","I know its possible with this. However I would like to know if there is a way to get the `Pool Id` as well for a particular pair? Something like this: https://docs.uniswap.org/protocol/reference/periphery/base/PoolInitializer
```{
  pool(id:""0x167384319b41f7094e62f7506409eb38079abff8""){
    token0 {
      id
    }
    token0Price
    token1 {
      id
    }
    token1Price
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","29/09/2022 8:45 pm","<https://etherscan.io/address/0x167384319b41f7094e62f7506409eb38079abff8>","",""
"149735676278079488","austino256","29/09/2022 11:43 pm","you can get the swap price for swapping a very very tiny amount of the token using the subgraph, but anything large will have slippage and you need to calculate that using the quoterv2 or the autorouter.","",""
"752570582117384346","Tank#3683","30/09/2022 12:24 am","Hi could someone help me understand the gas part here? 
https://github.com/Uniswap/smart-order-router/blob/main/src/providers/on-chain-quote-provider.ts#L239","",""
"752570582117384346","Tank#3683","30/09/2022 12:26 am","it says ""each quote on V3 can consume a large number of gas if the pool lacks liquidity and the swap would cause all the ticks to be traversed.""
But aren't getting quotes supposed to be a readOnly function?","",""
"752570582117384346","Tank#3683","30/09/2022 12:26 am","and not cost gas","",""
"471357824299958273","crypto_rachel","30/09/2022 12:36 am","While the V3 quoter is not a read function, there is possible to have gas, although it shouldn't be used like that. It was designed to revert with reason being the amount out,  gas used . sqrtPrice and ticksCrossed.
This allows it to be called like a read function
https://discord.com/channels/597638925346930701/607978109089611786/948847107744333844
👇","",""
"843155325619535912","Etherscan Bot#5753","30/09/2022 12:36 am","","",""
"471357824299958273","crypto_rachel","30/09/2022 12:38 am","If a pool lacks liquidity in ticks but has higher ticks with LQ it will traverse all the ticks looking for the LQ to fill order, causing more work and more gas","",""
"752570582117384346","Tank#3683","30/09/2022 1:14 am","For fetching quotes we traverse ? Also here traversal means shifting towards next tick or just reading data from the ticks?","",""
"471357824299958273","crypto_rachel","30/09/2022 1:16 am","It goes through each tick range until it has enough to fill the order . this takes a lot of contract work to move through (traverse) the tick ranges for LQ","",""
"752570582117384346","Tank#3683","30/09/2022 1:20 am","but this won't require gas right? since the user won't be changing the state until he swaps and confirms transaction..","",""
"471357824299958273","crypto_rachel","30/09/2022 1:21 am","the quoter called correctly in a script will not cost gas","",""
"471357824299958273","crypto_rachel","30/09/2022 1:22 am","the examples above work for me with no account import","",""
"471357824299958273","crypto_rachel","30/09/2022 1:22 am","However this can't be used in a contract","",""
"752570582117384346","Tank#3683","30/09/2022 1:24 am","oh okay","",""
"752570582117384346","Tank#3683","30/09/2022 1:24 am","thanks","","np (1)"
"748184992974110771","5x12#8492","30/09/2022 8:05 pm","hey guys. I have troubles extracting LP fees that I've collected in one of the pools in uniswap. 

This is the transaction on etherscan that proves my collect transaction of 33.05 USDC -> https://etherscan.io/tx/0x6e0a1c3501eeaa5b56b23cf85d085227a4730ab91c1932d3a3be29ca31908328. 

When I try to extract this collection through graphql, the response does not show me any collected amounts. 

Example script I used:","",""
"748184992974110771","5x12#8492","30/09/2022 8:06 pm","```
positionSnapshot(id: ""298846#15483352"")
            {
                id
                owner
                pool {
                     id
                     totalValueLockedETH
                     totalValueLockedUSD
                     }
                position
                blockNumber
                timestamp
                liquidity
                depositedToken0
                depositedToken1
                withdrawnToken0
                withdrawnToken1
                collectedFeesToken0
                collectedFeesToken1
                transaction {
                            id
                            gasUsed
                            gasPrice

                            }
                feeGrowthInside0LastX128
                feeGrowthInside1LastX128
            }
```","",""
"748184992974110771","5x12#8492","30/09/2022 8:07 pm","You can see that `transactionHash` in the response is the same as in etherscan link I've provided above, but the fields for `collectedFeesToken0` or `collectedFeesToken1` is null for some reason. Am I doing something wrong?","https://cdn.discordapp.com/attachments/765222888617017365/1025416133622386728/Screenshot_2022-09-30_at_17.37.08.png",""
"231405885837017088","0xhoof","30/09/2022 9:05 pm","might be useful to have a pinned message with all the testnet subgraphs @Crypto_Rachel","",""
"471357824299958273","crypto_rachel","30/09/2022 9:26 pm","Testnets are not maintained, I don't know of any and they would have to be maintained to be worthy","","👌 (1)"
"767801975479337012","macos8853","01/10/2022 2:35 am","Is there a way to query a list of swap transaction IDs an LP position has earned fees with and check how many fees were generated for each such swap for that LP position?","",""
"748184992974110771","5x12#8492","01/10/2022 2:39 am","this api not working if you reproduce my script","",""
"231405885837017088","0xhoof","01/10/2022 9:52 am","its working fine for me. cloned the v3-subgraph repo and deployed using that. (changed startBlocks, network name, and removed grafting from the yaml file)","",""
"372483974221791244","pixelis0x","03/10/2022 9:22 pm","do you have subgraph deployed on goerli?","",""
"989275482488983663","AnthonyNicholas#4331","03/10/2022 9:34 pm","We do! Let me find the link","","🔥 (1)"
"372483974221791244","pixelis0x","03/10/2022 10:22 pm","found it, took time because of naming issue 
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli","","🔥 (1)"
"471357824299958273","crypto_rachel","03/10/2022 10:24 pm","thanks added to my pinned links","","👍 (1)"
"563593619672399875","avadxfeirm","04/10/2022 1:58 am","How will uniswap.info be changed when thegraph sunsets there hosted service","",""
"471357824299958273","crypto_rachel","04/10/2022 10:06 am","The question of the day, currently they are looking into solutions, I think next gen historic data will be much better too","",""
"563593619672399875","avadxfeirm","04/10/2022 10:07 am","Next gen historic data?","",""
"471357824299958273","crypto_rachel","04/10/2022 10:07 am","whatever they move to","",""
"563593619672399875","avadxfeirm","04/10/2022 10:07 am","Oh ok","",""
"471357824299958273","crypto_rachel","04/10/2022 10:07 am","Yeah, still looking for best solution afaik","",""
"563593619672399875","avadxfeirm","04/10/2022 10:08 am","Do you know what any of the potential solutions are","",""
"471357824299958273","crypto_rachel","04/10/2022 10:09 am","not now, unfortunately it's quite a task, especially when the need to backtrack everything to the beginning is so necessary","",""
"471357824299958273","crypto_rachel","04/10/2022 10:09 am","V3 is almost 2 years old now","",""
"563593619672399875","avadxfeirm","04/10/2022 10:10 am","Understandable, and with how the auto router functions, they'll need v2 support as well as v3","","💯 (1),Uni (1),flyingunicorn (1)"
"831931833016647720","sneaky.time","05/10/2022 2:31 am","Hey folks, I would like to ask if there are any pros / cons using this graphql query to get the token prices compared to all this code: 
https://docs.uniswap.org/sdk/guides/fetching-prices#fetching-token-prices-with-the-sdk

```{
  pool(id:""0xa6cc3c2531fdaa6ae1a3ca84c2855806728693e8""){
    token0 {
      id
      name
    }
    token1 {
      id
      name
    }
    token0Price
    
    token1Price
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","05/10/2022 2:31 am","<https://etherscan.io/address/0xa6cc3c2531fdaa6ae1a3ca84c2855806728693e8>","",""
"989275482488983663","AnthonyNicholas#4331","05/10/2022 3:09 am","Hey amit, I may be wrong here but I believe https://docs.uniswap.org/sdk/guides/fetching-prices#fetching-token-prices-with-the-sdk gives you real time data","","👆 (1)"
"187197693200826388","Underlord40#0927","05/10/2022 9:53 am","Hey all, is there a subgraph for UniV3 on Polygon?","",""
"471357824299958273","crypto_rachel","05/10/2022 10:11 am","in the pins :Pin_Check:","",""
"471357824299958273","crypto_rachel","05/10/2022 10:11 am","","https://cdn.discordapp.com/attachments/765222888617017365/1027077997712379994/unknown.png",""
"187197693200826388","Underlord40#0927","05/10/2022 10:11 am","Thanks @Crypto_Rachel!","","np (1)"
"831931833016647720","sneaky.time","05/10/2022 2:40 pm","oh i see. Thanks @Anthony 🦄 // Community Manager","","👍 (1)"
"937728007257346079","alienstar#0791","06/10/2022 9:31 am","Hello. I am confused about some transactions on uniswap v2 which has a crazy `amountUSD`   For example, this swap id `0x519035a1bee96ba400036e488e313b6465a39291fca37b5806b005a6b5129c8a-0` It says the amountUSD is `21126571203501.18` which is really crazy. Could anyone please help me what's wrong here?

Request: ```
query MyQuery {
  swap(id: ""0x519035a1bee96ba400036e488e313b6465a39291fca37b5806b005a6b5129c8a-0"") {
    id
    amountUSD
    amount0Out
    amount1In
    amount1Out
  }
}
```

Response: ```
{
  ""data"": {
    ""swap"": {
      ""id"": ""0x519035a1bee96ba400036e488e313b6465a39291fca37b5806b005a6b5129c8a-0"",
      ""amountUSD"": ""21126571203501.18134589289520960814"",
      ""amount0Out"": ""7636.614056"",
      ""amount1In"": ""81216.48"",
      ""amount1Out"": ""0""
    }
  }
}
```","",""
"471357824299958273","crypto_rachel","06/10/2022 9:36 am","which graph are you calling this is what I get from https://thegraph.com/hosted-service/subgraph/ianlapham/uniswapv2
```
{
  ""data"": {
    ""swap"": {
      ""id"": ""0x519035a1bee96ba400036e488e313b6465a39291fca37b5806b005a6b5129c8a-0"",
      ""amountUSD"": ""7641.859932814458847753147905158501"",
      ""amount0Out"": ""7636.614056"",
      ""amount1In"": ""81216.48"",
      ""amount1Out"": ""0""
    }
  }
}```","",""
"937728007257346079","alienstar#0791","06/10/2022 10:36 am","This is what I am using https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2/graphql","","🤔 (1)"
"471357824299958273","crypto_rachel","06/10/2022 10:39 am","Seems like an error within that graph, the one I posted is the official","",""
"937728007257346079","alienstar#0791","06/10/2022 10:40 am","Thank you. What do you use for uniswap v3?","",""
"471357824299958273","crypto_rachel","06/10/2022 10:41 am","all the graphs are in the pins","https://cdn.discordapp.com/attachments/765222888617017365/1027447937296506880/unknown.png","👍 (1)"
"937728007257346079","alienstar#0791","06/10/2022 2:33 pm","@Crypto_Rachel I think it is not possible to get the transaction gas price and the amount of gas used in the uniswap v2 subgraph. Is there anyway to get them too?","",""
"471357824299958273","crypto_rachel","06/10/2022 8:54 pm","No the graph wouldn't have that data, you would have to call the blockchain for gas price of a transaction, by calling the transactions hash through getTransaction(hash)","",""
"793619400607006790","cryptoplayer.com.br","06/10/2022 9:25 pm","Guys, why sometimes the feegrowth properties change the amount of digits?","",""
"793619400607006790","cryptoplayer.com.br","06/10/2022 9:27 pm","In order to calculate feegrowth the number of digits amoung feegrowth properties must be the same or not?","",""
"989275482488983663","AnthonyNicholas#4331","06/10/2022 9:34 pm","Hey @Fra - Chainbound, which pool are you trying to get data for?","",""
"143189354909532160","raparri","06/10/2022 11:03 pm","Hey all, looking into the v3 subgraph I noticed this Q192 number being used in the conversion function from pool price to token price. Can someone explain why this step is necessary? dividing by 2 ** 192 results in a divide by zero error when the subgraph is indexing","https://cdn.discordapp.com/attachments/765222888617017365/1027634756550148107/unknown.png",""
"143189354909532160","raparri","06/10/2022 11:10 pm","nvm found the answer in the docs https://docs.uniswap.org/sdk/guides/fetching-prices","","👍 (1),Uni (1)"
"143189354909532160","raparri","06/10/2022 11:19 pm","still odd that it yields an error though","",""
"143189354909532160","raparri","06/10/2022 11:48 pm","https://github.com/Uniswap/v3-subgraph/pull/149/files heres a pr with a fix that worked on my branch","",""
"872733682438393867","Ashwin nair#7759","07/10/2022 11:17 am","how to get the data of all the TVL at given price range ??","",""
"937728007257346079","alienstar#0791","07/10/2022 2:28 pm","Hi Every one. I am confused about some uniswap v2 transactions which have crazy `amountUSD`. For example, swap id `0x833a7e4828fa393a4062b1a8f8518ec241e867e44b4037f1901c32e2f89344f6-1`
Request:
```
query MyQuery {
  swap(id: ""0x833a7e4828fa393a4062b1a8f8518ec241e867e44b4037f1901c32e2f89344f6-1"") {
    amount0In
    amount0Out
    amount1In
    amount1Out
    amountUSD
    pair {
      token0 {
        name
        id
      }
      token0Price
      token1 {
        name
        id
      }
      token1Price
    }
  }
}
```

Response
```
{
  ""data"": {
    ""swap"": {
      ""amount0In"": ""3890.342094676566792075"",
      ""amount0Out"": ""0"",
      ""amount1In"": ""0"",
      ""amount1Out"": ""1148.516139"",
      ""amountUSD"": ""1665960833.01154831610842726671868"",
      ""pair"": {
        ""token0"": {
          ""name"": ""bloXmove Token"",
          ""id"": ""0x38d9eb07a7b8df7d86f440a4a5c4a4c1a27e1a08""
        },
        ""token0Price"": ""3.452392909777633103528376556170116"",
        ""token1"": {
          ""name"": ""USD//C"",
          ""id"": ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""
        },
        ""token1Price"": ""0.2896541691902644704055152402964339""
      }
    }
  }
}
```

I am using https://api.thegraph.com/subgraphs/name/ianlapham/uniswapv2/ as @Crypto_Rachel suggested.

Could anyone please help me to figure it out? Thank you in advance.","",""
"989275482488983663","AnthonyNicholas#4331","07/10/2022 6:01 pm","Hey @alienstar, what is the “-1” in the swap ID? 

`0x833a7e4828fa393a4062b1a8f8518ec241e867e44b4037f1901c32e2f89344f6-1`","",""
"937728007257346079","alienstar#0791","07/10/2022 6:11 pm","The swap id looks like that I think. <transaction hash> + <some id>","","👍 (1),💯 (1)"
"989275482488983663","AnthonyNicholas#4331","07/10/2022 6:52 pm","Thanks! I'm not too sure why amountUSD is super high. I'll send a message to the team.","",""
"149735676278079488","austino256","07/10/2022 8:19 pm","The token0 price is probably wrong. It’s fairly trivial to game the usd prices for tokens. For anything not on our white list, I would take with a grain of salt.","",""
"471357824299958273","crypto_rachel","07/10/2022 8:26 pm","Truthfully this one isn't far off , it just didn't catch a token transfer it might be part of another pool as it was a multipool MEV, which lost a LOT","",""
"471357824299958273","crypto_rachel","07/10/2022 8:26 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1027957666011693117/unknown.png",""
"793619400607006790","cryptoplayer.com.br","08/10/2022 7:09 pm","The feeGrowthInside0LastX128 is breaking my calculation as it has more digits than it should","https://cdn.discordapp.com/attachments/765222888617017365/1028300554444734485/SPOILER_unknown.png",""
"471357824299958273","crypto_rachel","08/10/2022 9:29 pm","For fees you have to handle the underflows of Uint256
I would encourage you to mimic this. This is how the Interface calculates fees: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts","","👆 (1)"
"989275482488983663","AnthonyNicholas#4331","09/10/2022 1:35 am","Hey @Fra - Chainbound, are you trying to get data for v2 or v3?","",""
"143189354909532160","raparri","10/10/2022 8:24 pm","you can query tick entities","",""
"872733682438393867","Ashwin nair#7759","11/10/2022 12:47 am","hey, I am not sure what to query. I have price (lower) and price (upper) and would like to find out the ticklower and tickUpper for minting a new position","",""
"346929688188551169","silaagmarkkinad#2339","11/10/2022 6:13 pm","@Crypto_Rachel could you please elaborate on what you mean by handling underflows of uint256? Already asked in dev-chat but I'll reask here since I think my issue is more an issue related something breaking in feeGrowthInside0LastX128: I'm trying to calculate uncollected fees on my LP position roughly according to this in python: https://gist.github.com/Lucas-Kohorst/3b2727eaa60edebc27b21c7195261865

Works correctly on all of my LP positions except one where uncollected fees are according to this script largely negative.","",""
"950785708409356288","daisugist","11/10/2022 7:36 pm","I found the following on how to scrape the Pool contracts: https://docs.uniswap.org/protocol/V2/reference/API/queries#all-pairs-in-uniswap

For V3, there are more than 5000 contracts though, and the graphQL query doesn't allow for more than 'skip'=5000, so I basically can't pull more than 6000 addresses. 

 Any known ways to work around this?","",""
"149735676278079488","austino256","11/10/2022 11:14 pm","https://thegraph.com/docs/en/querying/graphql-api/#pagination","",""
"471357824299958273","crypto_rachel","12/10/2022 12:43 am","So solidly has max uint and uni v3 take advantage of the fact that -1 is max uint256 rolls over or under

There is a much easier way to get uncollected fees by static calling the collect. I have examples in #💻│dev-chat pins or check this
https://discord.com/channels/597638925346930701/765222888617017365/1023272212117069905","",""
"843155325619535912","Etherscan Bot#5753","12/10/2022 12:43 am","","",""
"369213489828462596","vuapo","14/10/2022 5:02 am","I am trying to fetch a PositionSnapshot via GraphQL
I can fetch one for a position at the block number at which the position was created
However, if I use the block number of a swap in the pool, which should affect the position, the PositionSnapshot returns null
What am I doing wrong?","",""
"989275482488983663","AnthonyNicholas#4331","14/10/2022 7:14 pm","Hey, can you please share your code?","",""
"369213489828462596","vuapo","14/10/2022 7:30 pm","Let's say I query position #1

```graph
{
  position(id: 1) {
    pool {
      id
    }
    tickLower {
      tickIdx
      createdAtBlockNumber
    }
    tickUpper {
      tickIdx
      createdAtBlockNumber
    }
  }
}
```

The response is:

```
{
  ""data"": {
    ""position"": {
      ""pool"": {
        ""id"": ""0x1d42064fc4beb5f8aaf85f4617ae8b3b5b8bd801""
      },
      ""tickLower"": {
        ""tickIdx"": ""-50580"",
        ""createdAtBlockNumber"": ""12369739""
      },
      ""tickUpper"": {
        ""tickIdx"": ""-36720"",
        ""createdAtBlockNumber"": ""12369739""
      }
    }
  }
}
```

So it tells me position #1 was created on block number `12369739`
And belongs to pool `0x1d42064fc4beb5f8aaf85f4617ae8b3b5b8bd801`
It is active in the tick range from -50580 to -36720

I can successfully query the position snapshot at the time of creation:

```
{
  positionSnapshot(id: ""1#12369739"") {
    id
  }
}
```

However, if I query it for the following block `#12369740`, I receive `null`:

```
{
  positionSnapshot(id: ""1#12369740"") {
    id
  }
}
```

Response:

```
{
  ""data"": {
    ""positionSnapshot"": null
  }
}
```

The first swap in the pool has blocknumber `12373187` and tick `-43172`.
So the tick is in the positions range. But querying for this block returns `null` too.

```
{
  positionSnapshot(id: ""1#12373187"") {
    id
  }
}
```

Response:

```
{
  ""data"": {
    ""positionSnapshot"": null
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","14/10/2022 7:30 pm","<https://etherscan.io/address/0x1d42064fc4beb5f8aaf85f4617ae8b3b5b8bd801>","",""
"149735676278079488","austino256","14/10/2022 9:15 pm","https://twitter.com/shippooor/status/1580668403622502401?s=20&t=d9wPcCeYwm5yZlZyBw_AQA","",""
"149735676278079488","austino256","14/10/2022 9:15 pm","this website allows you to pull subgraph data directly into a csv: https://uniswap.shippooor.xyz

should help a lot of people on here","","🥳 (1),🔥 (2)"
"471357824299958273","crypto_rachel","14/10/2022 9:21 pm","Pinned a message.","",""
"989275482488983663","AnthonyNicholas#4331","14/10/2022 9:24 pm","shippoooooorrrrrr","","😄 (3),❤️‍🔥 (1)"
"471357824299958273","crypto_rachel","15/10/2022 7:36 am","the callStatic doesn't need a PK to send a tx, it basically just reads the revert data","","👍 (1)"
"808804389526700062","OptimCoder#9753","15/10/2022 5:12 pm","ls","",""
"403788345789906944","mobbie.fba","18/10/2022 10:16 am","Hi @Anthony 🦄 // Community Manager  @Austin 🦄 
I'm Mobbie from Firebird finance (dex aggregator). We have integrated UniswapV3 to our router on Polygon and Optimism.
But on Arbitrum we are currently not able to do so due to we couldn't find no subgraph is working. 
Example this one https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-arbitrum-one give indexing error
https://thegraph.com/hosted-service/subgraph/messari/uniswap-v3-arbitrum  and this is not support fetching pools/tick for routing. calculation.
We had routed over $billions of traffic to uniswapV2 pools during pass year and looking to do the same with uniswapV3.
Please support us on this matter . Thanks in advance❤️","",""
"471357824299958273","crypto_rachel","18/10/2022 10:23 am","Please don't directly ping Devs as there is no reason, as this is a community and there are others who don't mind helping, but not only is it considered rude unless you are in conversation, but you are also limiting your self as Devs are busy and can't always respond.

the arbitrum graph has issues, due to the way arbitrum works, it's unable to keep up.
Don't know all your trying to get would be available, you can try this one, but in the end the Graph really doesn't work well with arbitrum
https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal","",""
"403788345789906944","mobbie.fba","18/10/2022 10:26 am","Thanks @Crypto_Rachel  for replying. This is my first time joining the server and mistaken above handlers as mod. I'm not intentionally pinging devs. Apologies for doing so.","",""
"471357824299958273","crypto_rachel","18/10/2022 10:27 am","its ok, just people will see, and we all try to help where we can.","",""
"873844126192398377","novtom#0322","18/10/2022 11:43 am","Hi Rachel, what's the decimal of the liquidity number got from theGraph?","",""
"873844126192398377","novtom#0322","18/10/2022 11:45 am","@Crypto_Rachel","",""
"471357824299958273","crypto_rachel","18/10/2022 11:49 am","Please don't directly ping Devs as there is no reason, as this is a community and there are others who don't mind helping, but not only is it considered rude unless you are in conversation, but you are also limiting your self as Devs are busy and can't always respond. I know I help a lot, but not always here, and I don't know everything

it's not in any form its the result of `L=√xy`","",""
"403788345789906944","mobbie.fba","18/10/2022 12:43 pm","So this one https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal works but only give pools list. Pool's ticks are all empty.
```
    {pools {
            id
            liquidity
            tick
            sqrtPrice
            totalValueLockedToken0
            totalValueLockedToken1
            ticks {
              tickIdx
              liquidityGross
              liquidityNet
            }
  }}
```","https://cdn.discordapp.com/attachments/765222888617017365/1031827285466152981/unknown.png",""
"425626711502094366","sandvige","18/10/2022 12:55 pm","Hello, is it possible to get through thegraph API if a token is verified or not?","https://cdn.discordapp.com/attachments/765222888617017365/1031830448839593994/unknown.png",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 4:33 pm","Hey mobbie, which pool is this?","",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 4:33 pm","Hey Ed, I'm not too sure","",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 4:34 pm","I'll send the team a message","",""
"425626711502094366","sandvige","18/10/2022 4:34 pm","@Anthony 🦄 // Community Manager I finally scrapped a few files (tokens.uniswap.org + extended + unsupported + also scrapped https://github.com/Uniswap/interface/blob/4806c69053a8fc77cee4620094f3edea4799101c/src/constants/tokens.ts)","",""
"425626711502094366","sandvige","18/10/2022 4:35 pm","If it can helps","https://cdn.discordapp.com/attachments/765222888617017365/1031885735596400732/message.txt",""
"403788345789906944","mobbie.fba","18/10/2022 4:36 pm","Thanks for supporting @Anthony 🦄 // Community Manager . All pool's ticks response are empty as you can see in screenshot","https://cdn.discordapp.com/attachments/765222888617017365/1031885990517805086/unknown.png",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 6:51 pm","Hm, not too sure. I sent the team a message about an hour ago. I'll get back to you on this soon.","",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 6:53 pm","Does it return a value if you specify a specific pool?","",""
"403788345789906944","mobbie.fba","18/10/2022 7:18 pm","No. still empty ticks","https://cdn.discordapp.com/attachments/765222888617017365/1031926862852665444/unknown.png",""
"989275482488983663","AnthonyNicholas#4331","18/10/2022 8:05 pm","Let me look more into this. I'll respond soon","",""
"471357824299958273","crypto_rachel","18/10/2022 9:26 pm","Sorry @mobbie I was worried that it wouldn't have all the data, this is purely an issue with the graph not being able to keep up with the blocks.  Unfortunately there is no work around outside of getting historical data from the chain","",""
"471357824299958273","crypto_rachel","18/10/2022 9:28 pm","So tokens are all tracked to some small degree in the graph, but tokens that don't have a pool larger than 60ETH in a whitelisted token are not fully tracked.","",""
"989275482488983663","AnthonyNicholas#4331","19/10/2022 1:15 am","Thanks Rachel 🙏","","np (1)"
"734200167733133323",".jmish","19/10/2022 1:53 pm","Ciao guys, can somebody tell me how to fetch the output of mint function when creating LP position (v3) in web3.py?
      
`        INonfungiblePositionManager.MintParams memory params =
            INonfungiblePositionManager.MintParams({
                ...
            });
        (tokenId, liquidity, amount0, amount1) = nonfungiblePositionManager.mint(params);`","",""
"734200167733133323",".jmish","19/10/2022 1:56 pm","Transaction receipt is not giving any output","",""
"688479412110491860","Exess#4778","19/10/2022 1:57 pm","Someone can help me?","",""
"739851161930039356","Rey#5193","19/10/2022 2:01 pm","Hi there, How may I help?","",""
"688479412110491860","Exess#4778","19/10/2022 2:08 pm","Can i write privately?","",""
"739851161930039356","Rey#5193","19/10/2022 2:10 pm","If you need support, you can open a ticket here #🙋│help","",""
"734200167733133323",".jmish","19/10/2022 2:11 pm","@Rey  so if I ask specific question is it being just ignored or what?","",""
"739851161930039356","Rey#5193","19/10/2022 2:12 pm","Hi @jmish, let us wait for the team to review this case. Your case needs to be checked by the team since this involves the API","",""
"739851161930039356","Rey#5193","19/10/2022 2:17 pm","We do not have support in telegram. We only provide support here in Discord.

Beware of impersonators. Uniswap Team and support members will NEVER DM you first and never ask for your information or send you links. Always be suspicious of anyone reaching out to you in private. 

⛔️DO NOT share your seed phrases or private keys to anyone and DO NOT paste it in any website!","","👍 (1)"
"801112578268463115","m3loss#9907","19/10/2022 5:37 pm","hi anyone can help me with this noob question. I made query on SNX/USDC pair Uniswap v3. Why is tvlUSD showing so big number 3,4M$? While dexscreener says there is liquidity only 1,5M$. How is tvlUSD being calculated? and across all v3 pools there is only 2,2M$ tvl according uniswap web page","https://cdn.discordapp.com/attachments/765222888617017365/1032263808787415040/unknown.png",""
"801112578268463115","m3loss#9907","19/10/2022 5:39 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1032264140917579867/unknown.png",""
"989275482488983663","AnthonyNicholas#4331","19/10/2022 9:18 pm","Hey, nice sappy seal! Some data from the subgraph is a little inconsistent, one of them is TVL. The Uniswap v3 SDK is better at retrieving TVL data. Here's a link to how to use the SDK - https://docs.uniswap.org/sdk/introduction","",""
"801112578268463115","m3loss#9907","20/10/2022 6:12 pm","thank you kind penguin, will take a look into it. 🙏","",""
"470315206254264332","Bastomabot#5754","20/10/2022 11:02 pm","I'm attempting to retrieve 24 hour volume for a liquidity pair/pool. What is the correct subgraph api call for this? I'm guessing it is in the pooldaydata category but it doesn't seem to be accurate.","",""
"689493820693413913","smirale#2823","21/10/2022 2:08 am","Hello, 
In pool_id : ""0x4e68ccd3e89f51c3074ca5072bbac773960dfa36"" values feeGrowthInside{0,1}LastX128 are bigger than feeGrowthGlobal{0,1}X128 in ~10^35. Could you please tell if might be possible?","https://cdn.discordapp.com/attachments/765222888617017365/1032754606222094468/feeGrowthInside0Last_values.png",""
"471357824299958273","crypto_rachel","21/10/2022 1:10 pm","https://docs.uniswap.org/sdk/v3/overview

example of getting pools with certain token
https://discord.com/channels/597638925346930701/765222888617017365/1051647018143060038","",""
"471357824299958273","crypto_rachel","21/10/2022 1:11 pm","Pinned a message.","",""
"416621466327711764","gary195","21/10/2022 7:24 pm","How can I get those balances from a smart contract?","https://cdn.discordapp.com/attachments/765222888617017365/1033015409248567397/unknown.png",""
"342705195979112448","schnurious","21/10/2022 7:31 pm","@Cindy @Jakefrost @Micah would be great to get an answer or being able to chat. We're a LUX Hedge Fund looking to deploy our liquidity to Uni V3 but in order to run our strategy we need to get these datapoints in real-time and with accuracy","",""
"745905334505177098","cindylo0","21/10/2022 7:34 pm","Please wait for Uniswap devs or community devs to answer your query here.","",""
"342705195979112448","schnurious","21/10/2022 7:34 pm","Gotcha, thanks!","",""
"149735676278079488","austino256","21/10/2022 8:08 pm","you can calculate those values using the equations in this paper: https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf

the front end has an sdk which you can also reference.","",""
"342705195979112448","schnurious","21/10/2022 9:31 pm","Thank you!","",""
"874178865558347786","0xee880c14ec045c847625ddec58d4","22/10/2022 12:32 am","Is there a uniswap v3 subgraph for Arbitrum?","",""
"471357824299958273","crypto_rachel","22/10/2022 12:35 am","yes
https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal
but the Graph on arb doesn't have everything, since the network doesn't work with the graph well","","👍 (2)"
"248145992694628354","Nvcts Spykerkaboom#5840","23/10/2022 4:37 pm","Hi, what is the link of the polygon's API pls ?","",""
"149735676278079488","austino256","23/10/2022 7:14 pm","Check the pins","","👍 (1)"
"471357824299958273","crypto_rachel","23/10/2022 9:45 pm","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","https://cdn.discordapp.com/attachments/765222888617017365/1033775708939485314/unknown.png",""
"248145992694628354","Nvcts Spykerkaboom#5840","23/10/2022 9:55 pm","Thanks !","","np (1)"
"381748591963799553","flydexo","24/10/2022 3:27 pm","Is it possible to calculate the APR of a pair from the uniswap v2 subgraph api ?","",""
"989275482488983663","AnthonyNicholas#4331","25/10/2022 12:11 am","Hey, I don't think it's possible but I'll look more into it. Here's a link to the uniswap v2 schema - https://github.com/Uniswap/v2-subgraph/blob/master/schema.graphql","",""
"563593619672399875","avadxfeirm","25/10/2022 3:20 am","can someone help me figure out what happened with this swap i found in the v2 subgraph

```
{
        ""id"": ""0x887fb423244c8ef4e69e04b844d58ae1a44323cbf555f9787da8207206c943cf-0"",
        ""timestamp"": ""1604540858"",
        ""amount0In"": ""0.019442388217883144"",
        ""amount1In"": ""0"",
        ""amount0Out"": ""0.003751578728117265"",
        ""amount1Out"": ""0"",
        ""amountUSD"": ""0"",
        ""logIndex"": ""227"",
        ""sender"": ""0x22b06d777f4ff7813c385fe9e47e7af07eea8ba0"",
        ""to"": ""0x22b06d777f4ff7813c385fe9e47e7af07eea8ba0""
      }
```
this was the query used (its the second of the 3 results):
```
{
  swaps(first:1000, where:{timestamp:""1604540858"", pair:""0x06a894754ef1c87aeb2a9f859503b2dbff4dc106""}) {
    id
    timestamp
    amount0In
    amount1In
    amount0Out
    amount1Out
    amountUSD
    logIndex
    sender
    to
  }
}
```
here is the etherscan of the transaction: https://etherscan.io/tx/0x887fb423244c8ef4e69e04b844d58ae1a44323cbf555f9787da8207206c943cf","",""
"843155325619535912","Etherscan Bot#5753","25/10/2022 3:20 am","<https://etherscan.io/tx/0x887fb423244c8ef4e69e04b844d58ae1a44323cbf555f9787da8207206c943cf>","",""
"843155325619535912","Etherscan Bot#5753","25/10/2022 3:20 am","<https://etherscan.io/address/0x22b06d777f4ff7813c385fe9e47e7af07eea8ba0>","",""
"843155325619535912","Etherscan Bot#5753","25/10/2022 3:20 am","<https://etherscan.io/address/0x22b06d777f4ff7813c385fe9e47e7af07eea8ba0>","",""
"843155325619535912","Etherscan Bot#5753","25/10/2022 3:20 am","<https://etherscan.io/address/0x06a894754ef1c87aeb2a9f859503b2dbff4dc106>","",""
"563593619672399875","avadxfeirm","25/10/2022 5:47 am","in the swap, token0 went in and less of token0 came out, with no interaction (in or out) with token1","",""
"471357824299958273","crypto_rachel","25/10/2022 12:50 pm","this is someone, looks like they are testing a contract live main net, lot of issues with their txs. just losing money playing on main net 😂","",""
"563593619672399875","avadxfeirm","25/10/2022 1:08 pm","what does the sell function do, just eat there money?","",""
"563593619672399875","avadxfeirm","25/10/2022 1:13 pm","and inversely the buy function, since it shows up in there transactions, and in the swaps query

it kinda throws off my script for compiling the swaps to ohlcv, should i just disregard data like that","",""
"471357824299958273","crypto_rachel","25/10/2022 1:24 pm","they are probably testing a mev type tx or a flash swap","",""
"471357824299958273","crypto_rachel","25/10/2022 1:27 pm","Maximum extraction value","",""
"563593619672399875","avadxfeirm","25/10/2022 1:27 pm","Ok","",""
"563593619672399875","avadxfeirm","25/10/2022 1:27 pm","So its best to disregard it then","",""
"471357824299958273","crypto_rachel","25/10/2022 1:31 pm","What are you using the script for ?","",""
"563593619672399875","avadxfeirm","25/10/2022 1:33 pm","Converting / ""compiling"" the swap data into a open, high, low, close, volume format","",""
"563593619672399875","avadxfeirm","25/10/2022 1:34 pm","For given intervals eg. 1min, 5min, 1hour, ect","",""
"471357824299958273","crypto_rachel","25/10/2022 1:35 pm","if you are doing that, you would probably want it, since it still counts as volume on the single token, but also left behind more money","","👍 (1)"
"563593619672399875","avadxfeirm","25/10/2022 1:49 pm","Right, usually I would just do amount0in / amount1out, or amount0out / amount1in
To get a price for each swap, think I'll probably have to calculate what they ""donated"" to the pool (🤣 🤣 🤣), and figure out how it affected the price","",""
"471357824299958273","crypto_rachel","25/10/2022 1:57 pm","yeah, you would likely have to, people make work harder 😄","",""
"381748591963799553","flydexo","25/10/2022 5:14 pm","Is there any other way I can calculate it ? With the contract or anything else ? How does defillama gets it ?","",""
"334512767929286657","moreira7932","26/10/2022 4:36 am","Hello everyone! I have been playing with the subgraph v3 a bit today and I noticed that for the Position schema, it has a `liquidity` field that is BigInt. How is this liquidity obtained from the initial amount deposited? For the previous versions I know it followed `liquidity = x * y`, but not I could not find a simple examplanation for that","",""
"989275482488983663","AnthonyNicholas#4331","26/10/2022 7:01 am","I'm not too sure, but I'll look into it.","",""
"563593619672399875","avadxfeirm","27/10/2022 2:31 pm","i found another strange transaction in the subgraph, wondering if this is a flash swap or something similar

https://etherscan.io/tx/0xa8c00a56cf2455241bbc4b5ef9e3f9e761cdbd7909847ab8274dcd9bd1dded6a","",""
"563593619672399875","avadxfeirm","27/10/2022 2:41 pm","this was the query result (it was repeated 49 more times with the only difference being the index on the id, but they all have the same id):

```
{
        ""id"": ""0xa8c00a56cf2455241bbc4b5ef9e3f9e761cdbd7909847ab8274dcd9bd1dded6a-0"",
        ""timestamp"": ""1617108509"",
        ""amount0In"": ""69420"",
        ""amount1In"": ""59906.527371786815366923"",
        ""amount0Out"": ""68320"",
        ""amount1Out"": ""59906.527371786815366923"",
        ""amountUSD"": ""220594312.9744319597487756922270412"",
        ""logIndex"": ""30"",
        ""sender"": ""0x1cf85c1356662327e9f083326883f5635d383c01"",
        ""to"": ""0x1cf85c1356662327e9f083326883f5635d383c01""
      }
```

last time someone ""donated"" money to the pool, this time looks like someone ""donated"" in gas","",""
"401842633464610837","_kfx","27/10/2022 3:34 pm","looks like someone trying to generate a lot of fake volume using a flash loan","",""
"334512767929286657","moreira7932","27/10/2022 4:09 pm","I am still stuck at this, could someone please help me 🙂","",""
"149735676278079488","austino256","27/10/2022 8:04 pm","its in the pins: https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","",""
"563593619672399875","avadxfeirm","28/10/2022 12:13 am","so what does a flash swap look like on v2 subgraph, and on etherscan","",""
"401842633464610837","_kfx","28/10/2022 12:37 am","v3 subgraph tracks flash swap events, I don't think the v2 subgraph does.
For more in depth analysis I'm afraid you have to wait for someone else or do it your self. Check the documentation here: https://docs.uniswap.org/protocol/V2/concepts/core-concepts/flash-swaps","",""
"401842633464610837","_kfx","28/10/2022 12:42 am","to be clear, there's a flash load from dydx in the Tx you shared","",""
"563593619672399875","avadxfeirm","28/10/2022 12:43 am","yeah, i tried this on v3 subgraph:
```
{
  flashes(first:5){
    id
  }
}
```
and it returned nothing as seen here:
```
{
  ""data"": {
    ""flashes"": []
  }
}
```

i wonder if there is a prerequisite im missing","","❓ (1)"
"563593619672399875","avadxfeirm","28/10/2022 12:45 am","yeah i know theres a flash loan in that transaction, im just wondering if all of the amount related fields are filled on a flash swap with v2","",""
"563593619672399875","avadxfeirm","28/10/2022 12:49 am","eg. (amount0In, amount1In, amount0Out, amount1Out)
and on the second to last query result i send (the one that pertains to the flash loan transaction) all of them are filled in, normal swaps only have 2 of the 4 fields filled in either (amount0In, and amount1Out), or (amount1In, and amount0Out)","",""
"471357824299958273","crypto_rachel","28/10/2022 12:52 am","That's probably something weird that the mev bot is doing. They have tons of swaps within that tx","",""
"563593619672399875","avadxfeirm","28/10/2022 12:53 am","what does it mean when all 4 of the amount fields are filled in, is that what a flash swap looks like on v2","",""
"471357824299958273","crypto_rachel","28/10/2022 12:55 am","no, i'm thinking this mev bot was manipulating something... flash swap looks just like a normal swap in the graph","",""
"563593619672399875","avadxfeirm","28/10/2022 12:56 am","i see, and you were definitely right. people make work harder","","😄 (1),💯 (1)"
"471357824299958273","crypto_rachel","28/10/2022 12:58 am","all that fun 😄","",""
"401842633464610837","_kfx","28/10/2022 12:58 am","btw, there are quite a few Swap events that have both output fields non-zero, especially for some fee on transfer tokens that trigger swaps on transfer","","👆 (1)"
"563593619672399875","avadxfeirm","28/10/2022 12:59 am","noted thanks for the heads up","",""
"471357824299958273","crypto_rachel","28/10/2022 1:00 am","yeah too many stupid variables 😂","","👍 (1)"
"767801975479337012","macos8853","28/10/2022 3:48 am","Is it possible to get this query for a specific timestamp?

```        {
            ticks(first:1000,skip: 0,orderBy:tickIdx,orderDirection:asc,
                where: {
           poolAddress: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""
          }) 
            {id,tickIdx,liquidityNet,price0,price1}
            }
```

And as a related question, is tickHourDatas buggy? If i try to query it, it's empty","",""
"843155325619535912","Etherscan Bot#5753","28/10/2022 3:48 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"692059649553334353","Oliver | Phuture#0686","28/10/2022 5:02 am","I still find a lot of bugs in the uni v3 subgraph","",""
"692059649553334353","Oliver | Phuture#0686","28/10/2022 5:03 am","","https://cdn.discordapp.com/attachments/765222888617017365/1035335359220940910/unknown.png,https://cdn.discordapp.com/attachments/765222888617017365/1035335359598448750/unknown.png",""
"692059649553334353","Oliver | Phuture#0686","28/10/2022 5:03 am","the subgraph overestimates by an order of maginitude","",""
"381748591963799553","flydexo","29/10/2022 3:27 am","Is reserveUSD for a pair the same as its TVL ?","",""
"471357824299958273","crypto_rachel","29/10/2022 8:53 am","share an example and which version, but If we are talking about the same then yes","",""
"381748591963799553","flydexo","29/10/2022 9:54 pm","Can I query polygon data with the subgraph api ?","",""
"989275482488983663","AnthonyNicholas#4331","30/10/2022 12:41 am","Yes you can. Here’s a link to the polygon subgraph, https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"381748591963799553","flydexo","30/10/2022 12:42 am","Thanks","","👍 (1)"
"406143087488794645","Srulik#7786","30/10/2022 4:16 pm","Hi guys, Can i access the Uniswap SubGraph directly from another SubGraph?

Can i query / load data from another SubGraph data directly from my SubGraph?","",""
"334512767929286657","moreira7932","31/10/2022 9:03 pm","Is there a way of converting virtual liquidity to real one for a price range?","",""
"960537405625077793","rupesh_systango","31/10/2022 11:14 pm","Hi Guys, I am just going through the code of uniswap v3 subgraph . When a pool is created it just create and store data in the graph with atmost filed with 0. Like total value locked , derviedETH ... I am not getting where this filed are updated","",""
"471357824299958273","crypto_rachel","31/10/2022 11:21 pm","they get updated with every event that it watches, mints, burns, swaps, etc","",""
"960537405625077793","rupesh_systango","31/10/2022 11:24 pm","But say first we store diveredETH = 0 when a pool is created now i have seen the code whenever we update diveredETH we multiply it with diveredEth i.e 0 so every time we will get 0","",""
"960537405625077793","rupesh_systango","31/10/2022 11:24 pm","token0.derivedETH = findEthPerToken(token0 as Token)","",""
"960537405625077793","rupesh_systango","31/10/2022 11:25 pm","********************* Now in this findEthPerToken() function","",""
"960537405625077793","rupesh_systango","31/10/2022 11:26 pm","priceSoFar = pool.token0Price.times(token0.derivedETH as BigDecimal)","",""
"960537405625077793","rupesh_systango","31/10/2022 11:26 pm","we again multiply it by token0.derivedETH which is 0","",""
"960537405625077793","rupesh_systango","31/10/2022 11:27 pm","@Crypto_Rachel can you please make me this clear","",""
"471357824299958273","crypto_rachel","31/10/2022 11:31 pm","this line is about the pool price, I don't know the code well enough to point out where it does the math, but it's there since the graphs work.","",""
"960537405625077793","rupesh_systango","31/10/2022 11:32 pm","@Crypto_Rachel Ok , Do you know that after the poolCreation which will be the next event","",""
"960537405625077793","rupesh_systango","31/10/2022 11:33 pm","so that i can track and read that event first","",""
"471357824299958273","crypto_rachel","31/10/2022 11:36 pm","first one would need to be mint/addLQ event, then could be anything","",""
"960537405625077793","rupesh_systango","31/10/2022 11:36 pm","@Crypto_Rachel Thankyou","","np (1)"
"960537405625077793","rupesh_systango","01/11/2022 12:32 am","@Crypto_Rachel I just want to know do you know how to find diveredEth for any token.","",""
"471357824299958273","crypto_rachel","01/11/2022 12:37 am","I don't use the graph so I don't know it that well. Try looking through the schema for what you want, if you don't see it re-ask your question here with more info, like which graph / network,","",""
"960537405625077793","rupesh_systango","01/11/2022 12:42 am","I have not found that code so far. 

Like my question is i am understanding how uniswap v3-subgraph code works and store data in the graph. There is one filed associate with token table i.e diveredEth (which basically means the price of 1 token in term's of ETH) I just want to know how this price calculation was done how uniswap have found diveredEth for any token . Say if i will query for PAXG token there  is a filed dervied ETH so that calculation was done and value was stored in the graph . I am not founding any data in that","",""
"471357824299958273","crypto_rachel","01/11/2022 12:51 am","I have to run, but the price of a token is based off of the sqrtPrice which takes a bit of math to get, check my examples here (first one is the easiest to follow) This gives you the price of token{0,1} in the price of the other, if one is weth, then you can use for derived ETH directly otherwise you would need to price out the tokens
SQRT Price x96 math
Minified updated
https://discord.com/channels/597638925346930701/607978109089611786/1034543319096774708
older more junk
https://discord.com/channels/597638925346930701/607978109089611786/979542357877862440
https://discord.com/channels/597638925346930701/607978109089611786/943374038162616370","",""
"960537405625077793","rupesh_systango","01/11/2022 12:56 am","No issue @Crypto_Rachel But this all are related to sqrtPrice which i already understood .","",""
"397727915485298689","bigcheese5674","01/11/2022 7:25 pm","hi all anyone know what going on with this subgraph seems to have failed suddenly","",""
"397727915485298689","bigcheese5674","01/11/2022 7:25 pm","https://thegraph.com/hosted-service/subgraph/zephyrys/uniswap-polygon-but-it-works","",""
"334512767929286657","moreira7932","01/11/2022 8:43 pm","Anyone?","",""
"989275482488983663","AnthonyNicholas#4331","01/11/2022 10:29 pm","Are you trying to convert the virtual liquidity of a position to a real one?","",""
"334512767929286657","moreira7932","01/11/2022 10:30 pm","yes!","",""
"471357824299958273","crypto_rachel","01/11/2022 10:44 pm","https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595","",""
"843155325619535912","Etherscan Bot#5753","01/11/2022 10:44 pm","","",""
"216407038979211264","oxega","01/11/2022 10:54 pm","I have a question about the TokenDayDatas and TokenHourDatas graphql query and the priceUSD selection. Does anyone know how this priceUSD value is determined? Is it taken at the start (midnight UTC) of a daily time period, or is it a calculated average. If it is an average value, how is it calculating this average? (average by pool? average by transactions? volume weighted average?) Also I assume this is the token price that is aggregated across multiple pools, is that accurate? Thank you for your help in clarifying these matters.","",""
"216407038979211264","oxega","01/11/2022 11:03 pm","For reference I found this item in the developer V3 documentation, https://docs.uniswap.org/sdk/subgraph/subgraph-examples#token-daily-aggregated but wanted additional details relating to the priceUSD selector","",""
"471357824299958273","crypto_rachel","01/11/2022 11:06 pm","iirc it's at midnight, ~~and this data is purely for the pool~~","",""
"216407038979211264","oxega","01/11/2022 11:10 pm","In the link that I posted the query doesn't specify a pool address, how do I know which pool it is targeting? Is there a default aave pool for instance such as aave/weth?","",""
"471357824299958273","crypto_rachel","01/11/2022 11:16 pm","Sorry I was thinking something else
`Any token that exists in at least one Uniswap V3 pool can be queried. The output will aggregate data across all v3 pools that include the token.`","",""
"471357824299958273","crypto_rachel","01/11/2022 11:16 pm","So yes it should be from all pools","",""
"216407038979211264","oxega","01/11/2022 11:19 pm","And this averaging would be a simple sum of all the transaction prices divided by the number of transactions in that time period?","",""
"471357824299958273","crypto_rachel","01/11/2022 11:21 pm","I would assume its total volume transacted","",""
"216407038979211264","oxega","01/11/2022 11:23 pm","You assume it is a volume weighted average price? VWAP?","",""
"216407038979211264","oxega","01/11/2022 11:24 pm","or do you mean all volume within that time period is accounted for when they average the price (in some manner)","",""
"471357824299958273","crypto_rachel","01/11/2022 11:24 pm","this one 😊","",""
"216407038979211264","oxega","01/11/2022 11:25 pm","If I pull down the Uniswap codebase will I be able to find events labeled TokenDayData?","",""
"216407038979211264","oxega","01/11/2022 11:25 pm","or is this something specially calculated in subgraph","",""
"471357824299958273","crypto_rachel","01/11/2022 11:26 pm","and price is probably at the time of tx
I'm pretty sure that specific one is only the subgraph","","👍 (1)"
"216407038979211264","oxega","01/11/2022 11:29 pm","Thanks for the help","",""
"952127391822663700","catherinevas","02/11/2022 6:13 pm","Hello Uniswap Team!
I'm Catherine from CryptoRank.io. We are facing some issues when trying to list data from the Uniswap (Optimism network). We are using this link as instructions https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis, but we cannot find the data for the last 24 hours' trading volume. We are seeing 0 trading volume by hours.  Could you please advise where we can find this data?","",""
"559860825301712906","gc9691","02/11/2022 7:25 pm","Quick question, when I query the ticks for a certain price point on V3 ```{
  pool(id:""0x5777d92f208679db4b9778590fa3cab3ac9e2168"") {
    ticks{
      price0
      price1
    }
  }
}```  (which is for DAI/USDC) why do I get weird values ``` ""price0"": ""0.0000000000009800062338759210452462464862948831"",
          ""price1"": ""1020401672390.392542073545556879307""``` which I definitely do not think represent the upper and lower limit of the tick","",""
"559860825301712906","gc9691","02/11/2022 7:32 pm","Or if I try to query the volume of token 0 and token 1 for a tick I get 0 ```{
          ""volumeToken0"": ""0"",
          ""volumeToken1"": ""0""

        {
          ""volumeToken0"": ""0"",
          ""volumeToken1"": ""0``` etcc...","",""
"559860825301712906","gc9691","02/11/2022 7:32 pm","Is this a glitch or am. Igetting something wrong","",""
"559860825301712906","gc9691","02/11/2022 7:35 pm","even the fees are 0","",""
"559860825301712906","gc9691","02/11/2022 7:35 pm","so there is multiple numbers that are 0 when queried for the ticks","",""
"559860825301712906","gc9691","02/11/2022 8:25 pm","Its possible I got the idea of ticks wrong, where its supposed to be the tick where it switches and not basically what happens","",""
"559860825301712906","gc9691","02/11/2022 9:01 pm","ALSO wanted to ask if the graph QL is throttled to a certain length of output? For example ```Pool hour data``` returns around 200 elements in an array, which is definitely not accurate and wanted to see how much could we get?","",""
"989275482488983663","AnthonyNicholas#4331","02/11/2022 11:22 pm","@GC Hey, which chain are you querying data for?","",""
"559860825301712906","gc9691","02/11/2022 11:33 pm","Mainnet","",""
"559860825301712906","gc9691","02/11/2022 11:33 pm","Eth","",""
"989275482488983663","AnthonyNicholas#4331","02/11/2022 11:43 pm","Thanks @GC","",""
"989275482488983663","AnthonyNicholas#4331","02/11/2022 11:43 pm","What information are you trying to query? Ticks of a position or ticks in an entire pool?","",""
"559860825301712906","gc9691","02/11/2022 11:45 pm","Entire pool","",""
"745793219928915998","heiningair","03/11/2022 1:25 am","hi, did you find a working subgraph for polygon? I am also searching for one.. or maybe we can try to reach this Zehpyrus#0083 guy here somewhere and ask him to fix it... (IF YOU READ THIS, PLEASE FIX!)","",""
"989275482488983663","AnthonyNicholas#4331","03/11/2022 1:29 am","I don't think you can pass it for the entire pool, I'll look more into it","",""
"471357824299958273","crypto_rachel","03/11/2022 1:30 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"559860825301712906","gc9691","03/11/2022 2:35 am","Its available for the schema thats why I tried. I am just trying to understand what exactly is a tick and the average fee for a certain partition of the pool inV3","",""
"745793219928915998","heiningair","03/11/2022 3:05 pm","thank you. These guys must have fixed it.. didnt work for me last month when I tried. Perfect!","","np (1)"
"282926051582017537","Орельан#0250","03/11/2022 4:03 pm","Hi there, any idea why the TVL on info.uniswap et the TVL on the Subgraph for same pool show different values? Off by about 33%. Aren't you fetching data from the subgraph for info.uniswap?","https://cdn.discordapp.com/attachments/765222888617017365/1037675902986887168/unknown.png",""
"851290976151797780","cryptoguru2722","03/11/2022 5:44 pm","Hi, @Everyone
I am working on subgraph but have a problem.
I used https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3 to get the fees of position.
But this subgraph is for eth.
I need the endpoint for arbitrum.
I found this, but there is no position in this subgraph.
https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal","",""
"851290976151797780","cryptoguru2722","03/11/2022 5:44 pm","Where can I find correct endpoint?","",""
"471357824299958273","crypto_rachel","03/11/2022 9:43 pm","There is a TVL bug in uniswap V3 😭 , but due to graph sync issues it's not likely to be fixed and the team is looking into better ways to get this informaition","",""
"471357824299958273","crypto_rachel","03/11/2022 9:46 pm","Arbitrum and the graph clash, the way arbitrum does their transactions, arb graph is unable to keep up. Unfortunately no fix now. You can make web3 or etherjs calls to get position info","",""
"989275482488983663","AnthonyNicholas#4331","03/11/2022 10:00 pm","Does that happen with all chains?","","😢 (1)"
"471357824299958273","crypto_rachel","03/11/2022 10:02 pm","yes unfortunately, and not really fixable 😭","",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:12 am","I don't think the subgraph returns all tick data. You might need to use the SDK if you want all of the ticks in a pool. However, all of these values underlined in pink represent a tick.","",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:12 am","","https://cdn.discordapp.com/attachments/765222888617017365/1037799033592352808/Screen_Shot_2022-11-03_at_2.42.21_PM.png",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:13 am","You can find the price of each of these ticks using the following formula: p(i) = 1.0001^i, where i represents a tick","",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:14 am","So the first value is -254218","",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:16 am","p(-254218) = 1.0001^(-254218) = 0","",""
"989275482488983663","AnthonyNicholas#4331","04/11/2022 12:17 am","Negative ticks mean the price is less than 1","",""
"471357824299958273","crypto_rachel","04/11/2022 12:20 am","also have to handle the decimals
`(1.0001**Math.abs(tick))/(10**Math.abs(token0Decimals-token1Decimals)) = Token0 price in relation to Token1 <-tick price`","",""
"282926051582017537","Орельан#0250","04/11/2022 12:32 pm","Damn, everytime i try to implement something with V3 i always end up in a dead end ahah. Thanks for the info tho 🐯","","👍 (1)"
"952127391822663700","catherinevas","04/11/2022 1:40 pm","Hello the Uniswap Team! Do you have any feedback? Maybe we are using the incorrect subgraph?","",""
"739851161930039356","Rey#5193","04/11/2022 1:47 pm","Hello there, Let us wait for the team to review this. Thank you.","","🙏 (1)"
"180513892298915840","kunisvs","04/11/2022 5:32 pm","Hi , how to specific network in graphsql ? 
I want to see all positions of a polygon","",""
"989275482488983663","AnthonyNicholas#4331","05/11/2022 2:12 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","","🥰 (1)"
"471357824299958273","crypto_rachel","05/11/2022 7:02 am","I don't know the graph well, but this one has the schema on the side, makes it easier to find
https://thegraph.com/hosted-service/subgraph/ianlapham/optimism-post-regenesis","",""
"989275482488983663","AnthonyNicholas#4331","06/11/2022 5:57 pm","Hey @Tai, have you used the subgraph before?","",""
"323449554022432770",".0xtai","06/11/2022 6:01 pm","Yeah","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","06/11/2022 6:11 pm","I believe you can get a full list of tokens on Uniswap with the subgraph. Let me do some more research here.","",""
"323449554022432770",".0xtai","06/11/2022 6:13 pm","Thanks. Do you know which function I should call?","",""
"323449554022432770",".0xtai","06/11/2022 6:14 pm","I believe Uniswap keeps track of a token address to avoid duplicates.","",""
"989275482488983663","AnthonyNicholas#4331","06/11/2022 8:47 pm","I'm sorry, I'm wrong. You can't get a list of tokens from the subgraph but we have a list of tokens on Uniswap here - https://tokenlists.org/token-list?url=https://gateway.ipfs.io/ipns/tokens.uniswap.org","",""
"972529254837415946","fran_1ceman26","06/11/2022 11:22 pm","Hi! I want to do that query:","",""
"972529254837415946","fran_1ceman26","06/11/2022 11:23 pm","{
      positions (orderBy: id, orderDirection: desc, first: 1, where: {
                  owner: ""WALLET_ADDRESS"" ,
                  pool: ""0xa374094527e1673a86de625aa59517c5de346d32""
      }) {
          id
          owner
      }
    }","",""
"972529254837415946","fran_1ceman26","06/11/2022 11:23 pm","But I also need to request only the active positions, what keyword should I use?","",""
"972529254837415946","fran_1ceman26","06/11/2022 11:26 pm","This pool is a Muambi one, I don´t know if there is any way to try this query in Muambi, or I have to try it in Polygon, as I am doing","",""
"972529254837415946","fran_1ceman26","06/11/2022 11:27 pm","I wrote this question in #💻│dev-chat , but then I found #🌐│subgraph-api , sorry for the repetition","",""
"989275482488983663","AnthonyNicholas#4331","07/11/2022 12:08 am","@Fran 1ceman26 I don't think you can filter active positions with the subgraph","",""
"989275482488983663","AnthonyNicholas#4331","07/11/2022 12:09 am","I'll do some research to see if it's possible to filter only active positions","",""
"972529254837415946","fran_1ceman26","07/11/2022 12:18 am","Thanks!!","",""
"816735645384048711","paulieb.eth","07/11/2022 6:09 am","Hey Team.  I'm a curator with the Graph.  Was hopeful your team would deploy a subgraph on the mainnet?  Does that look likely before the end of the year? 🙏","",""
"471357824299958273","crypto_rachel","07/11/2022 6:14 am","Uniswap has multiple graphs. You can find them in the pins","https://cdn.discordapp.com/attachments/765222888617017365/1038977107746898020/unknown.png",""
"816735645384048711","paulieb.eth","07/11/2022 6:15 am","Was hopeful for V1 or V2 on ETH!","",""
"471357824299958273","crypto_rachel","07/11/2022 6:18 am","give me a min i'll find the v2","","🙏 (1)"
"471357824299958273","crypto_rachel","07/11/2022 6:19 am","v2
https://thegraph.com/explorer/subgraph/ianlapham/uniswapv2

v1
https://thegraph.com/explorer/subgraph/ianlapham/uniswap","",""
"816735645384048711","paulieb.eth","07/11/2022 6:21 am","Thank you. Those are on hosted network. Any ideas if those maybe publish on decentralized mainnet soon?","",""
"471357824299958273","crypto_rachel","07/11/2022 6:23 am","The graph is separate from the main net, this won't change, it is a blockchain","",""
"816735645384048711","paulieb.eth","07/11/2022 6:34 am","The graph has hosted (free service) which V1 and V2 are deployed on and decentralized mainnet (pay per query). Graph will be sunsetting the hosted service in 2023. Some projects are migrating early so no headaches later. Was hoping to see if yours may migrate or at least publish your decentralized versions soon","",""
"471357824299958273","crypto_rachel","07/11/2022 6:38 am","ok I know what you speak of now...
well I didn't see v1 in the repos but here is v2 https://github.com/Uniswap/v2-subgraph","",""
"323449554022432770",".0xtai","07/11/2022 12:58 pm","518 tokens? I believe there is a lot more. We need two more zeros I think.","",""
"559860825301712906","gc9691","07/11/2022 4:02 pm","```{
          ""periodStartUnix"": 1664215200,
          ""tvlUSD"": ""811130595.335981104034197133"",
          ""token0Price"": ""0.9999831908801513830908746377561898"",
          ""token1Price"": ""1.000016809402399876432277006511038"",
          ""volumeUSD"": ""0"",
          ""txCount"": ""17"",
          ""high"": ""0.9999831908801513830908746377561898"",
          ""low"": ""0.9999830519936091210847229118248788"",
          ""close"": ""0.9999831908801513830908746377561898""
        }``` Why does the volumeUSDof USDC/DAI show 0 for all time periods?","",""
"559860825301712906","gc9691","07/11/2022 4:08 pm","Its also for other tokens","",""
"559860825301712906","gc9691","07/11/2022 4:08 pm","not only this one","",""
"559860825301712906","gc9691","07/11/2022 4:15 pm","Been facing this issue for a while now","",""
"559860825301712906","gc9691","07/11/2022 4:31 pm","https://info.uniswap.org/#/pools/0x3416cf6c708da44db2624d63ea0aaef7113527c6 although it is showing here so I am kind of interested in knowing from where it is getting the data","",""
"989275482488983663","AnthonyNicholas#4331","07/11/2022 4:49 pm","What chain is this? @GC","",""
"559860825301712906","gc9691","07/11/2022 4:49 pm","mainnet","",""
"989275482488983663","AnthonyNicholas#4331","07/11/2022 4:50 pm","I believe that’s all of the tokens we list. Any token not on the list would have to verified by the user when they import it to the UI. I sent a message to the team to see if we have another list. I’ll send an update soon.","","👍🏻 (1)"
"456528250684833822",".takemymoney","07/11/2022 10:49 pm","hi is there a uni v3 goerli subgraph? can't find it unless it actually doesn't exist","",""
"456528250684833822",".takemymoney","07/11/2022 11:04 pm","jk found the secret link https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli","",""
"989275482488983663","AnthonyNicholas#4331","08/11/2022 5:53 am","how did u find the secret link? 👀","",""
"456528250684833822",".takemymoney","08/11/2022 5:56 am","Sacrificed a goat and a voice told me soon after","","ios_cry (1)"
"471357824299958273","crypto_rachel","08/11/2022 11:15 am","hiding in the pins 😄","",""
"748370985924821023","yogesh_95","08/11/2022 3:33 pm","Hi,
is there a subgraph deployed for uniswap v2 goerli ?","","🤷‍♀️ (1)"
"989275482488983663","AnthonyNicholas#4331","08/11/2022 10:59 pm","I don't believe so","",""
"989275482488983663","AnthonyNicholas#4331","08/11/2022 10:59 pm","Let me check","",""
"767801975479337012","macos8853","09/11/2022 1:55 am","Is there subgraph support for the other networks besides the Eth mainnet like Polygon and Optimism?","",""
"989275482488983663","AnthonyNicholas#4331","09/11/2022 2:40 am","Yes sir!","",""
"989275482488983663","AnthonyNicholas#4331","09/11/2022 2:40 am","https://discord.com/channels/597638925346930701/915709744809914471/1025056653860679690","","🙏 (1)"
"989275482488983663","AnthonyNicholas#4331","09/11/2022 2:40 am","@macos ^","",""
"843155325619535912","Etherscan Bot#5753","09/11/2022 2:40 am","","",""
"183204411848392704","TaigaPaul#6640","09/11/2022 2:43 am","I am looking for more information on how to pull historical liquidity pool data for Uniswap V2. For example, I want to find the daily volume and total value locked of ETH-USDC V2 liquidity pool for the last 2 years. How would I do this using thegraph? thank you all for the help!","",""
"972094625961631824",".searchableguy","10/11/2022 2:40 am","When I try to query uniswap subgraph for pricing data, It seems I cannot find the pool using this query when many exist for some pairs like USDT_USDC

```graphql
{
  pools(
    orderBy: volumeUSD
    orderDirection: desc
    where: {
    token0: ""0xdac17f958d2ee523a2206206994597c13d831ec7""
    token1: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""
  }) {
    token1Price
  }
}

```

Any possible reason?","",""
"755991968609468427","etant","10/11/2022 9:54 am","hi, is there a way to see historical prices in a 5m interval?
i see on subgraph there is a way to get hourly average price
but what about 5 mins?","",""
"755991968609468427","etant","10/11/2022 11:04 am","Is there any reason that volume is 0 from poolHourDatas? From the low,high,close you can see that there was traded volume, but volume shows 0. I looked through chat but no one answered it","",""
"776750923963170816","mb2069","10/11/2022 7:17 pm","i feel like quite a bit of data is missing from the subgraphs? Unless Im dumb.

I been playing around with univ3 subgraph on arbitrum, and quite a bit of data that i need does not appear, for example when trying to get Ticks","",""
"755991968609468427","etant","10/11/2022 7:53 pm","hey did you figure out the query? For some reason when I do PoolHourData volume is always 0","",""
"755991968609468427","etant","10/11/2022 10:10 pm","Why is the volume 0 for poolHourData?","",""
"755991968609468427","etant","10/11/2022 10:10 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1040304862996480130/image.png",""
"755991968609468427","etant","10/11/2022 10:10 pm","ive looked through chat, and this problem seem to be recurring but never addressed","",""
"755991968609468427","etant","10/11/2022 10:11 pm","did you find out why its volume is 0? any work around?","",""
"638766945206009866","kwsantiago","10/11/2022 10:44 pm","this query gives me the current data for liquidity distribution of a given V3 pool but I need to find the historical data for liquidity distribution of a given V3 pool, let's say what were the ticks at block X for pool Y. How can I find this data from a historical level?

```{
        ticks(first: 1000,
              where: {poolAddress: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""},
              orderBy: tickIdx) {
            tickIdx
            liquidityNet
            price0
            price1
        }
    }```","",""
"843155325619535912","Etherscan Bot#5753","10/11/2022 10:44 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"949005528200273960","xdogeinu","11/11/2022 12:14 am","hello admin, I am query a  uniswap v3 subgraph history data use graphQL, but I always got only 1 data return, why it happen? does it mean I need to pay for the query to get all the history data return ? this is my query url:https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++%0A++positionSnapshots%28where%3A%7BblockNumber_gt%3A12369845%2C+position%3A%226%22%7D%29%7B%0A++++id%0A++++position%7B%0A++++++id%0A++++++owner%0A++++++liquidity%0A++++++collectedFeesToken0%2C%0A++++++collectedFeesToken1%2C%0A++++++tickLower%7BtickIdx%2CpoolAddress%7D%0A++++++tickUpper%7BtickIdx%2CpoolAddress%7D%0A++++%7D%2C%0A++++pool%7B%0A++++++id%0A++++++liquidity%2C%0A++++++sqrtPrice%2C%0A++++++txCount%0A++++%7D%0A++++blockNumber%2C%0A++++depositedToken0%2C%0A++++depositedToken1%2C%0A++++timestamp%0A++%7D%0A++%0A%7D","",""
"949005528200273960","xdogeinu","11/11/2022 1:11 am","and how much per query ?","","idkniga (1)"
"949005528200273960","xdogeinu","11/11/2022 1:22 am","thank you .but search it on etherscan ,can not get the history data.","","👍 (1)"
"216583679743361024","Asian#7395","11/11/2022 4:05 am","Does Subgraph have delay?","","idkniga (3),💀 (1),🤷‍♂️ (1)"
"471357824299958273","crypto_rachel","11/11/2022 5:26 am","yes it takes time for the graph to sync all the data from the chain among all the nodes","",""
"471357824299958273","crypto_rachel","11/11/2022 5:32 am","this one only takes a single token argument afaik","",""
"949005528200273960","xdogeinu","11/11/2022 8:19 am","how long it will delay ?","",""
"949005528200273960","xdogeinu","11/11/2022 8:20 am","will it longer than 1 hour ?","",""
"471357824299958273","crypto_rachel","11/11/2022 8:23 am","not 100% sure, I'm sure it matters how many nodes are running, I doubt it would take longer than an hour","",""
"949005528200273960","xdogeinu","11/11/2022 8:58 am","I use the public node. https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"949005528200273960","xdogeinu","11/11/2022 8:58 am","you mean, if I want to be faster, I need to build my node ?","",""
"949005528200273960","xdogeinu","11/11/2022 9:07 am","if i query data, from timestamp_lt than  1668132000, will it happen next time when I query, the data will be more than last time I query?","",""
"949005528200273960","xdogeinu","11/11/2022 9:08 am","I mean , the time before some timestamp,  the data should be indexed already, right ?","",""
"471357824299958273","crypto_rachel","11/11/2022 9:19 am","I speak of the time it takes for the graph to sync all the data from the current block.","",""
"776750923963170816","mb2069","11/11/2022 7:01 pm","seems like they dont care lol","",""
"638766945206009866","kwsantiago","11/11/2022 8:29 pm","this query gives me the current data for liquidity distribution of a given V3 pool but I need to find the historical data for liquidity distribution of a given V3 pool, let's say what were the ticks at block X for pool Y. How can I find this data from a historical level?

```{
        ticks(first: 1000,
              where: {poolAddress: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""},
              orderBy: tickIdx) {
            tickIdx
            liquidityNet
            price0
            price1
        }
    }```","",""
"638766945206009866","kwsantiago","11/11/2022 8:31 pm","Also @Crypto_Rachel is sqrtPrice the swap price at that time? I know it's  used for liquidity calculations but want to know if this is also the swap price for that pool. ```{
  poolDayDatas(first: 1000, orderBy: date, where: {
    pool: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""
  } ) {
    date
    sqrtPrice
    close
  }
}```","",""
"471357824299958273","crypto_rachel","11/11/2022 10:20 pm","sqrtPrice is the most accurate price of the pool. The graph is always slightly behind block data, so it would be the price of the block that is viewed","",""
"638766945206009866","kwsantiago","11/11/2022 11:06 pm","Thank you","",""
"638766945206009866","kwsantiago","11/11/2022 11:20 pm","Why is the `sqrtPrice` and `close` different then?","",""
"776750923963170816","mb2069","11/11/2022 11:20 pm","@Crypto_Rachel 
Do you know why there are missing data from arbitrum subgraph for uni v3? Or is that beyond you guys' control?","",""
"471357824299958273","crypto_rachel","11/11/2022 11:22 pm","Not sure on that one, tbh I don't use the graph","",""
"471357824299958273","crypto_rachel","11/11/2022 11:24 pm","V3 arbitrum graph is basically broke, it can't handle the arbitrum speed, so if the calls work on the main net graph, and not on arb, then it's just due to arbitrum","",""
"471357824299958273","crypto_rachel","11/11/2022 11:26 pm","gotta be something with the day data, and how that is setup for open / close price of the day 🤷‍♀️","",""
"776750923963170816","mb2069","12/11/2022 5:01 am","Thanks for the clarification 🙂 interesting issue
Which would mean the best way to query those data is via own node/rpc?","",""
"471357824299958273","crypto_rachel","12/11/2022 9:10 am","np
correct","","ty (1)"
"447487680511606785","reuptake","12/11/2022 3:22 pm","https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3 is correct address for v3 subgraph?","",""
"989275482488983663","AnthonyNicholas#4331","12/11/2022 4:29 pm","Yep","",""
"471357824299958273","crypto_rachel","13/11/2022 12:51 am","figured it out 😄  just bad at remembering how to do historical since I never use the graph
```{
        ticks(first: 1000,
              where: {poolAddress: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""},
              block: {number: 15955884}
              orderBy: tickIdx) {
            tickIdx
            liquidityNet
            price0
            price1
        }
    }```","",""
"638766945206009866","kwsantiago","14/11/2022 2:12 am","Amazing thank you so much, will test and let you know","","np (1)"
"468384909233356811","0x32f7c#6858","15/11/2022 2:12 pm","hello, at the app, I can get data like unclaimed fees, my liquidity value (in WBC, ETH) like this picture
I tried the v3 subgraph, but I cannot get the data that I want (unclaimed fees, my current liquidity value in WBTC and ETH), any solution ? or is there something that I missed ?","https://cdn.discordapp.com/attachments/765222888617017365/1041996504149270528/image.png",""
"468384909233356811","0x32f7c#6858","15/11/2022 2:12 pm","here is my current gql request :
```
query {
  position(id: ""xxxx""){
    id
    transaction{
      id
      blockNumber
      timestamp
      gasUsed
      gasPrice
      mints{
        amount
        amount0
        amount1
        amountUSD
      }
    }
    pool{
      id
      feeTier
      liquidity
    }
    owner
    liquidity
    depositedToken0
    depositedToken1
    withdrawnToken0
    withdrawnToken1
    feeGrowthInside0LastX128
    feeGrowthInside1LastX128
    collectedFeesToken0
    collectedFeesToken1
    tickLower{
      liquidityGross
      liquidityNet
    }
    tickUpper{
      liquidityGross
      liquidityNet
    }
    token0{
      id
      symbol
      name
      decimals
    }
    token1{
      id
      symbol
      name
      decimals
    }
    
  }
}
```","",""
"354458973572956160","vengeanc3","15/11/2022 11:48 pm","Is there a way to use the `or` operator in a query? If so, I can't seem to figure out the syntax, in this example I'm trying to get all pairs but some don't show up if it's `token1`, so I do two requests checking if the coin is `token0` or `token1` is there a syntax to combine these into one request?","https://cdn.discordapp.com/attachments/765222888617017365/1042141586890428467/unknown.png",""
"471357824299958273","crypto_rachel","16/11/2022 11:03 am","The graph does not contain that data.  You would either have to do the math or you could do a web3/ethers call to the collect function as a read only call.","",""
"471357824299958273","crypto_rachel","16/11/2022 11:03 am","no or operator afaik","",""
"468384909233356811","0x32f7c#6858","16/11/2022 1:23 pm","all right, thank you","","np (1)"
"701793964562448457","Fer#9071","16/11/2022 7:38 pm","Hello everyone!

I wanted to know if anyone knows how to get in V2 how to bring the liquidity, volume and fees per hour on a given pair. I'm having a lot of problems with this, help would be appreciated!","",""
"767801975479337012","macos8853","17/11/2022 5:25 am","for any transaction, (see screenshot example), it seems like the subgraph API actually returns the gas limit (441,073) under `gasUsed` and not the actual used amount (254,834) which is a bit misleading. is there a reason for that? and if not, is there a way to expose both in the subgraph API (`gasUsed` and `gasLimit`)?","https://cdn.discordapp.com/attachments/765222888617017365/1042588810938175509/Screen_Shot_2022-11-16_at_3.55.13_PM.png",""
"984700205263912991","__ex9","17/11/2022 6:13 am","is there a way to get 3 months of worth spot price or TWAP data for a given pool? 
it's hourly aggregated on the Subgraph 😦 
I am looking to calculate the difference between executing trades with UNIV3 TWAP prices vs offchain prices, so I'd like higher price resolution than hourly
thanks!","",""
"471357824299958273","crypto_rachel","17/11/2022 6:19 am","this room is best place and don't need to double post","",""
"471357824299958273","crypto_rachel","17/11/2022 6:20 am","please be patient as you would need someone familiar with TWAP on that level","",""
"984700205263912991","__ex9","17/11/2022 6:23 am","I understand 
thank you for the prompt 🙂","","🙏 (1)"
"471357824299958273","crypto_rachel","17/11/2022 8:42 am","probably something like this
```
{
  pair(id: ""0xae461ca67b15dc8dc81ce7615e0320da1a9ab8d5"") {
    reserve0
    reserve1
    reserveETH
    reserveUSD
    pairHourData(first:5){
      hourStartUnix
      reserve0
      reserve1
      reserveUSD
      hourlyVolumeUSD
      hourlyVolumeToken0
      hourlyVolumeToken1
    }
  }
}
```","",""
"471357824299958273","crypto_rachel","17/11/2022 8:44 am","yeah, that sucks 😦 , unfortunately, I doubt it will be fixed as the graph would take way to long to re-sync","",""
"471357824299958273","crypto_rachel","17/11/2022 8:45 am","so I don't think the subgraph would do better resolution, might have to use a historical node and gather TWAP from the past manually","",""
"984700205263912991","__ex9","17/11/2022 8:59 am","Hmm the `Swap` type seems to have the price after swap, then I think I can get the price change that way","",""
"984700205263912991","__ex9","17/11/2022 8:59 am","how else would the graph on interface be rendered","",""
"471357824299958273","crypto_rachel","17/11/2022 9:02 am","yeah this is true to","",""
"686465146956021847","zhyd1997","17/11/2022 11:22 am","Hi, team

I got data null when fetching pool from Uniswap v3 subgraph: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++pool%28id%3A+%220x36e42931a765022790b797963e42c5522d6b585a%22%29+%7B%0A++++token0+%7B%0A++++++volume%0A++++++volumeUSD%0A++++%7D%0A++++token0Price%0A++++token1+%7B%0A++++++volume%0A++++++volumeUSD%0A++++%7D%0A++%7D%0A%7D&variables=%22%7B%5Cn++%5C%22id_in%5C%22%3A+%5B%5D%5Cn%7D%22&operationName=MyQuery","",""
"686465146956021847","zhyd1997","17/11/2022 11:22 am","It should be return the pool data.

https://info.uniswap.org/#/optimism/pools/0x36e42931a765022790b797963e42c5522d6b585a","",""
"471357824299958273","crypto_rachel","17/11/2022 11:36 am","that graph is main net
here is the OP graph
https://thegraph.com/hosted-service/subgraph/ianlapham/optimism-post-regenesis","","👀 (1)"
"686465146956021847","zhyd1997","17/11/2022 11:38 am","Great, solved, thank you!","","np (1)"
"686465146956021847","zhyd1997","17/11/2022 11:53 am","one more question, how to calculate the token price?","",""
"471357824299958273","crypto_rachel","17/11/2022 12:48 pm","Sorry got slammed didn't see..
SQRT Price x96 math
Minified updated
https://discord.com/channels/597638925346930701/607978109089611786/1034543319096774708","","🙏 (1)"
"216583679743361024","Asian#7395","17/11/2022 10:39 pm","{
  ""data"": {
    ""position"": {
      ""id"": ""358585"",
      ""tickLower"": {
        ""id"": ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640#203880""
      },
      ""tickUpper"": {
        ""id"": ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640#208870""
      }
    }
  }
}
Are this the tick upper:208870 and tick lower:203880????","",""
"216583679743361024","Asian#7395","18/11/2022 1:44 am","How do i get the min and max ticks of my position?","",""
"897675955601014815","Odin_BK#9166","18/11/2022 11:36 am","does anyone here know how to expert contract addresses for uniswap pools?
want to gather the top 200 contracts by volume on uniswap and wanted to know if there was an easy way to go about it","",""
"471357824299958273","crypto_rachel","18/11/2022 11:41 am","so the graph links are in the pins for each version/chain

you can get the pools with a call similar to this
```
{
  pools(first: 5) {
    id
  }
}```
but sorting by volume would be the hardest part, as you are likely to have to check through them all and build a file
tbh I don't know the graph well, but here is the V3 schema
https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql#L1","",""
"897675955601014815","Odin_BK#9166","18/11/2022 11:43 am","Thank you!","","np (1)"
"471357824299958273","crypto_rachel","18/11/2022 11:45 am","might be best to use something like the uniswap token list to use, to build the pools watching, since there are tons of junk pools
https://app.uniswap.org/#/tokens/ethereum
https://tokenlists.org/","","👍 (1)"
"471357824299958273","crypto_rachel","18/11/2022 11:46 am","then call for the LQ with the graph","",""
"897675955601014815","Odin_BK#9166","18/11/2022 12:00 pm","can same be done for pools on arbitrum?","",""
"471357824299958273","crypto_rachel","18/11/2022 12:01 pm","yes, although token lists for other networks are not the greatest","","ty (1)"
"701793964562448457","Fer#9071","18/11/2022 10:31 pm","thank you very much for your answer, but I still don't understand how to calculate the fee of a given PairHourData with those fields, would you know what calculation I should do?","","🤷‍♀️ (1)"
"630390687166234635","wiki119","19/11/2022 4:55 pm","Uniswap V2 subgraph
How to find pair address of a given token address? Thanks a ton","",""
"989275482488983663","AnthonyNicholas#4331","20/11/2022 7:29 am","https://tenor.com/view/hmm-dot-dot-dot-stick-figure-intresting-gif-23376515","",""
"989275482488983663","AnthonyNicholas#4331","20/11/2022 7:35 am","{  
  pairs (where :{token0 : ""0x6b175474e89094c44da98b954eedeac495271d0f""}) { 
    id
    createdAtTimestamp
    volumeUSD
  }
}","",""
"843155325619535912","Etherscan Bot#5753","20/11/2022 7:35 am","<https://etherscan.io/address/0x0f7f961648ae6db43c75663ac7e5414eb79b5704>","",""
"989275482488983663","AnthonyNicholas#4331","20/11/2022 7:36 am","for token0, just add the token you want to search all of the pairs for","",""
"948241764987338802","kdementiev","21/11/2022 11:12 pm","Hey, could someone tell me how much liquidity I need to put into the pair to get chart tracktion?","",""
"471357824299958273","crypto_rachel","21/11/2022 11:15 pm","60ETH for full tracking","",""
"948241764987338802","kdementiev","21/11/2022 11:17 pm","@Crypto_Rachel is there any official doc where I can read about this?","",""
"471357824299958273","crypto_rachel","21/11/2022 11:18 pm","just the code afaik
https://github.com/Uniswap/v3-subgraph/blob/bf03f940f17c3d32ee58bd37386f26713cff21e2/src/utils/pricing.ts#L45","",""
"948241764987338802","kdementiev","21/11/2022 11:21 pm","@Crypto_Rachel it the same for v2 subgraph?","",""
"948241764987338802","kdementiev","21/11/2022 11:21 pm","Thanks!","",""
"471357824299958273","crypto_rachel","21/11/2022 11:22 pm","actually no
https://github.com/Uniswap/v2-subgraph/blob/7c82235cad7aee4cfce8ea82f0030af3d224833e/src/mappings/pricing.ts#L66","",""
"948241764987338802","kdementiev","21/11/2022 11:23 pm","400k of USD correct?","",""
"471357824299958273","crypto_rachel","21/11/2022 11:24 pm","thats for minimum liquidity required to count towards tracked volume for pairs with small # of Lps
just 2 ETH for price to track","",""
"948241764987338802","kdementiev","21/11/2022 11:25 pm","So, As I see there is limit for 5 lp providers","",""
"948241764987338802","kdementiev","21/11/2022 11:25 pm","So if I have 5, it can track right?","",""
"471357824299958273","crypto_rachel","21/11/2022 11:27 pm","~~5 lp providers?~~","",""
"471357824299958273","crypto_rachel","21/11/2022 11:28 pm","if less than 5 LPs, require high minimum reserve amount amount or return 0","",""
"853427197196369920","himagrawal.eth","22/11/2022 3:43 pm","Hey.. Can someone help me figure out how to create a live trading view chart of a uniswap v3 pair?
like dexTools is doing","",""
"420254413794574346","_james_l","22/11/2022 4:42 pm","Hello, I try to check the value between subgraph and uniswap pool info,,, but it seems big differences. 
Here's my query & result
I check USDC/ETH 5bp pool, and it says, there's $~259M value locked. 
but in info page, it says $135m locked. 
which one is right?
https://info.uniswap.org/#/pools/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640","https://cdn.discordapp.com/attachments/765222888617017365/1044571193266675723/image.png",""
"346929688188551169","silaagmarkkinad#2339","22/11/2022 4:52 pm","Hey hey! I'm trying to fetch some position data from the Arbitrum subgraph (https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal) but keep receiving the below message. Any ideas what's wrong, same query works on other Uni V3 subgraphs?","https://cdn.discordapp.com/attachments/765222888617017365/1044573709190565918/image.png",""
"346929688188551169","silaagmarkkinad#2339","22/11/2022 4:56 pm","Found some messages on github that it's still a WIP - is thus still the case or has it already been fixed?","",""
"233184766399217664",".sol_hunter","22/11/2022 9:09 pm","Hello guys. I was thinking of how to calculate impermanent loss for a pool in uniswap v3 and would like to know the procedure of doing it through info we get from the subgraph.","",""
"698282155008065596","vnet#2009","24/11/2022 7:19 pm","Hello guys, 

Does anyone know how to get the current liquidity per Token and the pool percentage from a uniswap v3 position via code, ideally javascript? 

I had found something similar using eth_call for getting the unlcaimed fees number, but not sure if we can get those numbers, too somehow either via polygon RPC or via polygonscan. https://ethereum.stackexchange.com/questions/99906/uniswap-v3-api-how-to-track-unclaimed-fees-programmatically

I need it for the Polygon chain, checked the working subgraph but couldn't spot any relevant options on this one,
https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon

Thanks","https://cdn.discordapp.com/attachments/765222888617017365/1045335231621763092/image.png",""
"701793964562448457","Fer#9071","25/11/2022 6:38 pm","Anyone knows if liquidity of a pair == reserveUSD of a pair in Uniswap V2? If isn't, do you know how to calculate liquidity of a pair?","",""
"989275482488983663","AnthonyNicholas#4331","26/11/2022 3:24 am","There are known issues with the polygon subgraph, but our team is looking into it.","",""
"989275482488983663","AnthonyNicholas#4331","26/11/2022 3:27 am","Are you looking at the liquidity value when you write a query in the subgraph?","",""
"605108662259810407","andrewAM#1149","26/11/2022 11:23 pm","Hello @Crypto_Rachel ,
I am interested as @Futaba to to get liquidity values for token 1 & 2 and unclaimed fees for tokens.
You said that one should do the math or use etherjs. 
Could you tell where in the graph  (or which endpoint) to find this data
or link to documentation to help 
Thank in advance","",""
"471357824299958273","crypto_rachel","26/11/2022 11:32 pm","here is a script that has the math needed for getting LQ balance
Get LQ token balance
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595

this is the easiest way to check your own position
Check Owed Fees V3 Web3
https://discord.com/channels/597638925346930701/607978109089611786/957522033271533568
and
This is how the Interface calculates fees: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts","",""
"605108662259810407","andrewAM#1149","27/11/2022 1:33 am","thanks a lot Rachel ! I will check that 🙂","","np (1)"
"456528250684833822",".takemymoney","27/11/2022 2:29 am","hello, i'm using the subgraph `ianlapham/uniswap-v3-gorli`, you can query for `amountUSD`, but since this is testnet, how do i get my custom USDC in the pool to sync with this `amountUSD`?","",""
"456528250684833822",".takemymoney","27/11/2022 2:29 am","for ex, im looking at ```      
swaps(
        where: { pool: $pool, timestamp_gt: $lTimestamp, timestamp_lt: $uTimestamp, amountUSD_gt: 50 }```","",""
"456528250684833822",".takemymoney","27/11/2022 2:30 am","but this amountUSD will return nothing, since my TOKEN/USDC pool is using a custom USDC i pushed to testnet","",""
"471357824299958273","crypto_rachel","27/11/2022 4:50 am","I don't know the subgraph well but have you tried without the amountUSD_gt. Testnets are always dodgy, the graph normally takes time to sync all the data, and it has a lot of nodes, not sure what the setup is for testnets so time could be an issue, it could also be the limitations on tracking, there are requirements of 60 ETH to be tracked in certain things","",""
"456528250684833822",".takemymoney","27/11/2022 5:29 am","I mean, I’m unsure how amountUSD would automatically know my custom USDC token is USDC… unless it just reads the name or something","",""
"471357824299958273","crypto_rachel","27/11/2022 5:33 am","those amounts in the graph are done via calculations from values of token at the time, in testnets those values aren't likely to be accurate or correct","",""
"817711802972241940","akos888#7735","27/11/2022 12:29 pm","Hello ! Could you tell me what is token0 and token1 price here? 
https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++pools%28first%3A+10%2C+where%3A+%7Btoken0_%3A+%7Bsymbol%3A+%22AAVE%22%7D%2C+token1_%3A+%7Bsymbol%3A+%22USDT%22%7D%7D%29+%7B%0A++++id%0A++++untrackedVolumeUSD%0A++++volumeUSD%0A++++token0Price%0A++++token1Price%0A++++token0+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++token1+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++feeTier%0A++++txCount%0A++++sqrtPrice%0A++++liquidity%0A++%7D%0A%7D

I'm trying to get spot prices in order to create an arditrage bot","",""
"471357824299958273","crypto_rachel","27/11/2022 10:46 pm","The tokens price is in relation to the other token
so token0 price is the price of token0 in the value of token1, and vice versa","",""
"701793964562448457","Fer#9071","28/11/2022 6:26 pm","Yes, this is the main idea but I don't know if is this possible. In case that isn't, do you know how to obtain the liquidity?","",""
"892021122827177984","arabianhorses","28/11/2022 7:44 pm","Hi I am trying to build a dashboard on Dune its about Uniswap on Optimism
https://dune.com/queries/1669916/2765569

this query should calculate cumulative change of TVL in WETH/USDC%0.5 
but it says total tvl 100million + wrong answer","",""
"892021122827177984","arabianhorses","28/11/2022 7:44 pm","what could be reason for that any idea? 
am i entering wrong event hashs? for withdrew or deposit what am I missing","",""
"471357824299958273","crypto_rachel","28/11/2022 11:25 pm","So I'll start with I'm not sure this will work, since not all the data for optimism is there, some data is backed up somehow

secondly you would have to watch swaps too as this will affect the TVL balance of tokens
third the burn event hash is
`0x0c396cd989a39f4459b5fa1aed6a9a8dcdbc45908acfd67e028cd568da98982c`
swap is
`0xc42079f94a6350d7e6235f29174924f928cc2ac818eb64fed8004e115fbcca67`","",""
"892021122827177984","arabianhorses","28/11/2022 11:42 pm","gratefull huge thanks for this valuable feedback","","np (1)"
"989275482488983663","AnthonyNicholas#4331","29/11/2022 9:01 am","You can parse liquidity in the subgraph","",""
"989275482488983663","AnthonyNicholas#4331","29/11/2022 9:01 am","Check out https://docs.uniswap.org/contracts/v2/reference/API/queries","",""
"701793964562448457","Fer#9071","29/11/2022 6:16 pm","This is V3, I'm working on V2 and this field doesn't exist","",""
"989275482488983663","AnthonyNicholas#4331","29/11/2022 6:33 pm","Try passing these fields

volumeToken0: BigDecimal!
volumeToken1: BigDecimal!","",""
"456528250684833822",".takemymoney","30/11/2022 11:20 am","jk I can just pull the `amount1` instead of `amountUSD` to get my USDC amount per swap. lawl","",""
"456528250684833822",".takemymoney","30/11/2022 11:21 am","just don't get to have `amountUSD` privilege on testnet 😪😪","",""
"456528250684833822",".takemymoney","30/11/2022 11:22 am","or wait... does `amountUSD` have a different meaning than just the amount of stablecoin used in the swap?","",""
"456528250684833822",".takemymoney","30/11/2022 11:24 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli","",""
"471357824299958273","crypto_rachel","30/11/2022 11:29 am","I'm pretty sure the usd values are math based on current usdc/weth pool. This wouldn't be maintained on testnet","",""
"456528250684833822",".takemymoney","30/11/2022 10:02 pm","I see, I need to figure out exactly how that’s calculated on mainnet so I can recalculate off chain then on testnet, gonna look at the subgraph code","",""
"471357824299958273","crypto_rachel","30/11/2022 10:30 pm","iirc it's based of a test swap of 100k usd value","",""
"804027344447864833","stechastic","30/11/2022 11:17 pm","hi, maybe this has been asked: 
What are the ""canonical"" subgraphs for uni v3 on polygon, arbitrum and optimism? the subgraph mentioned in the main docs only refers to the implementation on ethereum","",""
"471357824299958273","crypto_rachel","30/11/2022 11:19 pm","I have the subgraph links in the pins","https://cdn.discordapp.com/attachments/765222888617017365/1047569963986202654/unknown.png",""
"804027344447864833","stechastic","30/11/2022 11:23 pm","amazing, thanks","",""
"456528250684833822",".takemymoney","01/12/2022 12:22 am","i see `  let amountUSD = amount0
    .times(token0.derivedETH.times(bundle.ethPriceUSD))
    .plus(amount1.times(token1.derivedETH.times(bundle.ethPriceUSD)))`, which is calculated every time a position is minted. it looks like its getting the eth value of the liquidity position at the time of creation, and converts that eth value to the usd value - line 62 for ref https://github.com/Uniswap/v3-subgraph/blob/13938186611c8fd839fa3814f6f3e8d1209057b8/src/mappings/core.ts","",""
"456528250684833822",".takemymoney","01/12/2022 12:22 am","so i guess its completely unusable on testnet... hmm","",""
"471357824299958273","crypto_rachel","01/12/2022 12:22 am","yeah, it would be really","",""
"471357824299958273","crypto_rachel","01/12/2022 12:23 am","just testnets have no reason to keep them arb'd  since no value","",""
"456528250684833822",".takemymoney","01/12/2022 12:24 am","right makes sense... issue for me here is im making a univ3 rewards computer for liquidity providers, i made a testnet model for everything, but i need to query this `amountUSD` for each swap, i think this halted the whole testnet situation cuz can't do it, just returns 0 for all the swaps... rip","",""
"471357824299958273","crypto_rachel","01/12/2022 12:25 am","only thing I could say would be try to base it on something else like token amount","",""
"456528250684833822",".takemymoney","01/12/2022 12:28 am","yee the pool im working with is token/usdc, so i switched it to `amount1`, but i don't think getting the stable amount in the swap is the same meaning as  `amountUSD` - the entire usd value of both tokens in the position at creation","",""
"456528250684833822",".takemymoney","01/12/2022 12:28 am","getting weird results from it","",""
"456528250684833822",".takemymoney","01/12/2022 12:30 am","cuz i guess amountUSD is the token0 eth->USD value + token1 eth->USD value","",""
"471357824299958273","crypto_rachel","01/12/2022 12:31 am","yeah, good point, it would be based of your pool price using your amounts 🤔","",""
"456528250684833822",".takemymoney","01/12/2022 12:34 am","i guess i could just go back through how amountUSD is calc'd, snatch amount0 and amount1, and use a fake eth price off chain to make a mock amountUSD","",""
"471357824299958273","crypto_rachel","01/12/2022 12:35 am","yeah should work for testing","",""
"456528250684833822",".takemymoney","02/12/2022 8:35 am","for swaps returned from the subgraph, im always getting either amount0 or amount1 returned as a negative number, so its messing up my fake amountUSD calculation.. does this just mean one of the tokens was sold?","",""
"471357824299958273","crypto_rachel","02/12/2022 9:42 am","share your call, and I'll take a look. also you're on goerli correct","","👆 (1)"
"456528250684833822",".takemymoney","02/12/2022 9:50 am","Lol I wrote that horribly, edited the message","",""
"456528250684833822",".takemymoney","02/12/2022 9:51 am","I’ve started just replacing amountUSD with the stablecoin amount in the swap. I’m pretty sure this is equivalent","","👍 (1)"
"812255384467013693","transmental","02/12/2022 10:04 am","Unless the stablecoin is algorithmic 😅","",""
"456528250684833822",".takemymoney","02/12/2022 10:07 am","Lawl, just a testnet USDC","",""
"354458973572956160","vengeanc3","07/12/2022 1:32 am","Is there a way to use the subgraph to find the total amount of buys/sell a token pair has without having to derive it?","","🤔 (1)"
"471357824299958273","crypto_rachel","07/12/2022 1:35 am","there is a transaction count call
```
{
  pool(id:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""){
    txCount
  }
}```","",""
"471357824299958273","crypto_rachel","07/12/2022 1:39 am","this may include the LQ adds/removes","",""
"511944985961299968","twoface7953","07/12/2022 11:55 pm","Hey, hope everyone is doing great, when subgraph goes down by any reason and upon restart events get replays to sync up the data, I have a question in subgraph mutations regarding handling contract getters providing contract latest state, this will basically stores the wrong history of the data ... how do you guys handle this issue in your uniswap v2 subgraph .... Detail explanation of the issue is in this document (kindly study and reply) ...  https://docs.google.com/document/d/1k_g568MZhEScYQ6eGHxi7TuEkOhFECiQCxlKP2teNNk/edit?usp=sharing","",""
"208204539428339715","elpimps","08/12/2022 8:07 pm","hello all! can i use the graphql endpoint to fetch nft collections, assets, listing ecc....?","",""
"989275482488983663","AnthonyNicholas#4331","08/12/2022 9:20 pm","No it's only for token data. The NFT API isn't available yet.","",""
"208204539428339715","elpimps","08/12/2022 10:56 pm","😦","",""
"208204539428339715","elpimps","08/12/2022 10:58 pm","so it's blocked by a firewall right now?","",""
"989275482488983663","AnthonyNicholas#4331","09/12/2022 12:32 am","No it's not blocked, it's just that the NFT API isn't ready","",""
"945075502023073843","aa-algotune#2298","09/12/2022 1:07 am","hi does anyone know how to use the historical data of tick liquidity in subgraph uniswap v3? for the 30bps pool for example, it only generates 200 tick data points instead of the full spectrum which should be well over 1000 data point","",""
"208204539428339715","elpimps","09/12/2022 1:50 am","ok thanks","","👍 (1)"
"208204539428339715","elpimps","09/12/2022 5:28 am","Is there any eta or any way to access graphql for private only usage?","","🤷‍♀️ (1)"
"208204539428339715","elpimps","09/12/2022 5:28 am","i mean https://api.uniswap.org/v1/graphql","",""
"208204539428339715","elpimps","09/12/2022 5:28 am","with id collectionquery ecc...","",""
"471357824299958273","crypto_rachel","12/12/2022 5:19 am","how to get pools with a certain token
```
{
  pools(where: {token0: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}){
    id
    token0{
      id
      name
    }
    token1{
      id
      name
    }
  }
  pools(where: {token1: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}){
    id
    token0{
      id
      name
    }
    token1{
      id
      name
    }
  }
}
```","","👍 (3)"
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:11 pm","If I want to report a SWAP issue, where can I report it?","",""
"739851161930039356","Rey#5193","13/12/2022 6:12 pm","Hi there, You can open a ticket here for support #🙋│help","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:14 pm","I've done a SWAP on the ETH chain from ETH to USDC, but I can't find any USDC.","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:14 pm","https://etherscan.io/tx/0xe584127638e6349d6fa96c8fa85cc01be2dbff20eac9d145ac1308d4006d40e6","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:16 pm","Can you check it for me?","",""
"739851161930039356","Rey#5193","13/12/2022 6:17 pm","Please open a ticket so that we can check the issue further","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:17 pm","#🙋│help","",""
"739851161930039356","Rey#5193","13/12/2022 6:18 pm","#🙋│help open a ticket","https://cdn.discordapp.com/attachments/765222888617017365/1052205476613472297/image.png",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:20 pm","I can't find","",""
"739851161930039356","Rey#5193","13/12/2022 6:20 pm","Click on the Unicorn emoji","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:21 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1052206120833405009/image.png",""
"739851161930039356","Rey#5193","13/12/2022 6:21 pm","If you cannot find the #🙋│help channel. You need to #👋│verify first.","",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:21 pm","Is this chat channel?","",""
"739851161930039356","Rey#5193","13/12/2022 6:22 pm","Were you able to verify?","https://cdn.discordapp.com/attachments/765222888617017365/1052206447099912192/image.png",""
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:23 pm","Thank you, I have clicked 1 card.","","👍 (1)"
"591740604028026901","ArthurFleck(BAS)#5322","13/12/2022 6:27 pm","So what should I do next, please advise.","",""
"739851161930039356","Rey#5193","13/12/2022 6:28 pm","You already have a ticket opened. Please continue the support here #deleted-channel","",""
"354458973572956160","vengeanc3","15/12/2022 8:07 am","how do i get the next page of results if an array response is maxed out?","",""
"471357824299958273","crypto_rachel","15/12/2022 8:08 am","I think the calls were limited by 1000, and you have to make more calls if you want more","",""
"354458973572956160","vengeanc3","15/12/2022 8:09 am","oh ok and I guess I can just put skip : amount","",""
"471357824299958273","crypto_rachel","15/12/2022 8:12 am","yeah","",""
"485274047924535306","l0c4t0r","20/12/2022 10:10 am","Hi, is only the minimal version of the subgraph deployed on arbitrum? Would there be a full version already deployed? I am looking to get the feeGrowth fields","",""
"471357824299958273","crypto_rachel","20/12/2022 10:39 am","Arbitrum Graph is not able to keep up with the way they produce transactions, so the minimal is all there is, and anything else would need to be called from the chain","",""
"485274047924535306","l0c4t0r","20/12/2022 10:53 am","I see...thanks!","","np (1)"
"796878350869069854","tk.w3","20/12/2022 4:37 pm","How can I get the total collected fees of a position per token?

I've tried fetching the `Position` but both `collectedFeesToken0` and `collectedFeesToken1` are always 0.
I also tried to fetch positionSnapshots and look for `collects` under transactions but it returns only `mints` and `burns` while `collects` is always empty.

Is it a bug? what am I missing? any other solution for it?

I'm using this subgraph: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3

I tried also https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph but it has an indexing error","",""
"577529505871167498","waynebruce","20/12/2022 5:03 pm","does anyone know how to fix 
`Failed to get entities from store: canceling statement due to conflict with recovery`
when calling pairs from https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 ?
I've noticed a few people mentioning it here but havent been able to actually find any information","",""
"577529505871167498","waynebruce","20/12/2022 5:10 pm","can drop a code snippet if it helps, we're batching calls so that we can fetch more than 1000 results","",""
"989275482488983663","AnthonyNicholas#4331","20/12/2022 8:19 pm","What chain is this position on?","",""
"989275482488983663","AnthonyNicholas#4331","20/12/2022 8:19 pm","Can you please drop the code below? That would b super helpful","",""
"796878350869069854","tk.w3","20/12/2022 8:21 pm","Ethereum mainnet","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","20/12/2022 8:31 pm","Thanks! Are you able to share the position with me or do you want to keep that private? If you want to keep it private, you can DM me the position ID","",""
"577529505871167498","waynebruce","20/12/2022 8:32 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1054775853713719396/uniQuery.ts",""
"796878350869069854","tk.w3","20/12/2022 8:34 pm","it happens with all of them, you can take for example: 347036

meanwhile I found it's a known issue for more than a year:
https://github.com/Uniswap/v3-subgraph/issues/82","",""
"471357824299958273","crypto_rachel","20/12/2022 11:42 pm","So collectedFees will pretty much Always be 0 unless the position is closed and not collected at the same time
These have to be calculated 
there is a little trick using static Call via ethersJS
Check Owed Fees V3 Web3
https://discord.com/channels/597638925346930701/607978109089611786/957522033271533568

or
This is how the Interface calculates fees: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts","",""
"717019166099505182","_luckypunk","21/12/2022 5:32 am","Hi, I am not sure how to get this price from sugraph API or smart contract.","https://cdn.discordapp.com/attachments/765222888617017365/1054911605080600616/image.png",""
"471357824299958273","crypto_rachel","21/12/2022 11:08 am","answered here
https://discord.com/channels/597638925346930701/737349098889412748/1054822923732516945","",""
"372483974221791244","pixelis0x","21/12/2022 6:07 pm","https://info.uniswap.org/#/tokens/0xd9fcd98c322942075a5c3860693e9f4f03aae07b
what is the reason for token derivedEth equeals to 0?
never seen it before","",""
"989275482488983663","AnthonyNicholas#4331","21/12/2022 10:27 pm","Where do you see this?","",""
"577529505871167498","waynebruce","23/12/2022 2:02 am","any help on this?","",""
"471357824299958273","crypto_rachel","23/12/2022 11:21 am","Could you paste the main code for the call here will be easier than digging through the code on phone. I'll check it.","",""
"577529505871167498","waynebruce","23/12/2022 4:15 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1055798175732092948/query.rtf",""
"474605143753752576","fedeebasta","23/12/2022 5:06 pm","https://twitter.com/artsofbaniya/status/1606087947975024640?s=46&t=MIQLlhkzuDx2lSZ_R74vHA","",""
"471357824299958273","crypto_rachel","24/12/2022 9:23 am","yeah not sure on that, I'm not sure what your using to call it, but I don't know, are you able to log the output call to the graph","",""
"577529505871167498","waynebruce","24/12/2022 4:10 pm","```
uniswap adapter failed: Error: Failed to get entities from store: canceling statement due to conflict with recovery, query = /* controller='filter',application='sgd213744',route='c2975b1fe84f3143-3f17446ad1a22c22',action='16253859' */
select 'Pair' as entity, to_jsonb(c.*) as data from (select  * 
  from ""sgd213744"".""pair"" c
 where c.block_range @> $1 and coalesce(upper(""block_range""), 2147483647) > $2 and lower(""block_range"") <= $3 and (c.""volume_usd"" < $4::numeric)

 order by ""volume_usd"" desc, ""id"" desc
 limit 1000) c -- binds: [16253859, 16253859, 16253859, ""103677.1919""]: {""response"":{""errors"":[{""message"":""Failed to get entities from store: canceling statement due to conflict with recovery, query = /* controller='filter',application='sgd213744',route='c2975b1fe84f3143-3f17446ad1a22c22',action='16253859' */\nselect 'Pair' as entity, to_jsonb(c.*) as data from (select  * \n  from \""sgd213744\"".\""pair\"" c\n where c.block_range @> $1 and coalesce(upper(\""block_range\""), 2147483647) > $2 and lower(\""block_range\"") <= $3 and (c.\""volume_usd\"" < $4::numeric)\n\n order by \""volume_usd\"" desc, \""id\"" desc\n limit 1000) c -- binds: [16253859, 16253859, 16253859, \""103677.1919\""]""}],""status"":200,""headers"":{}},""request"":{""query"":""\n      query lps {\n        pairs(first: 1000, orderBy: volumeUSD, orderDirection: desc,\n          where: {volumeUSD_lt: 103677.1919\n          \n        }) {\n          id\n          volumeUSD\n        }\n      }""}}
```","",""
"471357824299958273","crypto_rachel","25/12/2022 11:48 am","So I'm not sure on this. What I see looks malformed but I would need to see it in plaintext.","",""
"577529505871167498","waynebruce","26/12/2022 5:54 am","Started a thread.","",""
"334170174162862083","Spock_7#8706","26/12/2022 12:01 pm","What is the subgraph API?","",""
"989275482488983663","AnthonyNicholas#4331","28/12/2022 3:27 am","Subgraph gives you historical data of uniswap pools","",""
"989275482488983663","AnthonyNicholas#4331","28/12/2022 3:27 am","Like you can get information about pools, positions, swaps, etc","",""
"989275482488983663","AnthonyNicholas#4331","28/12/2022 3:28 am","You can learn more here - https://docs.uniswap.org/api/subgraph/overview","",""
"334170174162862083","Spock_7#8706","28/12/2022 3:35 am","Thank you! I hope you have a wonderful day","",""
"989275482488983663","AnthonyNicholas#4331","28/12/2022 3:36 am","Likewise!","",""
"276181222999326720","metaseth","29/12/2022 7:40 pm","Do you know if  using subgraph the only way to get historical data of uniswap pools ?","",""
"989275482488983663","AnthonyNicholas#4331","29/12/2022 9:31 pm","I belive you can also use the sdk https://docs.uniswap.org/sdk/v3/overview","",""
"669703087044427786","Pinheiro#8623","02/01/2023 10:04 pm","Hi guys,
I'm currently trying to make sense of the uncollected rewards on Uniswap V3. I'm using the formula: (feesGrowthGlobal - feesGrowthOutside_Lower - feesGrowthOutside_Upper - feesGrowthInside)/2^28 * liquidity/10^decimals
This formula seems not to work if I added more liquidity or if I was out of the range for some time. Do you know what is the formulas that I need to use in this two cases?
Thanks in advance!
PS: I'm doing this using TheGraph and Python","",""
"933733751777808445","jessj#0755","03/01/2023 9:31 pm","Hi - Which channel would be best to inquire about The Graph migration and how best to be able to recieve indexed data going forward? I currently get Uniswap V2 pricing data from https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2 which is a hosted service provided by The Graph. They say I'll need to migrate from the hosting service to the new decentralized network. https://thegraph.com/blog/sunsetting-hosted-service, https://thegraph.com/docs/en/network-transition-faq/#migration-faqs.  Thanks!","",""
"465797021161488389","jakekvm01#3731","03/01/2023 9:34 pm","You can post your issue in this channel.","",""
"914728304488112158","Prince1603#4807","04/01/2023 12:24 pm","How can i get all pools for uniswap v3 polygon (matic network )","",""
"471357824299958273","crypto_rachel","04/01/2023 12:41 pm","```
{
  pools(first: 1000) {
    id
  }
}
```
has a 1000 limit so you will have to loop through it a lot","",""
"914728304488112158","Prince1603#4807","04/01/2023 12:42 pm","the graph url  ?","",""
"471357824299958273","crypto_rachel","04/01/2023 12:43 pm","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","","ty (1)"
"669703087044427786","Pinheiro#8623","04/01/2023 10:26 pm","Hi!
I'm using this to try to compute the amount of uncollected fees in my position: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/position.ts
However, the value that I'm getting it's not correct. What am I doing wrong?
Thanks","",""
"471357824299958273","crypto_rachel","05/01/2023 12:32 am","This is how the Interface calculates fees: https://github.com/Uniswap/v3-sdk/blob/main/src/utils/tickLibrary.ts

also here is a quick cheat
Check Owed Fees V3 Web3
https://discord.com/channels/597638925346930701/607978109089611786/957522033271533568","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:51 am","I'm using the tickLibrary.ts, but the value I'm getting is not close to what i should be expeting","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:51 am","29174935545725116151758525831160","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:51 am","This is the value","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:51 am","Am I missing some calculations after that?","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:53 am","I assume that the huge value I'm getting, is the feeGrowthInside and I further need to subtract feeGrowthInsideLastX128, and then multiply by the virtual liquidity value and divide by 2 to the power of 128","",""
"669703087044427786","Pinheiro#8623","05/01/2023 12:54 am","After all those calculations, I was expecting to get the amount of unclaimed fees in tokens that i currently have in my position, but I'm not","",""
"471357824299958273","crypto_rachel","05/01/2023 1:05 am","so yeah I guess it's missing a step there.
your assumption is correct, that should be the calculations","",""
"471357824299958273","crypto_rachel","05/01/2023 1:06 am","and it would be in lowest decimal of the token","",""
"669703087044427786","Pinheiro#8623","05/01/2023 1:28 am","Do you have any suggestion on what I could do to try to debug this?","",""
"669703087044427786","Pinheiro#8623","05/01/2023 1:30 am","Thanks in advance for all the help!","",""
"471357824299958273","crypto_rachel","05/01/2023 1:33 am","drop your code in #💻│dev-chat  and ping me I'll take a look later tonight, when I have a bit more time","",""
"669703087044427786","Pinheiro#8623","05/01/2023 1:34 am","Thank you! 
I’m building this with Python and TheGraph.
I’ll drop asap","",""
"496379566839955467","bernardbastos","05/01/2023 2:36 pm","Greetings
Could you please tell me if it's possible to know the starting timestamp of my position with a token ID using a query with TheGraph?","",""
"496379566839955467","bernardbastos","05/01/2023 2:47 pm","Either the timestamp or the block that the token was minted","",""
"323696293274845184","luckydegen","05/01/2023 3:26 pm","When I want to get all pools for GMX, should I use following query?

```{
  token(id:""0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a"") {
    symbol
    name
    decimals
    volumeUSD
    poolCount
  }
}```

I'm trying it here https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one

but the result is:

```{
  ""data"": {
    ""token"": null
  }
}```","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 3:26 pm","<https://etherscan.io/address/0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a>","",""
"323696293274845184","luckydegen","05/01/2023 5:39 pm","I just find out that correct form is with ""where"" ( without where is probably some old example)

```
tokens( where: { id: ""0xfc5a1A6eb076a2c7ad06ed22c90d7e710e35ad0a""} )
  {
    id
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 5:39 pm","<https://etherscan.io/address/0xfc5a1A6eb076a2c7ad06ed22c90d7e710e35ad0a>","",""
"323696293274845184","luckydegen","05/01/2023 5:39 pm","But is there any way how can I create ""OR"" in the query? 

When I want to find all pools where token is used, I would like to do something like this:

```
{
  pools(
    where: {
      token0: ""0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"", 
      or: {token1: ""0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a""}}
  ) {
    id
    token0Price
    token1Price
    feeTier
    totalValueLockedETH
    token0 {
      id
      symbol
    }
    token1 {
      id
      symbol
    }
  }
 
}
```","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 5:39 pm","<https://etherscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a>","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 5:39 pm","<https://etherscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a>","",""
"323696293274845184","luckydegen","05/01/2023 5:40 pm","but ""or"" is not allowed and also I don't see any way how to do that by schema except create two separated queries","",""
"323696293274845184","luckydegen","05/01/2023 5:41 pm","and second question, is there any way how to ""normalize"" token address?

```
0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a
0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a
```

because filter doesn't find a token when passing invalid camel-case version","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 5:41 pm","<https://etherscan.io/address/0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a>","",""
"843155325619535912","Etherscan Bot#5753","05/01/2023 5:41 pm","<https://etherscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a>","",""
"925672955671900161","Faizy#1534","05/01/2023 10:52 pm","https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon
When I query data from this graph it just give me info about 100 pairs while uniswap has more pools/pairs in it so how can i get data of all the pairs on uniswap...","",""
"925672955671900161","Faizy#1534","06/01/2023 12:25 am","Is there any one available for help???","",""
"471357824299958273","crypto_rachel","06/01/2023 12:36 am","no, but you can wrap a second call within the same call, just duplicate the pools call and change token0 - 1","","👍 (1)"
"384849366151725068","cryptovudu","09/01/2023 1:20 pm","does anyone know if building the uniswap subgraph could be done with a geth or erigon full node, or must this be done with a geth or erigon archive node?","",""
"384849366151725068","cryptovudu","09/01/2023 2:38 pm","for geth, will the command line option of --syncmode full work without the gcmode archive? or must I also include --gcmode archive with syncmode full to run a uniswap subgraph?","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:01 pm","Hey guys! Can you help me? I would like to get price and volume from any APIs (v1/v2/v3)  i.e. for https://app.uniswap.org/#/tokens/ethereum/NATIVE. But at APIs response i don't see these fields exactly... Tried for 5 hours already :C","",""
"471357824299958273","crypto_rachel","10/01/2023 12:03 pm","there is no public api at this time","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:03 pm","You mean for these  fields?","",""
"471357824299958273","crypto_rachel","10/01/2023 12:03 pm","you can use the graph or call the blockchain, examples and links in the pins","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:04 pm","https://docs.uniswap.org/sdk/subgraph/subgraph-examples - 404 page not found...","",""
"471357824299958273","crypto_rachel","10/01/2023 12:05 pm","https://docs.uniswap.org/api/subgraph/overview","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:05 pm","Yes, exactly, i tried this APIs for 5 hours))","",""
"471357824299958273","crypto_rachel","10/01/2023 12:06 pm","the graph links are in the pins","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:06 pm","Can you, please, give me example with price and volume response?","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:08 pm","There is my queries:
1. https://api.thegraph.com/subgraphs/name/ianlapham/uniswapv2/graphql?query=query+MyQuery+%7B%0A++tokens+%7B%0A++++symbol%0A++++tradeVolumeUSD%0A++++tradeVolume%0A++%7D%0A%7D
2. https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++tokens%28where%3A+%7Bsymbol%3A+%22TUSD%22%7D%29+%7B%0A++++id%0A++++volumeUSD%0A++++volume%0A++++symbol%0A++++totalValueLockedUSD%0A++++totalValueLocked%0A++%7D%0A%7D

Price and volume in response doesnt matches with price and volume on UI https://app.uniswap.org/#/tokens/ethereum/0x0000000000085d4780B73119b644AE5ecd22b376","",""
"471357824299958273","crypto_rachel","10/01/2023 12:09 pm","{
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    volumeToken0
    volumeToken1
    volumeUSD
    token1Price
    token0Price
  }
}","","ty (1)"
"1054561532278747137","anhckie#8447","10/01/2023 12:15 pm","Oh, sorry) This - https://app.uniswap.org/#/tokens/ethereum/NATIVE. Volumes are different","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:21 pm","As response i got 
{
  ""data"": {
    ""pool"": {
      ""volumeToken0"": ""67367570592.078906"",
      ""volumeToken1"": ""29451609.868835376281712203"",
      ""volumeUSD"": ""67371548527.92568731945006894212283"",
      ""token1Price"": ""0.000755029700795760479863980945533978"",
      ""token0Price"": ""1324.45120893397182974692636538627"",
      ""id"": ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""
    }
  }
}

But at https://app.uniswap.org/#/tokens/ethereum/NATIVE i see that volume is $557.0M.
So questions are - why and how to get UI-datas? ))","",""
"1054561532278747137","anhckie#8447","10/01/2023 12:49 pm","Anyone has ideas? )","",""
"1054561532278747137","anhckie#8447","10/01/2023 3:01 pm","And whats the difference between https://v2.info.uniswap.org/token/0x0000000000085d4780b73119b644ae5ecd22b376 and https://app.uniswap.org/#/tokens/ethereum/0x0000000000085d4780B73119b644AE5ecd22b376? 
I dont understand why different volumes there?","",""
"989275482488983663","AnthonyNicholas#4331","10/01/2023 8:04 pm","I think it's because one link is v2 and the other is v3. When you provide liquidity on Uniswap, you provide liquidity on different versions of the protocol - so v2 and v3 are two different versions of the protocol. If I LP on v3, I'm only adding liquidity to v3 pools","",""
"471357824299958273","crypto_rachel","11/01/2023 1:13 am","Sorry I was passing out last night, so iirc that is for the life of the pool, here is a call for day data
```
{
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    poolDayData(orderDirection: desc) {
      volumeToken0
      volumeToken1
      volumeUSD
      feesUSD
    }
  }
}```
UI uses a bit different setup it looks at the last 24 hours and does basic math in the UI. The graph has a poolHourData to get more detailed
the day data is a 24hr period 12am UTC so todays wouldn't be there, but yesterday is there","",""
"1054561532278747137","anhckie#8447","11/01/2023 4:49 am","No problem, Rachel)
Thanks you your response, but i still have few questions...
1. In your example i got the poolDayData array with a lot of items. 
So what are these items, i dont inderstand? How i should understand them?
Actually i don't understand how to match 24h volume from UI with 24h volume (as i understand - poolDayData.volumeUSD) from graph?.. Because here is completely different prices
2. As i seen pool.id in your example is for USDC. But if i try set another one id i.e. 0x0000000000085d4780B73119b644AE5ecd22b376 (https://etherscan.io/token/0x0000000000085d4780B73119b644AE5ecd22b376) data is null.
Why is that?","",""
"1054561532278747137","anhckie#8447","11/01/2023 4:49 am","And thank you for the helping me )","",""
"471357824299958273","crypto_rachel","11/01/2023 4:55 am","so when you look at the call, the first one is Zeroed out that would be todays which wouldn't be active till midnight UTC, then it goes back in days since it's day data. (at least this is what it looks like, I don't really use the graph)
as far as matching it, not 100% but I believe the UI used hourly and adds the last 24 together


and for the other token Firstly, this needs to be a specific pool address, Also it may be that they don't meet the graph requirements of 60 ETH of a whitelisted token","","🫶 (1)"
"1054561532278747137","anhckie#8447","11/01/2023 5:28 am","hm... still strange. okay, um... how i can get last 24? and how i can get hourly data?)
may be you are right and UI show us last24 + per hour difference","",""
"1054561532278747137","anhckie#8447","11/01/2023 5:29 am","because i tried to sum volumeUSD field from https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=%7B%0A++pool%28id%3A+%220x1e8f1568b598908785064809ebf5745004ce3962%22%29+%7B%0A++++poolDayData%28orderDirection%3A+desc%29+%7B%0A++++++volumeToken0%0A++++++volumeToken1%0A++++++volumeUSD%0A++++++feesUSD%0A++++++token0Price%0A++++++token1Price%0A++++%7D%0A++%7D%0A%7D, but then value overmore than at UI. also tried to sum first 24 items, but it smaller...
if i choose like 1 element from graph then its smaller than UI.
wtf 😄 
even not close ..","","🤔 (1)"
"471357824299958273","crypto_rachel","11/01/2023 6:00 am","Yeah, I'm not sure why it's so much bigger on UI. I'll have to dig further","","❤️ (1)"
"1054561532278747137","anhckie#8447","11/01/2023 6:01 am","thank you. i'll do it also","",""
"1054561532278747137","anhckie#8447","11/01/2023 6:07 am","There is a little script for calculate poolDayData.volumeUSD from https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++pools%28first%3A+24%2C+where%3A+%7Btoken0_%3A+%7Bsymbol%3A+%22TUSD%22%7D%7D%29+%7B%0A++++id%0A++++untrackedVolumeUSD%0A++++volumeUSD%0A++++token0Price%0A++++token1Price%0A++++token0+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++token1+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++feeTier%0A++++txCount%0A++++sqrtPrice%0A++++liquidity%0A++++poolDayData+%7B%0A++++++volumeUSD%0A++++%7D%0A++++volumeToken0%0A++++volumeToken1%0A++%7D%0A%7D.","https://cdn.discordapp.com/attachments/765222888617017365/1062530548624527481/message.txt",""
"1054561532278747137","anhckie#8447","11/01/2023 6:07 am","The same for the https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=query+MyQuery+%7B%0A++pools%28first%3A+24%2C+where%3A+%7Btoken0_%3A+%7Bsymbol%3A+%22TUSD%22%7D%7D%29+%7B%0A++++id%0A++++untrackedVolumeUSD%0A++++volumeUSD%0A++++token0Price%0A++++token1Price%0A++++token0+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++token1+%7B%0A++++++id%0A++++++feesUSD%0A++++++derivedETH%0A++++++name%0A++++++symbol%0A++++++volumeUSD%0A++++++volume%0A++++++totalSupply%0A++++++totalValueLocked%0A++++++totalValueLockedUSD%0A++++++totalValueLockedUSDUntracked%0A++++++txCount%0A++++++untrackedVolumeUSD%0A++++%7D%0A++++feeTier%0A++++txCount%0A++++sqrtPrice%0A++++liquidity%0A++++poolDayData+%7B%0A++++++volumeUSD%0A++++%7D%0A++++volumeToken0%0A++++volumeToken1%0A++%7D%0A%7D (just need replace data array). Hope it will helpful.","",""
"1054561532278747137","anhckie#8447","11/01/2023 6:07 am","Result is 30 557 681 $ (note that result has 100 items. If it break at 24-25 items, then we will have less value than UI.","",""
"1054561532278747137","anhckie#8447","11/01/2023 6:09 am","Sad that we doesnt have API as UI :C It woiuld be easier","",""
"482652295796883466","aimeederp","11/01/2023 6:24 pm","Hi! Would anyone be able to help me query the UniSwap V2 subgraph for Swaps using a specific token?

I tried formatting my query as:
  swaps(first: 1000, where: {pair_: {token0_: {id: ""TOKEN_ID""}}}) {
    amountUSD
  }

But I receive a """"message"": ""Store error: query execution failed: Child filters can not be nested"""" error. Thanks!","",""
"240509230962966533","valfareinwindir","12/01/2023 2:56 am","Hello people! I have a simple question if I may. I see Uniswapv2 subgraph has 16.4M blocks synced. Roughly how much storage would I need  if i wanted to host that myself locally?","",""
"471357824299958273","crypto_rachel","12/01/2023 2:38 pm","I don't see that call setup for v2 via token in the swaps catagory
```
{
  pairs(where: {token0: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}) {
    swaps(first: 10)
  }
  pairs(where: {token1: ""0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48""}) {
    swaps(first: 10)
  }
}
```
found a way via pairs, but it was slow
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswapv2
there is a list of all functions, and the new setup there is very nice for selecting calls","https://cdn.discordapp.com/attachments/765222888617017365/1063021711622152232/image.png",""
"843155325619535912","Etherscan Bot#5753","12/01/2023 2:38 pm","<https://etherscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48>","",""
"843155325619535912","Etherscan Bot#5753","12/01/2023 2:38 pm","<https://etherscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48>","",""
"471357824299958273","crypto_rachel","12/01/2023 2:41 pm","I'm sure this would be a lot of data, it takes months (probably longer now with v2) to sync it at this point in history","",""
"482652295796883466","aimeederp","12/01/2023 3:01 pm","Amazing thanks! I was using the other hosted subgraph (https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2), which didn't have that option in the dropdown. Thanks for the help!","","👍 (1),np (1)"
"240509230962966533","valfareinwindir","13/01/2023 2:18 am","Yea, it would be 🙂 but didn't think it would take months. Is it possible to adjust first block to sync? It shouldnt necessarily be the 0th block, right?","",""
"471357824299958273","crypto_rachel","13/01/2023 2:28 am","I'm not sure tbh, i've never operated a graph","",""
"1054561532278747137","anhckie#8447","17/01/2023 12:08 am","Hey guys","",""
"1054561532278747137","anhckie#8447","17/01/2023 12:09 am","I can get current volume with next query:

query MyQuery {
  tokens(where: {symbol: ""WETH"", tokenDayData_: {priceUSD_gt: ""0""}}) {
    name
    symbol
    volumeUSD
    tokenDayData(
      orderBy: date
      orderDirection: desc
      where: {priceUSD_not: ""0"", date_gte: 1673740800}
      first: 1
    ) {
      priceUSD
      date
      volumeUSD
      token {
        id
      }
    }
  }
}


But how i can get token volume24h?","","👀 (1)"
"1054561532278747137","anhckie#8447","17/01/2023 12:09 am","I'm checking here https://info.uniswap.org/#/tokens/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","",""
"1054561532278747137","anhckie#8447","17/01/2023 12:36 am","","https://cdn.discordapp.com/attachments/765222888617017365/1064621802858500186/Screenshot_2023-01-16_at_20.04.35.png",""
"1054561532278747137","anhckie#8447","17/01/2023 1:13 am","Also i have next question.
Why are poolhourdata empty with next query?
query MyQuery {
  pools(
    orderBy: volumeUSD
    orderDirection: desc
    first: 1000
    skip: 0
    where: {token1_: {symbol: ""BTT""}}
  ) {
    id
    volumeUSD
    poolDayData(
      where: {date_gte: 1673740800}
      orderBy: date
      orderDirection: desc
      first: 5
    ) {
      volumeUSD
      volumeToken0
      volumeToken1
      date
    }
    poolHourData(
      where: {periodStartUnix_gte: 1673740800,  }
      orderDirection: desc
      first: 50
    ) {
      id
      volumeUSD
      volumeToken0
      volumeToken1
      periodStartUnix
    }
  }
}","",""
"471357824299958273","crypto_rachel","17/01/2023 11:49 am","check through the examples here
https://docs.uniswap.org/sdk/v3/overview","","👀 (1)"
"1054561532278747137","anhckie#8447","17/01/2023 1:51 pm","page not fo0und","",""
"471357824299958273","crypto_rachel","17/01/2023 8:31 pm","Sh*t sorry https://docs.uniswap.org/sdk/v3/overview. I forgot to fix that one","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:40 pm","Dont worry) Okay, link is correct. But i don't see examples how i can get volume24h via API?... Sorry for srtupid questions )","",""
"471357824299958273","crypto_rachel","17/01/2023 8:42 pm","https://docs.uniswap.org/api/subgraph/guides/examples#token-daily-aggregated","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:45 pm","Feel like i saw that but faced with some troubles. Okay, where i should try these queries? Link pls 🙂","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:45 pm","Maybe i did it in wrong place, idk","",""
"471357824299958273","crypto_rachel","17/01/2023 8:45 pm","All the graph links are in the pins","https://cdn.discordapp.com/attachments/765222888617017365/1064926030499958854/OL83.png",""
"1054561532278747137","anhckie#8447","17/01/2023 8:47 pm","Umm... I have othrr links here 😮","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:47 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1064926562480308384/Screenshot_2023-01-17_at_16.17.47.png",""
"1054561532278747137","anhckie#8447","17/01/2023 8:50 pm","This link? https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:53 pm","Query:
{
  tokenDayDatas(orderDirection: desc orderBy: date, where: {token: ""0x1f9840a85d5af5bf1d1762f925bdaddc4201f984""}, orderBy: date, orderDirection: asc) {
    date
    token {
      id
      symbol
    }
    volumeUSD
  }
}

Result:
{
  ""data"": {
    ""tokenDayDatas"": [
      {
        ""date"": 1673913600,
        ""token"": {
          ""id"": ""0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"",
          ""symbol"": ""UNI""
        },
        ""volumeUSD"": ""2001815.030202737467715566127082539""
      }
    ]
  }
}

volumeUSD - 2m
https://info.uniswap.org/#/tokens/0x1f9840a85d5af5bf1d1762f925bdaddc4201f984 - volume24h 3.8m
https://app.uniswap.org/#/tokens/ethereum/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984 - volume24h 3.8m

I wanna get this 3.8m )) not daily 2m","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:53 pm","I tried this before, yes","",""
"1054561532278747137","anhckie#8447","17/01/2023 8:54 pm","So, question is how to get specifically volume24h like at urls above.","",""
"1054561532278747137","anhckie#8447","17/01/2023 10:41 pm","is it possible?","",""
"384849366151725068","cryptovudu","18/01/2023 3:53 am","How do I query a subgraph of a pool to access all of the liquidity providers positions in the pool, and the price at which they have set their positions and quantity they have? I haven't been having luck figuring out which parameters to use. Any assistance is most appreciate!","",""
"471357824299958273","crypto_rachel","18/01/2023 11:35 am","I'm not to used to the graph and all it's details. Let me try to find out more about this","","👀 (1)"
"428208219232665601","0xnigu","19/01/2023 4:18 pm","anyone and idea how to query for pools with the highest daily volume?","",""
"428208219232665601","0xnigu","19/01/2023 4:19 pm","I can only query for pools ordered by the highes/lowest all time volume","",""
"428208219232665601","0xnigu","19/01/2023 4:20 pm","and btw how much grt do I pay per query?","",""
"669703087044427786","Pinheiro#8623","19/01/2023 11:16 pm","Hello guys!
I was trying to calculate the APY for a given range on a liquidity pool (not on a position in a pool). Can someone help me with the math behind it? Thanks in advance for the support!","",""
"221594574261452801","lockface77","20/01/2023 5:21 pm","Hello, do you know the rate limits for the graphql API?","",""
"428208219232665601","0xnigu","21/01/2023 10:27 pm","I dont think, that there is a rate limit.","",""
"428208219232665601","0xnigu","21/01/2023 10:28 pm","Why is the endpoint capped at a max skip of 5000?","",""
"428208219232665601","0xnigu","21/01/2023 10:28 pm","How can I query over 10000 pools if I can only skip 5000 of them?","",""
"471357824299958273","crypto_rachel","23/01/2023 3:02 am","@Deleted User
here is the call
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
{
  positions(where: {pool: ""0x6d3de5d148a14b8734e492e77b08df4a65f46e4f""}) {
    id
  }
}","",""
"456226577798135808","Deleted User","23/01/2023 3:03 am","Thankyou","","👍 (1)"
"400196420583424001","josquare","23/01/2023 7:51 am","`{
  positions(first: 5, where: {owner: ""0xpositionowner""} ){
    depositedToken0
    depositedToken1
    collectedFeesToken0
    collectedFeesToken1
        withdrawnToken0
      withdrawnToken1


  }
}`
running this query returns deposited and withdrawn as I would expect, but the collectedFees show as zero even on positions where fees were collected and withdrawn.  What does the collectedFees show exactly?  If I want to get 'claimed_fees"" (as in revert) how do I get them?","",""
"471357824299958273","crypto_rachel","23/01/2023 9:30 am","collected fees is almost always 0 cause iirc it uses the tokensOwed from position, since the only time it populates is when closing a position at that point it gets moved there, and then normally with the multi-call it includes the collect function which removes them and clears the slot","",""
"400196420583424001","josquare","23/01/2023 10:15 am","so withdrawnToken does include the collectedFees, I assume.  Is there a way to get the information, I see it on revert_ for example?  On revert it shows as 'claimed_fees' and is separate from withdrawn amounts.","",""
"471357824299958273","crypto_rachel","23/01/2023 10:49 am","withdrawn looks like everything withdrawn","",""
"400196420583424001","josquare","23/01/2023 2:34 pm","What I am stuck on is how to retrieve or compute the total fees and claimed fees using subgraph, any ideas greatly appreciated.","",""
"546806870933897217","lep.irish","23/01/2023 6:16 pm","Hi all I an new here, just a quick question. I am working on a project and we have set up a small pool for testing but its not displaying a price or vol. Have i done something wrong ? https://info.uniswap.org/#/polygon/pools/0x9532e65fb5ec202d6b414270f0a3a72965b49791","",""
"471357824299958273","crypto_rachel","23/01/2023 10:55 pm","looks like the price is there, for others volume and such , for Full tracking Tokens must have 60ETH  in a whitelisted token","",""
"471357824299958273","crypto_rachel","23/01/2023 10:56 pm","So i'm not great with the Graph,
I'll add to my questions list, when I get a chance to figure this out","",""
"546806870933897217","lep.irish","23/01/2023 11:05 pm","Thanks for that cheers","","YW (1)"
"688447309952057345","cervohs","24/01/2023 7:05 pm","it's possible to access on this server graphQl: `https://api.uniswap.org/v1/graphql`?.. i want to fetch data about collection, NFTs","",""
"400196420583424001","josquare","25/01/2023 9:54 am","@Crypto_Rachel So I have been experimenting more getting data from the graph, all ways fail in getting the collected fees (collectedFeesTokenx always zero as previously noted) and a new thing is under positions tokenx derivedETH shows a value which looks somewhat correct, but the value is not being updated.  So two different positions like a week apart show the same value.  This derivedETH not updating is an additional thing to look into.  (edit:  I think the derivedETH takes the current value which is different from what I thought, it is always the current value at time of retrieval, correct?)","",""
"433293271121264640","shisukeurahara","25/01/2023 5:19 pm","Hi guys , i am trying to integrate uniswap v3 protocol in our website. I am facing the following issues.

Uniswap v3 graphql :- I want to integrate uniswap v3 for polygon . As per the docs i got a graphql url to fetch position data , pool data etc but i think its for ethereum mainnet only. Can someone point me to a graphql url for mumbai testnet and polygon?  I found this url but it is missing queries for pool and many more things https://thegraph.com/hosted-service/subgraph/messari/uniswap-v3-polygon.  Can anyone point me to a functioning url ? Thanks in advance","",""
"276181222999326720","metaseth","25/01/2023 7:23 pm","Hello,
I'm a noob with graphQL.
I'm trying to get historical price of a token to create a graph on my website.
ex: get eth prices for the last 48h

For now i'm trying something like that :
```
  query tokenHourDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {
    tokenHourDatas(
      first: 100
      skip: $skip
      where: { token: $address, periodStartUnix_gt: $startTime }
      orderBy: periodStartUnix
      orderDirection: asc
    ) {
      periodStartUnix
      high
      low
      open
      close
      __typename
    }
  }
```
```
variables: {
      address: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"",
      startTime: 1674050400,
      skip: 0,
    },
```
I get it from: https://info.uniswap.org/#/tokens/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
Which return an array of values.
But when i do the request with the same parameters i get an empty array.

Someone can help me ?","",""
"163378072740036608","ivyzorz","26/01/2023 3:02 am","Has anyone had any success using the goerli subgraph? https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli
It seems like the token prices are wildly inaccurate. i.e. prices having like 30 decimal places vs their quoted 18, or simply being 0","",""
"163378072740036608","ivyzorz","26/01/2023 3:03 am","example","https://cdn.discordapp.com/attachments/765222888617017365/1067920262248546405/image.png",""
"400196420583424001","josquare","26/01/2023 6:59 pm","Basically I am trying to get position info for a pool with something like this:
`{
  position(id:nftID) {
    depositedToken0
    depositedToken1
    withdrawnToken0
    withdrawnToken1
    collectedFeesToken0
    collectedFeesToken1

  }
}`
The weird thing is that on any query the collectedFees always shows a zero, the other fields are correct.  The withdrawnTokenx fields do not include the fees, so there is no visibility whatsoever into what the fees collected actually were.  Is anyone able to retrieve the fee info using subgraph?","",""
"400196420583424001","josquare","26/01/2023 7:16 pm","I do however see some values in previous older pools, could it be a time delay problem with indexing the data?  All of the other fields seem to be accurate.","",""
"989275482488983663","AnthonyNicholas#4331","26/01/2023 7:57 pm","What chain is the position on?","",""
"400196420583424001","josquare","26/01/2023 7:57 pm","ETH mainnet","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","26/01/2023 8:02 pm","collectedFees only records fees actually collected via transaction","",""
"989275482488983663","AnthonyNicholas#4331","26/01/2023 8:02 pm","Could be the position creator didn't collect fees","",""
"400196420583424001","josquare","26/01/2023 8:02 pm","No, it was me and I collected the fees","",""
"400196420583424001","josquare","26/01/2023 8:03 pm","I see the fees in like revert_ for example","",""
"400196420583424001","josquare","26/01/2023 8:04 pm","In revert_ it shows correctly under 'claimed_fees'","",""
"400196420583424001","josquare","26/01/2023 8:07 pm","If you start at like id 400000 and scroll through it seems like the collected fees are zero on all of them I see","",""
"400196420583424001","josquare","26/01/2023 8:07 pm","Think it is zero on recent positions","",""
"400196420583424001","josquare","26/01/2023 8:20 pm","`{
  positions(first: 100, where: {id_gt: ""410000""}) {
    depositedToken0
    depositedToken1
    withdrawnToken0
    withdrawnToken1
    collectedFeesToken0
    collectedFeesToken1

  }
}`
just ran this and all of the collectedFeesTokenx look to be zero","",""
"669703087044427786","Pinheiro#8623","26/01/2023 8:36 pm","Hello guys! 
Does anyone can help find out how to query the Claimed fees for a position?
Thanks","",""
"471357824299958273","crypto_rachel","27/01/2023 1:18 am","believe I already answered here
https://discord.com/channels/597638925346930701/765222888617017365/1066930467972055160","",""
"843155325619535912","Etherscan Bot#5753","27/01/2023 1:18 am","","",""
"400196420583424001","josquare","27/01/2023 5:58 am","Yeah but I am seeing two things that don't align with that, 1.)  The withdrawn from position does not include the collected fees and 2.) the collected fees on earlier positions was not zero (all the time, it was zero only when it should have been).  Something happened in the past to disrupt the field getting correctly populated.  It is sequential, I will try to find around the position number where the problem started.","",""
"400196420583424001","josquare","27/01/2023 6:00 am","So, in other words, if I do a query I can see that collected fees is not commonly zero on earlier positions, but it is on recent positions.","",""
"400196420583424001","josquare","27/01/2023 6:02 am","`{

  positions(first: 20){
    collectedFeesToken0
  }
}`
Here is an example, showing most collectedFeesTokenx are not = zero.","",""
"400196420583424001","josquare","27/01/2023 6:03 am","The collected fees is an important field, because without it a position can't be reconciled.  The amount from the collected fees is not rolled over into the withdrawn amount, so it can't be determined from other inputs.","",""
"400196420583424001","josquare","27/01/2023 6:04 am","https://discord.com/channels/597638925346930701/765222888617017365/1068181158027853934","",""
"843155325619535912","Etherscan Bot#5753","27/01/2023 6:04 am","","",""
"400196420583424001","josquare","27/01/2023 6:06 am","that above shows and example of a query showing the more recent collected fees is always zero.  So you a situation where earlier data shows consistent usage of collected fees as designed and more recent data shows a bug or other problem existing which prevents the data from being populated as designed.","",""
"400196420583424001","josquare","27/01/2023 6:09 am","In the current situation there will likely be some numeric id number where lower positions show collectedFeesTokenx correctly and more recent ones do not have the field populated.","",""
"400196420583424001","josquare","27/01/2023 6:33 am","`{
positions(first: 20, orderBy: id, orderDirection: desc, where: {collectedFeesToken0_gt: 0}){
    id
    collectedFeesToken0
}
}`
this above query shows the cutoff is 5 digits, 99989 is the last one to have the field populated.  So 5 digit ids have the collectedFees can be greater than 0, 6 digit ids can not have collectedFees greater than zero.","",""
"400196420583424001","josquare","27/01/2023 6:46 am","`{
  ""data"": {
    ""positions"": [
      {
        ""id"": ""99989"",
        ""collectedFeesToken0"": ""0.292709830746723449""
      },
      {
        ""id"": ""99988"",
        ""collectedFeesToken0"": ""2934.100797""
      },
      {
        ""id"": ""99987"",`
The output shows the first position found with collectedFeesToken0 > 0 is 99989.  Current position NFT id numbers are 6 digits.  This confirms that no 6 digit id number has collectedFees > 0.","",""
"471357824299958273","crypto_rachel","27/01/2023 12:07 pm","@josquare
🤔  hmm yeah I see... I had never seen data in there... hmm I wonder when that stopped","",""
"400196420583424001","josquare","27/01/2023 5:28 pm","who would be the one to fix it?","",""
"669703087044427786","Pinheiro#8623","27/01/2023 9:13 pm","If the value of collectedfeesTokenX is null for any 6 digit number pool_id,how is it supposed to calculate the claimed rewards value?","",""
"669703087044427786","Pinheiro#8623","27/01/2023 9:28 pm","The ""id"" used in collect events in TheGraph is the pool_id, the wallet address, or something else?","",""
"471357824299958273","crypto_rachel","27/01/2023 11:18 pm","well fixing the graph, is nearly impossible, as there is so much data that it takes months to sync now... And its down while it syncs... I will be setting up a chat with someone here probably this coming week about some subgraph stuff, this will be on agenda","",""
"471357824299958273","crypto_rachel","27/01/2023 11:19 pm","the claimed/collected transactions are on a wallets transactions, so that is a way to get collected fees....","",""
"669703087044427786","Pinheiro#8623","27/01/2023 11:25 pm","Thanks
Do you know if can I get that using The Graph?","",""
"471357824299958273","crypto_rachel","27/01/2023 11:27 pm","there may be a bug in collected fees, as discussed just above this, so not sure on this via the graph.","",""
"669703087044427786","Pinheiro#8623","27/01/2023 11:27 pm","Okay
Thanks in advance for all the help!","",""
"471357824299958273","crypto_rachel","27/01/2023 11:28 pm","you're welcome.. I'll be checking on this soon","",""
"400196420583424001","josquare","28/01/2023 6:45 am","OK, sounds great, please pursue it would be great to get it resolved.  Is this the correct place to see the original source code of the indexer?  https://github.com/Uniswap/v3-subgraph","",""
"400196420583424001","josquare","28/01/2023 6:07 pm","Also, is there a sandbox development environment to play with the code and see if I can find the problem?","",""
"835951062250553363","archerabi","28/01/2023 7:15 pm","Regarding collected fees. i opened an Issue some time back https://github.com/Uniswap/v3-subgraph/issues/82
One of the commenters suggested an alternative subgraph that has the collectedFees 
https://thegraph.com/hosted-service/subgraph/revert-finance/uniswap-v3-mainnet","","🙏 (1)"
"471357824299958273","crypto_rachel","29/01/2023 1:19 am","yes that's the subgraph.. no sandbox I know of
Looks like the revert one has them. I would use it 👆","",""
"400196420583424001","josquare","29/01/2023 1:29 pm","Wow, amazing, I've been chasing my tail on this and found the solution was to just run against the revert subgraph instance, didn't see this before.","",""
"400196420583424001","josquare","29/01/2023 1:29 pm","It is here: https://api.thegraph.com/subgraphs/name/revert-finance/uniswap-v3-mainnet","",""
"400196420583424001","josquare","29/01/2023 1:29 pm","Also I logged the issue on the github repository","","👍 (1)"
"400196420583424001","josquare","29/01/2023 1:40 pm","It would be nice if the revert version could be listed on the graph hosted-service listings so it can be utilized by users needing Uni V3 information.","",""
"835951062250553363","archerabi","29/01/2023 11:25 pm","Does anyone know if the liquidity amounts in this query are real or virtual ? 
```
{
  pool(id:""0xa3f558aebaecaf0e11ca4b2199cc5ed341edfd74""){
    totalValueLockedToken0
    totalValueLockedToken1
}
```","",""
"843155325619535912","Etherscan Bot#5753","29/01/2023 11:25 pm","<https://etherscan.io/address/0xa3f558aebaecaf0e11ca4b2199cc5ed341edfd74>","",""
"471357824299958273","crypto_rachel","30/01/2023 12:22 am","just a fyi - The Graph hosted services will be ending https://thegraph.com/blog/sunsetting-hosted-service/","","ty (1)"
"471357824299958273","crypto_rachel","30/01/2023 12:23 am","v3 graph has a TVL bug, so it's tvl shouldn't be used for data","",""
"400196420583424001","josquare","30/01/2023 5:09 pm","Do you know if there are plans to migrated the V3 subgraph to the decentralized network?","",""
"471357824299958273","crypto_rachel","31/01/2023 11:05 am","I am looking into this","",""
"1066638366138974309","nevermore#9099","03/02/2023 7:57 pm","hello everyone","",""
"1066638366138974309","nevermore#9099","03/02/2023 7:57 pm","is there subgraph for uni v3 on arbitrum?","",""
"989275482488983663","AnthonyNicholas#4331","03/02/2023 8:36 pm","Yes there is 🙂","",""
"989275482488983663","AnthonyNicholas#4331","03/02/2023 8:37 pm","Here's the link, https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal","",""
"410208114088869888","m1lo1337","04/02/2023 10:10 pm","What is the difference between getting the price of a token via the subgraph or via the following code?

```const { ChainId, Token, WETH, Fetcher, Route } = require('@uniswap/sdk')

const USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6)

async function getRoute() {
  const pair = await Fetcher.fetchPairData(USDC, WETH[USDC.chainId])
  const route = new Route([pair], WETH[USDC.chainId])
  console.log(route.midPrice.toSignificant(6))
  console.log(route.midPrice.invert().toSignificant(6))
}

getRoute()
```","",""
"410208114088869888","m1lo1337","04/02/2023 10:11 pm","or the following v3 subgraph query:
``` {
  pool(id: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"") {
    tick
    token0 {
      symbol
      id
      decimals
    }
    token1 {
      symbol
      id
      decimals
    }
        token0Price
  }
}```","",""
"471357824299958273","crypto_rachel","06/02/2023 3:53 am","this is more for oracle type setup, mid price is `The MidPrice order is designed to split the difference between the bid and ask prices, and fill at the current midpoint`
other price is current price","",""
"290529394391253004","mvrielink","06/02/2023 7:47 am","Good evening everyone, I'm starting to work with the UNISWAP API, I'm managing to pull the pools of addresses normally, and the information, however I'm not finding the parameter that returns the fee gain, I'll send you a print of the problem.","",""
"290529394391253004","mvrielink","06/02/2023 7:49 am","i nees this information","https://cdn.discordapp.com/attachments/765222888617017365/1071978418222157824/image.png",""
"290529394391253004","mvrielink","06/02/2023 7:49 am","i need*","",""
"290529394391253004","mvrielink","06/02/2023 7:50 am","I suspect that I have to get this information inside the smart contract, but I also don't know how to locate it","",""
"471357824299958273","crypto_rachel","06/02/2023 8:32 am","so I'm not sure the graph has the fees in it, this takes some math... I have a quick code way to get your own positions fees
https://discord.com/channels/597638925346930701/1062975671128838204/1063197491614462124","",""
"290529394391253004","mvrielink","06/02/2023 8:41 am","this is very good, thanks","","YW (2)"
"290529394391253004","mvrielink","06/02/2023 9:06 am","and Initial tokens balance  and Current tokens balance?","",""
"471357824299958273","crypto_rachel","06/02/2023 10:01 am","I have this script that has the calls and math for it.

Get LQ token balance
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595","",""
"100050028285931520","drewgillen","06/02/2023 11:37 pm","Is there a way to get liquidity pool historical data on the TVL for tokens 0 & 1 at a certain point in time? 

I have created this query, but it only returns the current (real-time) TVL for the tokens (totalValueLockedToken0 & totalValueLockedToken1)

```
{
  poolDayDatas(
    where: {pool_in: [""0x5777d92f208679db4b9778590fa3cab3ac9e2168""], date_gte: 1675296000}
    skip: 0
    first: 1000
  ) {
    id
    date
    pool {
      id
      token0 {
        id
        symbol
      }
      token1 {
        id
        symbol
      }
      totalValueLockedToken0
      totalValueLockedToken1
    }
  }
}
```

Is there a way to get the historical TVL for token0 and token1 at a certain point in time?","",""
"843155325619535912","Etherscan Bot#5753","06/02/2023 11:37 pm","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"989275482488983663","AnthonyNicholas#4331","06/02/2023 11:57 pm","Use `block` instead of `date_gte`","",""
"100050028285931520","drewgillen","07/02/2023 1:00 am","Thank you for the reply! I have updated my query to the following. 
```
{
  poolDayDatas(
    where: {pool: ""0x5777d92f208679db4b9778590fa3cab3ac9e2168""}
    block: {number: 14605124}
    skip: 0
    first: 100
  ) {
    id
    date
    pool {
      id
      token0 {
        id
        symbol
      }
      token1 {
        id
        symbol
      }
      totalValueLockedToken0
      totalValueLockedToken1
    }
  }
}
```

I have noticed that the TVL of Token0 & Token1 don't change from day to day with this query. There values only change when there is a large jump in the block number. Am I doing this/understanding this correctly?","",""
"843155325619535912","Etherscan Bot#5753","07/02/2023 1:00 am","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"989275482488983663","AnthonyNicholas#4331","07/02/2023 1:02 am","This block only lasted one day","",""
"989275482488983663","AnthonyNicholas#4331","07/02/2023 1:03 am","It had a total of 48 txs - https://etherscan.io/txs?block=14605124","",""
"100050028285931520","drewgillen","07/02/2023 1:10 am","I understand. Thank you so much for your help! 

Is there a way to query multiple blocks from that starting point. For example query the TVL of token0 & 1 from block 14605124, 14605125, 14605126... ?","",""
"989275482488983663","AnthonyNicholas#4331","07/02/2023 1:29 am","@Drew I think you would pass multiple block # s","",""
"989275482488983663","AnthonyNicholas#4331","07/02/2023 1:30 am","Like this

poolDayDatas(
    where: {pool: ""0x5777d92f208679db4b9778590fa3cab3ac9e2168""}
    block: {number: 14605124}
    block: {number: 14605125}
    block: {number: 14605126}","","❤️ (2)"
"843155325619535912","Etherscan Bot#5753","07/02/2023 1:30 am","<https://etherscan.io/address/0x5777d92f208679db4b9778590fa3cab3ac9e2168>","",""
"989275482488983663","AnthonyNicholas#4331","07/02/2023 1:30 am","etc","",""
"100050028285931520","drewgillen","07/02/2023 2:04 am","Thank you so much!","",""
"406755912259469312","leondolinar","09/02/2023 11:10 am","hi everyone, recently the NRGE has been renamed to NRG on-chain and the info page isn't displaying proper stats anymore. Is there anyone here that can help resolve this issue?","",""
"471357824299958273","crypto_rachel","09/02/2023 11:12 am","which area? share screenshot","",""
"406755912259469312","leondolinar","09/02/2023 11:15 am","","https://cdn.discordapp.com/attachments/765222888617017365/1073117463593627729/app.png,https://cdn.discordapp.com/attachments/765222888617017365/1073117463815921705/info.png",""
"406755912259469312","leondolinar","09/02/2023 11:16 am","","https://cdn.discordapp.com/attachments/765222888617017365/1073117743735386143/drop-down.png",""
"471357824299958273","crypto_rachel","09/02/2023 11:18 am","most of the data is grabbed from the graph. this is extremely difficult if not impossible to change the name","",""
"406755912259469312","leondolinar","09/02/2023 11:18 am","a few months ago it was renamed from NRGE to NRG, the contract uses a standard proxy contract pattern which could be the issue for whatever reason
https://etherscan.io/token/0x1416946162b1c2c871a73b07e932d2fb6c932069","",""
"471357824299958273","crypto_rachel","09/02/2023 11:19 am","the graph has already stored the name, and as I stated above","",""
"406755912259469312","leondolinar","09/02/2023 11:21 am","I see, so there's really no way to re-run the graph? I mean on our infrastructure we've had similar issues deploying subgraphs. Even grafting wouldn't help much.","",""
"471357824299958273","crypto_rachel","09/02/2023 11:22 am","if it's possible the hoops needed to jump were extreme.","",""
"406755912259469312","leondolinar","09/02/2023 11:25 am","thank you 🙇‍♂️","",""
"471357824299958273","crypto_rachel","09/02/2023 11:26 am","you're welcome.","",""
"450463471197356050","tehkobra","10/02/2023 3:28 am","hi all - does anyone know how ""amountUSD"" is derived in uniswap pools? for instance, transaction 0xd8187c60d1b19b2365728ebfc051ab7e312d13e85ef2cd45372a8a5cd844c5c9 on Optimism WETH/USDC pool was a swap of 1 USDC <-> 0.000611 WETH. amount1 is -1 but amountUSD is 1.01844, which is a pretty large difference. having trouble finding why this difference exists and/or what goes into amountUSD calc directly","https://cdn.discordapp.com/attachments/765222888617017365/1073362367477456957/image.png",""
"843155325619535912","Etherscan Bot#5753","10/02/2023 3:28 am","<https://etherscan.io/tx/0xd8187c60d1b19b2365728ebfc051ab7e312d13e85ef2cd45372a8a5cd844c5c9>","",""
"450463471197356050","tehkobra","10/02/2023 3:30 am","https://optimistic.etherscan.io/tx/0xd8187c60d1b19b2365728ebfc051ab7e312d13e85ef2cd45372a8a5cd844c5c9","",""
"450463471197356050","tehkobra","10/02/2023 4:34 am","here's another more obvious one in the USDC/DAI optimism pool. amountUSD is very different from both amount0 and amount1 -- am thinking it does not mean what i thought it would. anyone know what it means?","https://cdn.discordapp.com/attachments/765222888617017365/1073378890472505374/image.png",""
"406755912259469312","leondolinar","10/02/2023 5:34 pm","looking at this deeper, there's clearly something odd happening provided that TVL is shown as $0, even if the name changed the contract addr is still the same","",""
"471357824299958273","crypto_rachel","11/02/2023 3:27 am","TVL is only tracked if token has over 60ETH of whitelisted token","",""
"471357824299958273","crypto_rachel","11/02/2023 3:27 am","and TVL in v3 has a bug","",""
"471357824299958273","crypto_rachel","11/02/2023 3:28 am","this what the price of the token at time of swap","",""
"450463471197356050","tehkobra","11/02/2023 5:12 am","but this doesn't make sense- this DAI/USDC optimism pool transaction for example is showing a very different amountUSD ($76.22) compared to both amount0 ($70.47) and amount1 ($70.46). it's 8%+ difference and happens in alot of this pool's transactions in 2023. why such a large difference?","https://cdn.discordapp.com/attachments/765222888617017365/1073750833080057937/image.png",""
"471357824299958273","crypto_rachel","11/02/2023 5:15 am","prices in pools can be very different, this is why arbitrage exists.. while these are stables things in pool are based on the token balance of the pool","",""
"450463471197356050","tehkobra","11/02/2023 5:20 am","hard to believe a pool like DAI/USDC had 8% arbitrage opportunity for all of january","",""
"471357824299958273","crypto_rachel","11/02/2023 5:23 am","well I can't say exactly, a lot of calls would need to be done. You would need a lot of data to verify anything like that","",""
"450463471197356050","tehkobra","11/02/2023 5:42 am","right, so i've done this -- see screenshot here that shows my confusing with amountUSD. so the query up there is just one example, but for weeks at a time amountUSD looks very off compared to amount0/amount1. and that's what i dont understand","https://cdn.discordapp.com/attachments/765222888617017365/1073758269996269598/image.png",""
"471357824299958273","crypto_rachel","11/02/2023 5:44 am","side chain pools get crazy sometimes. not much else I can say.","",""
"639035517610229761","smr#7161","12/02/2023 12:15 pm","Hi Everyone, been trying to understand liquidity and prices in uniswap v3. from what I understand that the liquidity is not in wei but in sqrtPrice. But Im still lost on how I could calculate the liquidity price in usd like on dextools","",""
"471357824299958273","crypto_rachel","12/02/2023 12:17 pm","I have the math and code examples here
Pool pricing info            - https://discord.com/channels/597638925346930701/1062975671128838204/1063201958556606484","",""
"639035517610229761","smr#7161","12/02/2023 12:38 pm","using this ?
```let buyOneOfToken0 = ((sqrtPriceX96 / 2**96)**2) / (10**Decimal1 / 10**Decimal0);
let buyOneOfToken1 = (1 / buyOneOfToken0).toFixed(Decimal0);```

querying from the v3 uniswap pool I get the liquidity, and sqrtPrice (sqrtPriceX96?) how would that give me the price of the liquidity?","",""
"639035517610229761","smr#7161","12/02/2023 12:40 pm","What does liquidity in uni v3 subgraph represent? and should be converted to wei? so I can get the price in usd or Im viewing this completely wrong 😅","",""
"471357824299958273","crypto_rachel","12/02/2023 12:50 pm","My apologies. I totally misread your question. liquidity is much harder since it's stored in separate tick ranges.

here is the code to get a positions LQ
Get LQ token balance from position ID
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595 

you can use the math in it to get liquidity amounts, but gets difficult depending on what you want.
the liquidity read function in a pools contract is the current in range liquidity","",""
"639035517610229761","smr#7161","12/02/2023 12:55 pm","That would mean if I want to get the total liquidity I would need to go through all ticks and summ them up?","",""
"905895432465551413","harish_ramamurthy","12/02/2023 9:00 pm","Hi Rachel, I was figuring out how to obtain the current price (In USD) of a NFT position. In the LiquidityAmounts library in @uniswap/v3-periphery, I see getAmountsForLiquidity function to get the amount of tokens (token0 and token1). But unfortunately I am not able to import it in JavaScript as I don't see it in the artifacts. Is there a way to use it or do you think the approach in this link https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595  is the better way to go ?","",""
"905895432465551413","harish_ramamurthy","12/02/2023 9:03 pm","Hi Everyone, Is there a way to obtain the total unique liquidity providers (unique owners of NFT position) in a pool ?","",""
"471357824299958273","crypto_rachel","14/02/2023 1:19 am","correct
To get the liquidity at each tick, you can get liquidityNet for all initialized ticks from -887272 to 887272 and cumulatively sum them in increasing order. You can alternatively use the liquidity() function on the v3 contract to get the current in-range liquidity, and remove liquidityNet below the current tick and add above the current tick","",""
"471357824299958273","crypto_rachel","14/02/2023 1:23 am","answered in #💻│dev-chat 

USD price is difficult unless your position is USD. First you get the token amounts and yes mine is good
then you need to get the two prices of the pool Pool pricing info            - https://discord.com/channels/597638925346930701/1062975671128838204/1063201958556606484
then you would need to get a USD price of one of the tokens, by calling a pool with that token and USD or an oracle for USD price
then you would use the two pool prices to grab the USD value of the amount from the prices grabbed","",""
"639035517610229761","smr#7161","14/02/2023 9:27 pm","What will be different for consumers, I'm using uniswap v2 and v3 hosted subgraphs, what will happen after sunsetting, Do I have to index it myself or uniswap will create the graphs? Or it will still be similar but now I have to pay?","",""
"471357824299958273","crypto_rachel","15/02/2023 8:37 am","trying to find this info out","",""
"905895432465551413","harish_ramamurthy","15/02/2023 1:53 pm","From this link which you have shared (https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595), I assume the amount0Human and amount1Human is the current price in USD. Am i right ?","",""
"843155325619535912","Etherscan Bot#5753","15/02/2023 1:53 pm","","",""
"639035517610229761","smr#7161","15/02/2023 3:59 pm","please update when you find out anything. our dapp depends on it 🙃","","👍 (2)"
"905895432465551413","harish_ramamurthy","15/02/2023 10:23 pm","I used the code to calculate the amount of tokens for the position Id 372774. It's the top position orderBy liquidity and orderDirection desc.
After using the function to calculate the amounts:
amount0Human is 0.999999999998619105
amount1Human is 0.000000

I don't think it's right since it's the top position by liquidity in the pool with id 0x5777d92f208679db4b9778590fa3cab3ac9e2168","https://cdn.discordapp.com/attachments/765222888617017365/1075459829130334278/Screenshot_2023-02-15_at_16.49.20.png",""
"471357824299958273","crypto_rachel","16/02/2023 3:15 am","https://app.uniswap.org/#/pool/372774","",""
"471357824299958273","crypto_rachel","16/02/2023 3:15 am","it only has 1$, try ascending","",""
"905895432465551413","harish_ramamurthy","16/02/2023 3:18 am","I am wondering why this position has a high liquidity value ? I tried to get the top 10 positions by liquidity in a pool with this query. This was the first one.
query TopPositions($poolId: ID!) {
    positions(
      first: 10
      orderBy: liquidity
      orderDirection: desc
      where: {pool: $poolId}
    ) {
      owner
      id
      liquidity
    }
  }

If the query is wrong, can you guide me on how to get the top 10 positions by value in USD ?","",""
"471357824299958273","crypto_rachel","16/02/2023 3:28 am","it's due to the range which the lq is in. Math gets crazy since it's based on ranges","",""
"905895432465551413","harish_ramamurthy","16/02/2023 3:29 am","Do you suggest an alternate way/query to get the top 10 positions in a pool via the graph or directly interacting with the contract ?","",""
"471357824299958273","crypto_rachel","16/02/2023 3:31 am","you need the graph for that","",""
"905895432465551413","harish_ramamurthy","16/02/2023 3:32 am","this is the query I have built. Do you suggest any changes to it to get the top 10 positions in a pool ?
query TopPositions($poolId: ID!) {
    positions(
      first: 10
      orderBy: liquidity
      orderDirection: desc
      where: {pool: $poolId}
    ) {
      owner
      id
      liquidity
    }
  }","",""
"456226577798135808","Deleted User","16/02/2023 4:13 pm","Im ending this request
```py
import requests

# Set the contract address of the token you want to get the price of
token_address = '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'

# Set up the GraphQL query
query = '''
{
    token(id: ""''' + token_address + '''"") {
        id
        name
        symbol
        derivedETH
    }
}
'''

# Set up the API endpoint
url = 'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2'

# Set up the request headers
headers = {
    'Content-Type': 'application/json'
}

# Make the API request
response = requests.post(url, headers=headers, json={'query': query})

# Check that the request was successful
if response.status_code == 200:
    try:
        # Parse the response JSON to get the price
        data = response.json()['data']['token']
        # Print the price
        print(data)
    except ValueError:
        # Print the raw response content in case of an error
        print(response.content)
else:
    print('Error:', response.status_code)
```","",""
"843155325619535912","Etherscan Bot#5753","16/02/2023 4:13 pm","<https://etherscan.io/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2>","",""
"456226577798135808","Deleted User","16/02/2023 4:13 pm","but i keep getting NUll as response","",""
"456226577798135808","Deleted User","16/02/2023 4:14 pm","i dont know what i do wrong","",""
"456226577798135808","Deleted User","16/02/2023 4:44 pm","ok, so how old does a token ahs to be before it can be queried using graphQL?","",""
"471357824299958273","crypto_rachel","17/02/2023 12:15 pm","All addresses must be in lower case for the graph","",""
"471357824299958273","crypto_rachel","17/02/2023 12:40 pm","this would be hard since all pools positions vary and the LQ will be based on the position, you would probably want to search ticks close to the current range","",""
"360326217251028992","irara_","17/02/2023 2:15 pm","May I ask if there will be any related subgraph migration for Uniswap as The Graph will be discontinuing its Hosted Service in Q1? Also, will there be any changes made to the existing Uniswap subgraph API? Thank you!","","⬆️ (1)"
"905895432465551413","harish_ramamurthy","17/02/2023 11:57 pm","Thank you, still trying to get my head around with ticks 😁 Do you think getting all the Mint and Burn events will help to know the current active NFT position holders in the pool , like (Total Mint - Total Burn) ?","",""
"471357824299958273","crypto_rachel","18/02/2023 12:01 am","yeah, listening for those from the beginning of the pool would give all holders, and amounts if tracked correctly","",""
"905895432465551413","harish_ramamurthy","18/02/2023 1:39 am","Is it possible that the total burns are more than the total mints ? For reference, i used the Moralis events API and for a specific pool the burns total was greater than the mints total,","",""
"471357824299958273","crypto_rachel","18/02/2023 2:14 am","no","",""
"396567041265631232","0xkombos","18/02/2023 10:07 pm","any uniswap subgraph to read the list of staked positions of an owner for a particular incentive, in univ3 staker contract ? i believe uniswap is supposed to provide a hosted service to query this particular data as without it, its not feasible to create a frontend for uniswap v3 staker program.","",""
"396567041265631232","0xkombos","19/02/2023 3:53 am","will I have to pay to setup my own hosted subgraph for uniswap v3 staker ?","",""
"958278489356771388","hiroyukinaito","19/02/2023 12:29 pm","I'm a Newby. Does querying from GraphQL need cost of a graph token?","",""
"776058481044226049","andrea_head_of_3techstudio","21/02/2023 4:52 am","Hey guys! I've seen that in the Uniswap V3 I can get the position amounts, but the fees are 0 for both the tokens despite the swaps. It there a problem? 
If I create a new position, for example putting in a USDC/ETH pool 200 USDC and 0,35 ETH how can I get the actual amounts for both the tokens with the graphql API?
Thanks in advance!","",""
"450463471197356050","tehkobra","21/02/2023 12:06 pm","hi - does anyone know how to get properly ordered transactions from swaps queries? i.e. you can have multiple transactions in the same block and same timestamp, so ordering by those fields wouldn't do it","",""
"989275482488983663","AnthonyNicholas#4331","21/02/2023 9:46 pm","No you don't need to pay a fee to write queries on the graph","",""
"989275482488983663","AnthonyNicholas#4331","21/02/2023 9:48 pm","The graph is returning 0 values for the fees you receive? What chain are you on?","",""
"776058481044226049","andrea_head_of_3techstudio","21/02/2023 11:00 pm","On Ethereum, here is the liquidity pool that I'm watching right now: https://info.uniswap.org/#/pools/0x5b97b125cf8af96834f2d08c8f1291bd47724939","",""
"776058481044226049","andrea_head_of_3techstudio","23/02/2023 12:28 pm","@Anthony 🦄 // Community Manager","",""
"989275482488983663","AnthonyNicholas#4331","23/02/2023 8:12 pm","Can you please share your query here?","",""
"450463471197356050","tehkobra","24/02/2023 4:20 am","anyone know how it's possible for 1 block number to contain transactions that have 2 different timestamps? i thought transactions in the same block should all have the same timestamp

the tx ids in the screenshot are:
0x920a3ec7dda16228b22285bd246aa206487014fcf5d9e1b462bca2e7c1828ac6#15173
0x920a3ec7dda16228b22285bd246aa206487014fcf5d9e1b462bca2e7c1828ac6#15174","https://cdn.discordapp.com/attachments/765222888617017365/1078448907014656110/image.png",""
"843155325619535912","Etherscan Bot#5753","24/02/2023 4:20 am","<https://etherscan.io/tx/0x920a3ec7dda16228b22285bd246aa206487014fcf5d9e1b462bca2e7c1828ac6>","",""
"843155325619535912","Etherscan Bot#5753","24/02/2023 4:20 am","<https://etherscan.io/tx/0x920a3ec7dda16228b22285bd246aa206487014fcf5d9e1b462bca2e7c1828ac6>","",""
"989275482488983663","AnthonyNicholas#4331","24/02/2023 5:23 am","Not necessarily, blocks last for 12 seconds","",""
"989275482488983663","AnthonyNicholas#4331","24/02/2023 5:24 am","those two txs are about 5 seconds apart, you can convert it here - https://www.epochconverter.com/","",""
"450463471197356050","tehkobra","24/02/2023 5:36 am","but doesn't a block (and all its transactions) all come out at once when it's mined?

even if that's not the case -- what's weird is that i've grabbed roughly 31 million swap transactions that comprise 23 million different blocks (so a large sample) for major WETH/USDC, WBTC/WETH, WBTC/USDC pools across ethereum, arbitrum, optimism, and polygon networks, and only 13 blocks have multiple timestamps (the above being one example). because of the extremely rare occurrence it just feels like a bug?","",""
"450463471197356050","tehkobra","24/02/2023 5:38 am","another observation is that those rare 13 blocks with multiple timestamps are all on polygon pools","",""
"406755912259469312","leondolinar","24/02/2023 1:15 pm","we have increased liquidity on Uniswap to 60 ETH for the NRG/ETH pair, should it auto-correct now?","",""
"447487680511606785","reuptake","24/02/2023 11:06 pm","Any plans of reinstating subgraph for v2? It's not updating for many hours now...","","🙏 (1)"
"471357824299958273","crypto_rachel","24/02/2023 11:21 pm","yes, it make take time for everything to catch up","","💕 (1)"
"471357824299958273","crypto_rachel","24/02/2023 11:23 pm","@Anthony 🦄 // Community Manager could you pass this on","",""
"544719066481557514","pachinko8","25/02/2023 2:31 am","anyone know of a reliable way to get arbitrum uni v3 pool data for backtesting lp strategies? i've tried ianlapham's subgraph but it only gives indexing errors, and the one made by messari.io does not have accurate info on hourly volume (gives inconsistent measurements for volume in terms of pool tokens and when converted to usd)","",""
"406490417845239838","jma5705","25/02/2023 4:19 am","heya folks, seems like the arbi subgraph hit an edgecase","",""
"406490417845239838","jma5705","25/02/2023 4:19 am","","https://cdn.discordapp.com/attachments/765222888617017365/1078810993821491320/image.png",""
"858368475633942530","_rafaqatali","25/02/2023 5:04 pm","I'm getting an ""indexing error"" when I query uniswap on arbitrum. Info.uniswap on arbitrum is also not displaying any values aswell. For how long would you reckon it would stay down, please?","https://cdn.discordapp.com/attachments/765222888617017365/1079003348574941184/image_720.png",""
"638766945206009866","kwsantiago","26/02/2023 1:03 am","@Crypto_Rachel is the subgraph down? Some queries work while some like this one are not working query 
{
poolHourDatas(where:{pool:""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""},orderBy:periodStartUnix,orderDirection:desc,first:1000)
{
periodStartUnix
liquidity
high
low
pool{
    
    totalValueLockedUSD
    totalValueLockedToken1
    totalValueLockedToken0
    token0
        {decimals
        }
    token1
        {decimals
        }
    }
close
feeGrowthGlobal0X128
feeGrowthGlobal1X128
}

}","",""
"471357824299958273","crypto_rachel","26/02/2023 3:07 am","Perhaps it's the amount of 1k, causing timeout error. It failed for me with 1k, but no issues with 10","",""
"406490417845239838","jma5705","26/02/2023 5:01 am","The arbitrum subgraph needs to be updated to the latest version","",""
"406490417845239838","jma5705","26/02/2023 5:02 am","It seems like the 1bps fee tier was only enabled on arbitrum 7 days ago here:
https://arbiscan.io/tx/0x39722d69370c7332a0ba49c30ed834399933c118a6296a60c31c62b69e29dbcc","",""
"406490417845239838","jma5705","26/02/2023 5:03 am","The first 1bps pool got deployed here https://arbiscan.io/tx/0x0408c011644008881b0e012643cd4f480be8a24bbcb7a87320ae6cf28d56de05

and broke the subgraph","",""
"471357824299958273","crypto_rachel","26/02/2023 5:10 am","not sure this is the reason, I'm seeing coding for the 1bp pool
```
export function feeTierToTickSpacing(feeTier: BigInt): BigInt {
  if (feeTier.equals(BigInt.fromI32(10000))) {
    return BigInt.fromI32(200)
  }
  if (feeTier.equals(BigInt.fromI32(3000))) {
    return BigInt.fromI32(60)
  }
  if (feeTier.equals(BigInt.fromI32(500))) {
    return BigInt.fromI32(10)
  }
  if (feeTier.equals(BigInt.fromI32(100))) {
    return BigInt.fromI32(1)
  }```
The devs are aware of the issue, and I'll check into this further, maybe something deeper, but the timing seems correct for this to be the issue","",""
"406490417845239838","jma5705","26/02/2023 5:22 am","yes, but this change is not deployed to the arbitrum subgraph","","🙏 (1)"
"989275482488983663","AnthonyNicholas#4331","26/02/2023 7:50 pm","Here's the link to polygon's subgraph @Ansarfirozs https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"985948161652695110","ansarfirozs","26/02/2023 7:51 pm","thanks @Anthony 🦄 // Community Manager :Uni:","","👍 (1)"
"989275482488983663","AnthonyNicholas#4331","26/02/2023 7:51 pm","Oh you forgot something","",""
"989275482488983663","AnthonyNicholas#4331","26/02/2023 7:52 pm","You forgot to say ""gm"" in #👋│gm 🙈","",""
"985948161652695110","ansarfirozs","26/02/2023 7:54 pm","https://tenor.com/view/aww-gif-22944990","",""
"638766945206009866","kwsantiago","27/02/2023 3:48 am","@Crypto_Rachel @Anthony 🦄 // Community Manager I need the following attributes at a daily snapshot level: sqrtPrice, liquidity, feeGrowthGlobal0X128, feeGrowthGlobal1X128, totalValueLockedToken0, totalValueLockedToken1. I can get all the attributes other than totalValueLockedToken0 and totalValueLockedToken1 at the daily snapshot level. Could I get a query that will get me those attributes?","",""
"471357824299958273","crypto_rachel","27/02/2023 11:33 pm","v3 subgraph has a TVL bug, so I wouldn't suggest it","",""
"450463471197356050","tehkobra","28/02/2023 8:04 am","Hi all, I found an example of an inconsistency that looks like a bug of some kind. See this query on the official uniswap-v3-polygon (ianlapham)

swaps(where: {
    pool: ""0x45dda9cb7c25131df268515131f647d726f50608"",
    timestamp_gte: 1645676891,
    timestamp_lte: 1645676893,
  }, 
    orderBy: timestamp,
    orderDirection: asc
  ) {
    timestamp
    transaction { blockNumber }
    id
  }

It returns two transactions with:
Block 25281123, timestamp 1645676891
Block 25281120, timestamp 1645676893

Unless I’m not understanding polygon, it shouldn’t be possible to have a higher block number with an earlier timestamp

And when you put those transactions into polygonscan, one of them is invalid/doesn’t exist. So not sure why the subgraph is returning it","https://cdn.discordapp.com/attachments/765222888617017365/1079954753406128178/IMG_7803.png",""
"843155325619535912","Etherscan Bot#5753","28/02/2023 8:04 am","<https://etherscan.io/address/0x45dda9cb7c25131df268515131f647d726f50608>","",""
"958278489356771388","hiroyukinaito","28/02/2023 8:50 pm","Thanks 🙏","",""
"485988968198963210","dabao","01/03/2023 12:50 am","Does anyone know what happened on 2022-05-07 for USDC / ETH 0.03 pool? I was going through unique liquidity providers count and it seemed extremely large for some reason...","","🤷‍♀️ (2)"
"894118477386883072","preie4","03/03/2023 6:18 am","what is the simplest way to get price api from two pair?
i find this👇but it's seems complicated for me
https://docs.uniswap.org/sdk/v3/guides/quoting","",""
"450463471197356050","tehkobra","04/03/2023 1:04 am","Anyone have any clue on this","",""
"967846095210291331","tiaroslav07#8968","04/03/2023 2:47 am","nice","",""
"428208219232665601","0xnigu","04/03/2023 4:04 am","You could use an endpoint like alchemy and query the specific pool contract for swap events… this way you have always the last traded price","",""
"428208219232665601","0xnigu","04/03/2023 4:05 am","https://docs.alchemy.com/docs/how-to-get-on-chain-events","",""
"471357824299958273","crypto_rachel","04/03/2023 11:44 am","I wasn't sure on that, it's very odd. The only thing I could think of was a block re-org, this could cause issues with the graphs tracking","",""
"716625617289740300","0xhamza18","04/03/2023 3:37 pm","Hello, Can you guys please tell me when will the arbitrum subgraph issue fix? It's been showing an indexing error for more than a week. Any estimated time for it's fixture Thanks","",""
"638766945206009866","kwsantiago","04/03/2023 6:54 pm","@Crypto_Rachel will this bug be fixed?","",""
"471357824299958273","crypto_rachel","05/03/2023 11:04 am","not likely in the graph, testing with the time to sync the graph takes to long.... The team is looking into other ways to fix","",""
"855054443112562688","0xcchan","06/03/2023 8:50 am","can i check whats it denominated it?","",""
"855054443112562688","0xcchan","06/03/2023 8:50 am","beause the numbers seem abit off","https://cdn.discordapp.com/attachments/765222888617017365/1082140741289115688/Screenshot_2023-03-06_at_11.20.49_AM.png",""
"855054443112562688","0xcchan","06/03/2023 9:08 am","this was the query:","",""
"855054443112562688","0xcchan","06/03/2023 9:08 am","query = """"""{
        ticks(first: 1000,
              where: {poolAddress: ""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8"", 
              },
              block: {number: 14987808}
              orderBy: tickIdx) {
            tickIdx
            liquidityNet
            price0
            price1
        }
    }""""""","",""
"843155325619535912","Etherscan Bot#5753","06/03/2023 9:08 am","<https://etherscan.io/address/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8>","",""
"354458973572956160","vengeanc3","07/03/2023 2:18 am","Is it possible to order by an object child?
For example if there's
```
fee {
  feePercentage
}
```

How can I sort by `feePercentage`?","",""
"354458973572956160","vengeanc3","07/03/2023 2:33 am","Figured it out, it was
```graphql
{
          liquidityPools (where: {
            inputTokens_contains: [""0x539bde0d7dbd336b79148aa742883198bbf60342""]
          }) {
            id
            fees(orderBy:  feePercentage, orderDirection: desc) {
              feePercentage
            }
            
          }
        }
```","",""
"855054443112562688","0xcchan","07/03/2023 7:17 am","@Crypto_Rachel  😅","",""
"1039460188383617055","godfrey42#5519","08/03/2023 8:42 am","thegraph's hosted-service is going to be taken offline
Is there no plan to migrate thegraph api of uniswap to subgraph studio?","",""
"428208219232665601","0xnigu","08/03/2023 3:54 pm","You can use the graph from messari if they dont migrate it","",""
"726627917349519422","italiandaddy","09/03/2023 12:03 am","Hello, can anyone tell me what sqrtPrice is? Does it relate to token 0 or 1? Does it change over time? I would assume so, but the same value is both in the Pools and PoolDayData entities

https://github.com/Uniswap/v3-subgraph/blob/main/schema.graphql

{
  pools(first: 5, where: {token0: ""0xbef81556ef066ec840a540595c8d12f516b6378f""}) {
    id
    token0 {
      id
    }
    feeTier
    liquidity
    sqrtPrice
  }

}","",""
"843155325619535912","Etherscan Bot#5753","09/03/2023 12:03 am","<https://etherscan.io/address/0xbef81556ef066ec840a540595c8d12f516b6378f>","",""
"989275482488983663","AnthonyNicholas#4331","09/03/2023 1:31 am","sqrtPrice is used in a formula: `sqrtPriceX96 = sqrtPrice * Q96` where Q96 = 2 ^ 96. sqrtPriceX96 is a fixed point Q64.96 number that represents the sqrt of the ratio of two assets (token1/token0). It does change over time since the price of the pool might change over time. This pool doesn't have a lot of activity so it makes sense that the value in 'Pools' is equal to 'PoolDayData'","",""
"902952679939121183","rhuzaifa","09/03/2023 3:33 am","Hi, newbie here.

I was playing around with the uniswap v3 subgraph api and saw that it does not return the value it uses for displaying on live site. In my case I wanted to check for TVL, on live site it shows as `$230.54m` but via the api i get a big number `""231943249.9220463817804898360000001""`. How do we convert it?

Apologies as it maybe a stupid question but I am at a stage where I don't know what I don't know. Any help is appreciated. Thanks","https://cdn.discordapp.com/attachments/765222888617017365/1083148079768813688/image.png,https://cdn.discordapp.com/attachments/765222888617017365/1083148080150483024/image.png",""
"726627917349519422","italiandaddy","09/03/2023 4:02 am","Thank you!","",""
"726627917349519422","italiandaddy","09/03/2023 4:03 am","I believe data in the subraph is cached, and if you need to return live data, you would need to use uniswap's APIs to get real time info. Anyone, please correct me if I'm wrong","",""
"726627917349519422","italiandaddy","09/03/2023 4:07 am","To expand on this, if sqrtPrice ever changes, we would see it reflected in 'PoolDayData'. But, would its value ever change/reflect in 'Pools', or is this set once and never changed? There are not timeframes to reference in 'Pools' so I assume it could be either or","",""
"989275482488983663","AnthonyNicholas#4331","09/03/2023 7:58 pm","I believe 'Pools' is price at the moment and 'PoolDayData' is price at the end of the period","https://cdn.discordapp.com/attachments/765222888617017365/1083395859410063430/Screen_Shot_2023-03-09_at_9.27.34_AM.png,https://cdn.discordapp.com/attachments/765222888617017365/1083395859720446032/Screen_Shot_2023-03-09_at_9.27.12_AM.png","👍 (1)"
"354458973572956160","vengeanc3","11/03/2023 12:55 am","is the graph being taken offline permanently?","",""
"149735676278079488","austino256","11/03/2023 12:58 am","no the graph team is looking into it","",""
"354458973572956160","vengeanc3","11/03/2023 12:58 am","ok thank you 🙏","",""
"354458973572956160","vengeanc3","11/03/2023 12:59 am","i heard someone said it was being replaced with the studio or something so i was double checking","",""
"149735676278079488","austino256","11/03/2023 1:42 am","the graph team found the issue and fixed it - should be up soon enough","",""
"354458973572956160","vengeanc3","11/03/2023 1:43 am","🙏","",""
"428208219232665601","0xnigu","12/03/2023 1:34 am","The graph announced that centralized graphs will be decentralized in the future","",""
"428208219232665601","0xnigu","12/03/2023 1:34 am","Correct me if I am wrong","",""
"471357824299958273","crypto_rachel","12/03/2023 1:37 am","The graph is sunsetting the `Hosted Services`
The team is aware of this, and has been looking into it","",""
"428208219232665601","0xnigu","12/03/2023 1:45 am","alright","",""
"855054443112562688","0xcchan","12/03/2023 7:36 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1084477494356357200/Screenshot_2023-03-12_at_10.06.18_PM.png",""
"855054443112562688","0xcchan","12/03/2023 7:36 pm","hi im trying to get liquidity for a pool through the subgraph","",""
"855054443112562688","0xcchan","12/03/2023 7:36 pm","i.e. based ont tickets, how much liquidity there is at each one","",""
"855054443112562688","0xcchan","12/03/2023 7:37 pm","however, the numbers seem way off. eg. price0 and price1 doesnt correspond, liquidity is also either too positive or too negative","",""
"855054443112562688","0xcchan","12/03/2023 7:37 pm","this is for eth/usdc pool","",""
"855054443112562688","0xcchan","12/03/2023 7:37 pm","can i check how to go about it","",""
"471357824299958273","crypto_rachel","12/03/2023 11:44 pm","Not 100% those are correct, verify with blockchain, not sure if the TVL bug affects those values
Liquidity is the `√xy ` but the tick spacing makes it more complicated
you can use the math in the main function here with the correct tick range / sqrtPrice
Get LQ token balance
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595","",""
"395645022776721408","ThibF0x#1137","14/03/2023 10:51 am","Hi, has anyone managed to install V3's subgraph on its local node? Is IFPS mandatory? Thanks!","",""
"855054443112562688","0xcchan","14/03/2023 11:58 am","Thank you!","","YW (1)"
"855054443112562688","0xcchan","14/03/2023 11:58 am","Does uniswap polygon work on the same graphql endpoint?","",""
"471357824299958273","crypto_rachel","14/03/2023 10:26 pm","every chain needs it's own graph... I have the links in the pins","",""
"855054443112562688","0xcchan","15/03/2023 9:51 am","do you have this in python?","",""
"961950764564090902","jackgh.","15/03/2023 6:04 pm","Hi guys, Does the API filter ticks within a certain range?","",""
"961950764564090902","jackgh.","15/03/2023 6:04 pm","https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=%7B%0A++++++++ticks%28where%3A+%7BpoolAddress%3A+%220x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640%22%7D%2C%0A++++++++++++++block%3A+%7Bnumber%3A+12476729%7D%0A++++++++++++++orderBy%3A+tickIdx%29+%7B%0A++++++++++++tickIdx%0A++++liquidityNet%0A++++liquidityGross%0A++++++++%7D%0A++++%7D%0A++","",""
"843155325619535912","Etherscan Bot#5753","15/03/2023 6:04 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"961950764564090902","jackgh.","15/03/2023 6:05 pm","i'm running my own code to check all the ticks and have found ticks that doe not show up on here but have liqudiity","",""
"961950764564090902","jackgh.","15/03/2023 6:05 pm","https://etherscan.io/tx/0x657a0b341504539b533f04693244d7a39661f2f277b63da5fd5fc6962fc6b7d0","",""
"961950764564090902","jackgh.","15/03/2023 6:05 pm","example transaction with tikcs","",""
"961950764564090902","jackgh.","15/03/2023 6:06 pm","```345410 -5186684923032125 5186684923032125``` -> after 100k blocks and at same point","",""
"961950764564090902","jackgh.","15/03/2023 6:06 pm","I noticed ticks do not seem to go above +- 200000","",""
"961950764564090902","jackgh.","15/03/2023 6:06 pm","so where is this filltering done?","",""
"961950764564090902","jackgh.","15/03/2023 6:07 pm","but they do for later queries","",""
"961950764564090902","jackgh.","15/03/2023 6:07 pm","https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=%7B%0A++++++++ticks%28where%3A+%7BpoolAddress%3A+%220x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640%22%7D%2C%0A++++++++++++++block%3A+%7Bnumber%3A+16833336%7D%0A++++++++++++++orderBy%3A+tickIdx%29+%7B%0A++++++++++++tickIdx%0A++++liquidityNet%0A++++liquidityGross%0A++++++++%7D%0A++++%7D%0A++","",""
"843155325619535912","Etherscan Bot#5753","15/03/2023 6:07 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"961950764564090902","jackgh.","15/03/2023 6:08 pm","so can someone explain this difference?","",""
"961950764564090902","jackgh.","15/03/2023 6:08 pm","did the graph miss some data?","",""
"961950764564090902","jackgh.","15/03/2023 6:09 pm","@Crypto_Rachel  ^^","",""
"961950764564090902","jackgh.","15/03/2023 6:48 pm","could be that it limits me to 100 results?","",""
"961950764564090902","jackgh.","15/03/2023 6:53 pm","ffs this was why, ignore me....","","np (1)"
"568849236884586506","aimproxy","15/03/2023 9:08 pm","hey, whats the current rate limit of the subgraph api","",""
"471357824299958273","crypto_rachel","15/03/2023 10:38 pm","no but you can see if this repo has any code for it
https://uniswap-python.com/index.html (docs are out of date, but code handles v1-3","",""
"471357824299958273","crypto_rachel","15/03/2023 10:40 pm","not sure rate limits, I would reach out to them
https://discord.gg/graphprotocol","",""
"568849236884586506","aimproxy","16/03/2023 1:59 am","@Crypto_Rachel I saw there is a limitation of 100 results per request, not sure what that means","",""
"471357824299958273","crypto_rachel","16/03/2023 2:08 am","think that the limit for amount of queries are returned is 1000. Api request limit is different , that I don't know","",""
"810601341893607496","pavelageykin","16/03/2023 1:17 pm","Hello everyone. Can I add token address to the graph and don't redeploy it ? It take a long time, but I need just one more indexing token","",""
"855054443112562688","0xcchan","16/03/2023 5:54 pm","Thank you!","",""
"892645994884399114","anpro_","16/03/2023 8:16 pm","Hi, is there anyone else who's getting issues on the arbitrum subgraph https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-arbitrum-one ? I'm getting an indexing_error","https://cdn.discordapp.com/attachments/765222888617017365/1085937188019126272/Screenshot_2023-03-16_at_15.46.24.png",""
"447487680511606785","reuptake","16/03/2023 10:11 pm","Anyone knows why Collects is empty?","",""
"149735676278079488","austino256","16/03/2023 10:53 pm","liquidityNet is not the liquidity in the pool, but the change in liquidity from tick to tick","",""
"471357824299958273","crypto_rachel","16/03/2023 11:15 pm","That graph crashed 😢 . Here the minimal is working, but limited","",""
"471357824299958273","crypto_rachel","16/03/2023 11:16 pm","which collects? network? I think I remember something where it broke after certain position, but can't remember correctly","",""
"989275482488983663","AnthonyNicholas#4331","16/03/2023 11:32 pm","you're my fav frog 🫶","","😄 (1)"
"989275482488983663","AnthonyNicholas#4331","16/03/2023 11:32 pm","nice tie btw","",""
"149735676278079488","austino256","16/03/2023 11:33 pm","thank u i love the forg","",""
"855054443112562688","0xcchan","17/03/2023 10:54 am","Thank you @Austin 🦄 ! Can I then check how to convert the numbers to liquidity per tick range? In python","",""
"471357824299958273","crypto_rachel","17/03/2023 10:59 am","To get the liquidity at each tick, you can get liquidityNet for all initialized ticks from -887272 to 887272 and cumulatively sum them in increasing order. You can alternatively use the liquidity() function on the v3 contract to get the current in-range liquidity, and remove liquidityNet below the current tick and add above the current tick.","",""
"855054443112562688","0xcchan","17/03/2023 11:00 am","Ahh so all I have to do is to actually just cumsum them to get liquidity at each tick range?","",""
"471357824299958273","crypto_rachel","17/03/2023 11:01 am","yes","",""
"855054443112562688","0xcchan","17/03/2023 11:01 am","🤦 damn haha never thought of that…","",""
"855054443112562688","0xcchan","17/03/2023 11:01 am","Thank you @Crypto_Rachel","",""
"855054443112562688","0xcchan","17/03/2023 12:41 pm","@Crypto_Rachel Can i check or liqudiityNet its in 10**18?","",""
"892645994884399114","anpro_","17/03/2023 4:13 pm","Sad story. Is there a way to ""reboot the graph""?","",""
"149735676278079488","austino256","17/03/2023 8:39 pm","you can convert liquidity to tokens by using the equations in this paper: https://atiselsts.github.io/pdfs/uniswap-v3-liquidity-math.pdf","","👆 (1)"
"447487680511606785","reuptake","18/03/2023 1:10 am","It's empty table on subgraph.","",""
"471357824299958273","crypto_rachel","18/03/2023 10:04 am","No the data would take to long to sync. The team is looking into other ways","",""
"471357824299958273","crypto_rachel","18/03/2023 10:08 am","what are you trying to get exactly the position collected fees?","",""
"447487680511606785","reuptake","18/03/2023 1:15 pm","Well, there's a table `Collect` and it's empty. Also fields in `PositionSnapshot` that relate to fees are empty.","",""
"447487680511606785","reuptake","18/03/2023 1:15 pm","```{
  collects {
    id
  }
}```","",""
"447487680511606785","reuptake","18/03/2023 1:16 pm","gives","",""
"447487680511606785","reuptake","18/03/2023 1:16 pm","```{
  ""data"": {
    ""collects"": []
  }
}```","",""
"447487680511606785","reuptake","18/03/2023 1:18 pm","Yes, I'm trying to analyse performance of my positions and without this information it's impossible. I know that there are other sources of information, I can analyse logs and so on, but I think expecting subgraph to contain data described in its specification 2 years afer launch of v3 is not unreasonable.","",""
"471357824299958273","crypto_rachel","18/03/2023 11:11 pm","So yeah, I'm not thinking the graph is the best, I know that the position call has some of the collect info, some seems to break. But I don't know it perfectly... I myself prefer chain data.","",""
"447487680511606785","reuptake","19/03/2023 1:36 am","It's not the best because it doesn't have this information, but besides this it's much easier to get information from graph than from chain. But as I understand you're not affiliated with Uniswap so I don't want to bother you with this.","",""
"471357824299958273","crypto_rachel","19/03/2023 1:39 am","oh it's no bother, I consider myself part of their team regardless. I know you can get the collected fees through the position calls, but iirc there was a point in the graph after x position that they stopped coming through","",""
"471357824299958273","crypto_rachel","19/03/2023 1:39 am","```
{
  positions(where: {owner: ""owner address""}) {
    collectedFeesToken0
    collectedFeesToken1
    withdrawnToken1
    withdrawnToken0
    depositedToken0
    depositedToken1
  }
}
```","",""
"447487680511606785","reuptake","19/03/2023 1:49 am","My point is that Uniswap is one of the top and best funded DeFi project, and it's a shame that it can't provide developers with up to date subgraph that conforms to its own specification. I found my way around this: I'm using graph done by 3 party site, and it works, but I think it should be this way.","",""
"471357824299958273","crypto_rachel","19/03/2023 1:51 am","yeah, the v3 got buggy, others learned from it, but reloading it after such a large time frame, would have meant months of syncing and yeah 😦","",""
"447487680511606785","reuptake","19/03/2023 1:52 am","It would be understandable if there is some fundamental problem with those information, but if 2-3 developer teams are capable to do it, I'm sure that Uniswap can do it as well. End of complaining 🙂","","😊 (1)"
"471357824299958273","crypto_rachel","19/03/2023 1:52 am","The team has been looking for better solutions, and have some good options I think,","",""
"471357824299958273","crypto_rachel","19/03/2023 1:53 am","yeah, I think it came down to sync times and just wanting to go a better way, they have been looking 🤷‍♀️  but yeah I agree it would be nice to not have to worry about what data is good/bad","",""
"447487680511606785","reuptake","19/03/2023 1:55 am","Thanks anyway for trying to help, I appreciate it.","",""
"471357824299958273","crypto_rachel","19/03/2023 1:55 am","absolutely 😊  appreciate the feedback too","","🙏 (2)"
"290529394391253004","mvrielink","20/03/2023 6:28 am","hello , i need the price range, but i not locate it, any help?","",""
"843155325619535912","Etherscan Bot#5753","20/03/2023 6:28 am","<https://etherscan.io/address/0x0B71A694Ce24FC7C6e82aD4F9D2148003E944275>","",""
"149735676278079488","austino256","20/03/2023 8:42 pm","https://uniswap.org/blog/uniswap-v3-math-primer","",""
"149735676278079488","austino256","20/03/2023 8:43 pm","the subgraph is pretty much maintained by The Graph team now. It’s an extreme amount of data and takes multiple months to update. 
Something as low priority as collects will probably never be fixed.","",""
"447487680511606785","reuptake","20/03/2023 9:14 pm","I don't know much about how it works, but if eg. Revert team (2 ppl?) managed to fix it, I guess it's not that hard to do... Regarding priorities: without this information any analysis of position performance is impossible.","",""
"290529394391253004","mvrielink","20/03/2023 9:22 pm","Yes, my app ois similar a revert finance, the best option is make a New funcion and get data directo forma smart contrato and not use subgraph?","",""
"149735676278079488","austino256","20/03/2023 9:47 pm","revert’s subgraph is a minimal version of the Uniswap Labs version. It makes syncing much easier, but loses a ton of data.  The collects can be gotten from a data indexer or pulling events (which is what I do)","",""
"149735676278079488","austino256","20/03/2023 9:49 pm","the subgraph is just extremely difficult to work with. I don’t think it’ll be feasible to rely on it long term.","","🙏 (1)"
"447487680511606785","reuptake","20/03/2023 10:16 pm","Sure, for customer facing apps it's probably better to build custom database, but for a quick script calculating position performance it's much easier to use subgraph","",""
"568849236884586506","aimproxy","22/03/2023 3:44 pm","hey, I have a question, whats the difference between then hosted service and subgraph explorer?","",""
"844206061560791067","jerrybest#0355","22/03/2023 10:41 pm","I tried using the v3 subgraph to load all tick data for some v3 pools, and I'm seeing some weird stuff -- most notably several ticks where liquidityGross is negative, which I understand should never be the case (it's an unsigned value on the contract). That's making me wonder about the consistency of all the tick data I find on the subgraph. Should I be bothering to try to use it, or is it known to be inconsistent?","",""
"290529394391253004","mvrielink","23/03/2023 6:03 am","Because I would like to use the basic data of revert finance, such as positions of pools of a given portfolio, initial balance, updated balance, gain in x days, % of return compared to hold, that is, statistical calculations for people to make decisions about the positioning of defi. Pool rates, pool TVL, these are pretty basic statistics. However, they involve a lot of math apparently. I'm still in doubt how to pull this directly from the uniswap contracts and what would be the easiest way to do this. I will not monitor all transactions, only wallets logged into the application.","","👍 (1)"
"936203283603796028","an_emptymind","23/03/2023 5:53 pm","@reuptake 🌊 have you found out any other way to fetch 'collects' data? it's not working for me too.","",""
"721076584890499102","bs4052","24/03/2023 9:06 am","Hi all, I am trying to analyze Uniswap's testnet data pre-launching on mainnet. Would anyone know if there is an easy way to access the data, e.g. through The Graph...","",""
"689684934591381525","zaryab0722","24/03/2023 2:41 pm","hey @Crypto_Rachel 

Can you please let me know if the Uni-v3 staker contract is designed to incentivize only those LPs who are **in-range**? or,

All LPs who provided liquidity ?

Also tagging couple of other devs who I think have tried working with uni-v3-staker contract 

Cc: @Kombos @archcypher @gerbilio 


Would appreciate any help on this. Thanks","",""
"682624289681440809","0xpnl","24/03/2023 5:29 pm","Given a liquidity pool and time (or block) is it possible for me to find out the breakdown of open LP positions at each fee tier at that time using the api?

If so, how would the api call look?","","✅ (1)"
"447487680511606785","reuptake","24/03/2023 9:48 pm","You can find collects in revert.finance graph.","","PartyFrog (1),🙏 (1)"
"936203283603796028","an_emptymind","25/03/2023 2:01 pm","ok thank you","",""
"936203283603796028","an_emptymind","25/03/2023 2:06 pm","can you please share link of that subgraph?","",""
"447487680511606785","reuptake","25/03/2023 2:13 pm","I've send you","","👍 (1)"
"1072069116900417556","tesla101071","27/03/2023 3:40 am","Is there a subgraph for uniswap v3 contracts on Arbitrum one?","",""
"989275482488983663","AnthonyNicholas#4331","27/03/2023 6:52 pm","Yes use this link https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal","",""
"240838510825701378","raycoms","27/03/2023 7:15 pm","Can I do something like ""count of all coins that were queried less than x times last year?""","",""
"240838510825701378","raycoms","27/03/2023 7:47 pm","Or well, even better, http request from python?","",""
"240838510825701378","raycoms","27/03/2023 7:58 pm","Found it","",""
"790622188926795797","crypto_margol","03/04/2023 12:32 pm","Any updates when it will include also ticks information like the other chains?","",""
"568849236884586506","aimproxy","04/04/2023 3:10 pm","Hey,  is a block number enought to retrive the current tick index at a given tx?","",""
"471357824299958273","crypto_rachel","04/04/2023 11:25 pm","you can get the block before tick, and that block tick, but tx would depend on all the trades that occurred. iirc you can get the sqrtPriceX96 from swap, but not sure how","",""
"1093901356823224330","gnaveen#2846","07/04/2023 9:15 pm","is there a GraphQL URL for the testnets too (Goerli etc.?","",""
"471357824299958273","crypto_rachel","07/04/2023 10:29 pm","only one I know rn is the ETH network goerli V3 goerli testnet
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-gorli","","👍 (1)"
"1093901356823224330","gnaveen#2846","09/04/2023 9:15 am","Thanks Rachel, thats very helpful","","YW (1)"
"961950764564090902","jackgh.","11/04/2023 10:20 pm","@Crypto_Rachel Outside of my other question, Is there issues with getting liqudiity Data for ticks?
```    {    ticks(first: 1000,
            skip: 0,
            orderBy: tickIdx,
            orderDirection: asc,
            block: {number: 12876729}
            where: {poolAddress: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640"", liquidityNet_not: 0},
           ) {
            tickIdx
            liquidityNet
            liquidityGross
            }
    }```","",""
"843155325619535912","Etherscan Bot#5753","11/04/2023 10:20 pm","<https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640>","",""
"961950764564090902","jackgh.","11/04/2023 10:20 pm","the following query gives the tick ranges for that block","",""
"961950764564090902","jackgh.","11/04/2023 10:20 pm","mine are different","",""
"961950764564090902","jackgh.","11/04/2023 10:20 pm","https://web3-ethereum-defi.readthedocs.io/tutorials/uniswap-v3-liquidity-analysis.html","",""
"961950764564090902","jackgh.","11/04/2023 10:20 pm","following this logic which seems correct tom e","",""
"961950764564090902","jackgh.","11/04/2023 10:20 pm","thank you in advance for both my questions","",""
"471357824299958273","crypto_rachel","12/04/2023 12:25 am","I'm not sure what is good vs what isn't with the TVL.... I trust it when it comes to positions, but for the pool, due to the bug I really don't use it.","",""
"961950764564090902","jackgh.","12/04/2023 1:17 pm","what bug is that?","",""
"961950764564090902","jackgh.","12/04/2023 1:18 pm","with that example i sent yesterday with the position","",""
"961950764564090902","jackgh.","12/04/2023 1:18 pm","could you think of why out of 6000 positions thats the only one throwing an error?","",""
"961950764564090902","jackgh.","12/04/2023 1:19 pm","I linked all the transcations too","",""
"961950764564090902","jackgh.","12/04/2023 1:20 pm","cannot see where that liquidity went","",""
"961950764564090902","jackgh.","12/04/2023 1:20 pm","the tvl i'll ignore and use my numbers","",""
"249576823808065536","maide7","12/04/2023 5:21 pm","what api for bsc network?","",""
"515554154203316225","Helix#1681","12/04/2023 7:01 pm","Hello,

When I check the link in the README of v3-subgraph, the subgraph does not work:
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-subgraph?selected=playground

When deploying on my own, I have the same exact issue.
Anyone managed to deploy on their own and found a solution to this problem ?","",""
"471357824299958273","crypto_rachel","12/04/2023 11:20 pm","which position gives you error","",""
"471357824299958273","crypto_rachel","12/04/2023 11:21 pm","all the graph links are here #deleted-channel","",""
"961950764564090902","jackgh.","12/04/2023 11:40 pm","increase and decrease liq as this will give me the final liq value. 

0x353c188ff93a1ef264ba8b94cca237964632bf948a05529f6f545567a4bb05f1 12881626
0x03a591fa4e0190a4cb742ff1af7bed4173cfd77f9adb84cf4452bf1c5ae970b1 12881826
0x38201527d59eca0f5ee07148df02174ffdd224b160062eb3e7c6e3f93abad643 12927679
0x8dd52c67b453b04e9e4f6bfe7fef3bf9730b0215a39e85c7abd15fdcd646730b 12930962
0x4aa4c238e55ba3c47ee31ec85b38e919dd304acfcc4425939b3ff1917a370428 12946875
0xddbed372372507b92f3a0c9d5e3aa8061525e7d66d29551b8aeda432684c5060 12956282

These are the transcations and respective blocks

From what I can see the user puts in 9,213,041  && takes out 
8,274,473.290133  meaning there is stil l 938,567.709867 liq left.

If you look at the graphql query it returns 0 for the token id (93737)
```{
              positions (first: 1000 id: {number:93737},block: {number: 13056300} orderBy: id, orderDirection: desc,where: {
                          pool: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640""
              }) {
                liquidity
                  id
                  owner
    
              }
            }```

This one ^^

To add to this im just showing usdc as the example.
these are the inc/dec liq values
Inc liquidity :17256208471478

Inc liquidity :790478699038700676

Dec liquidity :170463939089412157

Dec liquidity :120971408233762028

Dec liquidity :11534416477087544

Dec liquidity 225034117468944122

Clearly more added than removed

is what i can see in terms of txs","",""
"961950764564090902","jackgh.","12/04/2023 11:40 pm","I haven't missed a dec or inc liq ^^","",""
"961950764564090902","jackgh.","12/04/2023 11:42 pm","also you can pick the latest block, it still exists but uni shows as 0","",""
"961950764564090902","jackgh.","12/04/2023 11:42 pm","but there are no txs between 1295850 and then","",""
"961950764564090902","jackgh.","12/04/2023 11:43 pm","so where does that 2mil go?","",""
"471357824299958273","crypto_rachel","12/04/2023 11:47 pm","@JackGH I'm not a graph expert, I won't speak on it's integrity","",""
"162665984128319488","__zeitgeist","13/04/2023 12:48 am","I shudder to ask... but is there a Uniswap V2 polygon subgraph?","",""
"162665984128319488","__zeitgeist","13/04/2023 12:48 am","(I have asked the search bar in discord and found nothing)","",""
"471357824299958273","crypto_rachel","13/04/2023 8:12 am","V3 polygon
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v3-polygon","",""
"162665984128319488","__zeitgeist","13/04/2023 10:23 pm","Is there any differentiation between V2 and V3 pools on the subgraph? Or is it just, like, V2 is essentially depricated?","",""
"989275482488983663","AnthonyNicholas#4331","13/04/2023 10:26 pm","V2 isn't depreciated","",""
"989275482488983663","AnthonyNicholas#4331","13/04/2023 10:26 pm","The difference is that v2 pools are diff from v3 pools","",""
"162665984128319488","__zeitgeist","13/04/2023 10:30 pm","I'm aware of that. I'm asking if there is a v2 subgraph for polygon, but Rachel replied with a v3 subraph link, so I'm politely asking if that was done on purpose, or if it was a mistake, because it's not what I asked for, and no further explanation was provided.","",""
"989275482488983663","AnthonyNicholas#4331","13/04/2023 10:34 pm","Hmmm, is there a v2 subgraph for polygon? @Crypto_Rachel","",""
"989275482488983663","AnthonyNicholas#4331","13/04/2023 10:34 pm","Sorry for the ping","",""
"471357824299958273","crypto_rachel","13/04/2023 10:36 pm","with how many times i've pinged you never be sorry 😊","","😂 (1)"
"471357824299958273","crypto_rachel","13/04/2023 10:37 pm","sorry I misread , There is no official uniswap v2 on any net outside ETH","",""
"162665984128319488","__zeitgeist","13/04/2023 10:39 pm","Ah okay. That's fine. Any experienced suggestions on how to get all the presently funded pools on v2 specifically just now? I have a bot that only uses v2 at the moment (pending update to v3) and I just need a json output of all the addresses.","",""
"162665984128319488","__zeitgeist","13/04/2023 10:41 pm","Actually, I could just use the exchange that does have a v2 subraph and use those addresses to compare with getPair (or the v3 equivalent).","",""
"471357824299958273","crypto_rachel","13/04/2023 10:45 pm","yeah I can't remember who copied v2 on polygon, but I bet they have a graph","",""
"162665984128319488","__zeitgeist","13/04/2023 11:43 pm","I've been looking through the unhosted graphs but haven't found one yet. Not sure if you can make a private one or not.","",""
"162665984128319488","__zeitgeist","14/04/2023 12:28 am","I do use semeepsi's subgraph for quickswap v2, but haven't found one for unsiwap yet. I'm asking around. Aavegotchi has some OG polygon devs I might find someone there who has it.","",""
"471357824299958273","crypto_rachel","14/04/2023 12:29 am","there won't be a v2 uniswap polygon","",""
"162665984128319488","__zeitgeist","14/04/2023 12:45 am","Okay. I remember uniswap deployed v3 on polygon before anywhere else. Does this mean they only deployed v3?","",""
"471357824299958273","crypto_rachel","14/04/2023 12:45 am","yes","",""
"162665984128319488","__zeitgeist","14/04/2023 12:45 am","Ah that solves the mystery.","",""
"162665984128319488","__zeitgeist","14/04/2023 12:45 am","Cheers.","",""
"471357824299958273","crypto_rachel","14/04/2023 12:45 am","😊  :YW:","",""
"266890163366526977","deepdows","18/04/2023 7:37 pm","Hello, I need some support.
when I try to get pool USDC - WETH, I get 2 different WETH (their names and symbols are the same). How do I get the ""original"" one? Please don't suggest using a token address for filtering. I just need to filter the same as on uniswap info search.
Here is my prompt
```
query MyQuery {
  pools(
    where: {liquidity_gt: ""0"", token0_: {symbol: ""USDC""}, token1_: {symbol: ""WETH""}}
  ) {
    token0Price
    token1Price
    token0 {
      name
      symbol
      id
    }
    token1 {
      name
      symbol
      id
    }
    id
    feeTier
  }
}
```","",""
"266890163366526977","deepdows","18/04/2023 7:37 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1097886215967100928/image.png",""
"858482285849477130","bruhed_","18/04/2023 10:33 pm","try filtering by `txCount` -> the fake pools will have very few transactions and the big pools will have many","","💡 (1),🙏 (1)"
"266890163366526977","deepdows","19/04/2023 1:40 pm","Thanks, I used another filter that helped me
```token0_: {symbol: ""USDC"", totalValueLockedUSD_gt: ""0""}, token1_: {symbol: ""WETH"", totalValueLockedUSD_gt: ""0""}```","",""
"890740935472873562","ChrisD#1315","25/04/2023 1:04 pm","Hey all, I'm trying to query the graph to retrieve 4+ records from the pairhourDatas. For some reason no matter how many records I pull the price is staying the same. 

I've tried this on numerous pairs and checked the hourStartUnix to confirm it's actually different records. 

I've even checked records retrieved 80 hours apart and they are still the same price. Also tired derivedETH and it calculates the same. 

Using: ""https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2""
``` query {
          pairHourDatas(
            where: { pair: ""%s"", hourStartUnix_lt: %d }
            orderBy: hourStartUnix
            orderDirection: desc
            last: %d
          ) {
            id
            hourStartUnix
            reserve0
            reserve1
            hourlyVolumeToken0
            hourlyVolumeToken1
            pair {
              volumeToken1
              token1Price
              token0Price
              token1 {
                derivedETH
                }
            }
          }
        }```","",""
"726627917349519422","italiandaddy","26/04/2023 1:43 am","hello! Quick question on tokenHourData.. it appears that tokens don't return consistent timeframes, e.g. one token might have hourData for the past 8 hours, anouther might have only a couple records across the past day.. Do you know why? Here is a sample:
{
                                    tokenHourDatas(
                                                    first: 500, 
                                                    where: { 
                                                            and: [{periodStartUnix_gt: 1682380800 },
                                                                { token: ""0x0258f474786ddfd37abce6df6bbb1dd5dfc4434a"" }]
                                                            } 
                                                    orderBy:periodStartUnix, orderDirection:desc
                                                )","",""
"843155325619535912","Etherscan Bot#5753","26/04/2023 1:43 am","<https://etherscan.io/address/0x0258f474786ddfd37abce6df6bbb1dd5dfc4434a>","",""
"726627917349519422","italiandaddy","26/04/2023 1:43 am","I was expecting to see 24 records for each token, if querying the past 24 hours worth, but that doesn't seem to be consistent","",""
"890740935472873562","ChrisD#1315","26/04/2023 3:32 am","@ItalianDaddy I don't see why you'd be limited to 24 with your current query. It's asking for the first 500 records. Change your ""first:500"" to ""first:24"" if you need the next 24 records from the periodStarUnix_gt","",""
"890740935472873562","ChrisD#1315","26/04/2023 3:32 am","that should give you a consistent 24","",""
"726627917349519422","italiandaddy","26/04/2023 3:51 am","sorry Chris, maybe I misstated this. The issue is not the first: 500, the issue is that the query is only returning 3 records (as of a couple hours ago) even though the periodStartUnix was set to Tuesday, April 25, 2023 12:00:00 AM","",""
"726627917349519422","italiandaddy","26/04/2023 3:52 am","and I had several other tokens that were returning 8, 9 records","",""
"726627917349519422","italiandaddy","26/04/2023 3:53 am","the first:500 is being used for pagination when I pull tokenDayData and could be deleted in this query, yes. But it doesn't have an impact on the result","",""
"890740935472873562","ChrisD#1315","26/04/2023 3:59 am","I see. Are you taking into account the timezone? eg. it's likely recorded in UTC, so you would have to have 24 hours UTC since your periodStartUnix to receive 24 records.","",""
"726627917349519422","italiandaddy","26/04/2023 4:16 am","yes sir, that is in UTC, and the same periodStartUnix_gt value returns more records for some tokens, and less for ohers","",""
"726627917349519422","italiandaddy","26/04/2023 4:16 am","I can send specific examples as well if that helps","",""
"568849236884586506","aimproxy","27/04/2023 4:50 am","hey how can I know the tokenId for position subgraph?","",""
"568849236884586506","aimproxy","27/04/2023 4:50 am","just like he did, who does he compute the token id?","",""
"961950764564090902","jackgh.","27/04/2023 2:53 pm","you need to view the events for the pool and look at when the owner minted it","",""
"961950764564090902","jackgh.","27/04/2023 2:54 pm","you can match it with the mint/increase liq events","",""
"568849236884586506","aimproxy","27/04/2023 3:12 pm","@JackGH but if you added liquidity multiple times the position will be the same, only updated so it wont give me how much the pool has after each time I provided liquidity!","",""
"961950764564090902","jackgh.","27/04/2023 3:30 pm","sorry I don't quite understand your question. What do you want to know about your position?","",""
"568849236884586506","aimproxy","27/04/2023 3:39 pm","@JackGH I meant that the tokenID wont change for each transaction! What I want to do is calculate how much I own of token0/1 after each time I added/removed liquidity!","",""
"961950764564090902","jackgh.","27/04/2023 4:05 pm","oh that's fairly simple
check this out
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595","",""
"961950764564090902","jackgh.","27/04/2023 4:06 pm","happy to answer q's","",""
"568849236884586506","aimproxy","27/04/2023 4:18 pm","@JackGH thx but he dosent tell how to compute the positionId!","",""
"568849236884586506","aimproxy","27/04/2023 4:20 pm","@JackGH the problem is I am stuck with a bunch of transactions from the ethreum-etl token transfers and I dont know how to calculate the amounts for each tx!","",""
"568849236884586506","aimproxy","27/04/2023 4:21 pm","@JackGH I looked at the transaction field where I can put the hash, but I don't know if that is the right way to do it!?","",""
"568849236884586506","aimproxy","27/04/2023 4:24 pm","@JackGH Also in that example u sent me currentTick the the tick at the time of the request! What I want to know is what was the tick at the time of the transaction!","",""
"961950764564090902","jackgh.","27/04/2023 4:34 pm","your position id is generated when you first mint the position","",""
"961950764564090902","jackgh.","27/04/2023 4:34 pm","^^ you need to look at the event logs for these transcations","",""
"961950764564090902","jackgh.","27/04/2023 4:34 pm","you can pass in a block number to call to get the tick at that specific time of td","",""
"961950764564090902","jackgh.","27/04/2023 4:34 pm","tx","",""
"568849236884586506","aimproxy","27/04/2023 4:35 pm","Meaning I have to listen the blockchain to know this tokenid?","",""
"568849236884586506","aimproxy","27/04/2023 4:36 pm","I cant simply compute it back again knowing the transaction from my token transfers?","",""
"961950764564090902","jackgh.","27/04/2023 4:36 pm","can you show me your tx's?","",""
"568849236884586506","aimproxy","27/04/2023 4:37 pm","Meaning the current tick will be the same for all txs on that block","",""
"961950764564090902","jackgh.","27/04/2023 4:37 pm","https://etherscan.io/tx/0x4f76ca1a8c7c57f0eb7c310d81b220fe38b57856d2a8f1e260cf85ebdbcb7bfb#eventlog 
Look at the above, you can see the tokenid 
492074","",""
"568849236884586506","aimproxy","27/04/2023 4:37 pm","It follows the ethereum ETL standard , i will paste gere the shema just a second","",""
"961950764564090902","jackgh.","27/04/2023 4:38 pm","I have to jump, but if you wanted the price at a block you would do something like this","",""
"961950764564090902","jackgh.","27/04/2023 4:38 pm","let slot0 = await poolContract.slot0(Blocknumber);","",""
"961950764564090902","jackgh.","27/04/2023 4:38 pm","it would give you a snapshot of the sqrtprice at that point etc","",""
"568849236884586506","aimproxy","27/04/2023 4:39 pm","Thats the schema","https://cdn.discordapp.com/attachments/765222888617017365/1101102793021988894/IMG_0403.png",""
"568849236884586506","aimproxy","27/04/2023 4:40 pm","Thx u for u time","",""
"961950764564090902","jackgh.","27/04/2023 5:08 pm","so you want to get the receipt for that tx, which will contain the log for the data you want","",""
"568849236884586506","aimproxy","27/04/2023 5:14 pm","@JackGH Receipts are only for nfts, so it should tell me the token ID","",""
"568849236884586506","aimproxy","27/04/2023 5:16 pm","There is another way to fetch positions on a pool using the subgraph knowing the pool address and the owner I can fetch the positions some has! But I dont know about positionSnapshots…","",""
"961950764564090902","jackgh.","27/04/2023 5:46 pm","@Supreme Commander ⚡ 
```        {
            positions(first: 1000 liquidity_gt: ""0"", block: {number: 12476729} orderBy: id, orderDirection: desc,where: {
                        pool: ""0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640"" owner: ""0x28bf51f47e903925c00a03264c7e7a0576785600""
            }) {
                id
                liquidity
                owner
            }
          }```","",""
"961950764564090902","jackgh.","27/04/2023 5:46 pm","this will give you the details for a position for owner/pool address","",""
"961950764564090902","jackgh.","27/04/2023 5:47 pm","at the block you care about.","",""
"568849236884586506","aimproxy","27/04/2023 11:01 pm","That's right that was what I was thinking","",""
"332927986137432064","archi0908","27/04/2023 11:44 pm","The Arbitrum subgraph appears to be malfunctioning: no data is being returned for the ticks, and the liquidity chart is not being displayed.

https://info.uniswap.org/#/arbitrum/pools/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443
Subgraph call: 

```
curl --request POST \
  --url https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal \
  --header 'Content-Type: application/json' \
  --data '{""query"":""query {\n\n  ticks (where: {pool: \""0xc31e54c7a869b9fcbecc14363cf510d1c41fa443\"" } ) \n  {\n          tickIdx \n          liquidityGross\n          liquidityNet\n          price0\n          price1\n  }\n\n}""}'

```

Result: 

```
    {
        ""data"": {
            ""ticks"": []
        }
    }
```

Interesting wehere can I see information about this subgraph ?","https://cdn.discordapp.com/attachments/765222888617017365/1101209726940889219/image.png",""
"843155325619535912","Etherscan Bot#5753","27/04/2023 11:44 pm","<https://etherscan.io/address/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443>","",""
"471357824299958273","crypto_rachel","27/04/2023 11:56 pm","The arb graph has had issues. The graph can't keep up with the block speed, so the graphs are limited to account for this","",""
"726627917349519422","italiandaddy","28/04/2023 1:16 am","Our API started returning this as of yeaterday, did anyone ever come across this error? It appears to haoppen when we try to query the graph

An attempt was made to access a socket in a way forbidden by its access permissions. (api.thegraph.com:443) An attempt was made to access a socket in a way forbidden by its access permissions.

I wonder if there's limitations I might have ran into, and they are not blocking me for X hours","",""
"332927986137432064","archi0908","28/04/2023 12:36 pm","Is the problem specific to the Hosted (free) service, or is it a general issue with the subgraph being unable to process high-frequency, 2-second blocks?","",""
"568849236884586506","aimproxy","28/04/2023 1:29 pm","What is the timestamp for poolhourdata? ```
# hourly stats tracker for pool
type PoolHourData @entity {
  # format: <pool address>-<timestamp>
  id: ID!
  # unix timestamp for start of hour
  periodStartUnix: Int!
```
is it in seconds?","",""
"769123000154456104","halima8147","28/04/2023 1:59 pm","Hey guys, is using the subgraph  safe for production apps? also what is the limit of querying uniswap https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3  for free and is there pricing plans?","",""
"568849236884586506","aimproxy","28/04/2023 2:26 pm","yes just use it! if you hit the limit, u can always loop in it or find another graph!","",""
"769123000154456104","halima8147","28/04/2023 2:39 pm","thank you for helping, so there is a limit after all because I can't see it documented anywhere. There is a 1000 limit on the number of entries in a response and I can manage with that but I am talking about the number of request to query the subgraph url what is its limit?","",""
"568849236884586506","aimproxy","28/04/2023 3:19 pm","there is no direct answer for ur question, there is only what is explained here: https://thegraph.com/docs/en/developing/developer-faqs/","",""
"769123000154456104","halima8147","28/04/2023 3:33 pm","Ok thank you so much","",""
"890740935472873562","ChrisD#1315","29/04/2023 8:51 am","anyone have an example of getting historical hourly price data with Uniswap v3 from thegraph?","",""
"412736842325164042","lordcase","29/04/2023 11:15 am","Hi ppl, help me out please. I 'm trying to write node.js code that queries all the positions in all the v3 pools for a given account. I have managed to do most of it, but i just can't figure it out how to get the token counts for the positions. 
I'm doing something like this:

```
const UNISWAP_V3_SUBGRAPH_URL =
  ""https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3"";

 const query = gql`
    query Positions($account: String!) {
      positions(where: { owner: $account }) {
        id
        pool {
          sqrtPrice
          tick
        }
        token0 {
          id
          symbol
        }
        token1 {
          id
          symbol
        }
        liquidity
        tickLower {
          tickIdx
          price0
          price1
        }
        tickUpper {
          tickIdx
          price0
          price1
        }
      }
    }
  ';
`
  const variables = { account: account.toLowerCase() };
  const data = await request(UNISWAP_V3_SUBGRAPH_URL, query, variables);
```
But i cannot seem to be able to get the number of tokens currently in the position. Do I need the current tick and then go from there?","",""
"471357824299958273","crypto_rachel","29/04/2023 11:39 pm","unable to process all the data truly needed in the block time","",""
"471357824299958273","crypto_rachel","29/04/2023 11:39 pm","I have a query example here #deleted-channel","",""
"412736842325164042","lordcase","30/04/2023 12:21 am","which one would tell me how much of token0 and token1 a given address has in a given pool?","",""
"471357824299958273","crypto_rachel","30/04/2023 12:26 am","none... The subgraph TVL calculations are off. If you want tvl check here, it's not easy
https://discord.com/channels/597638925346930701/1090098640040775802/1090106959723765890","",""
"412736842325164042","lordcase","30/04/2023 12:29 am","Sorry maybe I'm not understanding something fundamental here. I'll try to explain, let me know where i'm missing something:
So I'm not interested in value at all. Especially not Total Value 🙂 I'm interested in how many ""pieces"" of tokens xyz address has in abc pool. 
Exampe: I hava a position in the wbtc/eth pool. At this moment, my share of the pool is 3.5 ETH and 0.7 BTC.
Can I get this info out somewhere? Calculated from something, or just returned from the subgraph?","",""
"471357824299958273","crypto_rachel","30/04/2023 12:30 am","it all uses the same calculations. TTL total tokens locked is how TVL is calculated","",""
"412736842325164042","lordcase","30/04/2023 12:31 am","ah ok. thx. i'll try to tease out somethnig from this then.","","YW (1)"
"412736842325164042","lordcase","30/04/2023 12:36 am","One more thing... I have been trying something similar to your code, but i constantly got some errors about decimal0 and decimal1. it seemed they were not returned correctly. Is there something to know about these? Do i need to instantiate the position in a special way to get them?","",""
"471357824299958273","crypto_rachel","30/04/2023 12:37 am","you would need to get decimals from the tokens contract","",""
"412736842325164042","lordcase","30/04/2023 12:38 am","in this query? or separately? can you elaborate pls?","",""
"471357824299958273","crypto_rachel","30/04/2023 12:39 am","you would call the token separately","",""
"471357824299958273","crypto_rachel","30/04/2023 12:42 am","```java
    let token0contract =  new ethers.Contract(position.token0, ERC20, provider);
    let token1contract =  new ethers.Contract(position.token1, ERC20, provider);
    let token0Decimal = await token0contract.decimals();
    let token1Decimal = await token1contract.decimals();
      
```","",""
"412736842325164042","lordcase","30/04/2023 12:43 am","ahh from the respective token's contract, gotcha thx 🙏","",""
"471357824299958273","crypto_rachel","30/04/2023 12:43 am",":YW:","",""
"930702816555724801","mcr2222","02/05/2023 6:33 pm","hi all! another TheGraph question. For V2 I would like to get pool reserves per block, which is why I use the ""time-travel"" feature. Query looks e.g. like this:
{
  pairs(
    block: {number_gte: 0}
    where: {id: ""0xa478c2975ab1ea89e8196811f51a7b7ade33eb11""}
  ) {
    id
    reserve0
    reserve1
  }
}
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2
Result is not as expected as returning only one data point and not a longer list. Also, I cant figure out how to include the blocknumber in the response because its not part of the scheme. I want to use number_gte like above for efficiency reasons and not query one block number at a time. Any ideas appreciated 🙂 Thanks!","",""
"843155325619535912","Etherscan Bot#5753","02/05/2023 6:33 pm","<https://etherscan.io/address/0xa478c2975ab1ea89e8196811f51a7b7ade33eb11>","",""
"568849236884586506","aimproxy","04/05/2023 6:08 pm","Hey does anybody knows how to solve this Convert JSBI instances to native numbers using toNumber`? I am getting this using the @uniswap/v3-sdk","",""
"930702816555724801","mcr2222","05/05/2023 8:07 pm","bump 🙂","",""
"471357824299958273","crypto_rachel","05/05/2023 10:51 pm","for the block calls you need to specify a block number","",""
"930702816555724801","mcr2222","06/05/2023 12:20 am","Hi Rachel, thanks for your reply. Cant even send a list of blocks or a ""from"" ""to"".. , am I right?","","🤔 (1)"
"471357824299958273","crypto_rachel","06/05/2023 12:21 am","🤔  I thought it only did single blocks, could be wrong, I'll double check","",""
"930702816555724801","mcr2222","06/05/2023 12:22 am","it does have the ""gte"" but it does not work for me. only gives me one result","",""
"930702816555724801","mcr2222","06/05/2023 12:32 am","not really doing anything for more ""sensible"" blocknumbers and highly liquid blocks

{
  pairs(
    block: {number_gte: 10008355}
    where: {id: ""0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc""}
  ) {
    id
    reserve0
    reserve1
  }
}","",""
"471357824299958273","crypto_rachel","06/05/2023 12:35 am","not sure what you mean here","",""
"930702816555724801","mcr2222","06/05/2023 12:37 am","with above query that is querying a liquid pool after its creation I would expect multiple results (for multiple blocks) but I still only get one result.","",""
"471357824299958273","crypto_rachel","06/05/2023 12:41 am","ok I was wrong 😄  So you need to include the first param to get x amount otherwise it's only giving first one
```
{
  pairs(block: {number_gte: 10008355}, first: 10) {
    id
    reserve0
    reserve1
  }
}
```","",""
"930702816555724801","mcr2222","06/05/2023 12:55 am","mh not really because that gives you just 10 different pairs but not for 10 blocks of something I believe. So even with ""first"" and filter for one pair, you still get only one result:

{
  pairs(
    first: 10
    where: {id: ""0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc""}
    block: {number_gte: 10008355}
  ) {
    reserve0
    reserve1
  }
}

It is a little mystery","",""
"471357824299958273","crypto_rachel","06/05/2023 12:57 am","yeah forgot to include id 😄 🤔  yeah, not sure if it can then. I'll dig further","",""
"930702816555724801","mcr2222","06/05/2023 12:58 am","thanks a lot! I appreciate it. I ran out of ideas by now ..","",""
"936203283603796028","an_emptymind","09/05/2023 4:47 pm","@Crypto_Rachel why is v3 subgraph data for top pools(by TVL) different from the top pools shown in uniswap app?","",""
"989275482488983663","AnthonyNicholas#4331","09/05/2023 10:45 pm","By uniswap app, are you refering to info.uniswap.org?","",""
"890740935472873562","ChrisD#1315","09/05/2023 10:53 pm","does anyone know why the records in the subgraph arn't updated hourly? I'm pulling the latest records and a majority of the time they are hours old if not days.","",""
"471357824299958273","crypto_rachel","09/05/2023 11:16 pm","TVL in v3 graphs had a bug, so the dev team did something for the site","","👆 (1)"
"790622188926795797","crypto_margol","10/05/2023 1:19 am","Hi everyone, there are **__data problems on the subgraph__**, serious ones.

https://info.uniswap.org/#/optimism/pools/0x0392b358ce4547601befa962680bede836606ae2

This pool for example shows the **__TVL jumping __**from 1.8M to 257K back and forth every few minutes.
At the moment of writing these lines it's on 1.8M but was 257K just a moment ago.

And it's like that due to the data returning from the subgraph.

What is happening there? Is this relevant to all subgraphs? Or just Optimism? How to overcome that?

(And to be honest, is anyone on Uniswap even going to address any issue with the subgraph? I see that the Github's issues opening up there does not get any response from the Uniswap team.. Seems like the sub graphs have been neglected.. )","",""
"471357824299958273","crypto_rachel","10/05/2023 1:21 am","@Crypto_Margol
re-syncing the graph would take forever, the team has been looking for better ways 👆","",""
"790622188926795797","crypto_margol","10/05/2023 1:22 am","So the data problem are something the team is aware of?

I saw in the analytics UI code that there is a problem in the TVL area but you ""overcome"" it with some ""hacks"" there.

The thing is that it doesn't work still..","",""
"790622188926795797","crypto_margol","10/05/2023 1:23 am","Why does resyncing the graph is related here by the way?

It's not like the TVL is completely broken. One moment it's fine and then few minutes later it's broken... And then it's fine again","",""
"471357824299958273","crypto_rachel","10/05/2023 1:24 am","yeah, the team is aware.
well the graph has to collect data from everyblock/swap/pool this is a lot of data to sync not to mention having to catch up to the chain, makes it really nearly impossible to re-sync whole graph for v3, the hacks I don't know well enough to speak for","",""
"790622188926795797","crypto_margol","10/05/2023 1:25 am","Yeah this is the ""hack"" I meant, I see it in the code (and I did something similar based on that).
But the thing is that this ""hack"" doesn't work as well as it keeps jumping back and forth as I mentioned","",""
"471357824299958273","crypto_rachel","10/05/2023 1:25 am","yeah, I never saw the hack, so can't say anything 😄","",""
"790622188926795797","crypto_margol","10/05/2023 1:26 am","This is it. Lines 92 and 97","https://cdn.discordapp.com/attachments/765222888617017365/1105584131288600657/Screenshot_2023-05-09_at_22.56.26.png",""
"790622188926795797","crypto_margol","10/05/2023 1:27 am","So this ""hack"" was supopsed to fix the TVL problem, and it does - most of the time.
But as I mentioned here, the pool I shared has something else problematic there - the TVL is jumping from right to wrong","",""
"471357824299958273","crypto_rachel","10/05/2023 1:27 am","thanks, 🤔","",""
"790622188926795797","crypto_margol","10/05/2023 1:27 am","So maybe it's something else and not the known problem....","",""
"790622188926795797","crypto_margol","10/05/2023 1:30 am","So I guess Uniswap doesn't really want to hear/fix problems with the subgraph :/
I guess what I'm sharing here is not what was discussed as the TVL problem and it's something new, and given all the unaddressed / not responded issues on Github, it seems like Uniswap is happy with what it has right now and won't invest resources in it.. That's too bad :/","",""
"790622188926795797","crypto_margol","10/05/2023 1:57 am","Two screenshots just seconds apart. Look at the TVL:
https://info.uniswap.org/#/optimism/pools/0x0392b358ce4547601befa962680bede836606ae2

The data on Subgraph is not right and it doesn't seem related to the known TVL problem (at least as far as I understand it according to what was explained here and in the code of the v3 analytics repo)","https://cdn.discordapp.com/attachments/765222888617017365/1105591810040021063/Screenshot_2023-05-09_at_23.24.23.png,https://cdn.discordapp.com/attachments/765222888617017365/1105591810312646766/Screenshot_2023-05-09_at_23.24.10.png",""
"471357824299958273","crypto_rachel","10/05/2023 2:00 am","yeah, this may be related to the optimism crash that happened when the stable coins last depegged. It broke OP graph and they had to do a recover hack on that too. The L2s provide even more of an issue, as the graph has trouble keeping up with the block times on those nets","",""
"790622188926795797","crypto_margol","10/05/2023 2:01 am","So does that mean OP subgraph is not to be trusted?

And still even if it was related to the crash, it does not explain why it's correct and then wrong and so on..","",""
"471357824299958273","crypto_rachel","10/05/2023 2:02 am","I know the team is trying to find something more solid than the graph, it's just a complicated problem due to the lengthy block history, just to verify if code is working.

I can't really say TBH, They had to do something for it, to get it fixed after the crash. TBH I'm not a fan of the graph and don't use it.","",""
"790622188926795797","crypto_margol","10/05/2023 2:04 am","Do you have any other solutions you recommend using?

My goal here is to be able to see:
1. The current pool's TVL in USD
2. Volumes in USD in different time frame (2h, 24h, 72h, 1w)

Using the graph made it real easy and I don't mind being a bit behind the chain.","",""
"790622188926795797","crypto_margol","10/05/2023 2:05 am","And through API of course..","",""
"471357824299958273","crypto_rachel","10/05/2023 2:06 am","yeah, graph would make it easy. I do wish I knew what to say. Unfortunately I haven't found any good sources. everything uses graph due to api, and getting this data from chain is extremely difficult","",""
"790622188926795797","crypto_margol","10/05/2023 2:07 am","Are you aware if the problem of the TVL I shared (and not the one that was hacked in the analytics UI) is only on Optimism? Or also other chains?","",""
"471357824299958273","crypto_rachel","10/05/2023 2:09 am","TBH it looks exactly like what happened with the de-peg, with such huge jump. But I can't say 100%. I have to go here shortly, gonna start getting ready. I'll dig more tonight, and see what I see. I'll let you know after what I see.","",""
"790622188926795797","crypto_margol","10/05/2023 2:11 am","Thank you very much! Looking forward hearing from you back.

The de-peg sounds like a one time event that happened that messed things up, here it's repetitive and happening a lot, I suspect also with the OP/USDC pool and not just the WETH/SNX pool.
So I find it very strange...","","👍 (1)"
"790622188926795797","crypto_margol","10/05/2023 2:12 am","OK I have more details here about the problem, writing it now.
In short - the SNX price in ETH returning is 0.","","👍 (1)"
"790622188926795797","crypto_margol","10/05/2023 2:13 am","If you run this query on the WETH/SNX pool:
```
query poolsActivity($minTvlUsd: Int!, $first: Int!, $skip: Int!, $poolIds: [String]) {
    pools(first: $first, skip: $skip, where: { id_in: $poolIds, totalValueLockedUSD_gte: $minTvlUsd }) {
      id
      feeTier
      volumeToken0
      volumeToken1
      volumeUSD
      totalValueLockedToken0
      totalValueLockedToken1
      token0 {
        id
        symbol
        decimals
        derivedETH
      }
      token1 {
        id
        symbol
        decimals
        derivedETH
      }
    }
  }
```

With these parameters:
```
{
  ""first"": 100,
  ""skip"": 0,
  ""minTvlUsd"": 0,
  ""poolIds"": [""0x0392b358ce4547601befa962680bede836606ae2""]
}
```","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x0392b358ce4547601befa962680bede836606ae2>","",""
"790622188926795797","crypto_margol","10/05/2023 2:13 am","When the data is CORRECT, it looks like this:
```
{
  ""data"": {
    ""pools"": [
      {
        ""id"": ""0x0392b358ce4547601befa962680bede836606ae2"",
        ""feeTier"": ""3000"",
        ""volumeToken0"": ""203830.768173793379716837"",
        ""volumeToken1"": ""123795237.105851614657505459"",
        ""volumeUSD"": ""338774602.399835345097779294179561"",
        ""totalValueLockedToken0"": ""439.487535059162342776"",
        ""totalValueLockedToken1"": ""909843.884152390086922504"",
        ""token0"": {
          ""id"": ""0x4200000000000000000000000000000000000006"",
          ""symbol"": ""WETH"",
          ""decimals"": ""18"",
          ""derivedETH"": ""1""
        },
        ""token1"": {
          ""id"": ""0x8700daec35af8ff88c16bdf0418774cb3d7599b4"",
          ""symbol"": ""SNX"",
          ""decimals"": ""18"",
          ""derivedETH"": ""0.001162017821852804813885733584898464""
        }
      }
    ]
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x0392b358ce4547601befa962680bede836606ae2>","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x4200000000000000000000000000000000000006>","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x8700daec35af8ff88c16bdf0418774cb3d7599b4>","",""
"790622188926795797","crypto_margol","10/05/2023 2:13 am","When it's FALSE it looks like this:
```
{
  ""data"": {
    ""pools"": [
      {
        ""id"": ""0x0392b358ce4547601befa962680bede836606ae2"",
        ""feeTier"": ""3000"",
        ""volumeToken0"": ""203832.129381648452740621"",
        ""volumeToken1"": ""123796412.780052546114237437"",
        ""volumeUSD"": ""338777126.4908827339106618509595405"",
        ""totalValueLockedToken0"": ""438.126327204089318992"",
        ""totalValueLockedToken1"": ""911019.558353321543654482"",
        ""token0"": {
          ""id"": ""0x4200000000000000000000000000000000000006"",
          ""symbol"": ""WETH"",
          ""decimals"": ""18"",
          ""derivedETH"": ""1""
        },
        ""token1"": {
          ""id"": ""0x8700daec35af8ff88c16bdf0418774cb3d7599b4"",
          ""symbol"": ""SNX"",
          ""decimals"": ""18"",
          ""derivedETH"": ""0"" <---------------------------------
        }
      }
    ]
  }
}
```","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x0392b358ce4547601befa962680bede836606ae2>","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x4200000000000000000000000000000000000006>","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 2:13 am","<https://etherscan.io/address/0x8700daec35af8ff88c16bdf0418774cb3d7599b4>","",""
"790622188926795797","crypto_margol","10/05/2023 2:14 am","As you can see @Crypto_Rachel , the SNX's derivedETH price is 0 when the data is false. Thus the TVL is ignoring the SNX part of the data.

Is that truly related to what you described as the de-peg event? From the sound of it seems unrelated to me..","","👀 (1)"
"936203283603796028","an_emptymind","10/05/2023 8:22 am","app.uniswap.org","",""
"936203283603796028","an_emptymind","10/05/2023 8:24 am","so how do i fetch top pools data which is equivalent to data in app.uniswap ?","",""
"471357824299958273","crypto_rachel","10/05/2023 11:06 am","I'll speak to someone about this, get back to you.","","👀 (1)"
"471357824299958273","crypto_rachel","10/05/2023 11:09 am","I don't have a great source. However the graph should still work for top pools, since error is global, you should be able to get the top pools, just tvl is broke so don't use for accuracy in math","",""
"961950764564090902","jackgh.","10/05/2023 2:43 pm","They do some weird stuff with TVL.... It don't trust any of it to be honest. Better of writing your own logic/getting it from the blockchain","",""
"726627917349519422","italiandaddy","10/05/2023 7:58 pm","Good morning, I'm hoping to get clarification on something. When querying the Token entity, data points like Volume, volumeUSD are available. Is it correct to assume these are updated as they change, and if so, how often are they? Thank you all in advance

{
  tokens(where: {id: ""0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2""}) {

  id
  symbol 
  name 
  totalSupply 
  volume
  volumeUSD
  untrackedVolumeUSD
  feesUSD","",""
"843155325619535912","Etherscan Bot#5753","10/05/2023 7:58 pm","<https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2>","",""
"471357824299958273","crypto_rachel","11/05/2023 4:23 am","@Crypto_Margol
So yeah, The graph is dropping something, OP and ARB graphs have extreme issues that just can't be avoided due to L2s being so much faster than graph","",""
"471357824299958273","crypto_rachel","11/05/2023 4:24 am","yes updated with every block","",""
"790622188926795797","crypto_margol","11/05/2023 4:28 am","Is there an open ticket on the graph for that? Open discussion?","",""
"471357824299958273","crypto_rachel","11/05/2023 4:28 am","Not 100% on that probably","",""
"726627917349519422","italiandaddy","11/05/2023 8:33 am","thank you!","","YW (1)"
"568849236884586506","aimproxy","11/05/2023 7:51 pm","hi, how do I keep track of uncollected fees from a position?","",""
"568849236884586506","aimproxy","11/05/2023 8:20 pm","@Crypto_Rachel is chatgipiti right on this: ```md
To compute the uncollected fees for a given position, we need to know the current fee growth rates for both tokens since the last time fees were collected. These growth rates are stored in the fields feeGrowthInside0LastX128 and feeGrowthInside1LastX128, which represent the fee growth per token per unit of liquidity.

To calculate the uncollected fees, we can use the following formula:

uncollectedFeesTokenX = liquidity * (currentFeeGrowthInsideX - feeGrowthInsideXLast) / 2^128

where X represents the token (0 or 1), liquidity is the total liquidity of the position, currentFeeGrowthInsideX is the current fee growth rate for token X, and feeGrowthInsideXLast is the value of feeGrowthInsideXLastX128 at the time fees were last collected.

Therefore, to compute the uncollected fees for a given position, we need to know the current fee growth rates for both tokens, as well as the values of liquidity and feeGrowthInsideXLastX128 at the time fees were last collected.

Note that the exact implementation of fee collection and storage may vary depending on the specific protocol or application using this GraphQL schema.
```","",""
"471357824299958273","crypto_rachel","11/05/2023 11:52 pm","😄  wow really not far off 🤣  ChatGTP takin my job

so it's not a full setup but check this one I wrote  https://discord.com/channels/597638925346930701/1090095658142281748/1090096562551652383","",""
"568849236884586506","aimproxy","12/05/2023 12:00 am","@Crypto_Rachel hey thx, chatgipiti does works, as for position snapshoots same way but with feeGrowthInside0LastX128?","",""
"471357824299958273","crypto_rachel","12/05/2023 12:03 am","the math would be the same losing the ranges i'm pretty sure, only getting the true full LQ of the pool is a bit complicated, check https://discord.com/channels/597638925346930701/1090098203803787304/1090120116211044433 for TVL/TTL values","",""
"568849236884586506","aimproxy","12/05/2023 12:04 am","PositionSnapshots have a liquidity field! what do you mean?","",""
"471357824299958273","crypto_rachel","12/05/2023 12:04 am","I do think you only need the full range LQ, and the feeGrowthGlobalX","",""
"471357824299958273","crypto_rachel","12/05/2023 12:05 am","if for position, you need a lot of math","",""
"568849236884586506","aimproxy","12/05/2023 12:06 am","also please validate me this I am fetching the poolDayDatas for the end of the day to calculate token{0,1} amounts from the position snapshoots! is this right?","",""
"471357824299958273","crypto_rachel","12/05/2023 12:08 am","what are you using from poolDayDatas? And calculating what daily fees?","",""
"568849236884586506","aimproxy","12/05/2023 12:09 am","this: ```graphql
    query poolDailyData($id_in: [ID!] = """") {
      poolDayDatas(where: { id_in: $id_in }) {
        id
        date
        tick
        sqrtPrice
        liquidity
      }
    }
```","",""
"471357824299958273","crypto_rachel","12/05/2023 12:16 am","yeah, no I wouldn't trust LQ from the graph, it has a bug in tvl and I don't know what data is accurate","",""
"568849236884586506","aimproxy","12/05/2023 12:32 am","yeah I heard, I take liquidity from 3 different places: position, snapshots, and poolDayData, with the v3 sdk I do that ```ts
    const pool = new Pool(
      token0,
      token1,
      this._indexOfFeeAmount(snapshot.pool.feeTier),
      daily.sqrtPrice,
      daily.liquidity,
      JSBI.toNumber(JSBI.BigInt(daily.tick)),
    );

    const { amount0, amount1 } = new Position({
      pool,
      liquidity: snapshot.liquidity,
      tickLower: JSBI.toNumber(JSBI.BigInt(position.tickLower.tickIdx)),
      tickUpper: JSBI.toNumber(JSBI.BigInt(position.tickUpper.tickIdx)),
    });
```","",""
"568849236884586506","aimproxy","12/05/2023 12:34 am","@Crypto_Rachel is there another way to compute this amounts?","",""
"471357824299958273","crypto_rachel","12/05/2023 12:34 am","what are you specifically trying to get?","",""
"568849236884586506","aimproxy","12/05/2023 12:37 am","so I have a bunch of token transfers coming from moralis, I know that the from is the owner address, and to is the pool address, I know each transaction is a position or a position snapshots since moralis registers all token transactions, my boss asked me to compute the amounts of token0 and token1 that the owner owns in the pool including the uncollected fees to calculate profit! from what I read this is the only way to do this without using the blokchain directly!","",""
"471357824299958273","crypto_rachel","12/05/2023 12:42 am","I wouldn't use the graph for all that, as i can't guarantee it will be accurate. I have two scripts that are complete and only need the position id. one give the total tokens in position, and other gives fees. This would be the only thing I would trust chain data
LQ tokens
https://discord.com/channels/597638925346930701/607978109089611786/1037050094404501595
Fees
https://discord.com/channels/597638925346930701/607978109089611786/1072277893905911889","",""
"568849236884586506","aimproxy","12/05/2023 12:45 am","yes I saw that! we're just looking for a way to avoid a node provider, does uniswap has a public node?","",""
"471357824299958273","crypto_rachel","12/05/2023 12:46 am","I use the free RPC from alchemy gives you like a million requests","",""
"568849236884586506","aimproxy","12/05/2023 12:49 am","thx for clarify that!","","YW (1)"
"726627917349519422","italiandaddy","12/05/2023 8:22 pm","Looking at TokenData I just refreshed using the graph, and pepe as an example:
TokenID: 0x6982508145454ce325ddbe47a25d4ec3d2311933

TotalSupply: 28368
Volume: 1654704021974085.8160

Looking at CoinMarketCap:
https://coinmarketcap.com/currencies/pepe/

TotalSupply: 420,690,000,000,000
DEX Volume: 140,910,822

Now, I get that the volume on CoinMarketCap is for all DEXs, probably.. but the TotalSupply field seems awfully low, are we sure there's only 28k tokens across all pools on Uniswap?","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:23 pm","that isn't correct, there's def more than 28k pepe on uniswap","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:23 pm","let me look into this, one sec brb","","RockStar (1),🙏 (1)"
"726627917349519422","italiandaddy","12/05/2023 8:24 pm","much appreciated","",""
"726627917349519422","italiandaddy","12/05/2023 8:26 pm","query for reference:

{
  tokens( where: {id: ""0x6982508145454ce325ddbe47a25d4ec3d2311933""}) {

   id
    volume 
    totalSupply

}
}","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:27 pm","are you looking at ethereum or a different chain?","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:32 pm","I'm not sure how to get the exact number through the subgraph. A different approach is searching the token address on info.uniswap.org and adding up the token amounts in each pool","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:33 pm","For example, Pepe (https://info.uniswap.org/#/tokens/0x6982508145454ce325ddbe47a25d4ec3d231193) is in 13 pools. You can view these pools on etherscan and count the number of PEPE tokens in each","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:34 pm","","https://cdn.discordapp.com/attachments/765222888617017365/1106597671910785054/Screen_Shot_2023-05-12_at_11.03.47_AM.png",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:34 pm","^ this is the pepe/eth .3% pool","",""
"989275482488983663","AnthonyNicholas#4331","12/05/2023 8:34 pm","there's this much pepe in there","",""
"726627917349519422","italiandaddy","12/05/2023 8:42 pm","thank you, I am currently using this

https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3","",""
"726627917349519422","italiandaddy","12/05/2023 8:43 pm","so that might only be looking at V3?","",""
"360326217251028992","irara_","12/05/2023 8:48 pm","I just received an email from The Graph:
The Graph's Hosted Service will undergo a 5-hour database maintenance on 2023/06/22 at 05:00 UTC. During this time, querying the Subgraph will be unavailable for at least 30 to 60 minutes.
As developers using the Uniswap Subgraph API, do we need to take any corresponding measures? Thank you very much!","",""
"726627917349519422","italiandaddy","12/05/2023 9:06 pm","and if there's a better way to get stats programatically for tokens on Uniswap I'm ok changing the approach","",""
"726627917349519422","italiandaddy","13/05/2023 4:17 am","I'm curious to know if anyone else here is relying on the graph for uniswap specific token stats like totalsupply and volume as well","",""
"726627917349519422","italiandaddy","13/05/2023 4:17 am","is there a way to query that info via API?","",""
"276884683050975243","silvr________","13/05/2023 7:43 am","It's frustrating that the v2 subgraph is down as of today and there seem to be no comments about it or any places to get any answers. Uniswap team please let us know what's up","",""
"276884683050975243","silvr________","13/05/2023 7:44 am","I mean, can we got SOME information, please...?","",""
"276884683050975243","silvr________","13/05/2023 7:44 am","It's been 6.5hrs","",""
"961238784471617596","lazykwant#6438","13/05/2023 2:26 pm","Hi there, any idea where can I find/access Uniswap V3 subgraph for binance chain? Thanks","",""
"389598691079618561","tronomatic","13/05/2023 10:33 pm","Are there any examples of querying the graph for swaps of a specific token pair? Having trouble filtering for a token address","",""
"471357824299958273","crypto_rachel","14/05/2023 1:19 am","all the graph links here https://discord.com/channels/597638925346930701/1087867335089590363","","👍 (2)"
"471357824299958273","crypto_rachel","14/05/2023 1:19 am","Infura went down for a bit, causing graph issues, since it uses infura.... It was back up quick, but the graph likely had to deal with it and resync from break, I'm sure they caught up quick","",""
"471357824299958273","crypto_rachel","14/05/2023 1:21 am","the token amounts isn't really going to be accurate for v3 as that's TVL/TTL which has the bug","",""
"935535039654019124","youraveragelord","14/05/2023 7:11 am","hello all! I'm trying to determine all LPs associated with a token. For example, this one:
`0x53c45AB1069d1B486ebA10eCD9A2fa83d8cb7e9d`

```gql
query allPools($address: Bytes!) {
  asToken0: pools(
    orderBy: totalValueLockedUSD
    orderDirection: desc
    where: {token0: $address}
    subgraphError: allow
  ) {
    id
    __typename
  }
  asToken1: pools(
    orderBy: totalValueLockedUSD
    orderDirection: desc
    where: {token1: $address}
    subgraphError: allow
  ) {
    id
    __typename
  }
}
```

Returns 1 pool:
`0x85482baa09cf9a9321a4244aab7267b8deed63c5` - PONZI/USDC

Why does it not give me the PONZI/WETH pool at `0x44e316efe537efc78738ee50b183b219f9a8b069` ?","",""
"471357824299958273","crypto_rachel","14/05/2023 10:56 am","I only see one pool on v3 with that token. The `0x8548` is the only pool","",""
"345901078853976064","ololotor","14/05/2023 12:12 pm","Hi there. Fix subgraph please. It stucked at block 17245768","",""
"471357824299958273","crypto_rachel","14/05/2023 12:26 pm","which one are you using, I'm seeing current actions and txs in both v2 and v3 ETH","",""
"345901078853976064","ololotor","14/05/2023 12:27 pm","https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2","",""
"471357824299958273","crypto_rachel","14/05/2023 12:30 pm","shoot, misread the date 🤦‍♀️ 
ok shoot. I'll ping the dev tomorrow","",""
"935535039654019124","youraveragelord","14/05/2023 7:03 pm","I checked v2 as well. Any idea why the PONZI/WETH pool isnt detectable?","",""
"935535039654019124","youraveragelord","14/05/2023 7:03 pm","The owners created the LP and then burned the LP tokens. But folks are still able to trade the liquidity","",""
"935535039654019124","youraveragelord","14/05/2023 7:04 pm","instead, i get this other weird address i havent seen before:
`0x924908eb0da1f805d32d4a00c23f8952061a57b3`
https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2/graphql?query=++++%23%0Aquery+allPools%28%24address%3A+Bytes%21%29+%7B%0A++++++pairs%28where%3A+%7Btoken0%3A+%24address+%7D+%29+%7B%0A++++++++id%0A++++++%7D%0A++++++pairs%28where%3A+%7Btoken1%3A+%24address+%7D+%29+%7B%0A++++++++id%0A++++++%7D%0A%7D%0A","",""
"935535039654019124","youraveragelord","14/05/2023 7:05 pm","ah just noticed 0x44e316efe537efc78738ee50b183b219f9a8b069 is in V2!","",""
"935535039654019124","youraveragelord","14/05/2023 7:05 pm","great. sorry about that","",""
"935535039654019124","youraveragelord","14/05/2023 7:05 pm","anyway, we arent sure what `0x924908eb0da1f805d32d4a00c23f8952061a57b3` is in V2 and were hoping someone could help us figure that out","",""
"722704152425267200","chouch.eth","14/05/2023 8:01 pm","this appears to be still not working correct?","",""
"722704152425267200","chouch.eth","14/05/2023 8:10 pm","is there another way to read the liquidity pool reserve on eth for a token?","",""
"640916064473186305","sats0970","14/05/2023 10:33 pm","Any eta when supgraph api will be fixed?","",""
"471357824299958273","crypto_rachel","14/05/2023 11:09 pm","teams are working to get the graph back up","",""
"471357824299958273","crypto_rachel","14/05/2023 11:10 pm","v2? you can call the reserves on the pool contract for v2","",""
"722704152425267200","chouch.eth","14/05/2023 11:13 pm","In subgraph? Recent contract are not working","",""
"471357824299958273","crypto_rachel","14/05/2023 11:15 pm","contracts work. Subgraph v2 is down right now","",""
"1106120687581667368","nafengqicvv#6005","15/05/2023 6:23 am","https://api.uniswap.org/v1/graphql    Connection refused, using vpn does not work, can anyone help me","",""
"471357824299958273","crypto_rachel","15/05/2023 6:50 am","not sure who's graph that is, this is the official v1 api https://api.thegraph.com/subgraphs/name/ianlapham/uniswap/graphql","",""
"722704152425267200","chouch.eth","15/05/2023 10:30 am","Is subgraph working now?","",""
"345901078853976064","ololotor","15/05/2023 11:49 am","Anything new?","",""
"640916064473186305","sats0970","15/05/2023 12:33 pm","unfortunately no, devs sleeping","",""
"640916064473186305","sats0970","15/05/2023 4:55 pm","any details about when graph access will be fixed?","",""
"722704152425267200","chouch.eth","15/05/2023 5:32 pm","++","",""
"129303966570774529","_lockesmith","15/05/2023 6:22 pm","https://discord.com/channels/597638925346930701/607978109089611786/1107628573805793381","",""
"129303966570774529","_lockesmith","15/05/2023 6:24 pm","Very few in this discord are associated at all with Uniswap labs. If you'd like to reach out to someone from that team directly, you could email support@uniswap.com and maybe get a quicker response.","",""
"796878350869069854","tk.w3","15/05/2023 9:30 pm","Hello,
I'm querying Swaps data, can I assume that if I got a single swaps from block X the subgraph already has ALL THE SWAPS from this block?
or it's possible that it has partial data from a single block?
TNX","",""
"471357824299958273","crypto_rachel","16/05/2023 12:04 am","it's back up. Just has to catch up with the sync from missed blocks
@Sats@ChouCh","",""
"471357824299958273","crypto_rachel","16/05/2023 12:04 am","is should have all data","",""
"722704152425267200","chouch.eth","16/05/2023 12:14 am","Thank you!!!","","YW (1)"
"345901078853976064","ololotor","16/05/2023 12:53 am","Ping them one more time. Sync failed.","",""
"471357824299958273","crypto_rachel","16/05/2023 12:57 am","The team is working on it","",""
"345901078853976064","ololotor","16/05/2023 12:58 am","Syncing again)","",""
"640916064473186305","sats0970","16/05/2023 1:44 am","thanks will try","",""
"471357824299958273","crypto_rachel","16/05/2023 1:44 am","it'll take a bit to sync","","👆 (1)"
"640916064473186305","sats0970","16/05/2023 1:46 am","it looks like its dead still","",""
"471357824299958273","crypto_rachel","16/05/2023 1:47 am","like I just said it still has to sync","",""
"345901078853976064","ololotor","16/05/2023 12:26 pm","Touch them again)  Tenderly. Graph sync is down again","",""
"722704152425267200","chouch.eth","16/05/2023 1:36 pm","this is gonna take forever to sync","",""
"722704152425267200","chouch.eth","16/05/2023 1:38 pm","still processing block 17252640","",""
"722704152425267200","chouch.eth","16/05/2023 1:38 pm","so frustrating!!!!","",""
"640916064473186305","sats0970","16/05/2023 6:30 pm","it will be easier to build our own lol","",""
"640916064473186305","sats0970","16/05/2023 6:31 pm","https://tenor.com/view/so-bored-waiting-still-mr-gif-25683674","",""
"149735676278079488","austino256","17/05/2023 6:37 am","the graph team themselves is currently dealing with it personally","","🙏 (2)"
"488143448088641537","0xfuru","17/05/2023 8:40 am","In the same boat. Maybe thegraph gods will work their magic tonight 🙌","",""
"251896544461062145","skynightsnow","17/05/2023 9:23 am","Does your graph keep a registry of all active positions?
Such that when someone interacts with your UI the graph queries the best paths to then use in your quoter smart contract? 
Am i getting this right?","","💯 (1)"
"722704152425267200","chouch.eth","17/05/2023 11:46 am","I don’t think so 😂","",""
"722704152425267200","chouch.eth","17/05/2023 7:23 pm","at this pace we're probably not going to catch up to the latest block lol","",""
"722704152425267200","chouch.eth","17/05/2023 7:24 pm","I'm losing hope with graphql, not a reliable source of information","",""
"638766945206009866","kwsantiago","17/05/2023 9:28 pm","@ChouCh @Crypto_Rachel Good morning, what is the subgraph for Uniswap V3 on avalanche?","",""
"488143448088641537","0xfuru","18/05/2023 12:00 am","If there’s any updates for this syncing issue we’re experiencing, feel free to ping me :fmcheartemoji:","",""
"471357824299958273","crypto_rachel","18/05/2023 12:03 am","no avalanche. This is not part of uni network rn","",""
"471357824299958273","crypto_rachel","18/05/2023 12:03 am","it will take a while. estimating about 2-3 weeks now","","💩 (1)"
"638766945206009866","kwsantiago","18/05/2023 12:14 am","Will it come out soon, is there a timeline for Avalanche Uniswap V3 subgraph?","",""
"471357824299958273","crypto_rachel","18/05/2023 12:17 am","Not afaik. Michigan Blockchain launched that vote. Uniswap labs only does chains they feel have larger impact. The permission was given to that team to launch v3, they would likely be the only ones working on it","",""
"1105745228255735818","Bhargav_J#9239","19/05/2023 10:40 am","Hello. Are we getting the actual price in the Uniswap subgraph V2 query as token0_price and token1_price? and what will be the refresh rate of these prices?","",""
"471357824299958273","crypto_rachel","19/05/2023 10:45 am","Sorry currently a external service theGraph went down when infura went down. Labs team pinged the team at the graph as soon as we found out. They fixed it, but it has to catch up to the rest of the blocks this will take a bit of time unfortunately","",""
"1105745228255735818","Bhargav_J#9239","19/05/2023 11:04 am","Thanks. But I am asking, Are we getting the actual price or average prices in response? and what is the refresh rate of the data?","",""
"471357824299958273","crypto_rachel","19/05/2023 11:06 am","it takes the graph a little bit to get through all the block data time varies based on swap volume.
currently it's behind like 15k blocks","",""
"1105745228255735818","Bhargav_J#9239","19/05/2023 2:49 pm","Can you please give me an approx time. I am using this URL: https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2 to fetch the pool data. So approx how many hours of old data am I getting in a response?","",""
"471357824299958273","crypto_rachel","19/05/2023 11:20 pm","Looks like the graph was able to catch up.","","👍 (1)"
"1109102481381802054","hannibalyeayea#1927","20/05/2023 10:33 pm","does anyone know how you can calculate fee revenue for liquidity positions. I am trying to test an LP strategy so I want to work out what reward I could earn per hour from 2022 to 2023. Do you know if it's possible to retrieve this data and if so how I could go about it?","",""
"471357824299958273","crypto_rachel","20/05/2023 10:53 pm","This would be EXTREMELY difficult with v3, you would have to do so much back testing. You would have to get all the blocks about an hour apart, then run my script at that block. Fee info and script in https://discord.com/channels/597638925346930701/1090095658142281748","",""
"1109102481381802054","hannibalyeayea#1927","20/05/2023 10:57 pm","ah I see, do you know any work arounds that may let me see how much fee revenue I could earn from my strategy. possibly using a different time frame or something?","",""
"471357824299958273","crypto_rachel","20/05/2023 10:59 pm","there are a lot out there back-testing is a lot on uniswap... They have estimator tools, but they are just that estimations based off of some history or a set price range expected
check out uniswap.fish
and other stuff from grantees here https://www.uniswapfoundation.org/funded-grants","",""
"1109102481381802054","hannibalyeayea#1927","20/05/2023 11:00 pm","thank you again 🙂","","YW (1)"
"1109102481381802054","hannibalyeayea#1927","21/05/2023 2:38 am","what do people think about defi lab xyz backtester? was thinking of modifying the code on their github to be able to backtest longer than 30 days","",""
"722704152425267200","chouch.eth","21/05/2023 10:01 pm","graphql planned maintenance window didnt start yet and already subgraph uniswap v2 failed to sync, who is indexing the blockchain? is it uniswap or an independent indexer? ..... and why are they so incompetent?","","👍 (1)"
"471357824299958273","crypto_rachel","22/05/2023 12:29 am","The subgraph team has been aware of the issues, and they are working on it.","",""
"722704152425267200","chouch.eth","22/05/2023 1:26 am","Will probably not work on it before tomorrow and takes another 5 days to sync again","",""
"722704152425267200","chouch.eth","22/05/2023 1:26 am","I don’t know why subgraph team is taking this service lightly","",""
"1074628541456592976","hannibalyeayea123#3505","22/05/2023 3:42 pm","on the subgraph for PositionSnapshot what does feeGrowthInside0LastX128 represent? as you can not set your upper and lower limit for it so what is it inside of?","",""
"471357824299958273","crypto_rachel","22/05/2023 9:32 pm","fee growth is part of the tracking protocol for fees earned and not collected","",""
"722704152425267200","chouch.eth","22/05/2023 11:01 pm","Any news on subgraph sync?","",""
"471357824299958273","crypto_rachel","22/05/2023 11:02 pm","It has been fixed, a meme coin crashed it 😦 , but the team has fixed it, and it is syncing again, hopefully only two days till sync","",""
"722704152425267200","chouch.eth","22/05/2023 11:03 pm","But syncing appears to be stopped since 11am utc","","👍 (1)"
"345901078853976064","ololotor","22/05/2023 11:06 pm","not syncing","",""
"471357824299958273","crypto_rachel","22/05/2023 11:06 pm","I'll look into this, they did have maintenance today planned for the graph","",""
"345901078853976064","ololotor","22/05/2023 11:06 pm","stucked at block 17308397 few hours ago","",""
"471357824299958273","crypto_rachel","22/05/2023 11:15 pm","@Ololosha  @ChouCh

So yeah, they had to use a graft to repair the graph bug, it will stay like that until the graft catches up to the current txs, then it should work as normal. This should only take a couple days","",""
"722704152425267200","chouch.eth","22/05/2023 11:15 pm","My oh my!","",""
"471357824299958273","crypto_rachel","22/05/2023 11:15 pm","All the graph fun 😄","","😂 (1)"
"1105745228255735818","Bhargav_J#9239","23/05/2023 11:29 am","how reliable is the data which we fetch from the subgraph URL?","",""
"972529254837415946","fran_1ceman26","23/05/2023 6:09 pm","Hi all! does anyone know how can I query liquidity of a position in a human readable form? thanks in advance 😊","",""
"790622188926795797","crypto_margol","23/05/2023 6:55 pm","Entire Arbitrum volumes are false on the analytics: https://info.uniswap.org/#/arbitrum/tokens/0x4d6c8f6ab59835183bc0100bc819a3f8691691f8

This is because this subgraph is out of sync by more than 4 hours now... Is anyone aware of that?
https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-one-blocks","",""
"722704152425267200","chouch.eth","23/05/2023 7:53 pm","very good when it's working","",""
"722704152425267200","chouch.eth","23/05/2023 7:54 pm","i was excited for a minute when one of the api on a newly smart contract worked just to realize it's a v3 pool  😦","",""
"1105745228255735818","Bhargav_J#9239","23/05/2023 7:57 pm","Thanks for the response mate.","","🔥 (1)"
"471357824299958273","crypto_rachel","23/05/2023 11:58 pm","A meme coin crashed the v2 graph, this is undergoing a graft to repair it. Shouldn't be long","",""
"722704152425267200","chouch.eth","24/05/2023 1:38 am","https://tenor.com/view/waiting-gif-23395435","","😄 (1)"
"876589074918563861","andrew_tff","24/05/2023 1:59 am","Does anybody know if there's a mumbai uniswap v3 subgraph?","",""
"936203283603796028","an_emptymind","24/05/2023 10:56 am","@Crypto_Rachel Can you please send link for Uniswap v3 Binance subgraph?","",""
"471357824299958273","crypto_rachel","24/05/2023 10:57 am","https://discord.com/channels/597638925346930701/1087867335089590363","",""
"936203283603796028","an_emptymind","24/05/2023 10:57 am","There are subgraphs for all other chains, why not for binance?","",""
"471357824299958273","crypto_rachel","24/05/2023 11:03 am","you mean the BNB/BSC network","https://cdn.discordapp.com/attachments/765222888617017365/1110802663005753434/image.png",""
"936203283603796028","an_emptymind","24/05/2023 11:41 am","yes, I meant BSC, Thank you","",""
"936203283603796028","an_emptymind","24/05/2023 11:54 am","Unable to fetch positions data in above binance subgraph. any particular reason?","",""
"574350273942781956","augustus7356","24/05/2023 1:53 pm","Hi I am having issue with integration of React Uniswap Widget . Is there anyone that can help ? Thanks","",""
"988311511929860126","dmitrystarostin","24/05/2023 3:47 pm","Hello. LiquidityGross and liquidityNet data are different in thegraph and on the etherscan. Does anyone know how to solve this?

pool  USDC and ETH, fee 500: 0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640
tick: 202420","https://cdn.discordapp.com/attachments/765222888617017365/1110874311608250409/2023-05-24_17-13-39.png,https://cdn.discordapp.com/attachments/765222888617017365/1110874311914430516/2023-05-24_17-13-55.png",""
"722704152425267200","chouch.eth","24/05/2023 6:21 pm","@Crypto_Rachel any update is appreciated","",""
"149735676278079488","austino256","24/05/2023 7:40 pm","she does not have any update bc we have no update!","","this (1),😔 (1)"
"638766945206009866","kwsantiago","25/05/2023 2:35 am","Hello @Crypto_Rachel this field is missing “feeGrowthGlobal0x128” in https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal for uniswap v3 arbitrum","",""
"471357824299958273","crypto_rachel","25/05/2023 2:36 am","arbitrum is to fast for theGraph so everything is limited on that chain","",""
"386299441335762944","bruchsalerhaenger","25/05/2023 4:23 pm","Guys one question I used https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2 since 21 May  it doesnt work anymore. 
Is there an event around this time it stopped?","",""
"722704152425267200","chouch.eth","25/05/2023 4:43 pm","there was a maintenance on the graph and they had to rebuild uniswap v2, it only needs a light year to sync, hang tight","",""
"395518979411673099","cipekci","25/05/2023 7:25 pm","Hi guys, how can i get ethereum network txs for erc 20 pairs from mempool? we need like stream source for blockchain data","",""
"431961393646796811","derekbarrera","25/05/2023 8:34 pm","ianlapham/uniswap-v3 not deployed anymore??","",""
"431961393646796811","derekbarrera","25/05/2023 8:41 pm","@Crypto_Rachel any insights, I've lost my comms channels with Ian and this is a rather important subgraph.","",""
"431961393646796811","derekbarrera","25/05/2023 8:42 pm","Anyone from the community able to share insights? Did it migrate over to uniswap/uniswap-v3?","",""
"283352925278044161","katalepsis.eth","25/05/2023 9:59 pm","Hello, is there any way to query for all pools/pairs that have a certain volume and liquidity in the last day? I can't seem to figure it out.
Also a related question, what unit is ""liquidity"" in?","",""
"488143448088641537","0xfuru","25/05/2023 10:46 pm","if there's any updates for the v2 sync to be complete, let us know please ❤️ I'm patient i swear 😉","",""
"149735676278079488","austino256","26/05/2023 2:19 am","i believe the uniswap version of that subgraph runs still","",""
"431961393646796811","derekbarrera","26/05/2023 2:34 am","Correct but the change in URL was disrupting some deployed strategies we have. I wasn’t aware you could delete a subgraph so this is a surprise that one of the subgraphs would deprecate without warning. Do you plan on migrating the others of ians name? If so, can you please provider better warnings so that it doesn’t break other consuming  services?","",""
"722704152425267200","chouch.eth","26/05/2023 9:24 am","@Crypto_Rachel i have a feeling you are hiding from us 😂","",""
"722704152425267200","chouch.eth","26/05/2023 9:24 am","But seriously now it’s no longer funny, need an update","",""
"988311511929860126","dmitrystarostin","26/05/2023 11:48 am","Hello. I found a problem that I can not find an entry in the subgraph about a specific transaction. Could it be that the block was not indexed?

Graph:
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
Transaction:
https://etherscan.io/tx/0xfdeca9f81d0f930e7e107f10b26fd79a26e67b7edf41c683c4d00038e7ccd6f2#eventlog","",""
"345901078853976064","ololotor","26/05/2023 4:10 pm","@Austin 🦄 @Crypto_Rachel Hi!
Can you share the solution of recent graph error with memecoin? I mean what have you changed in graph code.","",""
"149735676278079488","austino256","26/05/2023 8:29 pm","believe that was done by the graph not uniswap labs.","","FeelsSweatyMon (1),surprisedpikachu (1),🤝 (1)"
"149735676278079488","austino256","26/05/2023 8:30 pm","rachel has no update because the labs team has no update - the graph is an incredibly complex piece of machinery and the graph team is focusing on migrating people to their next gen graph.","",""
"431961393646796811","derekbarrera","26/05/2023 8:45 pm","Interesting! Thanks Austin. Appreciate the response!","",""
"722704152425267200","chouch.eth","26/05/2023 8:46 pm","I would replace the word “machinery”","",""
"149735676278079488","austino256","26/05/2023 8:47 pm","?","",""
"722704152425267200","chouch.eth","26/05/2023 8:49 pm","I rest my case","",""
"149735676278079488","austino256","26/05/2023 8:50 pm","ok you are more than welcome to go make your own version if you would like. its very very difficult to fix these subgraphs.","",""
"722704152425267200","chouch.eth","26/05/2023 8:59 pm","Yeah don’t make the service available and make a whole documentation about it if you’re not going to run it and maintain it well","",""
"345901078853976064","ololotor","26/05/2023 9:25 pm","I'm in 🙂 Just 2 days ago found out how to make own graph. Now mine one is syncing. And also I have answer from The Graph team how to fix current problem. Here it is if you are interested. 
```This is an error in the mappings here where theres an odd token with decimals defined that overflow beyond i32's capacity: https://github.com/Uniswap/v2-subgraph/blob/7c82235cad7aee4cfce8ea82f0030af3d224833e/src/mappings/helpers.ts#L136

A few strategies you could try would be hardcoding if that function is not important for you or just for a temporary fix to get it running again. A more solid solution would be grafting 

Grafting reuses the data from an existing subgraph and starts indexing it at a later block. This is useful during development to get past simple errors in the mappings quickly or to temporarily get an existing subgraph working again after it has failed.

https://thegraph.com/docs/en/developing/creating-a-subgraph/#grafting-onto-existing-subgraphs
https://thegraph.com/docs/en/cookbook/grafting/```","",""
"232535749021401088","azzou","26/05/2023 9:37 pm","The indexation failed 😭","",""
"722704152425267200","chouch.eth","26/05/2023 9:38 pm","Yes incompetent teams on both uniswap/graph","",""
"722704152425267200","chouch.eth","26/05/2023 9:38 pm","Best answer i got today is go index on your own","",""
"232535749021401088","azzou","26/05/2023 9:38 pm","Do you know if there's any place to check the ongoing status of this ?","",""
"232535749021401088","azzou","26/05/2023 9:39 pm","Oh ok lol","",""
"722704152425267200","chouch.eth","26/05/2023 9:39 pm","And both teams avoiding answers","",""
"345901078853976064","ololotor","26/05/2023 9:45 pm","No. Graph team answeres well","",""
"722704152425267200","chouch.eth","26/05/2023 10:21 pm","Better than uniswap team but still unresponsive sometimes","",""
"488143448088641537","0xfuru","26/05/2023 10:48 pm","I think i'm going to scrap my code with the uniswap v2 graphs and look elsewhere for api providers. 😭","",""
"471357824299958273","crypto_rachel","27/05/2023 12:22 am","The team is definitely aware that this is down, and Both Uniswap Labs and the Graph are working to recover.","","fmcheartemoji (3)"
"488143448088641537","0xfuru","27/05/2023 12:29 am","I appreciate the updates it’s no prob. I think having my own indexer will be a little more reliable to scale and depend on. Not to mention, fun to build :PePe_deal:","",""
"471357824299958273","crypto_rachel","27/05/2023 12:32 am","Always fun to build.... If you get something reliable built that works off the chain data, reach out to the grants program","","👀 (2)"
"431961393646796811","derekbarrera","27/05/2023 1:28 am","I've run forks of v2 and v3 subgraphs without issues over the years and you can get providers like chainstack and a few others to even run it for you for a managed instance. The sync times can be tough though.","",""
"488143448088641537","0xfuru","27/05/2023 6:38 am","will do :pepelove:","",""
"722704152425267200","chouch.eth","27/05/2023 11:26 am","Yes i am going to try that","",""
"722704152425267200","chouch.eth","28/05/2023 9:13 pm","GOOD NEWS Everyone! subgraph is working again and syncing on the latest block!!!!!!!!!!!!","",""
"722704152425267200","chouch.eth","28/05/2023 9:13 pm","am just messing with you 🙂 it's summertime, team is on the beach getting tanned, they'll get to it when they can","",""
"722704152425267200","chouch.eth","28/05/2023 9:14 pm","noone's in a hurry, if you need block indexing, go get your own server","",""
"232535749021401088","azzou","29/05/2023 5:33 am","Lol let them work","",""
"471357824299958273","crypto_rachel","29/05/2023 5:42 am","TBH I don't think there is a difference, not sure maybe ian had to do something for himself of the last one. I will try to find out about the last one","",""
"232535749021401088","azzou","29/05/2023 5:43 am","I think both v2 are identical, just rebranded under uniswap name. But I found weird that the dev one seem not impacted by the May 26th issue","",""
"471357824299958273","crypto_rachel","29/05/2023 5:45 am","I agree with the rebranding, this is most likely the reason.... Yeah, I'm thinking it's missing something the others have. I'll dig","",""
"232535749021401088","azzou","29/05/2023 5:46 am","Thx u. Btw is this normal that when I've responded to you, Ive received a friend request from Crypto_Rachel#9407 ? Looks like u but could be a scam ? It talk like a bot","",""
"471357824299958273","crypto_rachel","29/05/2023 5:47 am","sorry that's a scammer in another server Likely, we can't control them 😭 can you check mutual servers on the user","",""
"232535749021401088","azzou","29/05/2023 5:48 am","No mutual server, no mutual friend, on discord since 23 May 2023\","","😢 (1)"
"232535749021401088","azzou","29/05/2023 5:48 am","They becoming good at scamming","",""
"471357824299958273","crypto_rachel","29/05/2023 5:48 am","doh, I'm trying to track","",""
"232535749021401088","azzou","29/05/2023 5:48 am","Lol good luck with that, ill just block it","","💯 (1),🙏 (1)"
"471357824299958273","crypto_rachel","29/05/2023 5:49 am","thanks","",""
"345901078853976064","ololotor","29/05/2023 11:19 am","First two graphs have different shemas. They are not identical. Btw thank you for dev one)","",""
"232535749021401088","azzou","29/05/2023 11:23 am","As a lamba dev, which one should I use ? I feel like the Uniswap one should be the right one for everything, but according to the doc (<https://docs.uniswap.org/api/subgraph/overview>), the Ian one is the one recommanded. I'm confused 😅","",""
"345901078853976064","ololotor","29/05/2023 11:26 am","It depends on your needs. For example sometimes I need to obtain all liquidity pools for exact token. uniswap graph can't give me this, buy ian's can.","","👌 (1)"
"195138784730284032","goreticb","29/05/2023 10:09 pm","Guys is there a way that I can somehow send to an api that I want to swap 10000000 USDC to WETH and then get information about what swaps I should make (the table that is in red)","https://cdn.discordapp.com/attachments/765222888617017365/1112782211859615786/image.png",""
"345901078853976064","ololotor","29/05/2023 11:06 pm","Try to explore 1inch api","",""
"195138784730284032","goreticb","29/05/2023 11:15 pm","Thanks will look into that, but I think I somewhere saw that there is official uniswap api for this","",""
"471357824299958273","crypto_rachel","30/05/2023 2:06 am","the UI uses an autorouter code. I have links and examples here https://discord.com/channels/597638925346930701/1087869256521236510","",""
"195138784730284032","goreticb","30/05/2023 2:08 am","thanks man","","😄 (1)"
"471357824299958273","crypto_rachel","30/05/2023 2:09 am","not a man but :YW:","",""
"195138784730284032","goreticb","30/05/2023 2:49 am","OMG I am so sorry, I did not read the username, hope I did not offend you. Thanks for the help Rachel 🙂","",""
"471357824299958273","crypto_rachel","30/05/2023 2:50 am","😄  no worries, kinda use to users thinking all devs are men 😊","","❤️ (2)"
"195138784730284032","goreticb","30/05/2023 4:50 am","Rachel, sorry for being annoying, if you know can you tell me where in code on your frontend autorouter is being used to get info about all the swaps, I can't find it anywhere on github.","",""
"471357824299958273","crypto_rachel","30/05/2023 4:52 am","here is the github for it https://github.com/Uniswap/smart-order-router","",""
"195138784730284032","goreticb","30/05/2023 4:54 am","Yeah I saw that, but I am interested in part on frontend code where router is being used to get info about all the swaps that need to be executed, when I look at the examples I can only generate path, but I am interested in tokens and their pool fees (so I can use multihops manually)","",""
"195138784730284032","goreticb","30/05/2023 4:55 am","I guess that it is all being done on frontend and not calling backend api on swap details change","",""
"471357824299958273","crypto_rachel","30/05/2023 5:00 am","the auto router has all the info on which pools it's swapping in the router.
This is what the UI uses. Anything more specific for path generation would have to be created to suite your needs","",""
"195138784730284032","goreticb","30/05/2023 5:08 am","Ok, thanks for the help 😄","","YW (1)"
"949335372763103342","anil.helvaci | GMT +3#3937","31/05/2023 12:16 am","Hello,

I need to fetch the list of all ticks and their corresponding liquidityNet values for a pool. Uniswap subgraph gives only the first 1k values per query, how can I get all values in a list at once?","",""
"1103271169978814545","swapeth","31/05/2023 10:49 am","Hello @everyone anyone may answer...
How uniswap decides that some portion of token need to be swap in V2 pair for different token(which is not desired) and some portion need to swap in V3 pool and then output of V2 pair need to swap somewhere else for desired token..?
I know there is smart-order-router and routing-api repos in the github of Uniswap...
But explain me in simple words","",""
"1093901356823224330","gnaveen#2846","31/05/2023 9:48 pm","I think it will look at v2 pools if there is better liquidity (or fee) available there for the token pair that you are trying to swap.","",""
"1093901356823224330","gnaveen#2846","31/05/2023 9:49 pm","It tries to minimize the `price impact` for your trade and eliminate pools with higher fees. that's my understanding","",""
"471357824299958273","crypto_rachel","31/05/2023 10:25 pm","not possible with the graph","",""
"471357824299958273","crypto_rachel","31/05/2023 10:26 pm","I'm pretty sure it's based on impact and LQ of the pool for splitting the swap. But the scripting is pretty deep for that one","",""
"949335372763103342","anil.helvaci | GMT +3#3937","31/05/2023 10:45 pm","Then how can I get all entries of the ‘ticks’ map living in the pool contract? I need the ‘liquidityNet’ of every entry in that map","",""
"471357824299958273","crypto_rachel","31/05/2023 10:48 pm","https://uniswapv3book.com/docs/milestone_2/tick-bitmap-index/","",""
"936721664127954954","ben_frank_lin#3064","01/06/2023 1:15 am","Hey everyone, had a question on uniswap math. I was able to pull tickIdx and liquidityGross from the subgraph. Am I able to get the token amounts of x and y for the lower and upper bound of that tick with liquidityGross? If so, I’m having trouble getting the math to work as I’m always off by orders of magnitude. Happy to walk someone through my work if it is indeed possible","",""
"471357824299958273","crypto_rachel","01/06/2023 1:55 am","liquidityGross is the gross amount of liquidity at a given tick. The pool keeps track of this because it needs to know if there are a non-zero amount of people in-range. 
liquidityNet is the amount of liquidity kicked in or out of the current in-range at the start of that tick.

Tick range is based on the bips technically, the spacing is determined by the fee tier bips

Liquidity gross is really only for the contract use imo

Liquidity net is the added or subtracted LQ from the current active tick range (increasing ticks you add LQnet to LQ, and decreasing ticks you subtract LQnet from LQ.)

on a tick range the true active ticks start at the bottom and go to -1 of next active tick range ie tick spacing 10 LQ would start at 0 and go to 9","",""
"471357824299958273","crypto_rachel","01/06/2023 1:56 am","more about ticks here https://discord.com/channels/597638925346930701/1090098983176773764 and in the math primer https://uniswap.org/blog/uniswap-v3-math-primer","",""
"149735676278079488","austino256","01/06/2023 2:04 am","v2 subgraph should be fixed","",""
"149735676278079488","austino256","01/06/2023 2:05 am","this is the link that we are grafting from - https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev
however we are pushing it onto the old link so that v2 info works again","","PartyFrog (1),🙏 (1),🥳 (1)"
"936721664127954954","ben_frank_lin#3064","01/06/2023 2:29 am","Thanks for the answer! So if I wanted the liquidity of a specific tick, I would have to get all liquidityNet values and then sum them up to the tick of interest?","",""
"471357824299958273","crypto_rachel","01/06/2023 2:35 am","if it's a tick range close to current, and you don''t have need for more. you can get current LQ from the current active tick range. then if increasing tick ranges, add the LQnet from ticks call to LQ to get next tick range LQ ( if decreasing tick ranges subtract LQnet from LQ)","",""
"936721664127954954","ben_frank_lin#3064","01/06/2023 2:37 am","That makes sense, I will give it a try. Thank you!","","YW (1)"
"386299441335762944","bruchsalerhaenger","01/06/2023 11:40 am","uniswap v2 thegraph api stopped since 21 may please fix it","",""
"950626343400378428","ahua2000","01/06/2023 8:56 pm","May I ask what method I should use to monitor the creation of a new pool based on the Python？","",""
"149735676278079488","austino256","02/06/2023 2:25 am","the graft should eventually change the link above to the correct one. scroll up like 5 messages to see a current working version.","",""
"477564231387185152","nikos1991","03/06/2023 2:13 pm","Good morning,
I am not sure if I posted in correct channel, so I will post it here too:
https://discord.com/channels/597638925346930701/607978109089611786/1114463011176992849","",""
"1074628541456592976","hannibalyeayea123#3505","06/06/2023 5:36 pm","hi guys, I am trying to find  historical distributions of liquidity positions in uniswap v3 USDC/ETH pool. what I have done so far is to collect all the mint and burn transactions that happened from the very beginning of the pool from the subgraph. then in order of the time they occurred I would add them together if they had matching tickLower and tickUpper (but making the amountUSD of burns negative) so if someone minted a position with tickLower=-887270 and tickUpper=198700 with amountUSD=100 then an hour later someone burned a position with the same tick range and amountUSD=50 then for that range I would have 50 remaining. I thought this would work but I must be missing something because in many cases I end up with tick ranges with negative amountUSD which means I must be having burns with overall amountUSD greater than mints amountUSD for a given range. does anyone know if there is something wrong with this logic?","",""
"790622188926795797","crypto_margol","07/06/2023 10:32 am","What could be the cause of a delay in the subgraph?
For example, right now there s about 52 minutes delay on the MAINNET subgraph compared to the onchain data
https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3/graphql?query=%7B%0A++_meta%7B%0A++++block+%7B%0A++++++hash%0A++++++timestamp%0A++++%7D%0A++%7D%0A%7D","",""
"1105745228255735818","Bhargav_J#9239","07/06/2023 11:43 am","Hi, Any progress on Uniswap V2 subgraph? @Crypto_Rachel","",""
"692778810726285462","anony0924","07/06/2023 10:27 pm","so the subgraph will just never up again? what a joke if that's decentralized...anyone could look into it? how to fix it","",""
"149735676278079488","austino256","07/06/2023 10:43 pm","im not sure what you are talking about","",""
"149735676278079488","austino256","07/06/2023 10:43 pm","scroll up like 10 messages","","👆 (1),👍 (1)"
"149735676278079488","austino256","07/06/2023 10:44 pm","sometimes it falls behind. there was some node issues last night and it is probably because of that.","",""
"283352925278044161","katalepsis.eth","08/06/2023 2:51 pm","Anyone know why volumeUSD is always 0 on v3 poolHourDatas? Bug?","",""
"1103780538831085628","crypto_code_monkey#0344","09/06/2023 2:04 am","Thank you, this was a great help","",""
"1103780538831085628","crypto_code_monkey#0344","09/06/2023 2:13 am","I'm trying to query top tokens by daily volume for today:
{
  tokenDayDatas(where:{date:1684627200}, first:10 orderBy:dailyVolumeUSD, orderDirection:desc)
  {
    dailyVolumeUSD
    
    token
    {
      id
      symbol
      decimals
    }
  }
}

The results of the above query doesn't match at all with https://v2.info.uniswap.org/tokens","",""
"471357824299958273","crypto_rachel","09/06/2023 2:20 am","the site looks like it might be filtered to the token lists that uniswap uses","",""
"1103780538831085628","crypto_code_monkey#0344","09/06/2023 6:52 am","is there a way to find out which currencies UniSwap supports from the provided list?","",""
"471357824299958273","crypto_rachel","09/06/2023 6:55 am","here are the two token lists https://tokenlists.org/token-list?url=https://gateway.ipfs.io/ipns/tokens.uniswap.org, https://tokenlists.org/token-list?url=https://raw.githubusercontent.com/jab416171/uniswap-pairtokens/master/uniswap_pair_tokens.json","",""
"1103780538831085628","crypto_code_monkey#0344","09/06/2023 7:55 pm","thank you, that was really useful","","YW (1)"
"680800943750774871","larsankile","10/06/2023 1:13 am","Hey, I'm doing research related to MEV on Uniswap, can anyone advise on whether using the subgraph api on The Graph is the best way to collect liquidity pool state data at the start/end of blocks? Also, is the subgraph for Uniswap V3 only on the decentralized api or also on the hosted one? Any pointers would be greatly appreciated!","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 2:14 am","I'm pretty sure that https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3 is the Uniswap V3 subgraph and the link for queries http is written there as https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 2:15 am","how do you access the decentralized api?","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 2:32 am","does the chainId listed in the token list specify which network (ex: eth, polygon and so on)","",""
"471357824299958273","crypto_rachel","10/06/2023 2:32 am","yes","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 2:34 am","Is chainId: 1  is ethereum?","",""
"471357824299958273","crypto_rachel","10/06/2023 2:36 am","yes
https://chainlist.org/","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 2:37 am","thank you again, you're awesome","","😊 (1),YW (1)"
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 3:03 am","is there a place to query which chainid a token is associated with on the subgraph?","",""
"471357824299958273","crypto_rachel","10/06/2023 3:11 am","not fully, you can use a token list https://tokenlists.org/ which would have the chain ID","",""
"680800943750774871","larsankile","10/06/2023 3:34 am","Ok, great! This was not working when I tested earlier today, but seems to be working and contain values for liquidity and sqrtpricex96 etc., so I guess this should do the trick!","",""
"680800943750774871","larsankile","10/06/2023 3:35 am","Here, for example is one of the V3 decentralized ones: https://thegraph.com/explorer/subgraphs/ELUcwgpm14LKPLrBRuVvPvNKHQ9HvwmtKgKSH6123cr7?view=Overview&chain=mainnet

This has a different schema to the hosted one, so it's hard to see how it's supposed to be used really","",""
"1103780538831085628","crypto_code_monkey#0344","10/06/2023 5:09 am","That's pretty cool, does it have some sort of API, whether in REST, WS, on chain or some other method?","",""
"471357824299958273","crypto_rachel","10/06/2023 5:10 am","most are hosted on IPFS, as a json file so easy to call and get them","",""
"345901078853976064","ololotor","10/06/2023 11:59 am","Why v2 graph is permanently broken?","",""
"471357824299958273","crypto_rachel","10/06/2023 11:23 pm","v2 subgraph should be fixed
this is the link that they are grafting from - https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev
however the team is pushing it onto the old link so that v2 info works again

use the above link until the original catches up","",""
"345901078853976064","ololotor","11/06/2023 1:16 am","Even this one is 3k+ blocks behind","",""
"471357824299958273","crypto_rachel","11/06/2023 1:18 am","sorry to hear that. unfortunately not much can be done. Uniswap doesn't have any control over the graph","",""
"1103780538831085628","crypto_code_monkey#0344","12/06/2023 7:26 am","I see, is there a separate version of the subgraph for each chain or is it merged?","",""
"722704152425267200","chouch.eth","12/06/2023 6:24 pm","so you're blaming the graph now for your slow indexing?","",""
"149735676278079488","austino256","12/06/2023 8:13 pm","the graph team manages all of the graph.... also rachel does not work at labs so dont blame her","",""
"722704152425267200","chouch.eth","12/06/2023 8:50 pm","Why do you always come to defend rachel, I’m not attacking nor offending her, I’m just trying to get facts for this incompetent service uniswap is giving where nobody is willing to take the blame","",""
"149735676278079488","austino256","12/06/2023 8:53 pm","lol","",""
"1103780538831085628","crypto_code_monkey#0344","12/06/2023 9:29 pm","Is there a place to search for Uniswap V2 pairs that are not in the Ethereum chain?
For example Polygon.
Thanks to @Crypto_Rachel for providing the currency list supported by Uniswap (https://gateway.ipfs.io/ipns/tokens.uniswap.org). It resolved my issues with Ethereum chain.
The list above also has the addresses associated with other chainIds.
uniswap-v2-dev graph provided above, even has the non Ethereum addresses listed, however, no pairs exist that match Polygon currency addresses in either token0 or token1.","",""
"471357824299958273","crypto_rachel","12/06/2023 11:53 pm","Well since we can't control the indexing speed of the graph, there is nothing that can be done unfortunately. I know the team has been looking for a better decentralized manner in which to do this, but it's not easy to have it decentralized and speedy as there is a lot of data the graph gathers for every transaction. there are multiple transactions per block, and blocks come faster than all the data work sometimes. Higher DEFI activity makes it harder to keep up as well.","",""
"471357824299958273","crypto_rachel","12/06/2023 11:57 pm","official Uniswap v2 is __Only__ on ETH network, any other chain is a copy/pasta not related to Uniswap. I have all the graphs here https://discord.com/channels/597638925346930701/1087867335089590363

for other v2 copies, you would have to use the other DEXs methods","","🫶 (1),ty (1)"
"722704152425267200","chouch.eth","13/06/2023 12:11 am","Yeah, unfortunately this month have had the lowest trading volumes for the past 6 months and i can see that the alternative dev indexing is unable to catch up to the latest block, we’re now at best 24hrs behind, makes me wonder what would happen when for example a bull run occurs and there is an inflow of txes from the shitcoin space. So the real question is, is subgraph a good solution afterall? Are there any planned solutions to make subgraph for uniswap a stable alternative for querying the blockchain data?","",""
"471357824299958273","crypto_rachel","13/06/2023 12:13 am","As I stated the team is looking for better ways to do this.","",""
"722704152425267200","chouch.eth","13/06/2023 12:13 am","Thx 🙏🏻 keep us posted please","","YW (1),💯 (1)"
"1103780538831085628","crypto_code_monkey#0344","13/06/2023 12:56 am","if your goal is to get transaction information and it has to be in near real-time, the best solution is probably to pull the AMM contractAddresses from the graph as this data doesn't refresh often.
Then pull the transaction data in one of 2 ways:
- directly from the block chain (ethereum or otherwise) 
  - either local copy or one of the services like infura
  - this would have the advantage of being completely under your control
- using etherscan apis
  - this has the advantage of having most of the data already available for you","","this (1)"
"345901078853976064","ololotor","13/06/2023 12:56 am","You can tell them about Streamingfast.io 
This guys deal with pancakeswap on Binance Smart Chain. And there is much more data to obtain in comparison with Ethereum network. But they can.","",""
"722704152425267200","chouch.eth","13/06/2023 1:02 am","Not really, subgraph is a lot easier to handle, they just need to get their act straight","",""
"1103780538831085628","crypto_code_monkey#0344","13/06/2023 1:07 am","please clarify, are you interested in alternate ways to resolve your problem or just want them to fix the subgraph and keep it up to date and have no interest in alternate solutions?","",""
"722704152425267200","chouch.eth","13/06/2023 1:53 pm","of course i want subgraph to work and be up to date","",""
"722704152425267200","chouch.eth","13/06/2023 3:21 pm","it looks to be catching up now, only 7hrs behind on block 17468214","","PartyFrog (1)"
"500601944218271745","kuproykreo","14/06/2023 3:55 am","wonders why my sites data doesnt update haha","",""
"500601944218271745","kuproykreo","14/06/2023 3:55 am","Hopefully it will catches up soon, still on 7 hours delay rn for the Uniswap V2 Dev Subgraph","",""
"450463471197356050","tehkobra","14/06/2023 8:49 am","```
swaps(
      where: {
        pool: ""0xc82819f72a9e77e2c0c3a69b3196478f44303cf4"", 
        timestamp: 1683553238
      },
      block: {number: 88590061},
      orderBy: transaction__blockNumber, 
      orderDirection: asc,
      first: 1000,
  ) {
      id
      timestamp
      transaction { 
        blockNumber 
      }
      logIndex
  }
```

hi all -- i'm using https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal for the above query to get all swaps for a pool at a specific timestamp and at a specific block number. i am noticing that the **""block: {number: XXX}""** or even **""block: {number_gte: XXX}""** conditions don't seem to work as intended. the above example returns swaps for blocks 88590060 and 88590061, even though i only asked for 88590061. any idea why and how i can achieve proper block conditioning in queries?","",""
"450463471197356050","tehkobra","14/06/2023 8:55 am","ah it looks like i can do this inside the where parameter
**transaction_: {blockNumber: 88590061}**","",""
"722704152425267200","chouch.eth","14/06/2023 7:57 pm","all hopes lost, now 15hrs behind 😦","","😢 (1)"
"500601944218271745","kuproykreo","15/06/2023 4:29 am","🙃, is there any alternatives for it? like looks like dextools using uniswap as a sources for their Live New Pairs too, but they don't have any problem","",""
"471357824299958273","crypto_rachel","15/06/2023 10:31 am","they likely use chain data, and their own database","",""
"722704152425267200","chouch.eth","15/06/2023 12:59 pm","I wish dextools can share API for reading uniswap data 🙂 cause this one is absolutely horrible","",""
"722704152425267200","chouch.eth","16/06/2023 10:19 am","@Austin 🦄 can we please have some clear information about uniswap v2 dev subgraph, it hasnt been able to catch up to the latest block, please give the community a clear answer on what is happening so we can know how to move forward","",""
"722704152425267200","chouch.eth","16/06/2023 10:20 am","we've had an outage 1 week prior to thegraph maintenance and it went disastrous afterwards","",""
"345901078853976064","ololotor","16/06/2023 3:07 pm","And don't forget v3 uniswap graph works perfect, though there is huge data amount too.","",""
"722704152425267200","chouch.eth","16/06/2023 4:23 pm","yes v3 is working fine","",""
"149735676278079488","austino256","16/06/2023 9:05 pm","v3 breaks all the time. this is the first time v2 has broken. when i chatted w/ the graph team they were sunsetting the graph version that v2 uses, so i assume this is part of that","","🙏 (1),RockStar (1)"
"149735676278079488","austino256","16/06/2023 9:06 pm","i assume they turned down the computing power to v2 and now its breaking all the time","",""
"500601944218271745","kuproykreo","18/06/2023 3:36 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev

This works fine now 🔥","","PartyFrog (1)"
"905894214418698290","0xD#4516","18/06/2023 7:08 am","Hey guys does anyone know how I can specfiy another chain id while querying the graph?","",""
"471357824299958273","crypto_rachel","19/06/2023 10:05 am","all graph links here https://discord.com/channels/597638925346930701/1087867335089590363","",""
"1095663229918777404","venkatesh#6255","20/06/2023 4:32 pm","where do we actually use this subgraph after creating it.","",""
"1103780538831085628","crypto_code_monkey#0344","21/06/2023 3:35 am","what do you mean creating it?
I just query it for the data that is interesting to me","",""
"885869001975164938","keir2952","22/06/2023 3:24 pm","Hi, Uniswap Develop Team.
Uniswap V2 hosted-service subgraph failed to syncing.
Can you please check this issue?
https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2","",""
"471357824299958273","crypto_rachel","22/06/2023 11:39 pm","yeah, that one was crashed due to a bad memcoin... The team had to create a graft for it. it's had issues syncing data to that one. For now it's suggested to use this one https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","","✅ (1)"
"885869001975164938","keir2952","23/06/2023 12:50 am","Thank you so much","","YW (1)"
"1106515482355445842","abhiramrao","23/06/2023 12:56 pm","how to calculate the default min and max values when we select two tokens","",""
"471357824299958273","crypto_rachel","24/06/2023 12:16 am","not sure what you mean by calculate default min/max

if you speak of price range, this is a choice based on your risk assessment / desire.
The more narrow the range the higher fees When in range, but more work to keep in range. Also doesn't earn fees while out of range
the larger ranges you get less fees, but there is less work to manage, and higher chance of staing in range longer","",""
"967154425447739432","kushagrajindal","26/06/2023 9:37 pm","Hi guys, I want to understand how the slippage percentage is calculated. For example, if i try to swap 'x' amount of TokenA to TokenB then auto slippage percentage is 0.5% but when I try for 'y'  amount of TokenA to TokenB then auto slippage percentage may be 1%. Is there any specific subgraph api i can use in my code for this? This is in reference to v3 and 500 pool fee type.","",""
"471357824299958273","crypto_rachel","27/06/2023 7:19 am","They base this on the gas fees iirc","",""
"450463471197356050","tehkobra","28/06/2023 7:45 am","hi all - could someone catch me up on what's going on with v2 subgraph? i see several mentions about this issue but i can't find organized info on it. 

the official link in developer-faq says we should use https://thegraph.com/explorer/subgraph/ianlapham/uniswapv2 but i see that this is not working as for example, the latest swap for pool=0x040bef6a2984ba28d8af8a24ddb51d61fbf08a81 is all the way back to may 21st

but recent comments maybe pointing to https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev which looks ok? are we supposed to switch to this permanently or what's going on with this one? if so, why isn't it updated in the official developer-faq subgraph list?

thank you!","",""
"471357824299958273","crypto_rachel","28/06/2023 7:59 am","So a Memecoin crashed the original graph (first link posted). The teams had to fix this with a graph graft, it took time, The teams are trying to get this graft (second link) synced to the original, but since the graph has degraded the Hosted services end of the graphs system, so it's been having troubles and taking a long time. I suggest for the time being to use the second link.","",""
"450463471197356050","tehkobra","28/06/2023 8:01 am","understood - will use the second link for the time being. thank you","","YW (1)"
"518589620074840072","masterdai","02/07/2023 8:40 am","We have a new dataset shared for you guys.
https://chainbase.com/blog/article/how-to-get-uniswap-v3-pool-data-by-chainbase-dataset?utm_medium=discord","",""
"967154425447739432","kushagrajindal","02/07/2023 3:55 pm","Hi @Crypto_Rachel thanks for the reply. Can you elaborate, say i have an amountIn, amountOutMin,  tokenA address, tokenB address, pool liquidity, and the current gas price. How can I calculate the slippage percentage, or minimum amount out? Can you refer some piece of code by which it is calculated in the frontend?","",""
"790622188926795797","crypto_margol","02/07/2023 7:26 pm","Hi everyone, problem that maybe someone could help?

🐞   **__Arbitrum - new subgraph - stuck when asking for pools+tokens data__** 🐞 

So https://info.uniswap.org/#/arbitrum switch from using `https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-minimal` to `https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-arbitrum-one`

I see now it holds ticks data as well, and some of the tokens' derivedETH field now has data that it didn't use to have. Great.

BUT, seems like querying `tokens` is just too slow and breaks everything.

Run this query on both subgraphs with `first` being even something like `100` (and I even used to use 1,000)

```
  query poolsActivity($minTvlUsd: Int!, $first: Int!, $skip: Int!) {
    pools(first: $first, skip: $skip, where: { totalValueLockedUSD_gte: $minTvlUsd }) {
      id
      feeTier
      volumeToken0
      volumeToken1
      volumeUSD
      totalValueLockedToken0
      totalValueLockedToken1
      token0 {
        id
        symbol
        decimals
        derivedETH
      }
      token1 {
        id
        symbol
        decimals
        derivedETH
      }
    }
  }
```

Remove the querying of the tokens and it will be fast.
What is going on here? Is that known? Someone is looking into it?","",""
"471357824299958273","crypto_rachel","05/07/2023 12:30 am","TBH I don't have much more than that. Slippage would be best based on the volume of the pool, but you have to listen to txs on the pool to get that info. More txs == higher slippage","",""
"471357824299958273","crypto_rachel","05/07/2023 12:31 am","Arbitrum graph tends to have issues due to the speed of the arb network","",""
"936823629180702780","Genesis1#7071","09/07/2023 9:46 pm","https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3
How can I find the parameters for specifying the pair size of a transaction pair?","",""
"471357824299958273","crypto_rachel","12/07/2023 3:30 am","clarify what you mean by `pair size`","",""
"1037984995538640917",".alex1957","12/07/2023 3:03 pm","Hey everyone! I'm new to Uniswap... I want to write script so that it returns users adress and their transaction amount from 01 jan 2023 to 30 june 2023. whos transaction amount is more than $10000","",""
"471357824299958273","crypto_rachel","13/07/2023 4:19 am","Best way is to listen to a wss call to node for the transactions on the specific wallet, filter out to get the type of transactions you want. What type of scripting do you use, or googling web3 subscribe + your language will give good results, but I'm happy to point you to the specific docs","",""
"972618395554029618","0xwildebeest","13/07/2023 11:04 pm","@Crypto_Rachel I think there is a typo in https://github.com/Uniswap/v3-subgraph/blob/main/src/mappings/position-manager.ts. In line 162, we should use amount1, instead of amount0, right?","",""
"769344447158419487","CasualDegen#9166","14/07/2023 12:15 am","hey,  
flashes {
    id
}

returns

{
  ""data"": {
    ""flashes"": []
  }
}


do you not support flash event data ??? or is my querry wrong. How can I view per given pool the flash events data via subgraph","","🤔 (1)"
"471357824299958273","crypto_rachel","14/07/2023 4:04 am","I will look into this","",""
"471357824299958273","crypto_rachel","14/07/2023 2:02 pm","Pinned a message.","",""
"1037984995538640917",".alex1957","14/07/2023 7:30 pm","Hey, is there any API to extract historical transaction's data","",""
"471357824299958273","crypto_rachel","15/07/2023 2:34 am","via the graph you can call at specific blocks. I have info on it here https://discord.com/channels/597638925346930701/1087867335089590363","",""
"783330640992796723","mitsigan","15/07/2023 3:46 pm","while this query is possible in sql, it's not on graphql, the v3 subgraph doesn't index accounts after all","",""
"783330640992796723","mitsigan","15/07/2023 3:49 pm","thegrapgh is the most convenient way to extract historical transaction data as far as I know,
but it's not very thorough, for more detailed data you have to use the web3 API on a running node","",""
"1037984995538640917",".alex1957","15/07/2023 4:01 pm","got it..","",""
"1037984995538640917",".alex1957","15/07/2023 4:02 pm","Grateful for your support in solving my query. Thank you!","",""
"1037984995538640917",".alex1957","15/07/2023 4:03 pm","```import requests
import pandas as pd

api_url = ""https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3""

def fetch_swaps(timestamp_gte, timestamp_lte):
    query = """"""
    query GetSwaps($timestamp_gte: Int!, $timestamp_lte: Int!) {
      swaps(
        where: {
          timestamp_gte: $timestamp_gte
          timestamp_lte: $timestamp_lte
        }
        orderBy: timestamp
        orderDirection: asc
        first: 1000
      ) {
        sender
        recipient
        amountUSD
        id
        timestamp
      }
    }
    """"""
    variables = {
        ""timestamp_gte"": timestamp_gte,
        ""timestamp_lte"": timestamp_lte,
    }

    response = requests.post(api_url, json={""query"": query, ""variables"": variables})

    if response.status_code == 200:
        data = response.json()
        swaps = data[""data""][""swaps""]
        senders = [swap[""sender""] for swap in swaps]
        recipients = [swap[""recipient""] for swap in swaps]
        amounts = [swap[""amountUSD""] for swap in swaps]
        timestamps = [swap[""timestamp""] for swap in swaps]
        ids = [swap[""id""] for swap in swaps]

        df = pd.DataFrame({""Sender"": senders, ""Recipient"": recipients, ""Amount USD"": amounts, ""Timestamp"": timestamps,""ID"":ids })

        return df, swaps
    else:
        print(""Error occurred while fetching swaps."")
        return pd.DataFrame(), []

all_swaps = pd.DataFrame()
timestamp_gte = 1672531200 # 01 Jan 2023
timestamp_lte = 1672617600 # 02 Jan 2023

while True:
    swaps_df, swaps_list = fetch_swaps(timestamp_gte, timestamp_lte)

    if len(swaps_df) == 0:
        break

    all_swaps = pd.concat([all_swaps, swaps_df], ignore_index=True)

    last_timestamp = int(swaps_list[-1][""timestamp""])
    timestamp_gte = last_timestamp + 1

print(""Retrieved"", len(all_swaps), ""swaps"")
```

Here is the code I have came up with 🙂 
Hope it is correct","",""
"783330640992796723","mitsigan","15/07/2023 4:34 pm","the `where` clause won't work probably, you need to use `and` within it, apart from that I don't know the `python` technicalities","",""
"1037984995538640917",".alex1957","15/07/2023 4:35 pm","It worked for me 🙂 and I got to extract the transaction data","",""
"783330640992796723","mitsigan","15/07/2023 4:36 pm","good, so you want to query all the swaps?","",""
"1037984995538640917",".alex1957","15/07/2023 4:37 pm","I wanted to extract all the swaps transactions data and do some analysis on them","",""
"783330640992796723","mitsigan","15/07/2023 4:39 pm","you need to query 35,640,922 txs, this will need at least 35k queries, and each query can take up to several seconds","",""
"149735676278079488","austino256","16/07/2023 9:18 pm","flash loans were ripped from the uniswap subgraph in an effort to keep it running: here is a query from dune that gets this data https://dune.com/queries/2444654","","RockStar (1),🙏 (1)"
"769344447158419487","CasualDegen#9166","16/07/2023 10:35 pm","ok thanks","",""
"855054443112562688","0xcchan","17/07/2023 12:03 pm","Hi is it possible to get the liquidity for each token at the time of trade based on transaction based on uniswap v3 subgraphs?","",""
"972618395554029618","0xwildebeest","17/07/2023 11:42 pm","Please let me know what your view is. Thanks.","",""
"471357824299958273","crypto_rachel","17/07/2023 11:56 pm","I will soon as I know... Everyone has been very busy these days and much of the team is in Paris rn.","",""
"471357824299958273","crypto_rachel","17/07/2023 11:58 pm","check out my info on TVL/TTL here https://discord.com/channels/597638925346930701/1090098203803787304/1090120116211044433
if the subgraph is used you have to subtract the pool fees from total, as it has a bug","",""
"855054443112562688","0xcchan","18/07/2023 8:04 am","Thanks @Crypto_Rachel , is it possible to get it on dune too","",""
"471357824299958273","crypto_rachel","18/07/2023 8:06 am","TVL/TTL would be hard with dune, you would have to listen to specific pools, and collect all the swaps, flashes, adds, removes and collects, basically building a whole picture of the pool from there you could get the info","","😅 (1)"
"908743673624281098","ababa3945","18/07/2023 2:43 pm","Hi, I'm new to Uniswap. I want to use hosted service for business, ""https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v3"", will there be a rate limit?","",""
"908743673624281098","ababa3945","18/07/2023 2:44 pm","at the same time, I noticed that thegraph website seems to be phasing out the hosted-service. When will our service be terminated?","",""
"855054443112562688","0xcchan","18/07/2023 7:54 pm","Thanks @Crypto_Rachel !","","YW (1)"
"1017349837429161994","wwklsq","18/07/2023 8:03 pm","Hey, during randomly skimming through data, I found some disconnection between data from GraphQL and data from info, e.g. TVL from pool hourly data for USDC/WETH 0.3%, it shows me ~200M. However info page https://info.uniswap.org/#/pools/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8 shows only 90M, which can be verified with a third party https://yieldsamurai.com/pool/ethereum/0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8. After some digging, I found a long standing PR from https://github.com/Uniswap/v3-subgraph/issues/74, which suggests me to use https://thegraph.com/hosted-service/subgraph/ianlapham/v3-minimal as endpoint. However, when I tried following graphQL script to get the latest pool hour data via ""mainnet-2.0"", it still shows me again a different number of ~200M TVL for the same pool. 
```{
  poolHourDatas(
    where: {pool_in: [""0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8""]}
    skip: 0
    first: 1000
    orderBy: periodStartUnix
    orderDirection: desc
  ) {
    id
    periodStartUnix
    pool {
      id
      token0 {
        id
        symbol
      }
      token1 {
        id
        symbol
      }
    }
    liquidity
    sqrtPrice
    token0Price
    token1Price
    tick
    feeGrowthGlobal0X128
    feeGrowthGlobal1X128
    totalValueLockedUSD
    volumeToken0
    volumeToken1
    volumeUSD
    feesUSD
    txCount
    open
    high
    low
    close
  }
}```","",""
"471357824299958273","crypto_rachel","19/07/2023 12:32 am","Best to reach out to the graph to find out rate limits.
I have Graph info here https://discord.com/channels/597638925346930701/1087867335089590363
Can't say exactly what will happen, but I think the graph is still going to host Uniswap, however I've never gotton confirmation","",""
"471357824299958273","crypto_rachel","19/07/2023 12:33 am","So that minimal graph was crashed due to a bad meme coin
Currently its suggested to use the graft itself
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","",""
"1017349837429161994","wwklsq","19/07/2023 12:17 pm","Thanks Rachel! Is there an equivalent version of subgraph in v3? I´m most interested in the `poolHourData` query.","",""
"889702240783302706","alo_0x","19/07/2023 11:08 pm","Hi all! Is the Uniswap V2 Subgraph being maintained anymore? https://thegraph.com/hosted-service/subgraph/uniswap/uniswap-v2

It's failed to index multiple times now and I'd like to use this to get pool information 🙂","",""
"471357824299958273","crypto_rachel","20/07/2023 1:50 am","So I made a mistake, saw graph issue and thought it was based on the other graph, and that one is behind due to the crash... The minimal didn't crash it was the main one... However there is a TVL bug in the v3 graph, the team had to work around this by subtracting the fee volume of the pool","",""
"471357824299958273","crypto_rachel","20/07/2023 1:52 am","So the main graph was crashed due to a bad meme coin
Currently its suggested to use the graft itself
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","","🙏 (1)"
"1017349837429161994","wwklsq","20/07/2023 12:18 pm","Thx, Good to have the issue confirmed, so to get correct TVL from current graph, we need to use `totalValueLockedUSD -  volumeUSD - feesUSD`?","",""
"471357824299958273","crypto_rachel","20/07/2023 12:27 pm","I think just total - fees, but link to the UI math is somewhere in this room. But can't find rn","","👍 (1)"
"1017349837429161994","wwklsq","20/07/2023 1:07 pm","Just checked Extractoor, the TVL and feesUSD are not at same magnitude level, maybe it hints that we should subtract all historical fees?","https://cdn.discordapp.com/attachments/765222888617017365/1131490031429754951/image.png",""
"471357824299958273","crypto_rachel","21/07/2023 12:23 am","I'll try and find the code today","",""
"471357824299958273","crypto_rachel","21/07/2023 1:50 am","here, check this users comments. Note I've not done this
https://discord.com/channels/597638925346930701/765222888617017365/1105584131536072806","","ty (1)"
"360864436954595338","dubina_","22/07/2023 12:58 am","guys, can anyone help me please?>
I am experimenting with api of uniswap-v2, from the docs site I am copying the examples and paste it into the site, to which the link from documentation leads","",""
"360864436954595338","dubina_","22/07/2023 12:58 am","and all the time I get the error ""message"": ""indexing_error""","",""
"360864436954595338","dubina_","22/07/2023 12:58 am","what am I doing wrong","",""
"471357824299958273","crypto_rachel","22/07/2023 1:00 am","so if you are calling the v2 graph, it's likely that your on the one that crashed, The graph has had trouble resyncing that one... it was crashed due to a bad memcoin... The team had to create a graft for it. it's had issues syncing data to that one. For now it's suggested to use this one https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","",""
"360864436954595338","dubina_","22/07/2023 1:02 am","Thank you very much, seems like it works)","","YW (1)"
"162997126182207488","sen.x.","22/07/2023 9:42 am","Hey guys, I'm new to graphql / thegraph and wanted to know if it's possible to make a wss subscription to real-time swap data from the v3 subgraph. 

In the documentation explorer I see an option to subscribe to data but I can't figure out how to actually do that. 

Is the only option to subscribe to event logs with ethers? 
Read through previous messages in this channel but didn't see any previous answers.","",""
"471357824299958273","crypto_rachel","22/07/2023 10:21 am","I don't believe there is a way to subscribe to the graph. I could be wrong I don't use it .... You can call it with every new block. But yeah listening to events via ethers I know works","",""
"162997126182207488","sen.x.","22/07/2023 10:48 am","i see, what do people generally do to effectively call thegraph for every new block?","",""
"471357824299958273","crypto_rachel","22/07/2023 10:54 am","well you would need to listen for new blocks still with ethers","",""
"360864436954595338","dubina_","23/07/2023 8:40 pm","Hey guys
Could anyone help me, how to make api requests not by thegraph site, but automatically, is there any endpoint?","",""
"471357824299958273","crypto_rachel","24/07/2023 1:32 am","I have all sorts of links and docs here #deleted-channel","",""
"360864436954595338","dubina_","26/07/2023 5:02 am","Hi guys
could anyone help me please, how to send api requests on python? I tried like a thousand variants and dont understand how to get simple json output","https://cdn.discordapp.com/attachments/765222888617017365/1133542379643744266/image.png",""
"471357824299958273","crypto_rachel","26/07/2023 5:08 am","so the method you would want is `POST` requests.post","",""
"360864436954595338","dubina_","26/07/2023 5:11 am","Oh, thanks) it works","","PartyFrog (2)"
"471357824299958273","crypto_rachel","26/07/2023 5:12 am","happy to help","",""
"112622266621161472","gouilled","26/07/2023 3:21 pm","~~Hey everyone ! I'm developping using the Uniswap v2 TheGraph API. It looks like it's down since few weeks and 500k blocks aren't sync. Any idea on when it should get fixed and if the indexing will continue ? Thank~~s 😄
EDIT : Just saw the message above thanks !","","RockStar (1),Uni (1)"
"324804129916583936","tamurey","27/07/2023 6:35 pm","~~Getting indexing_error while requesting data for token on uniswap v2 subgraph api from rust. is there any guide available?~~

Saw the above message, uniswap v2 dev is working.","",""
"324804129916583936","tamurey","27/07/2023 11:41 pm","Why is there a too much delay in recieving response while three hours ago it was working fine. What can be the issue? using `uniswap-v2-dev api`","",""
"471357824299958273","crypto_rachel","27/07/2023 11:50 pm","The *hosted* services side of the graph are being sunsetted. I'm not sure if they are keeping some going just for us, but the hosted side has lost a bit of speed due to this, unfortunately nothing can be done since the service is downgrading that service","",""
"324804129916583936","tamurey","27/07/2023 11:55 pm","Are there any alternative services or solutions available?","",""
"471357824299958273","crypto_rachel","27/07/2023 11:57 pm","The team has been looking for alternatives. There are some other v2 graphs out there iirc, I don't have links for. Try looking for a `Messari` graph (also note I could be spelling it wrong been a while since I've seen it)","",""
"324804129916583936","tamurey","28/07/2023 12:12 am","It's currently under development and involves quite a lot of different queries, which require the reimplementation of all the Rust queries I implemented for Uniswap. Thanks for the help.","https://cdn.discordapp.com/attachments/765222888617017365/1134194198334165094/image.png",""
"471357824299958273","crypto_rachel","28/07/2023 12:22 am","yeah, sorry couldn't help more... The graph has been a challenge","",""
"324804129916583936","tamurey","28/07/2023 12:23 am","Do you think uniswap-v3 has the same problem?","",""
"471357824299958273","crypto_rachel","28/07/2023 12:23 am","All the hosted services will, due to the sunsetting of it","",""
"324804129916583936","tamurey","28/07/2023 12:25 am","Okay, Thanks.","","YW (1)"
"360864436954595338","dubina_","29/07/2023 5:08 am","Sorry for offtop, question about apis in general
Does anyone know where can I check current coin price in usd by any api?
Coinmarketcap is kind of bad, because it requires its inner coin ID or coin ticker, but there are some different coins with the same ticker, for example 'MCC'","",""
"313308079594930178","Matti#9253","29/07/2023 3:41 pm","Is there a query to get all positions that have been staked into an incentive?","",""
"313308079594930178","Matti#9253","29/07/2023 4:24 pm","hey did you find a solution for this?","",""
"471357824299958273","crypto_rachel","30/07/2023 1:18 am","I think only ways to get is via the contract, or listening to Blockchain calls to it and separating the incentive","","👍 (1)"
"722704152425267200","chouch.eth","01/08/2023 1:45 am","@Crypto_Rachel Subgraph writer failed, error: store error: range lower bound must be less than or equal to range upper bound","",""
"471357824299958273","crypto_rachel","01/08/2023 1:46 am","I don't know the Graph to well,, what are you trying to call, and how","",""
"722704152425267200","chouch.eth","01/08/2023 1:46 am","it has stopped syncing","","😢 (1)"
"471357824299958273","crypto_rachel","01/08/2023 1:48 am","yeah the hosted services are having trouble keeping up, since they are being sunsetted, there is less power doing the data collection.. It usually catches up 😢","",""
"722704152425267200","chouch.eth","01/08/2023 1:48 am","i hope it catches up soon, thx","","💯 (1),this (1),YW (1)"
"324804129916583936","tamurey","02/08/2023 6:04 pm","Hi, Is there any update on Uniswap-v2-dev, it has almost stopped syncing and returns null for every token. Do i need to move on ? 🙁","",""
"471357824299958273","crypto_rachel","02/08/2023 11:29 pm","Looks to be synced. Sometimes due to the sunsetting of the graph hosted services, the graph gets backed up with transactions","",""
"324804129916583936","tamurey","03/08/2023 12:00 am","what does sunsetting of the graph hosted services mean?","",""
"989275482488983663","AnthonyNicholas#4331","03/08/2023 12:30 am","https://tenor.com/view/hello-hi-friend-penguin-waving-gif-17013804","",""
"989275482488983663","AnthonyNicholas#4331","03/08/2023 12:30 am","@jhonaiker23","",""
"471357824299958273","crypto_rachel","03/08/2023 2:30 am","They are changing to a different setup. This service isn't technically available anymore. I think we might be grandfathered in, but the hash rate for gathering data has dropped and this makes it slower... The team has been looking for better ways","",""
"324804129916583936","tamurey","03/08/2023 5:54 pm","Okay, tnx. Hoping for the best.","","👍 (1),YW (1)"
"942460291034263562","mistersaint","04/08/2023 7:11 am","Is v3-subgraph repo outdated? When i deployed and connect it to the interface bunch of query are missing? For example ticks are missing","",""
"471357824299958273","crypto_rachel","04/08/2023 8:19 am","So which chain are you looking at? the L2s are limited due to the networks speed","",""
"942460291034263562","mistersaint","04/08/2023 8:31 am","What does the chain speed have to do with missing subgraph queries?","",""
"471357824299958273","crypto_rachel","04/08/2023 8:33 am","the graph can't handle the speed of the L2s due to the L2s speed","","🤦‍♀️ (1)"
"942460291034263562","mistersaint","04/08/2023 8:34 am","L2, base.","",""
"471357824299958273","crypto_rachel","04/08/2023 8:36 am","Sorry bad mistype I did mean L2's like Arb and Optimism. TBH I don't know anything about Base rn","",""
"942460291034263562","mistersaint","04/08/2023 8:43 am","How can I extend sdk-core to add a chain in interface v3.3.6?","","🤔 (1),🤷‍♀️ (1)"
"213718816947961859","jakecall","08/08/2023 9:57 am","Where can I find the subgraphs for Uni v3 from the Graph?","",""
"213718816947961859","jakecall","08/08/2023 9:57 am","Mainly looking for BASE & AVAX","",""
"213718816947961859","jakecall","08/08/2023 9:57 am","https://api.thegraph.com/subgraphs/name/lynnshaoyu/uniswap-v3-avax
https://api.thegraph.com/subgraphs/name/messari/uniswap-v3-base

Found these 2 but not sure if they're official","",""
"471357824299958273","crypto_rachel","08/08/2023 10:03 am","~~they are not~~. I don't currently have those. Let me see if I can find real quick","",""
"471357824299958273","crypto_rachel","08/08/2023 10:09 am","well looks like that is the avax one
https://api.thegraph.com/subgraphs/name/lynnshaoyu/uniswap-v3-avax
here is the base, though messari graphs are usually good too
https://api.studio.thegraph.com/query/48211/uniswap-v3-base/version/latest","",""
"213718816947961859","jakecall","08/08/2023 10:12 am","thanks!","","🙏 (1)"
"523058945883897856","0xams","08/08/2023 7:42 pm","Hi trying to set up a query to fetch all Uniswap v2 pairs. Can someone help me please I’m struggling a lot","",""
"471357824299958273","crypto_rachel","09/08/2023 1:53 am","I have example calls here https://discord.com/channels/597638925346930701/1087867335089590363

with the Graph your max calls is 6k in groups of 1k call returns","",""
"471357824299958273","crypto_rachel","09/08/2023 1:54 am","with v2 you can also call the router to get all the pairs, but you need a loop and there are tons of pairs. The calls would take a lot of RPC calls if not done correct","",""
"523058945883897856","0xams","09/08/2023 2:24 am","Do you have any link that can help me please. I’m struggling a lot your help will be appreciated","",""
"471357824299958273","crypto_rachel","09/08/2023 9:56 am","Calling it through the limited amount in the graph, you get more control over the pools you see but are limited

callling it through the block chain will take a lot of extra coding to not exceed your RPC limits","",""
"972714910075195464","mrbunny2450","09/08/2023 8:07 pm","Is base supported","",""
"471357824299958273","crypto_rachel","10/08/2023 8:37 am","Base is live in the UI","",""
"192079828957003776","adammm___","10/08/2023 1:09 pm","anyone able to help me figure out why a pool like this one doesn't show up in the list of pools on the goerli subgraph? I've been doing a bunch of swaps in v3 pools that don't show up in the swaps query either

https://goerli.etherscan.io/address/0x07a4f63f643fe39261140df5e613b9469eccec86#code","",""
"395359066169278464","marciob","10/08/2023 8:45 pm","I think the error on that Uniswap Subgraph mentioned on the documentation still persist, right?
could you explain more why a bad memecoin crashed that? I am curious about the reason why","",""
"471357824299958273","crypto_rachel","11/08/2023 1:39 am","the Graph doesn't put much into the goerli network. Not much ends up on there.","",""
"471357824299958273","crypto_rachel","11/08/2023 1:40 am","technically no, the new one was grafted to it, but the Hosted services are being phased out, so the power isn't there, and it's often behind","",""
"395359066169278464","marciob","11/08/2023 1:41 am","So what's the alternative?","",""
"471357824299958273","crypto_rachel","11/08/2023 2:12 am","well the graft is keeping up for the most part. While it's part of the hosted services, it seems to be staying","","👍 (1)"
"471357824299958273","crypto_rachel","11/08/2023 2:12 am","https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","",""
"847558179977822229","fc.wilder","11/08/2023 11:49 pm","hi, can someone help me with the uniswap v2 API pls?
I am having a hard time querying data for a liquidity pool on v2.
querying v3 is working like a charm. but I need to use v2 as the liquidity pool is only available on v2
grateful for any suggestions 🙏","",""
"847558179977822229","fc.wilder","11/08/2023 11:51 pm","playground is showing a very high fail rate, whcih makes me think there is a general problem with the subgraph of v2","https://cdn.discordapp.com/attachments/765222888617017365/1139624667955609721/image.png",""
"847558179977822229","fc.wilder","11/08/2023 11:59 pm","nvm ... using ``uniswap-v2-dev`` did it 😂","","❤️‍🔥 (1),Uni (1),🦄 (1)"
"395359066169278464","marciob","14/08/2023 5:12 am","I see on the documentation that Uniswap Subgraph supports querying by specific block number: https://docs.uniswap.org/api/subgraph/guides/examples#historical-global-data

but I am not sure if it is referring to both V2 and V3, I tried with V2 endpoint but it doesn't seem to work, can I query data by block number with Uniswap V2? (specifically querying price at a specific block)","",""
"433324853316157442","knownout","16/08/2023 12:06 am","Hello. We are currently trying to deploy a fork of the uniswap v3 subgraph on BASE mainnet. The problem is that USDC token address is larger than WETH address, which causes the tokens in USDC/WETH pool to be inverted compared to other chains, so prices in subgraph to become inverted, which affects various calculations, including TVL, Volume, etc. Does anyone know what should be done to ensure that even in case of USDC > WETH the prices in the subgraph are displayed correctly?","",""
"339442859516362753","solocarrie","19/08/2023 3:02 am","Hi, I am getting an indexing error on the Optimism Uniswap V3 subgraph at https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis
Is anyone working on a fix? If not, are there alternatives?","",""
"213718816947961859","jakecall","19/08/2023 11:08 pm","yup OP is having an error for us too","",""
"213718816947961859","jakecall","19/08/2023 11:10 pm","even the messari one is having an issue: https://thegraph.com/hosted-service/subgraph/messari/uniswap-v3-optimism","",""
"790622188926795797","crypto_margol","20/08/2023 12:20 pm","The OP subgraph has an indexing error for 3 days now, any ideas what's going on?","",""
"758405250712469586","samm789","20/08/2023 4:57 pm","Same I'm trying to get pools on Optimism for an integration but not loading anything, can someone from Uniswap team take a look ?","",""
"213718816947961859","jakecall","20/08/2023 9:55 pm","hey @Crypto_Rachel sorry to ping but just wanted to follow up about the OP subgraph!","",""
"431961393646796811","derekbarrera","21/08/2023 7:38 pm","@Anthony 🦄 // Community Manager are you able to help with the above?","",""
"431961393646796811","derekbarrera","21/08/2023 7:41 pm","Is anyone using an alternative subgraph for Optimism?","",""
"989275482488983663","AnthonyNicholas#4331","21/08/2023 7:41 pm","Hey Derek, what do you need help with?","",""
"431961393646796811","derekbarrera","21/08/2023 7:42 pm","Optimism subgraph has been down since the 18th along with the info site. Do you know if the team aware/working on a fix?","",""
"989275482488983663","AnthonyNicholas#4331","21/08/2023 7:43 pm","Yes we are aware and we're working on a fix with thegraph team","",""
"989275482488983663","AnthonyNicholas#4331","21/08/2023 7:43 pm","@solocarrie @Jake Call @Crypto_Margol Our team is working on a fix for the optimism subgraph","","❤️ (3)"
"989275482488983663","AnthonyNicholas#4331","21/08/2023 7:43 pm","I'll update you all once it's back online","",""
"213718816947961859","jakecall","21/08/2023 9:38 pm","Derek, we tried to use a few different ones, all of them are down, makes me think it's an OP network issue.","","❤️ (1)"
"431961393646796811","derekbarrera","21/08/2023 9:55 pm","Fantastic update thank you @Anthony 🦄 // Community Manager, very helpful.","",""
"471357824299958273","crypto_rachel","22/08/2023 2:30 am","This is an issue between Optimism and the graph, Thanks for the heads up. Was waiting to hear from the devs. Anthony beat me to the punch","","❤️ (1)"
"798596115250413628",".astaroth21","22/08/2023 8:42 pm","Hello everyone, I'm currently testing queries with GraphSQL on V3 pools. Currently, in the `poolDayDatas`, the USD volume returns a value, whereas in the `poolHourDatas`, the USD volume is always equivalent to 0. Do you have any idea if this is an unresolved issue or something else? Thanks in advance.:Uni:","",""
"1087131093192421386","yuvalschneider","22/08/2023 10:26 pm","Hi all,
We are working on a multichain project and Easily found the Ethereum mainnet subgraph (hosted service for now). But we need help finding a proper Arbitrum subgraph with all relevant Uniswap LP position data.
We query theGraph about position transactions (see query below); I tried to free search both the hosted service & decentralized subgraphs but found none. 
Is there an official subgraph for Arbitrum? If not, is there a way to retrieve a mint txHash from position id other than the theGraph?
Thanks ahead, you`ll, and keep up the great work!  
Our current query for reference:
```
{
  position(id: %{positionId}){
    id
    transaction{
      mints(first: 1){
        id
      }
    }
  }
}
```","",""
"471357824299958273","crypto_rachel","23/08/2023 2:37 am","I do have most the subgraph links here.
https://discord.com/channels/597638925346930701/1087867335089590363

But L2s tend to have issues, since the graph speed it too slow for the l2 networks.

might just need to get from calling chain data","","🙏 (1)"
"213718816947961859","jakecall","23/08/2023 11:02 pm","Hopefully this will be resolved soon!","","🙏 (1),👑 (1)"
"471357824299958273","crypto_rachel","24/08/2023 5:17 am","The team is working on it. I will keep an eye on it too, let you know asap. I have a feeling it may be a while. syncing the graphs take a long time now","",""
"213718816947961859","jakecall","24/08/2023 6:16 am","ahhh rip 😦","",""
"471357824299958273","crypto_rachel","24/08/2023 6:18 am","yeah, the L2s are quite troublesome when it comes to the graph. The team is looking for better ways","","❤️ (2)"
"757387821286686783","lkb","24/08/2023 5:17 pm","+1 🙏","",""
"1087131093192421386","yuvalschneider","24/08/2023 5:24 pm","Thanks! but what do you mean by `calling chain data`? AFAIK this data isn't exist in the contract or the chain level (I need fetch the mint tx hash from the position ID)  am I wrong?","",""
"758405250712469586","samm789","24/08/2023 5:58 pm","I am trying to integrate UniswapV3 into my Optimism app, where else to find a list of pools (to get swap paths / pool fees?)","",""
"471357824299958273","crypto_rachel","25/08/2023 2:08 am","fetching the mint tx hash is calling chain data, but yes for the arb you would need to. This is kinda hard and needs a lot of data
first you would need to find out the owner address. Then look for a mint event for that tokenID, through their transaction history. You may want to look for transfers to incase they transferred it into that wallet, you would only see mint event from original minter","","❤️ (1)"
"471357824299958273","crypto_rachel","25/08/2023 2:11 am","I would check with sites that have optimism tracking. The OP graph is currently down. 
you can also get any pair/pool contract from the factory contract with both token addresses and the fee tier
https://discord.com/channels/597638925346930701/1090085020435230771/1090092092010807316","",""
"758405250712469586","samm789","25/08/2023 6:49 pm","Amazing thanks 🙏","","YW (1)"
"431961393646796811","derekbarrera","27/08/2023 1:54 am","Any insights or updates on the optimism subgraph?","",""
"471357824299958273","crypto_rachel","27/08/2023 5:04 am","Trying to find this out rn, but might not get seen till monday by the devs. I will let everyone know asap","",""
"471357824299958273","crypto_rachel","27/08/2023 11:22 am","**__BTW: You can call the subgraph bypassing the errors__**

Using the `subgraphError: allow` addition to the call
```
{
  factories(first: 5, subgraphError: allow) {
    id
    poolCount
    txCount
    totalVolumeUSD
  }
}
```","","🔥 (1)"
"919246764261924986","sidore_point#7723","29/08/2023 10:49 am","Hi all

can anybody helps me?

where I can find /src/graphql/data/schema.graphql schema?

I'm trying to run the Interface localy and faced with the issue that cannot load the schema from uniswap API","",""
"895425170397855805","juan_p2p","29/08/2023 2:35 pm","hi, `tickHourDatas `seems to be broken, returning nothing: 
```
{
  tickHourDatas {
    feesUSD
    id
    liquidityGross
  }
}
```
empty return:
```
{
  ""data"": {
    ""tickHourDatas"": []
  }
}
```
any ideas why?","",""
"895425170397855805","juan_p2p","29/08/2023 2:57 pm","i just need tick liquidity, any alternative endpoints?","",""
"431961393646796811","derekbarrera","29/08/2023 4:20 pm","This is not a solution, it isn’t picking up new blocks and therefore is stale data. Any insights in the comms between Uniswap and the graph? Is there a resync happening in the background? If so, what’s the ETA? Do you have a secondary data source for historical data? What should users/protocols use in the meantime? Is there no historical data support for optimism at this time for the largest dex in our entire industry?","","❓ (1)"
"431961393646796811","derekbarrera","29/08/2023 4:27 pm","I’m just looking for some clarity so I can determine how our protocol should respond to the now longstanding downtime of a rather critical API","",""
"895425170397855805","juan_p2p","29/08/2023 7:13 pm","which schema is the tick id following? for example `0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640#202330-19597` ? first pool address then?","",""
"471357824299958273","crypto_rachel","30/08/2023 12:07 am","it is actually picking up new blocks from what I see. The team is working on a fix, sorry there is no ETA, the graph is not an easy recovery","https://cdn.discordapp.com/attachments/765222888617017365/1146151678853251132/Optimism_Post_Regenesis_Subgraph.png",""
"431961393646796811","derekbarrera","30/08/2023 12:12 am","Root cause identified? Is there a re-sync happening? If so, that would tell us that it might be some time. This is the only way to get optimism uniswap historical data. Would to see another resource come online that is able to provide feature parity but there isn’t. It’s further worsened due to the regensis branch of the subgraph is tied directly to the regenesis.","",""
"471357824299958273","crypto_rachel","30/08/2023 4:59 am","So yes the cause is known, and they are working on it. I don't know how it all works so I can't speak out of place. I too would also love to see more resources for historical data. I remember the foundation had something for this, but the ones I know of were all graph based. I know some things in the graph is really valuable data. I promise we will update here.","",""
"413901349520932884","johnnyle99","30/08/2023 7:25 pm","Hi guys, in this 'General Swap Data
To query data about a particular swap, input the transaction hash + ""#"" + the index in the swaps the transaction array.R This is the reference for the full swap schema.'. What is he index in the swaps the transaction array. I can not find it anywhere","",""
"471357824299958273","crypto_rachel","01/09/2023 11:26 am","So yeah it's an index, not really sure how it's derived, but you can get it like this
```
{
  transaction(
    id: ""0x0000a8318e5649a279a20878338eba9a246095f461bf7e66014d0f8ea8b0de4d""
  ) {
    blockNumber
    gasPrice
    gasUsed
    id
    timestamp
    swaps {
      amount0
      amount1
      logIndex
      id
      recipient
      sender
      sqrtPriceX96
      tick
      timestamp
      amountUSD
    }
  }
}
```","",""
"427461881339576344","Polkabyte#4056","02/09/2023 3:05 pm","V2 subgraph is not sync to latest, I want to build a project on V2 so how can I do that?","",""
"471357824299958273","crypto_rachel","03/09/2023 8:36 am","Main net original was crashed due to a bad meme coin setup. This hurt the graph bad as it's setup is also on the Graphs hosted Network which is being phased out. So the original v3 graph has much trouble trying to collect the graft data.

Currently its suggested to use the v2 graft itself
https://thegraph.com/hosted-service/subgraph/ianlapham/uniswap-v2-dev","",""
"329839691195219969","kbanta11","06/09/2023 1:26 am","is there a way to get the top tokens and top pools by their volume in the last 24 hours? (similar to how the info.uniswap.org page shows them sortable by volume?)","",""
"471357824299958273","crypto_rachel","06/09/2023 7:51 am","you can get from the graph, you will have to setup the options for that but this gives volume
https://discord.com/channels/597638925346930701/1087867335089590363/1087868251209482342","",""
"329839691195219969","kbanta11","06/09/2023 8:02 pm","So I think this is still missing a few things (and missing some things that info.uniswap.org shows). It seems like the poolDayData only has data for today (UTC) up until now, or yesterday's full day, not the most recent 24hr (it seems the info site shows this). It seems like it'd be possible with the hourly data but that endpoint seems to have been broken for awhile now. This would also get me the top pools, but I'm not sure how I'd get the top tokens from the top pools (without pulling and aggregating every pool available to see which tokens are the largest). Is there a way to see how the info.uniswap.org site gets this data?","",""
"471357824299958273","crypto_rachel","06/09/2023 11:27 pm","look through the schema I'm sure something is there. TBH I rarely use the graph, so I don't know it well.
check the tokenDayData","https://cdn.discordapp.com/attachments/765222888617017365/1149040762164617337/Uniswap_V3_Subgraph_Subgraph.png",""
"329839691195219969","kbanta11","07/09/2023 4:45 am","tokenDayData is the same where it is is just daily and today utc up until now. I'm trying to dig through the way https://github.com/Uniswap/v3-info is getting this data, but still struggling to find where it's coming from and what query it uses","","🤔 (1)"
"615953602002812952","hellocoolguy","08/09/2023 6:44 am","I still cannot find a solution to the arbitrum tick call returning an empty array[]. It works for every other subgraph than arbitrum.
Just a generic call below copy pasting what was done here, I tried my own attempts and read up on so many others but it works for every other subgraph even optimism. But not arbitrum.(I did switch the poolAddress with the most liquid/high volume pool per network and they work its just arbitrum network that does not.)
{
        ticks(first: 1000,
              where: {poolAddress: ""0xc31e54c7a869b9fcbecc14363cf510d1c41fa443""},
              block: {number: 15955884}
              orderBy: tickIdx) {
            tickIdx
            liquidityNet
            price0
            price1
        }
    }","",""
"471357824299958273","crypto_rachel","08/09/2023 6:47 am","The L2s are too fast for the Graph to keep up. The arbitrum had to launch a limited graph. I think this was one of the issues, and couldn't get from the graph","","😭 (1)"
"615953602002812952","hellocoolguy","08/09/2023 6:50 am","Dang... I understand, then is there a work around thats been floated here? From what I've seen its seems that sites like revert, uniswap.fish, and defi-labs.xyz can access arbitrum ticks. Would I use flipside, dune, etc...","",""
"322573590124036100","spiigot","08/09/2023 7:00 am","Ran into this problem a couple years back and built this https://github.com/Perpetual-Altruism-Ltd/graph-node","","❤️‍🔥 (1),PartyFrog (1)"
"322573590124036100","spiigot","08/09/2023 7:00 am","much faster","",""
"322573590124036100","spiigot","08/09/2023 7:01 am","might need to dig through the branches, been a while.","",""
"615953602002812952","hellocoolguy","08/09/2023 7:01 am","Oh so I would create my own local graphnode instance and use that to retrieve ticks data and other points for my use?","",""
"322573590124036100","spiigot","08/09/2023 7:02 am","Thats the best solution I found. You can modify the node as you like to fit your needs as well.","","🔥 (1)"
"615953602002812952","hellocoolguy","08/09/2023 7:03 am","Its waaay better than my current solution of nothing. Thank you for giving me something to work off, I greatly appreciate it. 👍  If you rememer any other solutions later on, I'd be glad to see those too as well.","","❤️ (1)"
"471357824299958273","crypto_rachel","08/09/2023 7:15 am","that's pretty cool @Spiigot 
I would look into that. or yeah you could set up a dune query","",""
"957215090061484033","usgee","08/09/2023 6:01 pm","Is there any way to get position.tokensOwed0 and position.tokensOwed1 without rpc call  using subgraph or sth else?","",""
"842066402856009739","diane_crypto","09/09/2023 1:43 am","I'm trying to calculate liquidityNet by myself using mint and burn events. 
To directly calculate liquidityNet, do you only need to consider the following two things?

For Mint: Do you add the amount to tickLower and subtract the amount from tickUpper?
For Burn: Do you subtract the amount from tickLower and add the amount to tickUpper?

I'm trying to match specific day data from 'tickDayDatas' with the data I calculated directly, but the values don't align. Is 'tickDayDatas' the sum of 'liquidityNet' for a specific date grouped by tick?","",""
"207561438523293696","monkeysjump","09/09/2023 4:01 am","I'm trying to get pools that exchange from/to WETH, but this query returns an empty array.
```
{
  pools(
    orderBy: volumeUSD
    orderDirection: desc
    where: {
      or: [
      {token0: ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2""},
      {token1: ""0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2""}
      ]
    }
  ) {
    id
    volumeUSD
    feeTier
    token0Price
    token0 {
      id
      name
    }
    token1 {
      id
      name
    }
    token1Price
  }
}
```","",""
"471357824299958273","crypto_rachel","10/09/2023 2:37 am","not sure what you mean to call subgraph you do with a rpc. They do have a website. All the links for the graph are here #deleted-channel","",""
"471357824299958273","crypto_rachel","10/09/2023 2:38 am","you will need separate calls for the token 0 and token 1. check here https://discord.com/channels/597638925346930701/1087867335089590363/1087868110326988861","",""
"207561438523293696","monkeysjump","10/09/2023 6:37 am","Thank you! My ""or"" query actually works if I change the address to lower case. Is it still better to make separate calls? If so, why?","",""
"471357824299958273","crypto_rachel","10/09/2023 6:43 am","TBH I just don't know the graph well, and didn't know that was possible, gonna modify mine 😊 
Sorry yeah sometimes I forget to look for checksums, graph doesn't like those 😄","",""
"207561438523293696","monkeysjump","10/09/2023 7:02 am","No worries! I'm also new-ish to the graph. I was just wondering which way is better.","",""
"471357824299958273","crypto_rachel","10/09/2023 7:20 am","probably both would work the same, but yours would be easier to manage","","👍 (1)"
"439389392310632449","crypt0dre4mer","11/09/2023 11:31 pm","hey, when querying this one:

{
  pool(id: ""0xc64350c0eab6faed8f17cc2cdff0761c53fb4152"") {
    poolDayData(orderDirection: desc) {
        tvlUSD
      volumeUSD
      feesUSD
      liquidity
      date
    }
  }
}

Output:

 {
          ""tvlUSD"": ""2031912.008489616943882747846588166"",
          ""volumeUSD"": ""597564.6986216919212240383627245849"",
          ""feesUSD"": ""5975.646986216919212240383627245849"",
          ""liquidity"": ""21440656204455721097255937"",
          ""date"": 1694390400

What is the actual difference between tvlUSD and liquidity?? 🤔 

thank you in advance!","",""
"471357824299958273","crypto_rachel","12/09/2023 4:01 am","The TVL is the total value locked in USD value. As for the liquidity, I'm thinking that might only be in-range liquidity stored in contract as a representation of √xy.  When was this done?","",""
"439389392310632449","crypt0dre4mer","12/09/2023 10:38 am","oh, that regarding 'in-range' liquidity make sense but I can't say the same for the tvlUSD, while the query gives tvlUSD"": ""2031912.008 in the info.uniswap for that contract address the TVL is 607410, make no sense to me....🤔 
it was done just yesterday when I sent the message","",""
"471357824299958273","crypto_rachel","13/09/2023 12:29 am","I guess I should have stated this at the same time.
The graph does have a bug in the TVL. I can't remember how the UI handles this. I know it has to do with the fees, as the graph didn't take these into the math properly.
Ill try to find","","🙏 (1)"
"523058945883897856","0xams","13/09/2023 3:17 pm","can anyone help me build a query to fetch historical reserves of a pair ? that's to derive ath of a token. Do you have any easier idea ?","",""
"471357824299958273","crypto_rachel","14/09/2023 6:35 am","I have examples of historical calls to the graph in here #deleted-channel 
just need to find the data that you need in the query and add a date unix stamp or block number","",""
"296644317865312277","0xmurathan","18/09/2023 10:39 pm","hey @Crypto_Rachel 
is this official subgraph for uniswap v3 on arbitrum:

https://api.thegraph.com/subgraphs/name/messari/uniswap-v3-arbitrum","",""
"386209854928191488","derekdatanexus","19/09/2023 12:15 am","This one was built by the Messari team, but it is well maintained. You'll notice the schema is different than the one published by Ian.","","🙏 (2),🦄 (2)"
"471357824299958273","crypto_rachel","19/09/2023 12:17 am","this is https://thegraph.com/hosted-service/subgraph/ianlapham/arbitrum-minimal

I have all the links here #deleted-channel","","👍 (1)"
"213718816947961859","jakecall","19/09/2023 8:45 am","@Crypto_Rachel any update on op subgraph?","",""
"471357824299958273","crypto_rachel","19/09/2023 9:08 am","Still syncing. With the hosted services being sunsetted there isn't much power behind them. 😢  I promise it hasn't been forgotten","",""
"213718816947961859","jakecall","19/09/2023 9:44 am","so it's fixed just needs to be synced?","",""
"148899587283877888","ialusion","19/09/2023 3:18 pm","yeah ok nevermind","",""
"148899587283877888","ialusion","19/09/2023 3:18 pm","got it working","",""
"148899587283877888","ialusion","19/09/2023 6:40 pm","```
query tokens() {
  tokens() {
    id
    symbol
    name
  }
}
```

Does anyone know how to make it so it will get all tokens there are in the graph?","",""
"386209854928191488","derekdatanexus","21/09/2023 12:23 am","The Graph can fetch 1000 tokens per query. By default it's set to 100, but you can add `(first: 1000)` after the entity to expand that. 

If you want ALL tokens, you may need to set up a cursor:

Something like:

```
query tokens($name: string = {cursor}) {
  tokens(where {name_gt: $name}, orderBy: name, first:1000) {
    id
    symbol
    name
  }
}
```","",""
"386209854928191488","derekdatanexus","21/09/2023 12:32 am","Try something like this:
```
{
  tokenDayDatas(
    where: {token: ""0x123...""}
    orderBy: priceUSD
    orderDirection: desc
    first: 1
  ) {
    priceUSD
  }
}
```","",""
"431961393646796811","derekbarrera","21/09/2023 10:41 am","https://tenor.com/view/laugh-crying-gif-24196106","",""
"431961393646796811","derekbarrera","21/09/2023 10:42 am","Is there an estimation based on blocks per day? Normally it's a month + and OP is pretty heavy. Some more transparency would really help a lot of teams.","",""
"471357824299958273","crypto_rachel","22/09/2023 3:30 am","Been a very rough wait. The graft finally caught up and the OP graph is back online
https://thegraph.com/hosted-service/subgraph/ianlapham/optimism-post-regenesis","",""
"471357824299958273","crypto_rachel","22/09/2023 3:32 am","@Jake Call 👆","",""
"1017349837429161994","wwklsq","22/09/2023 12:55 pm","Hi @Crypto_Rachel, is there any way that we can tell if a transaction is a flash loan or not by inspecting into the swap data from subgraph?","",""
"213718816947961859","jakecall","23/09/2023 9:59 am","https://x.com/BuildrMetrics/status/1705439080916410461?s=20 

awsome!","",""
